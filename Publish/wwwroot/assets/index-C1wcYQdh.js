function jx(t,e){for(var i=0;i<e.length;i++){const s=e[i];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in t)){const n=Object.getOwnPropertyDescriptor(s,r);n&&Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function i(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(r){if(r.ep)return;r.ep=!0;const n=i(r);fetch(r.href,n)}})();function vh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Yx={exports:{}},Ch={},$x={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dl=Symbol.for("react.element"),hE=Symbol.for("react.portal"),dE=Symbol.for("react.fragment"),gE=Symbol.for("react.strict_mode"),pE=Symbol.for("react.profiler"),fE=Symbol.for("react.provider"),mE=Symbol.for("react.context"),vE=Symbol.for("react.forward_ref"),CE=Symbol.for("react.suspense"),yE=Symbol.for("react.memo"),wE=Symbol.for("react.lazy"),MC=Symbol.iterator;function xE(t){return t===null||typeof t!="object"?null:(t=MC&&t[MC]||t["@@iterator"],typeof t=="function"?t:null)}var Kx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qx=Object.assign,Qx={};function Bo(t,e,i){this.props=t,this.context=e,this.refs=Qx,this.updater=i||Kx}Bo.prototype.isReactComponent={};Bo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Bo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Zx(){}Zx.prototype=Bo.prototype;function pm(t,e,i){this.props=t,this.context=e,this.refs=Qx,this.updater=i||Kx}var fm=pm.prototype=new Zx;fm.constructor=pm;qx(fm,Bo.prototype);fm.isPureReactComponent=!0;var TC=Array.isArray,Jx=Object.prototype.hasOwnProperty,mm={current:null},eb={key:!0,ref:!0,__self:!0,__source:!0};function tb(t,e,i){var s,r={},n=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(n=""+e.key),e)Jx.call(e,s)&&!eb.hasOwnProperty(s)&&(r[s]=e[s]);var a=arguments.length-2;if(a===1)r.children=i;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(s in a=t.defaultProps,a)r[s]===void 0&&(r[s]=a[s]);return{$$typeof:Dl,type:t,key:n,ref:o,props:r,_owner:mm.current}}function bE(t,e){return{$$typeof:Dl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function vm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Dl}function SE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(i){return e[i]})}var DC=/\/+/g;function yd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?SE(""+t.key):e.toString(36)}function Wc(t,e,i,s,r){var n=typeof t;(n==="undefined"||n==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(n){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Dl:case hE:o=!0}}if(o)return o=t,r=r(o),t=s===""?"."+yd(o,0):s,TC(r)?(i="",t!=null&&(i=t.replace(DC,"$&/")+"/"),Wc(r,e,i,"",function(c){return c})):r!=null&&(vm(r)&&(r=bE(r,i+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(DC,"$&/")+"/")+t)),e.push(r)),1;if(o=0,s=s===""?".":s+":",TC(t))for(var a=0;a<t.length;a++){n=t[a];var l=s+yd(n,a);o+=Wc(n,e,i,l,r)}else if(l=xE(t),typeof l=="function")for(t=l.call(t),a=0;!(n=t.next()).done;)n=n.value,l=s+yd(n,a++),o+=Wc(n,e,i,l,r);else if(n==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function sc(t,e,i){if(t==null)return t;var s=[],r=0;return Wc(t,s,"","",function(n){return e.call(i,n,r++)}),s}function RE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(i){(t._status===0||t._status===-1)&&(t._status=1,t._result=i)},function(i){(t._status===0||t._status===-1)&&(t._status=2,t._result=i)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Yt={current:null},zc={transition:null},FE={ReactCurrentDispatcher:Yt,ReactCurrentBatchConfig:zc,ReactCurrentOwner:mm};function ib(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:sc,forEach:function(t,e,i){sc(t,function(){e.apply(this,arguments)},i)},count:function(t){var e=0;return sc(t,function(){e++}),e},toArray:function(t){return sc(t,function(e){return e})||[]},only:function(t){if(!vm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Se.Component=Bo;Se.Fragment=dE;Se.Profiler=pE;Se.PureComponent=pm;Se.StrictMode=gE;Se.Suspense=CE;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FE;Se.act=ib;Se.cloneElement=function(t,e,i){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=qx({},t.props),r=t.key,n=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(n=e.ref,o=mm.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Jx.call(e,l)&&!eb.hasOwnProperty(l)&&(s[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)s.children=i;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];s.children=a}return{$$typeof:Dl,type:t.type,key:r,ref:n,props:s,_owner:o}};Se.createContext=function(t){return t={$$typeof:mE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:fE,_context:t},t.Consumer=t};Se.createElement=tb;Se.createFactory=function(t){var e=tb.bind(null,t);return e.type=t,e};Se.createRef=function(){return{current:null}};Se.forwardRef=function(t){return{$$typeof:vE,render:t}};Se.isValidElement=vm;Se.lazy=function(t){return{$$typeof:wE,_payload:{_status:-1,_result:t},_init:RE}};Se.memo=function(t,e){return{$$typeof:yE,type:t,compare:e===void 0?null:e}};Se.startTransition=function(t){var e=zc.transition;zc.transition={};try{t()}finally{zc.transition=e}};Se.unstable_act=ib;Se.useCallback=function(t,e){return Yt.current.useCallback(t,e)};Se.useContext=function(t){return Yt.current.useContext(t)};Se.useDebugValue=function(){};Se.useDeferredValue=function(t){return Yt.current.useDeferredValue(t)};Se.useEffect=function(t,e){return Yt.current.useEffect(t,e)};Se.useId=function(){return Yt.current.useId()};Se.useImperativeHandle=function(t,e,i){return Yt.current.useImperativeHandle(t,e,i)};Se.useInsertionEffect=function(t,e){return Yt.current.useInsertionEffect(t,e)};Se.useLayoutEffect=function(t,e){return Yt.current.useLayoutEffect(t,e)};Se.useMemo=function(t,e){return Yt.current.useMemo(t,e)};Se.useReducer=function(t,e,i){return Yt.current.useReducer(t,e,i)};Se.useRef=function(t){return Yt.current.useRef(t)};Se.useState=function(t){return Yt.current.useState(t)};Se.useSyncExternalStore=function(t,e,i){return Yt.current.useSyncExternalStore(t,e,i)};Se.useTransition=function(){return Yt.current.useTransition()};Se.version="18.3.1";$x.exports=Se;var F=$x.exports;const X=vh(F),Cm=jx({__proto__:null,default:X},[F]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE=F,PE=Symbol.for("react.element"),EE=Symbol.for("react.fragment"),kE=Object.prototype.hasOwnProperty,ME=AE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TE={key:!0,ref:!0,__self:!0,__source:!0};function sb(t,e,i){var s,r={},n=null,o=null;i!==void 0&&(n=""+i),e.key!==void 0&&(n=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)kE.call(e,s)&&!TE.hasOwnProperty(s)&&(r[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:PE,type:t,key:n,ref:o,props:r,_owner:ME.current}}Ch.Fragment=EE;Ch.jsx=sb;Ch.jsxs=sb;Yx.exports=Ch;var xt=Yx.exports,rb={exports:{}},vi={},nb={exports:{}},ob={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,H){var N=k.length;k.push(H);e:for(;0<N;){var G=N-1>>>1,U=k[G];if(0<r(U,H))k[G]=H,k[N]=U,N=G;else break e}}function i(k){return k.length===0?null:k[0]}function s(k){if(k.length===0)return null;var H=k[0],N=k.pop();if(N!==H){k[0]=N;e:for(var G=0,U=k.length,te=U>>>1;G<te;){var $=2*(G+1)-1,re=k[$],Z=$+1,ie=k[Z];if(0>r(re,N))Z<U&&0>r(ie,re)?(k[G]=ie,k[Z]=N,G=Z):(k[G]=re,k[$]=N,G=$);else if(Z<U&&0>r(ie,N))k[G]=ie,k[Z]=N,G=Z;else break e}}return H}function r(k,H){var N=k.sortIndex-H.sortIndex;return N!==0?N:k.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var n=performance;t.unstable_now=function(){return n.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,d=3,g=!1,p=!1,f=!1,C=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(k){for(var H=i(c);H!==null;){if(H.callback===null)s(c);else if(H.startTime<=k)s(c),H.sortIndex=H.expirationTime,e(l,H);else break;H=i(c)}}function w(k){if(f=!1,y(k),!p)if(i(l)!==null)p=!0,D(x);else{var H=i(c);H!==null&&T(w,H.startTime-k)}}function x(k,H){p=!1,f&&(f=!1,m(R),R=-1),g=!0;var N=d;try{for(y(H),h=i(l);h!==null&&(!(h.expirationTime>H)||k&&!E());){var G=h.callback;if(typeof G=="function"){h.callback=null,d=h.priorityLevel;var U=G(h.expirationTime<=H);H=t.unstable_now(),typeof U=="function"?h.callback=U:h===i(l)&&s(l),y(H)}else s(l);h=i(l)}if(h!==null)var te=!0;else{var $=i(c);$!==null&&T(w,$.startTime-H),te=!1}return te}finally{h=null,d=N,g=!1}}var S=!1,b=null,R=-1,A=5,P=-1;function E(){return!(t.unstable_now()-P<A)}function L(){if(b!==null){var k=t.unstable_now();P=k;var H=!0;try{H=b(!0,k)}finally{H?M():(S=!1,b=null)}}else S=!1}var M;if(typeof v=="function")M=function(){v(L)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,z=I.port2;I.port1.onmessage=L,M=function(){z.postMessage(null)}}else M=function(){C(L,0)};function D(k){b=k,S||(S=!0,M())}function T(k,H){R=C(function(){k(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){p||g||(p=!0,D(x))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return i(l)},t.unstable_next=function(k){switch(d){case 1:case 2:case 3:var H=3;break;default:H=d}var N=d;d=H;try{return k()}finally{d=N}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,H){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var N=d;d=k;try{return H()}finally{d=N}},t.unstable_scheduleCallback=function(k,H,N){var G=t.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?G+N:G):N=G,k){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=N+U,k={id:u++,callback:H,priorityLevel:k,startTime:N,expirationTime:U,sortIndex:-1},N>G?(k.sortIndex=N,e(c,k),i(l)===null&&k===i(c)&&(f?(m(R),R=-1):f=!0,T(w,N-G))):(k.sortIndex=U,e(l,k),p||g||(p=!0,D(x))),k},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(k){var H=d;return function(){var N=d;d=H;try{return k.apply(this,arguments)}finally{d=N}}}})(ob);nb.exports=ob;var DE=nb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LE=F,fi=DE;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ab=new Set,Ya={};function Mn(t,e){yo(t,e),yo(t+"Capture",e)}function yo(t,e){for(Ya[t]=e,t=0;t<e.length;t++)ab.add(e[t])}var Hs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xg=Object.prototype.hasOwnProperty,IE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,LC={},IC={};function OE(t){return Xg.call(IC,t)?!0:Xg.call(LC,t)?!1:IE.test(t)?IC[t]=!0:(LC[t]=!0,!1)}function HE(t,e,i,s){if(i!==null&&i.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:i!==null?!i.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function NE(t,e,i,s){if(e===null||typeof e>"u"||HE(t,e,i,s))return!0;if(s)return!1;if(i!==null)switch(i.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function $t(t,e,i,s,r,n,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=i,this.propertyName=t,this.type=e,this.sanitizeURL=n,this.removeEmptyString=o}var Pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pt[t]=new $t(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pt[e]=new $t(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pt[t]=new $t(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pt[t]=new $t(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pt[t]=new $t(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pt[t]=new $t(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pt[t]=new $t(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pt[t]=new $t(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pt[t]=new $t(t,5,!1,t.toLowerCase(),null,!1,!1)});var ym=/[\-:]([a-z])/g;function wm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ym,wm);Pt[e]=new $t(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ym,wm);Pt[e]=new $t(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ym,wm);Pt[e]=new $t(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pt[t]=new $t(t,1,!1,t.toLowerCase(),null,!1,!1)});Pt.xlinkHref=new $t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pt[t]=new $t(t,1,!1,t.toLowerCase(),null,!0,!0)});function xm(t,e,i,s){var r=Pt.hasOwnProperty(e)?Pt[e]:null;(r!==null?r.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(NE(e,i,r,s)&&(i=null),s||r===null?OE(e)&&(i===null?t.removeAttribute(e):t.setAttribute(e,""+i)):r.mustUseProperty?t[r.propertyName]=i===null?r.type===3?!1:"":i:(e=r.attributeName,s=r.attributeNamespace,i===null?t.removeAttribute(e):(r=r.type,i=r===3||r===4&&i===!0?"":""+i,s?t.setAttributeNS(s,e,i):t.setAttribute(e,i))))}var Vs=LE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rc=Symbol.for("react.element"),jn=Symbol.for("react.portal"),Yn=Symbol.for("react.fragment"),bm=Symbol.for("react.strict_mode"),jg=Symbol.for("react.profiler"),lb=Symbol.for("react.provider"),cb=Symbol.for("react.context"),Sm=Symbol.for("react.forward_ref"),Yg=Symbol.for("react.suspense"),$g=Symbol.for("react.suspense_list"),Rm=Symbol.for("react.memo"),tr=Symbol.for("react.lazy"),ub=Symbol.for("react.offscreen"),OC=Symbol.iterator;function aa(t){return t===null||typeof t!="object"?null:(t=OC&&t[OC]||t["@@iterator"],typeof t=="function"?t:null)}var et=Object.assign,wd;function Sa(t){if(wd===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);wd=e&&e[1]||""}return`
`+wd+t}var xd=!1;function bd(t,e){if(!t||xd)return"";xd=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var s=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){s=c}t.call(e.prototype)}else{try{throw Error()}catch(c){s=c}t()}}catch(c){if(c&&s&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),n=s.stack.split(`
`),o=r.length-1,a=n.length-1;1<=o&&0<=a&&r[o]!==n[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==n[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==n[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{xd=!1,Error.prepareStackTrace=i}return(t=t?t.displayName||t.name:"")?Sa(t):""}function GE(t){switch(t.tag){case 5:return Sa(t.type);case 16:return Sa("Lazy");case 13:return Sa("Suspense");case 19:return Sa("SuspenseList");case 0:case 2:case 15:return t=bd(t.type,!1),t;case 11:return t=bd(t.type.render,!1),t;case 1:return t=bd(t.type,!0),t;default:return""}}function Kg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Yn:return"Fragment";case jn:return"Portal";case jg:return"Profiler";case bm:return"StrictMode";case Yg:return"Suspense";case $g:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case cb:return(t.displayName||"Context")+".Consumer";case lb:return(t._context.displayName||"Context")+".Provider";case Sm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Rm:return e=t.displayName||null,e!==null?e:Kg(t.type)||"Memo";case tr:e=t._payload,t=t._init;try{return Kg(t(e))}catch{}}return null}function BE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kg(e);case 8:return e===bm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function br(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function WE(t){var e=hb(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var r=i.get,n=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){s=""+o,n.call(this,o)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function nc(t){t._valueTracker||(t._valueTracker=WE(t))}function db(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),s="";return t&&(s=hb(t)?t.checked?"true":"false":t.value),t=s,t!==i?(e.setValue(t),!0):!1}function Cu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function qg(t,e){var i=e.checked;return et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??t._wrapperState.initialChecked})}function HC(t,e){var i=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;i=br(e.value!=null?e.value:i),t._wrapperState={initialChecked:s,initialValue:i,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function gb(t,e){e=e.checked,e!=null&&xm(t,"checked",e,!1)}function Qg(t,e){gb(t,e);var i=br(e.value),s=e.type;if(i!=null)s==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Zg(t,e.type,i):e.hasOwnProperty("defaultValue")&&Zg(t,e.type,br(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function NC(t,e,i){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,i||e===t.value||(t.value=e),t.defaultValue=e}i=t.name,i!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,i!==""&&(t.name=i)}function Zg(t,e,i){(e!=="number"||Cu(t.ownerDocument)!==t)&&(i==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}var Ra=Array.isArray;function lo(t,e,i,s){if(t=t.options,e){e={};for(var r=0;r<i.length;r++)e["$"+i[r]]=!0;for(i=0;i<t.length;i++)r=e.hasOwnProperty("$"+t[i].value),t[i].selected!==r&&(t[i].selected=r),r&&s&&(t[i].defaultSelected=!0)}else{for(i=""+br(i),e=null,r=0;r<t.length;r++){if(t[r].value===i){t[r].selected=!0,s&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Jg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return et({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function GC(t,e){var i=e.value;if(i==null){if(i=e.children,e=e.defaultValue,i!=null){if(e!=null)throw Error(q(92));if(Ra(i)){if(1<i.length)throw Error(q(93));i=i[0]}e=i}e==null&&(e=""),i=e}t._wrapperState={initialValue:br(i)}}function pb(t,e){var i=br(e.value),s=br(e.defaultValue);i!=null&&(i=""+i,i!==t.value&&(t.value=i),e.defaultValue==null&&t.defaultValue!==i&&(t.defaultValue=i)),s!=null&&(t.defaultValue=""+s)}function BC(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function fb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ep(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?fb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var oc,mb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,i,s,r){MSApp.execUnsafeLocalFunction(function(){return t(e,i,s,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(oc=oc||document.createElement("div"),oc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=oc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $a(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var Ma={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zE=["Webkit","ms","Moz","O"];Object.keys(Ma).forEach(function(t){zE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ma[e]=Ma[t]})});function vb(t,e,i){return e==null||typeof e=="boolean"||e===""?"":i||typeof e!="number"||e===0||Ma.hasOwnProperty(t)&&Ma[t]?(""+e).trim():e+"px"}function Cb(t,e){t=t.style;for(var i in e)if(e.hasOwnProperty(i)){var s=i.indexOf("--")===0,r=vb(i,e[i],s);i==="float"&&(i="cssFloat"),s?t.setProperty(i,r):t[i]=r}}var VE=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tp(t,e){if(e){if(VE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function ip(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sp=null;function Fm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rp=null,co=null,uo=null;function WC(t){if(t=Ol(t)){if(typeof rp!="function")throw Error(q(280));var e=t.stateNode;e&&(e=Sh(e),rp(t.stateNode,t.type,e))}}function yb(t){co?uo?uo.push(t):uo=[t]:co=t}function wb(){if(co){var t=co,e=uo;if(uo=co=null,WC(t),e)for(t=0;t<e.length;t++)WC(e[t])}}function xb(t,e){return t(e)}function bb(){}var Sd=!1;function Sb(t,e,i){if(Sd)return t(e,i);Sd=!0;try{return xb(t,e,i)}finally{Sd=!1,(co!==null||uo!==null)&&(bb(),wb())}}function Ka(t,e){var i=t.stateNode;if(i===null)return null;var s=Sh(i);if(s===null)return null;i=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(q(231,e,typeof i));return i}var np=!1;if(Hs)try{var la={};Object.defineProperty(la,"passive",{get:function(){np=!0}}),window.addEventListener("test",la,la),window.removeEventListener("test",la,la)}catch{np=!1}function _E(t,e,i,s,r,n,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(i,c)}catch(u){this.onError(u)}}var Ta=!1,yu=null,wu=!1,op=null,UE={onError:function(t){Ta=!0,yu=t}};function XE(t,e,i,s,r,n,o,a,l){Ta=!1,yu=null,_E.apply(UE,arguments)}function jE(t,e,i,s,r,n,o,a,l){if(XE.apply(this,arguments),Ta){if(Ta){var c=yu;Ta=!1,yu=null}else throw Error(q(198));wu||(wu=!0,op=c)}}function Tn(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function Rb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function zC(t){if(Tn(t)!==t)throw Error(q(188))}function YE(t){var e=t.alternate;if(!e){if(e=Tn(t),e===null)throw Error(q(188));return e!==t?null:t}for(var i=t,s=e;;){var r=i.return;if(r===null)break;var n=r.alternate;if(n===null){if(s=r.return,s!==null){i=s;continue}break}if(r.child===n.child){for(n=r.child;n;){if(n===i)return zC(r),t;if(n===s)return zC(r),e;n=n.sibling}throw Error(q(188))}if(i.return!==s.return)i=r,s=n;else{for(var o=!1,a=r.child;a;){if(a===i){o=!0,i=r,s=n;break}if(a===s){o=!0,s=r,i=n;break}a=a.sibling}if(!o){for(a=n.child;a;){if(a===i){o=!0,i=n,s=r;break}if(a===s){o=!0,s=n,i=r;break}a=a.sibling}if(!o)throw Error(q(189))}}if(i.alternate!==s)throw Error(q(190))}if(i.tag!==3)throw Error(q(188));return i.stateNode.current===i?t:e}function Fb(t){return t=YE(t),t!==null?Ab(t):null}function Ab(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ab(t);if(e!==null)return e;t=t.sibling}return null}var Pb=fi.unstable_scheduleCallback,VC=fi.unstable_cancelCallback,$E=fi.unstable_shouldYield,KE=fi.unstable_requestPaint,ot=fi.unstable_now,qE=fi.unstable_getCurrentPriorityLevel,Am=fi.unstable_ImmediatePriority,Eb=fi.unstable_UserBlockingPriority,xu=fi.unstable_NormalPriority,QE=fi.unstable_LowPriority,kb=fi.unstable_IdlePriority,yh=null,ms=null;function ZE(t){if(ms&&typeof ms.onCommitFiberRoot=="function")try{ms.onCommitFiberRoot(yh,t,void 0,(t.current.flags&128)===128)}catch{}}var Zi=Math.clz32?Math.clz32:tk,JE=Math.log,ek=Math.LN2;function tk(t){return t>>>=0,t===0?32:31-(JE(t)/ek|0)|0}var ac=64,lc=4194304;function Fa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function bu(t,e){var i=t.pendingLanes;if(i===0)return 0;var s=0,r=t.suspendedLanes,n=t.pingedLanes,o=i&268435455;if(o!==0){var a=o&~r;a!==0?s=Fa(a):(n&=o,n!==0&&(s=Fa(n)))}else o=i&~r,o!==0?s=Fa(o):n!==0&&(s=Fa(n));if(s===0)return 0;if(e!==0&&e!==s&&!(e&r)&&(r=s&-s,n=e&-e,r>=n||r===16&&(n&4194240)!==0))return e;if(s&4&&(s|=i&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)i=31-Zi(e),r=1<<i,s|=t[i],e&=~r;return s}function ik(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sk(t,e){for(var i=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,n=t.pendingLanes;0<n;){var o=31-Zi(n),a=1<<o,l=r[o];l===-1?(!(a&i)||a&s)&&(r[o]=ik(a,e)):l<=e&&(t.expiredLanes|=a),n&=~a}}function ap(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Mb(){var t=ac;return ac<<=1,!(ac&4194240)&&(ac=64),t}function Rd(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function Ll(t,e,i){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Zi(e),t[e]=i}function rk(t,e){var i=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<i;){var r=31-Zi(i),n=1<<r;e[r]=0,s[r]=-1,t[r]=-1,i&=~n}}function Pm(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var s=31-Zi(i),r=1<<s;r&e|t[s]&e&&(t[s]|=e),i&=~r}}var Oe=0;function Tb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Db,Em,Lb,Ib,Ob,lp=!1,cc=[],dr=null,gr=null,pr=null,qa=new Map,Qa=new Map,rr=[],nk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _C(t,e){switch(t){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":qa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qa.delete(e.pointerId)}}function ca(t,e,i,s,r,n){return t===null||t.nativeEvent!==n?(t={blockedOn:e,domEventName:i,eventSystemFlags:s,nativeEvent:n,targetContainers:[r]},e!==null&&(e=Ol(e),e!==null&&Em(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function ok(t,e,i,s,r){switch(e){case"focusin":return dr=ca(dr,t,e,i,s,r),!0;case"dragenter":return gr=ca(gr,t,e,i,s,r),!0;case"mouseover":return pr=ca(pr,t,e,i,s,r),!0;case"pointerover":var n=r.pointerId;return qa.set(n,ca(qa.get(n)||null,t,e,i,s,r)),!0;case"gotpointercapture":return n=r.pointerId,Qa.set(n,ca(Qa.get(n)||null,t,e,i,s,r)),!0}return!1}function Hb(t){var e=Kr(t.target);if(e!==null){var i=Tn(e);if(i!==null){if(e=i.tag,e===13){if(e=Rb(i),e!==null){t.blockedOn=e,Ob(t.priority,function(){Lb(i)});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=cp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(i===null){i=t.nativeEvent;var s=new i.constructor(i.type,i);sp=s,i.target.dispatchEvent(s),sp=null}else return e=Ol(i),e!==null&&Em(e),t.blockedOn=i,!1;e.shift()}return!0}function UC(t,e,i){Vc(t)&&i.delete(e)}function ak(){lp=!1,dr!==null&&Vc(dr)&&(dr=null),gr!==null&&Vc(gr)&&(gr=null),pr!==null&&Vc(pr)&&(pr=null),qa.forEach(UC),Qa.forEach(UC)}function ua(t,e){t.blockedOn===e&&(t.blockedOn=null,lp||(lp=!0,fi.unstable_scheduleCallback(fi.unstable_NormalPriority,ak)))}function Za(t){function e(r){return ua(r,t)}if(0<cc.length){ua(cc[0],t);for(var i=1;i<cc.length;i++){var s=cc[i];s.blockedOn===t&&(s.blockedOn=null)}}for(dr!==null&&ua(dr,t),gr!==null&&ua(gr,t),pr!==null&&ua(pr,t),qa.forEach(e),Qa.forEach(e),i=0;i<rr.length;i++)s=rr[i],s.blockedOn===t&&(s.blockedOn=null);for(;0<rr.length&&(i=rr[0],i.blockedOn===null);)Hb(i),i.blockedOn===null&&rr.shift()}var ho=Vs.ReactCurrentBatchConfig,Su=!0;function lk(t,e,i,s){var r=Oe,n=ho.transition;ho.transition=null;try{Oe=1,km(t,e,i,s)}finally{Oe=r,ho.transition=n}}function ck(t,e,i,s){var r=Oe,n=ho.transition;ho.transition=null;try{Oe=4,km(t,e,i,s)}finally{Oe=r,ho.transition=n}}function km(t,e,i,s){if(Su){var r=cp(t,e,i,s);if(r===null)Id(t,e,s,Ru,i),_C(t,s);else if(ok(r,t,e,i,s))s.stopPropagation();else if(_C(t,s),e&4&&-1<nk.indexOf(t)){for(;r!==null;){var n=Ol(r);if(n!==null&&Db(n),n=cp(t,e,i,s),n===null&&Id(t,e,s,Ru,i),n===r)break;r=n}r!==null&&s.stopPropagation()}else Id(t,e,s,null,i)}}var Ru=null;function cp(t,e,i,s){if(Ru=null,t=Fm(s),t=Kr(t),t!==null)if(e=Tn(t),e===null)t=null;else if(i=e.tag,i===13){if(t=Rb(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ru=t,null}function Nb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qE()){case Am:return 1;case Eb:return 4;case xu:case QE:return 16;case kb:return 536870912;default:return 16}default:return 16}}var ar=null,Mm=null,_c=null;function Gb(){if(_c)return _c;var t,e=Mm,i=e.length,s,r="value"in ar?ar.value:ar.textContent,n=r.length;for(t=0;t<i&&e[t]===r[t];t++);var o=i-t;for(s=1;s<=o&&e[i-s]===r[n-s];s++);return _c=r.slice(t,1<s?1-s:void 0)}function Uc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function uc(){return!0}function XC(){return!1}function Ci(t){function e(i,s,r,n,o){this._reactName=i,this._targetInst=r,this.type=s,this.nativeEvent=n,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(i=t[a],this[a]=i?i(n):n[a]);return this.isDefaultPrevented=(n.defaultPrevented!=null?n.defaultPrevented:n.returnValue===!1)?uc:XC,this.isPropagationStopped=XC,this}return et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=uc)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=uc)},persist:function(){},isPersistent:uc}),e}var Wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tm=Ci(Wo),Il=et({},Wo,{view:0,detail:0}),uk=Ci(Il),Fd,Ad,ha,wh=et({},Il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ha&&(ha&&t.type==="mousemove"?(Fd=t.screenX-ha.screenX,Ad=t.screenY-ha.screenY):Ad=Fd=0,ha=t),Fd)},movementY:function(t){return"movementY"in t?t.movementY:Ad}}),jC=Ci(wh),hk=et({},wh,{dataTransfer:0}),dk=Ci(hk),gk=et({},Il,{relatedTarget:0}),Pd=Ci(gk),pk=et({},Wo,{animationName:0,elapsedTime:0,pseudoElement:0}),fk=Ci(pk),mk=et({},Wo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vk=Ci(mk),Ck=et({},Wo,{data:0}),YC=Ci(Ck),yk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=xk[t])?!!e[t]:!1}function Dm(){return bk}var Sk=et({},Il,{key:function(t){if(t.key){var e=yk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Uc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dm,charCode:function(t){return t.type==="keypress"?Uc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Uc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Rk=Ci(Sk),Fk=et({},wh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$C=Ci(Fk),Ak=et({},Il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dm}),Pk=Ci(Ak),Ek=et({},Wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),kk=Ci(Ek),Mk=et({},wh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Tk=Ci(Mk),Dk=[9,13,27,32],Lm=Hs&&"CompositionEvent"in window,Da=null;Hs&&"documentMode"in document&&(Da=document.documentMode);var Lk=Hs&&"TextEvent"in window&&!Da,Bb=Hs&&(!Lm||Da&&8<Da&&11>=Da),KC=" ",qC=!1;function Wb(t,e){switch(t){case"keyup":return Dk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $n=!1;function Ik(t,e){switch(t){case"compositionend":return zb(e);case"keypress":return e.which!==32?null:(qC=!0,KC);case"textInput":return t=e.data,t===KC&&qC?null:t;default:return null}}function Ok(t,e){if($n)return t==="compositionend"||!Lm&&Wb(t,e)?(t=Gb(),_c=Mm=ar=null,$n=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Bb&&e.locale!=="ko"?null:e.data;default:return null}}var Hk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function QC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Hk[t.type]:e==="textarea"}function Vb(t,e,i,s){yb(s),e=Fu(e,"onChange"),0<e.length&&(i=new Tm("onChange","change",null,i,s),t.push({event:i,listeners:e}))}var La=null,Ja=null;function Nk(t){Jb(t,0)}function xh(t){var e=Qn(t);if(db(e))return t}function Gk(t,e){if(t==="change")return e}var _b=!1;if(Hs){var Ed;if(Hs){var kd="oninput"in document;if(!kd){var ZC=document.createElement("div");ZC.setAttribute("oninput","return;"),kd=typeof ZC.oninput=="function"}Ed=kd}else Ed=!1;_b=Ed&&(!document.documentMode||9<document.documentMode)}function JC(){La&&(La.detachEvent("onpropertychange",Ub),Ja=La=null)}function Ub(t){if(t.propertyName==="value"&&xh(Ja)){var e=[];Vb(e,Ja,t,Fm(t)),Sb(Nk,e)}}function Bk(t,e,i){t==="focusin"?(JC(),La=e,Ja=i,La.attachEvent("onpropertychange",Ub)):t==="focusout"&&JC()}function Wk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xh(Ja)}function zk(t,e){if(t==="click")return xh(e)}function Vk(t,e){if(t==="input"||t==="change")return xh(e)}function _k(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rs=typeof Object.is=="function"?Object.is:_k;function el(t,e){if(rs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),s=Object.keys(e);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var r=i[s];if(!Xg.call(e,r)||!rs(t[r],e[r]))return!1}return!0}function ey(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ty(t,e){var i=ey(t);t=0;for(var s;i;){if(i.nodeType===3){if(s=t+i.textContent.length,t<=e&&s>=e)return{node:i,offset:e-t};t=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ey(i)}}function Xb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Xb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jb(){for(var t=window,e=Cu();e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=Cu(t.document)}return e}function Im(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Uk(t){var e=jb(),i=t.focusedElem,s=t.selectionRange;if(e!==i&&i&&i.ownerDocument&&Xb(i.ownerDocument.documentElement,i)){if(s!==null&&Im(i)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(t,i.value.length);else if(t=(e=i.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=i.textContent.length,n=Math.min(s.start,r);s=s.end===void 0?n:Math.min(s.end,r),!t.extend&&n>s&&(r=s,s=n,n=r),r=ty(i,n);var o=ty(i,s);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),n>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=i;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<e.length;i++)t=e[i],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Xk=Hs&&"documentMode"in document&&11>=document.documentMode,Kn=null,up=null,Ia=null,hp=!1;function iy(t,e,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;hp||Kn==null||Kn!==Cu(s)||(s=Kn,"selectionStart"in s&&Im(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ia&&el(Ia,s)||(Ia=s,s=Fu(up,"onSelect"),0<s.length&&(e=new Tm("onSelect","select",null,e,i),t.push({event:e,listeners:s}),e.target=Kn)))}function hc(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var qn={animationend:hc("Animation","AnimationEnd"),animationiteration:hc("Animation","AnimationIteration"),animationstart:hc("Animation","AnimationStart"),transitionend:hc("Transition","TransitionEnd")},Md={},Yb={};Hs&&(Yb=document.createElement("div").style,"AnimationEvent"in window||(delete qn.animationend.animation,delete qn.animationiteration.animation,delete qn.animationstart.animation),"TransitionEvent"in window||delete qn.transitionend.transition);function bh(t){if(Md[t])return Md[t];if(!qn[t])return t;var e=qn[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in Yb)return Md[t]=e[i];return t}var $b=bh("animationend"),Kb=bh("animationiteration"),qb=bh("animationstart"),Qb=bh("transitionend"),Zb=new Map,sy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(t,e){Zb.set(t,e),Mn(e,[t])}for(var Td=0;Td<sy.length;Td++){var Dd=sy[Td],jk=Dd.toLowerCase(),Yk=Dd[0].toUpperCase()+Dd.slice(1);Mr(jk,"on"+Yk)}Mr($b,"onAnimationEnd");Mr(Kb,"onAnimationIteration");Mr(qb,"onAnimationStart");Mr("dblclick","onDoubleClick");Mr("focusin","onFocus");Mr("focusout","onBlur");Mr(Qb,"onTransitionEnd");yo("onMouseEnter",["mouseout","mouseover"]);yo("onMouseLeave",["mouseout","mouseover"]);yo("onPointerEnter",["pointerout","pointerover"]);yo("onPointerLeave",["pointerout","pointerover"]);Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$k=new Set("cancel close invalid load scroll toggle".split(" ").concat(Aa));function ry(t,e,i){var s=t.type||"unknown-event";t.currentTarget=i,jE(s,e,void 0,t),t.currentTarget=null}function Jb(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var s=t[i],r=s.event;s=s.listeners;e:{var n=void 0;if(e)for(var o=s.length-1;0<=o;o--){var a=s[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==n&&r.isPropagationStopped())break e;ry(r,a,c),n=l}else for(o=0;o<s.length;o++){if(a=s[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==n&&r.isPropagationStopped())break e;ry(r,a,c),n=l}}}if(wu)throw t=op,wu=!1,op=null,t}function Ue(t,e){var i=e[mp];i===void 0&&(i=e[mp]=new Set);var s=t+"__bubble";i.has(s)||(eS(e,t,2,!1),i.add(s))}function Ld(t,e,i){var s=0;e&&(s|=4),eS(i,t,s,e)}var dc="_reactListening"+Math.random().toString(36).slice(2);function tl(t){if(!t[dc]){t[dc]=!0,ab.forEach(function(i){i!=="selectionchange"&&($k.has(i)||Ld(i,!1,t),Ld(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[dc]||(e[dc]=!0,Ld("selectionchange",!1,e))}}function eS(t,e,i,s){switch(Nb(e)){case 1:var r=lk;break;case 4:r=ck;break;default:r=km}i=r.bind(null,e,i,t),r=void 0,!np||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?t.addEventListener(e,i,{capture:!0,passive:r}):t.addEventListener(e,i,!0):r!==void 0?t.addEventListener(e,i,{passive:r}):t.addEventListener(e,i,!1)}function Id(t,e,i,s,r){var n=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var a=s.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=s.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Kr(a),o===null)return;if(l=o.tag,l===5||l===6){s=n=o;continue e}a=a.parentNode}}s=s.return}Sb(function(){var c=n,u=Fm(i),h=[];e:{var d=Zb.get(t);if(d!==void 0){var g=Tm,p=t;switch(t){case"keypress":if(Uc(i)===0)break e;case"keydown":case"keyup":g=Rk;break;case"focusin":p="focus",g=Pd;break;case"focusout":p="blur",g=Pd;break;case"beforeblur":case"afterblur":g=Pd;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=jC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=dk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Pk;break;case $b:case Kb:case qb:g=fk;break;case Qb:g=kk;break;case"scroll":g=uk;break;case"wheel":g=Tk;break;case"copy":case"cut":case"paste":g=vk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=$C}var f=(e&4)!==0,C=!f&&t==="scroll",m=f?d!==null?d+"Capture":null:d;f=[];for(var v=c,y;v!==null;){y=v;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,m!==null&&(w=Ka(v,m),w!=null&&f.push(il(v,w,y)))),C)break;v=v.return}0<f.length&&(d=new g(d,p,null,i,u),h.push({event:d,listeners:f}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",d&&i!==sp&&(p=i.relatedTarget||i.fromElement)&&(Kr(p)||p[Ns]))break e;if((g||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,g?(p=i.relatedTarget||i.toElement,g=c,p=p?Kr(p):null,p!==null&&(C=Tn(p),p!==C||p.tag!==5&&p.tag!==6)&&(p=null)):(g=null,p=c),g!==p)){if(f=jC,w="onMouseLeave",m="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(f=$C,w="onPointerLeave",m="onPointerEnter",v="pointer"),C=g==null?d:Qn(g),y=p==null?d:Qn(p),d=new f(w,v+"leave",g,i,u),d.target=C,d.relatedTarget=y,w=null,Kr(u)===c&&(f=new f(m,v+"enter",p,i,u),f.target=y,f.relatedTarget=C,w=f),C=w,g&&p)t:{for(f=g,m=p,v=0,y=f;y;y=Bn(y))v++;for(y=0,w=m;w;w=Bn(w))y++;for(;0<v-y;)f=Bn(f),v--;for(;0<y-v;)m=Bn(m),y--;for(;v--;){if(f===m||m!==null&&f===m.alternate)break t;f=Bn(f),m=Bn(m)}f=null}else f=null;g!==null&&ny(h,d,g,f,!1),p!==null&&C!==null&&ny(h,C,p,f,!0)}}e:{if(d=c?Qn(c):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var x=Gk;else if(QC(d))if(_b)x=Vk;else{x=Wk;var S=Bk}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(x=zk);if(x&&(x=x(t,c))){Vb(h,x,i,u);break e}S&&S(t,d,c),t==="focusout"&&(S=d._wrapperState)&&S.controlled&&d.type==="number"&&Zg(d,"number",d.value)}switch(S=c?Qn(c):window,t){case"focusin":(QC(S)||S.contentEditable==="true")&&(Kn=S,up=c,Ia=null);break;case"focusout":Ia=up=Kn=null;break;case"mousedown":hp=!0;break;case"contextmenu":case"mouseup":case"dragend":hp=!1,iy(h,i,u);break;case"selectionchange":if(Xk)break;case"keydown":case"keyup":iy(h,i,u)}var b;if(Lm)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else $n?Wb(t,i)&&(R="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(R="onCompositionStart");R&&(Bb&&i.locale!=="ko"&&($n||R!=="onCompositionStart"?R==="onCompositionEnd"&&$n&&(b=Gb()):(ar=u,Mm="value"in ar?ar.value:ar.textContent,$n=!0)),S=Fu(c,R),0<S.length&&(R=new YC(R,t,null,i,u),h.push({event:R,listeners:S}),b?R.data=b:(b=zb(i),b!==null&&(R.data=b)))),(b=Lk?Ik(t,i):Ok(t,i))&&(c=Fu(c,"onBeforeInput"),0<c.length&&(u=new YC("onBeforeInput","beforeinput",null,i,u),h.push({event:u,listeners:c}),u.data=b))}Jb(h,e)})}function il(t,e,i){return{instance:t,listener:e,currentTarget:i}}function Fu(t,e){for(var i=e+"Capture",s=[];t!==null;){var r=t,n=r.stateNode;r.tag===5&&n!==null&&(r=n,n=Ka(t,i),n!=null&&s.unshift(il(t,n,r)),n=Ka(t,e),n!=null&&s.push(il(t,n,r))),t=t.return}return s}function Bn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ny(t,e,i,s,r){for(var n=e._reactName,o=[];i!==null&&i!==s;){var a=i,l=a.alternate,c=a.stateNode;if(l!==null&&l===s)break;a.tag===5&&c!==null&&(a=c,r?(l=Ka(i,n),l!=null&&o.unshift(il(i,l,a))):r||(l=Ka(i,n),l!=null&&o.push(il(i,l,a)))),i=i.return}o.length!==0&&t.push({event:e,listeners:o})}var Kk=/\r\n?/g,qk=/\u0000|\uFFFD/g;function oy(t){return(typeof t=="string"?t:""+t).replace(Kk,`
`).replace(qk,"")}function gc(t,e,i){if(e=oy(e),oy(t)!==e&&i)throw Error(q(425))}function Au(){}var dp=null,gp=null;function pp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var fp=typeof setTimeout=="function"?setTimeout:void 0,Qk=typeof clearTimeout=="function"?clearTimeout:void 0,ay=typeof Promise=="function"?Promise:void 0,Zk=typeof queueMicrotask=="function"?queueMicrotask:typeof ay<"u"?function(t){return ay.resolve(null).then(t).catch(Jk)}:fp;function Jk(t){setTimeout(function(){throw t})}function Od(t,e){var i=e,s=0;do{var r=i.nextSibling;if(t.removeChild(i),r&&r.nodeType===8)if(i=r.data,i==="/$"){if(s===0){t.removeChild(r),Za(e);return}s--}else i!=="$"&&i!=="$?"&&i!=="$!"||s++;i=r}while(i);Za(e)}function fr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ly(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(e===0)return t;e--}else i==="/$"&&e++}t=t.previousSibling}return null}var zo=Math.random().toString(36).slice(2),gs="__reactFiber$"+zo,sl="__reactProps$"+zo,Ns="__reactContainer$"+zo,mp="__reactEvents$"+zo,e1="__reactListeners$"+zo,t1="__reactHandles$"+zo;function Kr(t){var e=t[gs];if(e)return e;for(var i=t.parentNode;i;){if(e=i[Ns]||i[gs]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=ly(t);t!==null;){if(i=t[gs])return i;t=ly(t)}return e}t=i,i=t.parentNode}return null}function Ol(t){return t=t[gs]||t[Ns],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function Sh(t){return t[sl]||null}var vp=[],Zn=-1;function Tr(t){return{current:t}}function je(t){0>Zn||(t.current=vp[Zn],vp[Zn]=null,Zn--)}function _e(t,e){Zn++,vp[Zn]=t.current,t.current=e}var Sr={},Ot=Tr(Sr),ti=Tr(!1),vn=Sr;function wo(t,e){var i=t.type.contextTypes;if(!i)return Sr;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var r={},n;for(n in i)r[n]=e[n];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function ii(t){return t=t.childContextTypes,t!=null}function Pu(){je(ti),je(Ot)}function cy(t,e,i){if(Ot.current!==Sr)throw Error(q(168));_e(Ot,e),_e(ti,i)}function tS(t,e,i){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return i;s=s.getChildContext();for(var r in s)if(!(r in e))throw Error(q(108,BE(t)||"Unknown",r));return et({},i,s)}function Eu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Sr,vn=Ot.current,_e(Ot,t),_e(ti,ti.current),!0}function uy(t,e,i){var s=t.stateNode;if(!s)throw Error(q(169));i?(t=tS(t,e,vn),s.__reactInternalMemoizedMergedChildContext=t,je(ti),je(Ot),_e(Ot,t)):je(ti),_e(ti,i)}var Ps=null,Rh=!1,Hd=!1;function iS(t){Ps===null?Ps=[t]:Ps.push(t)}function i1(t){Rh=!0,iS(t)}function Dr(){if(!Hd&&Ps!==null){Hd=!0;var t=0,e=Oe;try{var i=Ps;for(Oe=1;t<i.length;t++){var s=i[t];do s=s(!0);while(s!==null)}Ps=null,Rh=!1}catch(r){throw Ps!==null&&(Ps=Ps.slice(t+1)),Pb(Am,Dr),r}finally{Oe=e,Hd=!1}}return null}var Jn=[],eo=0,ku=null,Mu=0,Fi=[],Ai=0,Cn=null,ks=1,Ms="";function Gr(t,e){Jn[eo++]=Mu,Jn[eo++]=ku,ku=t,Mu=e}function sS(t,e,i){Fi[Ai++]=ks,Fi[Ai++]=Ms,Fi[Ai++]=Cn,Cn=t;var s=ks;t=Ms;var r=32-Zi(s)-1;s&=~(1<<r),i+=1;var n=32-Zi(e)+r;if(30<n){var o=r-r%5;n=(s&(1<<o)-1).toString(32),s>>=o,r-=o,ks=1<<32-Zi(e)+r|i<<r|s,Ms=n+t}else ks=1<<n|i<<r|s,Ms=t}function Om(t){t.return!==null&&(Gr(t,1),sS(t,1,0))}function Hm(t){for(;t===ku;)ku=Jn[--eo],Jn[eo]=null,Mu=Jn[--eo],Jn[eo]=null;for(;t===Cn;)Cn=Fi[--Ai],Fi[Ai]=null,Ms=Fi[--Ai],Fi[Ai]=null,ks=Fi[--Ai],Fi[Ai]=null}var hi=null,ci=null,Ye=!1,ji=null;function rS(t,e){var i=Pi(5,null,null,0);i.elementType="DELETED",i.stateNode=e,i.return=t,e=t.deletions,e===null?(t.deletions=[i],t.flags|=16):e.push(i)}function hy(t,e){switch(t.tag){case 5:var i=t.type;return e=e.nodeType!==1||i.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,hi=t,ci=fr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,hi=t,ci=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(i=Cn!==null?{id:ks,overflow:Ms}:null,t.memoizedState={dehydrated:e,treeContext:i,retryLane:1073741824},i=Pi(18,null,null,0),i.stateNode=e,i.return=t,t.child=i,hi=t,ci=null,!0):!1;default:return!1}}function Cp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function yp(t){if(Ye){var e=ci;if(e){var i=e;if(!hy(t,e)){if(Cp(t))throw Error(q(418));e=fr(i.nextSibling);var s=hi;e&&hy(t,e)?rS(s,i):(t.flags=t.flags&-4097|2,Ye=!1,hi=t)}}else{if(Cp(t))throw Error(q(418));t.flags=t.flags&-4097|2,Ye=!1,hi=t}}}function dy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;hi=t}function pc(t){if(t!==hi)return!1;if(!Ye)return dy(t),Ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!pp(t.type,t.memoizedProps)),e&&(e=ci)){if(Cp(t))throw nS(),Error(q(418));for(;e;)rS(t,e),e=fr(e.nextSibling)}if(dy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"){if(e===0){ci=fr(t.nextSibling);break e}e--}else i!=="$"&&i!=="$!"&&i!=="$?"||e++}t=t.nextSibling}ci=null}}else ci=hi?fr(t.stateNode.nextSibling):null;return!0}function nS(){for(var t=ci;t;)t=fr(t.nextSibling)}function xo(){ci=hi=null,Ye=!1}function Nm(t){ji===null?ji=[t]:ji.push(t)}var s1=Vs.ReactCurrentBatchConfig;function da(t,e,i){if(t=i.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(q(309));var s=i.stateNode}if(!s)throw Error(q(147,t));var r=s,n=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===n?e.ref:(e=function(o){var a=r.refs;o===null?delete a[n]:a[n]=o},e._stringRef=n,e)}if(typeof t!="string")throw Error(q(284));if(!i._owner)throw Error(q(290,t))}return t}function fc(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function gy(t){var e=t._init;return e(t._payload)}function oS(t){function e(m,v){if(t){var y=m.deletions;y===null?(m.deletions=[v],m.flags|=16):y.push(v)}}function i(m,v){if(!t)return null;for(;v!==null;)e(m,v),v=v.sibling;return null}function s(m,v){for(m=new Map;v!==null;)v.key!==null?m.set(v.key,v):m.set(v.index,v),v=v.sibling;return m}function r(m,v){return m=yr(m,v),m.index=0,m.sibling=null,m}function n(m,v,y){return m.index=y,t?(y=m.alternate,y!==null?(y=y.index,y<v?(m.flags|=2,v):y):(m.flags|=2,v)):(m.flags|=1048576,v)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,v,y,w){return v===null||v.tag!==6?(v=_d(y,m.mode,w),v.return=m,v):(v=r(v,y),v.return=m,v)}function l(m,v,y,w){var x=y.type;return x===Yn?u(m,v,y.props.children,w,y.key):v!==null&&(v.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===tr&&gy(x)===v.type)?(w=r(v,y.props),w.ref=da(m,v,y),w.return=m,w):(w=Qc(y.type,y.key,y.props,null,m.mode,w),w.ref=da(m,v,y),w.return=m,w)}function c(m,v,y,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=Ud(y,m.mode,w),v.return=m,v):(v=r(v,y.children||[]),v.return=m,v)}function u(m,v,y,w,x){return v===null||v.tag!==7?(v=on(y,m.mode,w,x),v.return=m,v):(v=r(v,y),v.return=m,v)}function h(m,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=_d(""+v,m.mode,y),v.return=m,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case rc:return y=Qc(v.type,v.key,v.props,null,m.mode,y),y.ref=da(m,null,v),y.return=m,y;case jn:return v=Ud(v,m.mode,y),v.return=m,v;case tr:var w=v._init;return h(m,w(v._payload),y)}if(Ra(v)||aa(v))return v=on(v,m.mode,y,null),v.return=m,v;fc(m,v)}return null}function d(m,v,y,w){var x=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return x!==null?null:a(m,v,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case rc:return y.key===x?l(m,v,y,w):null;case jn:return y.key===x?c(m,v,y,w):null;case tr:return x=y._init,d(m,v,x(y._payload),w)}if(Ra(y)||aa(y))return x!==null?null:u(m,v,y,w,null);fc(m,y)}return null}function g(m,v,y,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(y)||null,a(v,m,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case rc:return m=m.get(w.key===null?y:w.key)||null,l(v,m,w,x);case jn:return m=m.get(w.key===null?y:w.key)||null,c(v,m,w,x);case tr:var S=w._init;return g(m,v,y,S(w._payload),x)}if(Ra(w)||aa(w))return m=m.get(y)||null,u(v,m,w,x,null);fc(v,w)}return null}function p(m,v,y,w){for(var x=null,S=null,b=v,R=v=0,A=null;b!==null&&R<y.length;R++){b.index>R?(A=b,b=null):A=b.sibling;var P=d(m,b,y[R],w);if(P===null){b===null&&(b=A);break}t&&b&&P.alternate===null&&e(m,b),v=n(P,v,R),S===null?x=P:S.sibling=P,S=P,b=A}if(R===y.length)return i(m,b),Ye&&Gr(m,R),x;if(b===null){for(;R<y.length;R++)b=h(m,y[R],w),b!==null&&(v=n(b,v,R),S===null?x=b:S.sibling=b,S=b);return Ye&&Gr(m,R),x}for(b=s(m,b);R<y.length;R++)A=g(b,m,R,y[R],w),A!==null&&(t&&A.alternate!==null&&b.delete(A.key===null?R:A.key),v=n(A,v,R),S===null?x=A:S.sibling=A,S=A);return t&&b.forEach(function(E){return e(m,E)}),Ye&&Gr(m,R),x}function f(m,v,y,w){var x=aa(y);if(typeof x!="function")throw Error(q(150));if(y=x.call(y),y==null)throw Error(q(151));for(var S=x=null,b=v,R=v=0,A=null,P=y.next();b!==null&&!P.done;R++,P=y.next()){b.index>R?(A=b,b=null):A=b.sibling;var E=d(m,b,P.value,w);if(E===null){b===null&&(b=A);break}t&&b&&E.alternate===null&&e(m,b),v=n(E,v,R),S===null?x=E:S.sibling=E,S=E,b=A}if(P.done)return i(m,b),Ye&&Gr(m,R),x;if(b===null){for(;!P.done;R++,P=y.next())P=h(m,P.value,w),P!==null&&(v=n(P,v,R),S===null?x=P:S.sibling=P,S=P);return Ye&&Gr(m,R),x}for(b=s(m,b);!P.done;R++,P=y.next())P=g(b,m,R,P.value,w),P!==null&&(t&&P.alternate!==null&&b.delete(P.key===null?R:P.key),v=n(P,v,R),S===null?x=P:S.sibling=P,S=P);return t&&b.forEach(function(L){return e(m,L)}),Ye&&Gr(m,R),x}function C(m,v,y,w){if(typeof y=="object"&&y!==null&&y.type===Yn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case rc:e:{for(var x=y.key,S=v;S!==null;){if(S.key===x){if(x=y.type,x===Yn){if(S.tag===7){i(m,S.sibling),v=r(S,y.props.children),v.return=m,m=v;break e}}else if(S.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===tr&&gy(x)===S.type){i(m,S.sibling),v=r(S,y.props),v.ref=da(m,S,y),v.return=m,m=v;break e}i(m,S);break}else e(m,S);S=S.sibling}y.type===Yn?(v=on(y.props.children,m.mode,w,y.key),v.return=m,m=v):(w=Qc(y.type,y.key,y.props,null,m.mode,w),w.ref=da(m,v,y),w.return=m,m=w)}return o(m);case jn:e:{for(S=y.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){i(m,v.sibling),v=r(v,y.children||[]),v.return=m,m=v;break e}else{i(m,v);break}else e(m,v);v=v.sibling}v=Ud(y,m.mode,w),v.return=m,m=v}return o(m);case tr:return S=y._init,C(m,v,S(y._payload),w)}if(Ra(y))return p(m,v,y,w);if(aa(y))return f(m,v,y,w);fc(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(i(m,v.sibling),v=r(v,y),v.return=m,m=v):(i(m,v),v=_d(y,m.mode,w),v.return=m,m=v),o(m)):i(m,v)}return C}var bo=oS(!0),aS=oS(!1),Tu=Tr(null),Du=null,to=null,Gm=null;function Bm(){Gm=to=Du=null}function Wm(t){var e=Tu.current;je(Tu),t._currentValue=e}function wp(t,e,i){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===i)break;t=t.return}}function go(t,e){Du=t,Gm=to=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Jt=!0),t.firstContext=null)}function Oi(t){var e=t._currentValue;if(Gm!==t)if(t={context:t,memoizedValue:e,next:null},to===null){if(Du===null)throw Error(q(308));to=t,Du.dependencies={lanes:0,firstContext:t}}else to=to.next=t;return e}var qr=null;function zm(t){qr===null?qr=[t]:qr.push(t)}function lS(t,e,i,s){var r=e.interleaved;return r===null?(i.next=i,zm(e)):(i.next=r.next,r.next=i),e.interleaved=i,Gs(t,s)}function Gs(t,e){t.lanes|=e;var i=t.alternate;for(i!==null&&(i.lanes|=e),i=t,t=t.return;t!==null;)t.childLanes|=e,i=t.alternate,i!==null&&(i.childLanes|=e),i=t,t=t.return;return i.tag===3?i.stateNode:null}var ir=!1;function Vm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ds(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function mr(t,e,i){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,Pe&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,Gs(t,i)}return r=s.interleaved,r===null?(e.next=e,zm(s)):(e.next=r.next,r.next=e),s.interleaved=e,Gs(t,i)}function Xc(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,i|=s,e.lanes=i,Pm(t,i)}}function py(t,e){var i=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var r=null,n=null;if(i=i.firstBaseUpdate,i!==null){do{var o={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};n===null?r=n=o:n=n.next=o,i=i.next}while(i!==null);n===null?r=n=e:n=n.next=e}else r=n=e;i={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:n,shared:s.shared,effects:s.effects},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}function Lu(t,e,i,s){var r=t.updateQueue;ir=!1;var n=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?n=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(n!==null){var h=r.baseState;o=0,u=c=l=null,a=n;do{var d=a.lane,g=a.eventTime;if((s&d)===d){u!==null&&(u=u.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,f=a;switch(d=e,g=i,f.tag){case 1:if(p=f.payload,typeof p=="function"){h=p.call(g,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=f.payload,d=typeof p=="function"?p.call(g,h,d):p,d==null)break e;h=et({},h,d);break e;case 2:ir=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=r.effects,d===null?r.effects=[a]:d.push(a))}else g={eventTime:g,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=g,l=h):u=u.next=g,o|=d;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;d=a,a=d.next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}while(!0);if(u===null&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else n===null&&(r.shared.lanes=0);wn|=o,t.lanes=o,t.memoizedState=h}}function fy(t,e,i){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],r=s.callback;if(r!==null){if(s.callback=null,s=i,typeof r!="function")throw Error(q(191,r));r.call(s)}}}var Hl={},vs=Tr(Hl),rl=Tr(Hl),nl=Tr(Hl);function Qr(t){if(t===Hl)throw Error(q(174));return t}function _m(t,e){switch(_e(nl,e),_e(rl,t),_e(vs,Hl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ep(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ep(e,t)}je(vs),_e(vs,e)}function So(){je(vs),je(rl),je(nl)}function uS(t){Qr(nl.current);var e=Qr(vs.current),i=ep(e,t.type);e!==i&&(_e(rl,t),_e(vs,i))}function Um(t){rl.current===t&&(je(vs),je(rl))}var qe=Tr(0);function Iu(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Nd=[];function Xm(){for(var t=0;t<Nd.length;t++)Nd[t]._workInProgressVersionPrimary=null;Nd.length=0}var jc=Vs.ReactCurrentDispatcher,Gd=Vs.ReactCurrentBatchConfig,yn=0,Je=null,dt=null,mt=null,Ou=!1,Oa=!1,ol=0,r1=0;function Mt(){throw Error(q(321))}function jm(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!rs(t[i],e[i]))return!1;return!0}function Ym(t,e,i,s,r,n){if(yn=n,Je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,jc.current=t===null||t.memoizedState===null?l1:c1,t=i(s,r),Oa){n=0;do{if(Oa=!1,ol=0,25<=n)throw Error(q(301));n+=1,mt=dt=null,e.updateQueue=null,jc.current=u1,t=i(s,r)}while(Oa)}if(jc.current=Hu,e=dt!==null&&dt.next!==null,yn=0,mt=dt=Je=null,Ou=!1,e)throw Error(q(300));return t}function $m(){var t=ol!==0;return ol=0,t}function hs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Je.memoizedState=mt=t:mt=mt.next=t,mt}function Hi(){if(dt===null){var t=Je.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var e=mt===null?Je.memoizedState:mt.next;if(e!==null)mt=e,dt=t;else{if(t===null)throw Error(q(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},mt===null?Je.memoizedState=mt=t:mt=mt.next=t}return mt}function al(t,e){return typeof e=="function"?e(t):e}function Bd(t){var e=Hi(),i=e.queue;if(i===null)throw Error(q(311));i.lastRenderedReducer=t;var s=dt,r=s.baseQueue,n=i.pending;if(n!==null){if(r!==null){var o=r.next;r.next=n.next,n.next=o}s.baseQueue=r=n,i.pending=null}if(r!==null){n=r.next,s=s.baseState;var a=o=null,l=null,c=n;do{var u=c.lane;if((yn&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),s=c.hasEagerState?c.eagerState:t(s,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=s):l=l.next=h,Je.lanes|=u,wn|=u}c=c.next}while(c!==null&&c!==n);l===null?o=s:l.next=a,rs(s,e.memoizedState)||(Jt=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=l,i.lastRenderedState=s}if(t=i.interleaved,t!==null){r=t;do n=r.lane,Je.lanes|=n,wn|=n,r=r.next;while(r!==t)}else r===null&&(i.lanes=0);return[e.memoizedState,i.dispatch]}function Wd(t){var e=Hi(),i=e.queue;if(i===null)throw Error(q(311));i.lastRenderedReducer=t;var s=i.dispatch,r=i.pending,n=e.memoizedState;if(r!==null){i.pending=null;var o=r=r.next;do n=t(n,o.action),o=o.next;while(o!==r);rs(n,e.memoizedState)||(Jt=!0),e.memoizedState=n,e.baseQueue===null&&(e.baseState=n),i.lastRenderedState=n}return[n,s]}function hS(){}function dS(t,e){var i=Je,s=Hi(),r=e(),n=!rs(s.memoizedState,r);if(n&&(s.memoizedState=r,Jt=!0),s=s.queue,Km(fS.bind(null,i,s,t),[t]),s.getSnapshot!==e||n||mt!==null&&mt.memoizedState.tag&1){if(i.flags|=2048,ll(9,pS.bind(null,i,s,r,e),void 0,null),vt===null)throw Error(q(349));yn&30||gS(i,e,r)}return r}function gS(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function pS(t,e,i,s){e.value=i,e.getSnapshot=s,mS(e)&&vS(t)}function fS(t,e,i){return i(function(){mS(e)&&vS(t)})}function mS(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!rs(t,i)}catch{return!0}}function vS(t){var e=Gs(t,1);e!==null&&Ji(e,t,1,-1)}function my(t){var e=hs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:t},e.queue=t,t=t.dispatch=a1.bind(null,Je,t),[e.memoizedState,t]}function ll(t,e,i,s){return t={tag:t,create:e,destroy:i,deps:s,next:null},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.lastEffect=t.next=t):(i=e.lastEffect,i===null?e.lastEffect=t.next=t:(s=i.next,i.next=t,t.next=s,e.lastEffect=t)),t}function CS(){return Hi().memoizedState}function Yc(t,e,i,s){var r=hs();Je.flags|=t,r.memoizedState=ll(1|e,i,void 0,s===void 0?null:s)}function Fh(t,e,i,s){var r=Hi();s=s===void 0?null:s;var n=void 0;if(dt!==null){var o=dt.memoizedState;if(n=o.destroy,s!==null&&jm(s,o.deps)){r.memoizedState=ll(e,i,n,s);return}}Je.flags|=t,r.memoizedState=ll(1|e,i,n,s)}function vy(t,e){return Yc(8390656,8,t,e)}function Km(t,e){return Fh(2048,8,t,e)}function yS(t,e){return Fh(4,2,t,e)}function wS(t,e){return Fh(4,4,t,e)}function xS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function bS(t,e,i){return i=i!=null?i.concat([t]):null,Fh(4,4,xS.bind(null,e,t),i)}function qm(){}function SS(t,e){var i=Hi();e=e===void 0?null:e;var s=i.memoizedState;return s!==null&&e!==null&&jm(e,s[1])?s[0]:(i.memoizedState=[t,e],t)}function RS(t,e){var i=Hi();e=e===void 0?null:e;var s=i.memoizedState;return s!==null&&e!==null&&jm(e,s[1])?s[0]:(t=t(),i.memoizedState=[t,e],t)}function FS(t,e,i){return yn&21?(rs(i,e)||(i=Mb(),Je.lanes|=i,wn|=i,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Jt=!0),t.memoizedState=i)}function n1(t,e){var i=Oe;Oe=i!==0&&4>i?i:4,t(!0);var s=Gd.transition;Gd.transition={};try{t(!1),e()}finally{Oe=i,Gd.transition=s}}function AS(){return Hi().memoizedState}function o1(t,e,i){var s=Cr(t);if(i={lane:s,action:i,hasEagerState:!1,eagerState:null,next:null},PS(t))ES(e,i);else if(i=lS(t,e,i,s),i!==null){var r=jt();Ji(i,t,s,r),kS(i,e,s)}}function a1(t,e,i){var s=Cr(t),r={lane:s,action:i,hasEagerState:!1,eagerState:null,next:null};if(PS(t))ES(e,r);else{var n=t.alternate;if(t.lanes===0&&(n===null||n.lanes===0)&&(n=e.lastRenderedReducer,n!==null))try{var o=e.lastRenderedState,a=n(o,i);if(r.hasEagerState=!0,r.eagerState=a,rs(a,o)){var l=e.interleaved;l===null?(r.next=r,zm(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}i=lS(t,e,r,s),i!==null&&(r=jt(),Ji(i,t,s,r),kS(i,e,s))}}function PS(t){var e=t.alternate;return t===Je||e!==null&&e===Je}function ES(t,e){Oa=Ou=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function kS(t,e,i){if(i&4194240){var s=e.lanes;s&=t.pendingLanes,i|=s,e.lanes=i,Pm(t,i)}}var Hu={readContext:Oi,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},l1={readContext:Oi,useCallback:function(t,e){return hs().memoizedState=[t,e===void 0?null:e],t},useContext:Oi,useEffect:vy,useImperativeHandle:function(t,e,i){return i=i!=null?i.concat([t]):null,Yc(4194308,4,xS.bind(null,e,t),i)},useLayoutEffect:function(t,e){return Yc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Yc(4,2,t,e)},useMemo:function(t,e){var i=hs();return e=e===void 0?null:e,t=t(),i.memoizedState=[t,e],t},useReducer:function(t,e,i){var s=hs();return e=i!==void 0?i(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=o1.bind(null,Je,t),[s.memoizedState,t]},useRef:function(t){var e=hs();return t={current:t},e.memoizedState=t},useState:my,useDebugValue:qm,useDeferredValue:function(t){return hs().memoizedState=t},useTransition:function(){var t=my(!1),e=t[0];return t=n1.bind(null,t[1]),hs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,i){var s=Je,r=hs();if(Ye){if(i===void 0)throw Error(q(407));i=i()}else{if(i=e(),vt===null)throw Error(q(349));yn&30||gS(s,e,i)}r.memoizedState=i;var n={value:i,getSnapshot:e};return r.queue=n,vy(fS.bind(null,s,n,t),[t]),s.flags|=2048,ll(9,pS.bind(null,s,n,i,e),void 0,null),i},useId:function(){var t=hs(),e=vt.identifierPrefix;if(Ye){var i=Ms,s=ks;i=(s&~(1<<32-Zi(s)-1)).toString(32)+i,e=":"+e+"R"+i,i=ol++,0<i&&(e+="H"+i.toString(32)),e+=":"}else i=r1++,e=":"+e+"r"+i.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},c1={readContext:Oi,useCallback:SS,useContext:Oi,useEffect:Km,useImperativeHandle:bS,useInsertionEffect:yS,useLayoutEffect:wS,useMemo:RS,useReducer:Bd,useRef:CS,useState:function(){return Bd(al)},useDebugValue:qm,useDeferredValue:function(t){var e=Hi();return FS(e,dt.memoizedState,t)},useTransition:function(){var t=Bd(al)[0],e=Hi().memoizedState;return[t,e]},useMutableSource:hS,useSyncExternalStore:dS,useId:AS,unstable_isNewReconciler:!1},u1={readContext:Oi,useCallback:SS,useContext:Oi,useEffect:Km,useImperativeHandle:bS,useInsertionEffect:yS,useLayoutEffect:wS,useMemo:RS,useReducer:Wd,useRef:CS,useState:function(){return Wd(al)},useDebugValue:qm,useDeferredValue:function(t){var e=Hi();return dt===null?e.memoizedState=t:FS(e,dt.memoizedState,t)},useTransition:function(){var t=Wd(al)[0],e=Hi().memoizedState;return[t,e]},useMutableSource:hS,useSyncExternalStore:dS,useId:AS,unstable_isNewReconciler:!1};function Vi(t,e){if(t&&t.defaultProps){e=et({},e),t=t.defaultProps;for(var i in t)e[i]===void 0&&(e[i]=t[i]);return e}return e}function xp(t,e,i,s){e=t.memoizedState,i=i(s,e),i=i==null?e:et({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var Ah={isMounted:function(t){return(t=t._reactInternals)?Tn(t)===t:!1},enqueueSetState:function(t,e,i){t=t._reactInternals;var s=jt(),r=Cr(t),n=Ds(s,r);n.payload=e,i!=null&&(n.callback=i),e=mr(t,n,r),e!==null&&(Ji(e,t,r,s),Xc(e,t,r))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var s=jt(),r=Cr(t),n=Ds(s,r);n.tag=1,n.payload=e,i!=null&&(n.callback=i),e=mr(t,n,r),e!==null&&(Ji(e,t,r,s),Xc(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=jt(),s=Cr(t),r=Ds(i,s);r.tag=2,e!=null&&(r.callback=e),e=mr(t,r,s),e!==null&&(Ji(e,t,s,i),Xc(e,t,s))}};function Cy(t,e,i,s,r,n,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,n,o):e.prototype&&e.prototype.isPureReactComponent?!el(i,s)||!el(r,n):!0}function MS(t,e,i){var s=!1,r=Sr,n=e.contextType;return typeof n=="object"&&n!==null?n=Oi(n):(r=ii(e)?vn:Ot.current,s=e.contextTypes,n=(s=s!=null)?wo(t,r):Sr),e=new e(i,n),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ah,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=n),e}function yy(t,e,i,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,s),e.state!==t&&Ah.enqueueReplaceState(e,e.state,null)}function bp(t,e,i,s){var r=t.stateNode;r.props=i,r.state=t.memoizedState,r.refs={},Vm(t);var n=e.contextType;typeof n=="object"&&n!==null?r.context=Oi(n):(n=ii(e)?vn:Ot.current,r.context=wo(t,n)),r.state=t.memoizedState,n=e.getDerivedStateFromProps,typeof n=="function"&&(xp(t,e,n,i),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Ah.enqueueReplaceState(r,r.state,null),Lu(t,i,r,s),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Ro(t,e){try{var i="",s=e;do i+=GE(s),s=s.return;while(s);var r=i}catch(n){r=`
Error generating stack: `+n.message+`
`+n.stack}return{value:t,source:e,stack:r,digest:null}}function zd(t,e,i){return{value:t,source:null,stack:i??null,digest:e??null}}function Sp(t,e){try{console.error(e.value)}catch(i){setTimeout(function(){throw i})}}var h1=typeof WeakMap=="function"?WeakMap:Map;function TS(t,e,i){i=Ds(-1,i),i.tag=3,i.payload={element:null};var s=e.value;return i.callback=function(){Gu||(Gu=!0,Lp=s),Sp(t,e)},i}function DS(t,e,i){i=Ds(-1,i),i.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var r=e.value;i.payload=function(){return s(r)},i.callback=function(){Sp(t,e)}}var n=t.stateNode;return n!==null&&typeof n.componentDidCatch=="function"&&(i.callback=function(){Sp(t,e),typeof s!="function"&&(vr===null?vr=new Set([this]):vr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),i}function wy(t,e,i){var s=t.pingCache;if(s===null){s=t.pingCache=new h1;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(i)||(r.add(i),t=F1.bind(null,t,e,i),e.then(t,t))}function xy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function by(t,e,i,s,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(e=Ds(-1,1),e.tag=2,mr(i,e,1))),i.lanes|=1),t)}var d1=Vs.ReactCurrentOwner,Jt=!1;function Wt(t,e,i,s){e.child=t===null?aS(e,null,i,s):bo(e,t.child,i,s)}function Sy(t,e,i,s,r){i=i.render;var n=e.ref;return go(e,r),s=Ym(t,e,i,s,n,r),i=$m(),t!==null&&!Jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Bs(t,e,r)):(Ye&&i&&Om(e),e.flags|=1,Wt(t,e,s,r),e.child)}function Ry(t,e,i,s,r){if(t===null){var n=i.type;return typeof n=="function"&&!rv(n)&&n.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(e.tag=15,e.type=n,LS(t,e,n,s,r)):(t=Qc(i.type,null,s,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(n=t.child,!(t.lanes&r)){var o=n.memoizedProps;if(i=i.compare,i=i!==null?i:el,i(o,s)&&t.ref===e.ref)return Bs(t,e,r)}return e.flags|=1,t=yr(n,s),t.ref=e.ref,t.return=e,e.child=t}function LS(t,e,i,s,r){if(t!==null){var n=t.memoizedProps;if(el(n,s)&&t.ref===e.ref)if(Jt=!1,e.pendingProps=s=n,(t.lanes&r)!==0)t.flags&131072&&(Jt=!0);else return e.lanes=t.lanes,Bs(t,e,r)}return Rp(t,e,i,s,r)}function IS(t,e,i){var s=e.pendingProps,r=s.children,n=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(so,li),li|=i;else{if(!(i&1073741824))return t=n!==null?n.baseLanes|i:i,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,_e(so,li),li|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=n!==null?n.baseLanes:i,_e(so,li),li|=s}else n!==null?(s=n.baseLanes|i,e.memoizedState=null):s=i,_e(so,li),li|=s;return Wt(t,e,r,i),e.child}function OS(t,e){var i=e.ref;(t===null&&i!==null||t!==null&&t.ref!==i)&&(e.flags|=512,e.flags|=2097152)}function Rp(t,e,i,s,r){var n=ii(i)?vn:Ot.current;return n=wo(e,n),go(e,r),i=Ym(t,e,i,s,n,r),s=$m(),t!==null&&!Jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Bs(t,e,r)):(Ye&&s&&Om(e),e.flags|=1,Wt(t,e,i,r),e.child)}function Fy(t,e,i,s,r){if(ii(i)){var n=!0;Eu(e)}else n=!1;if(go(e,r),e.stateNode===null)$c(t,e),MS(e,i,s),bp(e,i,s,r),s=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=i.contextType;typeof c=="object"&&c!==null?c=Oi(c):(c=ii(i)?vn:Ot.current,c=wo(e,c));var u=i.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==s||l!==c)&&yy(e,o,s,c),ir=!1;var d=e.memoizedState;o.state=d,Lu(e,s,o,r),l=e.memoizedState,a!==s||d!==l||ti.current||ir?(typeof u=="function"&&(xp(e,i,u,s),l=e.memoizedState),(a=ir||Cy(e,i,a,s,d,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=l),o.props=s,o.state=l,o.context=c,s=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,cS(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Vi(e.type,a),o.props=c,h=e.pendingProps,d=o.context,l=i.contextType,typeof l=="object"&&l!==null?l=Oi(l):(l=ii(i)?vn:Ot.current,l=wo(e,l));var g=i.getDerivedStateFromProps;(u=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&yy(e,o,s,l),ir=!1,d=e.memoizedState,o.state=d,Lu(e,s,o,r);var p=e.memoizedState;a!==h||d!==p||ti.current||ir?(typeof g=="function"&&(xp(e,i,g,s),p=e.memoizedState),(c=ir||Cy(e,i,c,s,d,p,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=p),o.props=s,o.state=p,o.context=l,s=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),s=!1)}return Fp(t,e,i,s,n,r)}function Fp(t,e,i,s,r,n){OS(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return r&&uy(e,i,!1),Bs(t,e,n);s=e.stateNode,d1.current=e;var a=o&&typeof i.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=bo(e,t.child,null,n),e.child=bo(e,null,a,n)):Wt(t,e,a,n),e.memoizedState=s.state,r&&uy(e,i,!0),e.child}function HS(t){var e=t.stateNode;e.pendingContext?cy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&cy(t,e.context,!1),_m(t,e.containerInfo)}function Ay(t,e,i,s,r){return xo(),Nm(r),e.flags|=256,Wt(t,e,i,s),e.child}var Ap={dehydrated:null,treeContext:null,retryLane:0};function Pp(t){return{baseLanes:t,cachePool:null,transitions:null}}function NS(t,e,i){var s=e.pendingProps,r=qe.current,n=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(n=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),_e(qe,r&1),t===null)return yp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,t=s.fallback,n?(s=e.mode,n=e.child,o={mode:"hidden",children:o},!(s&1)&&n!==null?(n.childLanes=0,n.pendingProps=o):n=kh(o,s,0,null),t=on(t,s,i,null),n.return=e,t.return=e,n.sibling=t,e.child=n,e.child.memoizedState=Pp(i),e.memoizedState=Ap,t):Qm(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return g1(t,e,o,s,a,r,i);if(n){n=s.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:s.children};return!(o&1)&&e.child!==r?(s=e.child,s.childLanes=0,s.pendingProps=l,e.deletions=null):(s=yr(r,l),s.subtreeFlags=r.subtreeFlags&14680064),a!==null?n=yr(a,n):(n=on(n,o,i,null),n.flags|=2),n.return=e,s.return=e,s.sibling=n,e.child=s,s=n,n=e.child,o=t.child.memoizedState,o=o===null?Pp(i):{baseLanes:o.baseLanes|i,cachePool:null,transitions:o.transitions},n.memoizedState=o,n.childLanes=t.childLanes&~i,e.memoizedState=Ap,s}return n=t.child,t=n.sibling,s=yr(n,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=i),s.return=e,s.sibling=null,t!==null&&(i=e.deletions,i===null?(e.deletions=[t],e.flags|=16):i.push(t)),e.child=s,e.memoizedState=null,s}function Qm(t,e){return e=kh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function mc(t,e,i,s){return s!==null&&Nm(s),bo(e,t.child,null,i),t=Qm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function g1(t,e,i,s,r,n,o){if(i)return e.flags&256?(e.flags&=-257,s=zd(Error(q(422))),mc(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(n=s.fallback,r=e.mode,s=kh({mode:"visible",children:s.children},r,0,null),n=on(n,r,o,null),n.flags|=2,s.return=e,n.return=e,s.sibling=n,e.child=s,e.mode&1&&bo(e,t.child,null,o),e.child.memoizedState=Pp(o),e.memoizedState=Ap,n);if(!(e.mode&1))return mc(t,e,o,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var a=s.dgst;return s=a,n=Error(q(419)),s=zd(n,s,void 0),mc(t,e,o,s)}if(a=(o&t.childLanes)!==0,Jt||a){if(s=vt,s!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|o)?0:r,r!==0&&r!==n.retryLane&&(n.retryLane=r,Gs(t,r),Ji(s,t,r,-1))}return sv(),s=zd(Error(q(421))),mc(t,e,o,s)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=A1.bind(null,t),r._reactRetry=e,null):(t=n.treeContext,ci=fr(r.nextSibling),hi=e,Ye=!0,ji=null,t!==null&&(Fi[Ai++]=ks,Fi[Ai++]=Ms,Fi[Ai++]=Cn,ks=t.id,Ms=t.overflow,Cn=e),e=Qm(e,s.children),e.flags|=4096,e)}function Py(t,e,i){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),wp(t.return,e,i)}function Vd(t,e,i,s,r){var n=t.memoizedState;n===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:r}:(n.isBackwards=e,n.rendering=null,n.renderingStartTime=0,n.last=s,n.tail=i,n.tailMode=r)}function GS(t,e,i){var s=e.pendingProps,r=s.revealOrder,n=s.tail;if(Wt(t,e,s.children,i),s=qe.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Py(t,i,e);else if(t.tag===19)Py(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(_e(qe,s),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(i=e.child,r=null;i!==null;)t=i.alternate,t!==null&&Iu(t)===null&&(r=i),i=i.sibling;i=r,i===null?(r=e.child,e.child=null):(r=i.sibling,i.sibling=null),Vd(e,!1,r,i,n);break;case"backwards":for(i=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Iu(t)===null){e.child=r;break}t=r.sibling,r.sibling=i,i=r,r=t}Vd(e,!0,i,null,n);break;case"together":Vd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $c(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Bs(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),wn|=e.lanes,!(i&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,i=yr(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=yr(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function p1(t,e,i){switch(e.tag){case 3:HS(e),xo();break;case 5:uS(e);break;case 1:ii(e.type)&&Eu(e);break;case 4:_m(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,r=e.memoizedProps.value;_e(Tu,s._currentValue),s._currentValue=r;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(_e(qe,qe.current&1),e.flags|=128,null):i&e.child.childLanes?NS(t,e,i):(_e(qe,qe.current&1),t=Bs(t,e,i),t!==null?t.sibling:null);_e(qe,qe.current&1);break;case 19:if(s=(i&e.childLanes)!==0,t.flags&128){if(s)return GS(t,e,i);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),_e(qe,qe.current),s)break;return null;case 22:case 23:return e.lanes=0,IS(t,e,i)}return Bs(t,e,i)}var BS,Ep,WS,zS;BS=function(t,e){for(var i=e.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Ep=function(){};WS=function(t,e,i,s){var r=t.memoizedProps;if(r!==s){t=e.stateNode,Qr(vs.current);var n=null;switch(i){case"input":r=qg(t,r),s=qg(t,s),n=[];break;case"select":r=et({},r,{value:void 0}),s=et({},s,{value:void 0}),n=[];break;case"textarea":r=Jg(t,r),s=Jg(t,s),n=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=Au)}tp(i,s);var o;i=null;for(c in r)if(!s.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(i||(i={}),i[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ya.hasOwnProperty(c)?n||(n=[]):(n=n||[]).push(c,null));for(c in s){var l=s[c];if(a=r!=null?r[c]:void 0,s.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(i||(i={}),i[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(i||(i={}),i[o]=l[o])}else i||(n||(n=[]),n.push(c,i)),i=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(n=n||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(n=n||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ya.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ue("scroll",t),n||a===l||(n=[])):(n=n||[]).push(c,l))}i&&(n=n||[]).push("style",i);var c=n;(e.updateQueue=c)&&(e.flags|=4)}};zS=function(t,e,i,s){i!==s&&(e.flags|=4)};function ga(t,e){if(!Ye)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,s=0;if(e)for(var r=t.child;r!==null;)i|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)i|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=s,t.childLanes=i,e}function f1(t,e,i){var s=e.pendingProps;switch(Hm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(e),null;case 1:return ii(e.type)&&Pu(),Tt(e),null;case 3:return s=e.stateNode,So(),je(ti),je(Ot),Xm(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(pc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ji!==null&&(Hp(ji),ji=null))),Ep(t,e),Tt(e),null;case 5:Um(e);var r=Qr(nl.current);if(i=e.type,t!==null&&e.stateNode!=null)WS(t,e,i,s,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(q(166));return Tt(e),null}if(t=Qr(vs.current),pc(e)){s=e.stateNode,i=e.type;var n=e.memoizedProps;switch(s[gs]=e,s[sl]=n,t=(e.mode&1)!==0,i){case"dialog":Ue("cancel",s),Ue("close",s);break;case"iframe":case"object":case"embed":Ue("load",s);break;case"video":case"audio":for(r=0;r<Aa.length;r++)Ue(Aa[r],s);break;case"source":Ue("error",s);break;case"img":case"image":case"link":Ue("error",s),Ue("load",s);break;case"details":Ue("toggle",s);break;case"input":HC(s,n),Ue("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!n.multiple},Ue("invalid",s);break;case"textarea":GC(s,n),Ue("invalid",s)}tp(i,n),r=null;for(var o in n)if(n.hasOwnProperty(o)){var a=n[o];o==="children"?typeof a=="string"?s.textContent!==a&&(n.suppressHydrationWarning!==!0&&gc(s.textContent,a,t),r=["children",a]):typeof a=="number"&&s.textContent!==""+a&&(n.suppressHydrationWarning!==!0&&gc(s.textContent,a,t),r=["children",""+a]):Ya.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ue("scroll",s)}switch(i){case"input":nc(s),NC(s,n,!0);break;case"textarea":nc(s),BC(s);break;case"select":case"option":break;default:typeof n.onClick=="function"&&(s.onclick=Au)}s=r,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=fb(i)),t==="http://www.w3.org/1999/xhtml"?i==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(i,{is:s.is}):(t=o.createElement(i),i==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,i),t[gs]=e,t[sl]=s,BS(t,e,!1,!1),e.stateNode=t;e:{switch(o=ip(i,s),i){case"dialog":Ue("cancel",t),Ue("close",t),r=s;break;case"iframe":case"object":case"embed":Ue("load",t),r=s;break;case"video":case"audio":for(r=0;r<Aa.length;r++)Ue(Aa[r],t);r=s;break;case"source":Ue("error",t),r=s;break;case"img":case"image":case"link":Ue("error",t),Ue("load",t),r=s;break;case"details":Ue("toggle",t),r=s;break;case"input":HC(t,s),r=qg(t,s),Ue("invalid",t);break;case"option":r=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},r=et({},s,{value:void 0}),Ue("invalid",t);break;case"textarea":GC(t,s),r=Jg(t,s),Ue("invalid",t);break;default:r=s}tp(i,r),a=r;for(n in a)if(a.hasOwnProperty(n)){var l=a[n];n==="style"?Cb(t,l):n==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&mb(t,l)):n==="children"?typeof l=="string"?(i!=="textarea"||l!=="")&&$a(t,l):typeof l=="number"&&$a(t,""+l):n!=="suppressContentEditableWarning"&&n!=="suppressHydrationWarning"&&n!=="autoFocus"&&(Ya.hasOwnProperty(n)?l!=null&&n==="onScroll"&&Ue("scroll",t):l!=null&&xm(t,n,l,o))}switch(i){case"input":nc(t),NC(t,s,!1);break;case"textarea":nc(t),BC(t);break;case"option":s.value!=null&&t.setAttribute("value",""+br(s.value));break;case"select":t.multiple=!!s.multiple,n=s.value,n!=null?lo(t,!!s.multiple,n,!1):s.defaultValue!=null&&lo(t,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Au)}switch(i){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Tt(e),null;case 6:if(t&&e.stateNode!=null)zS(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(q(166));if(i=Qr(nl.current),Qr(vs.current),pc(e)){if(s=e.stateNode,i=e.memoizedProps,s[gs]=e,(n=s.nodeValue!==i)&&(t=hi,t!==null))switch(t.tag){case 3:gc(s.nodeValue,i,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&gc(s.nodeValue,i,(t.mode&1)!==0)}n&&(e.flags|=4)}else s=(i.nodeType===9?i:i.ownerDocument).createTextNode(s),s[gs]=e,e.stateNode=s}return Tt(e),null;case 13:if(je(qe),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&ci!==null&&e.mode&1&&!(e.flags&128))nS(),xo(),e.flags|=98560,n=!1;else if(n=pc(e),s!==null&&s.dehydrated!==null){if(t===null){if(!n)throw Error(q(318));if(n=e.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(q(317));n[gs]=e}else xo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Tt(e),n=!1}else ji!==null&&(Hp(ji),ji=null),n=!0;if(!n)return e.flags&65536?e:null}return e.flags&128?(e.lanes=i,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||qe.current&1?gt===0&&(gt=3):sv())),e.updateQueue!==null&&(e.flags|=4),Tt(e),null);case 4:return So(),Ep(t,e),t===null&&tl(e.stateNode.containerInfo),Tt(e),null;case 10:return Wm(e.type._context),Tt(e),null;case 17:return ii(e.type)&&Pu(),Tt(e),null;case 19:if(je(qe),n=e.memoizedState,n===null)return Tt(e),null;if(s=(e.flags&128)!==0,o=n.rendering,o===null)if(s)ga(n,!1);else{if(gt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Iu(t),o!==null){for(e.flags|=128,ga(n,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=i,i=e.child;i!==null;)n=i,t=s,n.flags&=14680066,o=n.alternate,o===null?(n.childLanes=0,n.lanes=t,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,t=o.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),i=i.sibling;return _e(qe,qe.current&1|2),e.child}t=t.sibling}n.tail!==null&&ot()>Fo&&(e.flags|=128,s=!0,ga(n,!1),e.lanes=4194304)}else{if(!s)if(t=Iu(o),t!==null){if(e.flags|=128,s=!0,i=t.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),ga(n,!0),n.tail===null&&n.tailMode==="hidden"&&!o.alternate&&!Ye)return Tt(e),null}else 2*ot()-n.renderingStartTime>Fo&&i!==1073741824&&(e.flags|=128,s=!0,ga(n,!1),e.lanes=4194304);n.isBackwards?(o.sibling=e.child,e.child=o):(i=n.last,i!==null?i.sibling=o:e.child=o,n.last=o)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=ot(),e.sibling=null,i=qe.current,_e(qe,s?i&1|2:i&1),e):(Tt(e),null);case 22:case 23:return iv(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?li&1073741824&&(Tt(e),e.subtreeFlags&6&&(e.flags|=8192)):Tt(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function m1(t,e){switch(Hm(e),e.tag){case 1:return ii(e.type)&&Pu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return So(),je(ti),je(Ot),Xm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Um(e),null;case 13:if(je(qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));xo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return je(qe),null;case 4:return So(),null;case 10:return Wm(e.type._context),null;case 22:case 23:return iv(),null;case 24:return null;default:return null}}var vc=!1,Lt=!1,v1=typeof WeakSet=="function"?WeakSet:Set,se=null;function io(t,e){var i=t.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(s){tt(t,e,s)}else i.current=null}function kp(t,e,i){try{i()}catch(s){tt(t,e,s)}}var Ey=!1;function C1(t,e){if(dp=Su,t=jb(),Im(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var r=s.anchorOffset,n=s.focusNode;s=s.focusOffset;try{i.nodeType,n.nodeType}catch{i=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,d=null;t:for(;;){for(var g;h!==i||r!==0&&h.nodeType!==3||(a=o+r),h!==n||s!==0&&h.nodeType!==3||(l=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)d=h,h=g;for(;;){if(h===t)break t;if(d===i&&++c===r&&(a=o),d===n&&++u===s&&(l=o),(g=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=g}i=a===-1||l===-1?null:{start:a,end:l}}else i=null}i=i||{start:0,end:0}}else i=null;for(gp={focusedElem:t,selectionRange:i},Su=!1,se=e;se!==null;)if(e=se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,se=t;else for(;se!==null;){e=se;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var f=p.memoizedProps,C=p.memoizedState,m=e.stateNode,v=m.getSnapshotBeforeUpdate(e.elementType===e.type?f:Vi(e.type,f),C);m.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(w){tt(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}return p=Ey,Ey=!1,p}function Ha(t,e,i){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var n=r.destroy;r.destroy=void 0,n!==void 0&&kp(e,i,n)}r=r.next}while(r!==s)}}function Ph(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var i=e=e.next;do{if((i.tag&t)===t){var s=i.create;i.destroy=s()}i=i.next}while(i!==e)}}function Mp(t){var e=t.ref;if(e!==null){var i=t.stateNode;switch(t.tag){case 5:t=i;break;default:t=i}typeof e=="function"?e(t):e.current=t}}function VS(t){var e=t.alternate;e!==null&&(t.alternate=null,VS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[gs],delete e[sl],delete e[mp],delete e[e1],delete e[t1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _S(t){return t.tag===5||t.tag===3||t.tag===4}function ky(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_S(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Tp(t,e,i){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?i.nodeType===8?i.parentNode.insertBefore(t,e):i.insertBefore(t,e):(i.nodeType===8?(e=i.parentNode,e.insertBefore(t,i)):(e=i,e.appendChild(t)),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=Au));else if(s!==4&&(t=t.child,t!==null))for(Tp(t,e,i),t=t.sibling;t!==null;)Tp(t,e,i),t=t.sibling}function Dp(t,e,i){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(Dp(t,e,i),t=t.sibling;t!==null;)Dp(t,e,i),t=t.sibling}var wt=null,_i=!1;function Ks(t,e,i){for(i=i.child;i!==null;)US(t,e,i),i=i.sibling}function US(t,e,i){if(ms&&typeof ms.onCommitFiberUnmount=="function")try{ms.onCommitFiberUnmount(yh,i)}catch{}switch(i.tag){case 5:Lt||io(i,e);case 6:var s=wt,r=_i;wt=null,Ks(t,e,i),wt=s,_i=r,wt!==null&&(_i?(t=wt,i=i.stateNode,t.nodeType===8?t.parentNode.removeChild(i):t.removeChild(i)):wt.removeChild(i.stateNode));break;case 18:wt!==null&&(_i?(t=wt,i=i.stateNode,t.nodeType===8?Od(t.parentNode,i):t.nodeType===1&&Od(t,i),Za(t)):Od(wt,i.stateNode));break;case 4:s=wt,r=_i,wt=i.stateNode.containerInfo,_i=!0,Ks(t,e,i),wt=s,_i=r;break;case 0:case 11:case 14:case 15:if(!Lt&&(s=i.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var n=r,o=n.destroy;n=n.tag,o!==void 0&&(n&2||n&4)&&kp(i,e,o),r=r.next}while(r!==s)}Ks(t,e,i);break;case 1:if(!Lt&&(io(i,e),s=i.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=i.memoizedProps,s.state=i.memoizedState,s.componentWillUnmount()}catch(a){tt(i,e,a)}Ks(t,e,i);break;case 21:Ks(t,e,i);break;case 22:i.mode&1?(Lt=(s=Lt)||i.memoizedState!==null,Ks(t,e,i),Lt=s):Ks(t,e,i);break;default:Ks(t,e,i)}}function My(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var i=t.stateNode;i===null&&(i=t.stateNode=new v1),e.forEach(function(s){var r=P1.bind(null,t,s);i.has(s)||(i.add(s),s.then(r,r))})}}function Wi(t,e){var i=e.deletions;if(i!==null)for(var s=0;s<i.length;s++){var r=i[s];try{var n=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:wt=a.stateNode,_i=!1;break e;case 3:wt=a.stateNode.containerInfo,_i=!0;break e;case 4:wt=a.stateNode.containerInfo,_i=!0;break e}a=a.return}if(wt===null)throw Error(q(160));US(n,o,r),wt=null,_i=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){tt(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)XS(e,t),e=e.sibling}function XS(t,e){var i=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Wi(e,t),cs(t),s&4){try{Ha(3,t,t.return),Ph(3,t)}catch(f){tt(t,t.return,f)}try{Ha(5,t,t.return)}catch(f){tt(t,t.return,f)}}break;case 1:Wi(e,t),cs(t),s&512&&i!==null&&io(i,i.return);break;case 5:if(Wi(e,t),cs(t),s&512&&i!==null&&io(i,i.return),t.flags&32){var r=t.stateNode;try{$a(r,"")}catch(f){tt(t,t.return,f)}}if(s&4&&(r=t.stateNode,r!=null)){var n=t.memoizedProps,o=i!==null?i.memoizedProps:n,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&n.type==="radio"&&n.name!=null&&gb(r,n),ip(a,o);var c=ip(a,n);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?Cb(r,h):u==="dangerouslySetInnerHTML"?mb(r,h):u==="children"?$a(r,h):xm(r,u,h,c)}switch(a){case"input":Qg(r,n);break;case"textarea":pb(r,n);break;case"select":var d=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!n.multiple;var g=n.value;g!=null?lo(r,!!n.multiple,g,!1):d!==!!n.multiple&&(n.defaultValue!=null?lo(r,!!n.multiple,n.defaultValue,!0):lo(r,!!n.multiple,n.multiple?[]:"",!1))}r[sl]=n}catch(f){tt(t,t.return,f)}}break;case 6:if(Wi(e,t),cs(t),s&4){if(t.stateNode===null)throw Error(q(162));r=t.stateNode,n=t.memoizedProps;try{r.nodeValue=n}catch(f){tt(t,t.return,f)}}break;case 3:if(Wi(e,t),cs(t),s&4&&i!==null&&i.memoizedState.isDehydrated)try{Za(e.containerInfo)}catch(f){tt(t,t.return,f)}break;case 4:Wi(e,t),cs(t);break;case 13:Wi(e,t),cs(t),r=t.child,r.flags&8192&&(n=r.memoizedState!==null,r.stateNode.isHidden=n,!n||r.alternate!==null&&r.alternate.memoizedState!==null||(ev=ot())),s&4&&My(t);break;case 22:if(u=i!==null&&i.memoizedState!==null,t.mode&1?(Lt=(c=Lt)||u,Wi(e,t),Lt=c):Wi(e,t),cs(t),s&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(se=t,u=t.child;u!==null;){for(h=se=u;se!==null;){switch(d=se,g=d.child,d.tag){case 0:case 11:case 14:case 15:Ha(4,d,d.return);break;case 1:io(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){s=d,i=d.return;try{e=s,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(f){tt(s,i,f)}}break;case 5:io(d,d.return);break;case 22:if(d.memoizedState!==null){Dy(h);continue}}g!==null?(g.return=d,se=g):Dy(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{r=h.stateNode,c?(n=r.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=vb("display",o))}catch(f){tt(t,t.return,f)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(f){tt(t,t.return,f)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Wi(e,t),cs(t),s&4&&My(t);break;case 21:break;default:Wi(e,t),cs(t)}}function cs(t){var e=t.flags;if(e&2){try{e:{for(var i=t.return;i!==null;){if(_S(i)){var s=i;break e}i=i.return}throw Error(q(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&($a(r,""),s.flags&=-33);var n=ky(t);Dp(t,n,r);break;case 3:case 4:var o=s.stateNode.containerInfo,a=ky(t);Tp(t,a,o);break;default:throw Error(q(161))}}catch(l){tt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function y1(t,e,i){se=t,jS(t)}function jS(t,e,i){for(var s=(t.mode&1)!==0;se!==null;){var r=se,n=r.child;if(r.tag===22&&s){var o=r.memoizedState!==null||vc;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Lt;a=vc;var c=Lt;if(vc=o,(Lt=l)&&!c)for(se=r;se!==null;)o=se,l=o.child,o.tag===22&&o.memoizedState!==null?Ly(r):l!==null?(l.return=o,se=l):Ly(r);for(;n!==null;)se=n,jS(n),n=n.sibling;se=r,vc=a,Lt=c}Ty(t)}else r.subtreeFlags&8772&&n!==null?(n.return=r,se=n):Ty(t)}}function Ty(t){for(;se!==null;){var e=se;if(e.flags&8772){var i=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Lt||Ph(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!Lt)if(i===null)s.componentDidMount();else{var r=e.elementType===e.type?i.memoizedProps:Vi(e.type,i.memoizedProps);s.componentDidUpdate(r,i.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var n=e.updateQueue;n!==null&&fy(e,n,s);break;case 3:var o=e.updateQueue;if(o!==null){if(i=null,e.child!==null)switch(e.child.tag){case 5:i=e.child.stateNode;break;case 1:i=e.child.stateNode}fy(e,o,i)}break;case 5:var a=e.stateNode;if(i===null&&e.flags&4){i=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&i.focus();break;case"img":l.src&&(i.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Za(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Lt||e.flags&512&&Mp(e)}catch(d){tt(e,e.return,d)}}if(e===t){se=null;break}if(i=e.sibling,i!==null){i.return=e.return,se=i;break}se=e.return}}function Dy(t){for(;se!==null;){var e=se;if(e===t){se=null;break}var i=e.sibling;if(i!==null){i.return=e.return,se=i;break}se=e.return}}function Ly(t){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var i=e.return;try{Ph(4,e)}catch(l){tt(e,i,l)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var r=e.return;try{s.componentDidMount()}catch(l){tt(e,r,l)}}var n=e.return;try{Mp(e)}catch(l){tt(e,n,l)}break;case 5:var o=e.return;try{Mp(e)}catch(l){tt(e,o,l)}}}catch(l){tt(e,e.return,l)}if(e===t){se=null;break}var a=e.sibling;if(a!==null){a.return=e.return,se=a;break}se=e.return}}var w1=Math.ceil,Nu=Vs.ReactCurrentDispatcher,Zm=Vs.ReactCurrentOwner,Mi=Vs.ReactCurrentBatchConfig,Pe=0,vt=null,ct=null,Rt=0,li=0,so=Tr(0),gt=0,cl=null,wn=0,Eh=0,Jm=0,Na=null,Zt=null,ev=0,Fo=1/0,As=null,Gu=!1,Lp=null,vr=null,Cc=!1,lr=null,Bu=0,Ga=0,Ip=null,Kc=-1,qc=0;function jt(){return Pe&6?ot():Kc!==-1?Kc:Kc=ot()}function Cr(t){return t.mode&1?Pe&2&&Rt!==0?Rt&-Rt:s1.transition!==null?(qc===0&&(qc=Mb()),qc):(t=Oe,t!==0||(t=window.event,t=t===void 0?16:Nb(t.type)),t):1}function Ji(t,e,i,s){if(50<Ga)throw Ga=0,Ip=null,Error(q(185));Ll(t,i,s),(!(Pe&2)||t!==vt)&&(t===vt&&(!(Pe&2)&&(Eh|=i),gt===4&&nr(t,Rt)),si(t,s),i===1&&Pe===0&&!(e.mode&1)&&(Fo=ot()+500,Rh&&Dr()))}function si(t,e){var i=t.callbackNode;sk(t,e);var s=bu(t,t===vt?Rt:0);if(s===0)i!==null&&VC(i),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(i!=null&&VC(i),e===1)t.tag===0?i1(Iy.bind(null,t)):iS(Iy.bind(null,t)),Zk(function(){!(Pe&6)&&Dr()}),i=null;else{switch(Tb(s)){case 1:i=Am;break;case 4:i=Eb;break;case 16:i=xu;break;case 536870912:i=kb;break;default:i=xu}i=e0(i,YS.bind(null,t))}t.callbackPriority=e,t.callbackNode=i}}function YS(t,e){if(Kc=-1,qc=0,Pe&6)throw Error(q(327));var i=t.callbackNode;if(po()&&t.callbackNode!==i)return null;var s=bu(t,t===vt?Rt:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=Wu(t,s);else{e=s;var r=Pe;Pe|=2;var n=KS();(vt!==t||Rt!==e)&&(As=null,Fo=ot()+500,nn(t,e));do try{S1();break}catch(a){$S(t,a)}while(!0);Bm(),Nu.current=n,Pe=r,ct!==null?e=0:(vt=null,Rt=0,e=gt)}if(e!==0){if(e===2&&(r=ap(t),r!==0&&(s=r,e=Op(t,r))),e===1)throw i=cl,nn(t,0),nr(t,s),si(t,ot()),i;if(e===6)nr(t,s);else{if(r=t.current.alternate,!(s&30)&&!x1(r)&&(e=Wu(t,s),e===2&&(n=ap(t),n!==0&&(s=n,e=Op(t,n))),e===1))throw i=cl,nn(t,0),nr(t,s),si(t,ot()),i;switch(t.finishedWork=r,t.finishedLanes=s,e){case 0:case 1:throw Error(q(345));case 2:Br(t,Zt,As);break;case 3:if(nr(t,s),(s&130023424)===s&&(e=ev+500-ot(),10<e)){if(bu(t,0)!==0)break;if(r=t.suspendedLanes,(r&s)!==s){jt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=fp(Br.bind(null,t,Zt,As),e);break}Br(t,Zt,As);break;case 4:if(nr(t,s),(s&4194240)===s)break;for(e=t.eventTimes,r=-1;0<s;){var o=31-Zi(s);n=1<<o,o=e[o],o>r&&(r=o),s&=~n}if(s=r,s=ot()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*w1(s/1960))-s,10<s){t.timeoutHandle=fp(Br.bind(null,t,Zt,As),s);break}Br(t,Zt,As);break;case 5:Br(t,Zt,As);break;default:throw Error(q(329))}}}return si(t,ot()),t.callbackNode===i?YS.bind(null,t):null}function Op(t,e){var i=Na;return t.current.memoizedState.isDehydrated&&(nn(t,e).flags|=256),t=Wu(t,e),t!==2&&(e=Zt,Zt=i,e!==null&&Hp(e)),t}function Hp(t){Zt===null?Zt=t:Zt.push.apply(Zt,t)}function x1(t){for(var e=t;;){if(e.flags&16384){var i=e.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var s=0;s<i.length;s++){var r=i[s],n=r.getSnapshot;r=r.value;try{if(!rs(n(),r))return!1}catch{return!1}}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function nr(t,e){for(e&=~Jm,e&=~Eh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var i=31-Zi(e),s=1<<i;t[i]=-1,e&=~s}}function Iy(t){if(Pe&6)throw Error(q(327));po();var e=bu(t,0);if(!(e&1))return si(t,ot()),null;var i=Wu(t,e);if(t.tag!==0&&i===2){var s=ap(t);s!==0&&(e=s,i=Op(t,s))}if(i===1)throw i=cl,nn(t,0),nr(t,e),si(t,ot()),i;if(i===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Br(t,Zt,As),si(t,ot()),null}function tv(t,e){var i=Pe;Pe|=1;try{return t(e)}finally{Pe=i,Pe===0&&(Fo=ot()+500,Rh&&Dr())}}function xn(t){lr!==null&&lr.tag===0&&!(Pe&6)&&po();var e=Pe;Pe|=1;var i=Mi.transition,s=Oe;try{if(Mi.transition=null,Oe=1,t)return t()}finally{Oe=s,Mi.transition=i,Pe=e,!(Pe&6)&&Dr()}}function iv(){li=so.current,je(so)}function nn(t,e){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;if(i!==-1&&(t.timeoutHandle=-1,Qk(i)),ct!==null)for(i=ct.return;i!==null;){var s=i;switch(Hm(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Pu();break;case 3:So(),je(ti),je(Ot),Xm();break;case 5:Um(s);break;case 4:So();break;case 13:je(qe);break;case 19:je(qe);break;case 10:Wm(s.type._context);break;case 22:case 23:iv()}i=i.return}if(vt=t,ct=t=yr(t.current,null),Rt=li=e,gt=0,cl=null,Jm=Eh=wn=0,Zt=Na=null,qr!==null){for(e=0;e<qr.length;e++)if(i=qr[e],s=i.interleaved,s!==null){i.interleaved=null;var r=s.next,n=i.pending;if(n!==null){var o=n.next;n.next=r,s.next=o}i.pending=s}qr=null}return t}function $S(t,e){do{var i=ct;try{if(Bm(),jc.current=Hu,Ou){for(var s=Je.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Ou=!1}if(yn=0,mt=dt=Je=null,Oa=!1,ol=0,Zm.current=null,i===null||i.return===null){gt=1,cl=e,ct=null;break}e:{var n=t,o=i.return,a=i,l=e;if(e=Rt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=xy(o);if(g!==null){g.flags&=-257,by(g,o,a,n,e),g.mode&1&&wy(n,c,e),e=g,l=c;var p=e.updateQueue;if(p===null){var f=new Set;f.add(l),e.updateQueue=f}else p.add(l);break e}else{if(!(e&1)){wy(n,c,e),sv();break e}l=Error(q(426))}}else if(Ye&&a.mode&1){var C=xy(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),by(C,o,a,n,e),Nm(Ro(l,a));break e}}n=l=Ro(l,a),gt!==4&&(gt=2),Na===null?Na=[n]:Na.push(n),n=o;do{switch(n.tag){case 3:n.flags|=65536,e&=-e,n.lanes|=e;var m=TS(n,l,e);py(n,m);break e;case 1:a=l;var v=n.type,y=n.stateNode;if(!(n.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(vr===null||!vr.has(y)))){n.flags|=65536,e&=-e,n.lanes|=e;var w=DS(n,a,e);py(n,w);break e}}n=n.return}while(n!==null)}QS(i)}catch(x){e=x,ct===i&&i!==null&&(ct=i=i.return);continue}break}while(!0)}function KS(){var t=Nu.current;return Nu.current=Hu,t===null?Hu:t}function sv(){(gt===0||gt===3||gt===2)&&(gt=4),vt===null||!(wn&268435455)&&!(Eh&268435455)||nr(vt,Rt)}function Wu(t,e){var i=Pe;Pe|=2;var s=KS();(vt!==t||Rt!==e)&&(As=null,nn(t,e));do try{b1();break}catch(r){$S(t,r)}while(!0);if(Bm(),Pe=i,Nu.current=s,ct!==null)throw Error(q(261));return vt=null,Rt=0,gt}function b1(){for(;ct!==null;)qS(ct)}function S1(){for(;ct!==null&&!$E();)qS(ct)}function qS(t){var e=JS(t.alternate,t,li);t.memoizedProps=t.pendingProps,e===null?QS(t):ct=e,Zm.current=null}function QS(t){var e=t;do{var i=e.alternate;if(t=e.return,e.flags&32768){if(i=m1(i,e),i!==null){i.flags&=32767,ct=i;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{gt=6,ct=null;return}}else if(i=f1(i,e,li),i!==null){ct=i;return}if(e=e.sibling,e!==null){ct=e;return}ct=e=t}while(e!==null);gt===0&&(gt=5)}function Br(t,e,i){var s=Oe,r=Mi.transition;try{Mi.transition=null,Oe=1,R1(t,e,i,s)}finally{Mi.transition=r,Oe=s}return null}function R1(t,e,i,s){do po();while(lr!==null);if(Pe&6)throw Error(q(327));i=t.finishedWork;var r=t.finishedLanes;if(i===null)return null;if(t.finishedWork=null,t.finishedLanes=0,i===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var n=i.lanes|i.childLanes;if(rk(t,n),t===vt&&(ct=vt=null,Rt=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||Cc||(Cc=!0,e0(xu,function(){return po(),null})),n=(i.flags&15990)!==0,i.subtreeFlags&15990||n){n=Mi.transition,Mi.transition=null;var o=Oe;Oe=1;var a=Pe;Pe|=4,Zm.current=null,C1(t,i),XS(i,t),Uk(gp),Su=!!dp,gp=dp=null,t.current=i,y1(i),KE(),Pe=a,Oe=o,Mi.transition=n}else t.current=i;if(Cc&&(Cc=!1,lr=t,Bu=r),n=t.pendingLanes,n===0&&(vr=null),ZE(i.stateNode),si(t,ot()),e!==null)for(s=t.onRecoverableError,i=0;i<e.length;i++)r=e[i],s(r.value,{componentStack:r.stack,digest:r.digest});if(Gu)throw Gu=!1,t=Lp,Lp=null,t;return Bu&1&&t.tag!==0&&po(),n=t.pendingLanes,n&1?t===Ip?Ga++:(Ga=0,Ip=t):Ga=0,Dr(),null}function po(){if(lr!==null){var t=Tb(Bu),e=Mi.transition,i=Oe;try{if(Mi.transition=null,Oe=16>t?16:t,lr===null)var s=!1;else{if(t=lr,lr=null,Bu=0,Pe&6)throw Error(q(331));var r=Pe;for(Pe|=4,se=t.current;se!==null;){var n=se,o=n.child;if(se.flags&16){var a=n.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(se=c;se!==null;){var u=se;switch(u.tag){case 0:case 11:case 15:Ha(8,u,n)}var h=u.child;if(h!==null)h.return=u,se=h;else for(;se!==null;){u=se;var d=u.sibling,g=u.return;if(VS(u),u===c){se=null;break}if(d!==null){d.return=g,se=d;break}se=g}}}var p=n.alternate;if(p!==null){var f=p.child;if(f!==null){p.child=null;do{var C=f.sibling;f.sibling=null,f=C}while(f!==null)}}se=n}}if(n.subtreeFlags&2064&&o!==null)o.return=n,se=o;else e:for(;se!==null;){if(n=se,n.flags&2048)switch(n.tag){case 0:case 11:case 15:Ha(9,n,n.return)}var m=n.sibling;if(m!==null){m.return=n.return,se=m;break e}se=n.return}}var v=t.current;for(se=v;se!==null;){o=se;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,se=y;else e:for(o=v;se!==null;){if(a=se,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ph(9,a)}}catch(x){tt(a,a.return,x)}if(a===o){se=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,se=w;break e}se=a.return}}if(Pe=r,Dr(),ms&&typeof ms.onPostCommitFiberRoot=="function")try{ms.onPostCommitFiberRoot(yh,t)}catch{}s=!0}return s}finally{Oe=i,Mi.transition=e}}return!1}function Oy(t,e,i){e=Ro(i,e),e=TS(t,e,1),t=mr(t,e,1),e=jt(),t!==null&&(Ll(t,1,e),si(t,e))}function tt(t,e,i){if(t.tag===3)Oy(t,t,i);else for(;e!==null;){if(e.tag===3){Oy(e,t,i);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(vr===null||!vr.has(s))){t=Ro(i,t),t=DS(e,t,1),e=mr(e,t,1),t=jt(),e!==null&&(Ll(e,1,t),si(e,t));break}}e=e.return}}function F1(t,e,i){var s=t.pingCache;s!==null&&s.delete(e),e=jt(),t.pingedLanes|=t.suspendedLanes&i,vt===t&&(Rt&i)===i&&(gt===4||gt===3&&(Rt&130023424)===Rt&&500>ot()-ev?nn(t,0):Jm|=i),si(t,e)}function ZS(t,e){e===0&&(t.mode&1?(e=lc,lc<<=1,!(lc&130023424)&&(lc=4194304)):e=1);var i=jt();t=Gs(t,e),t!==null&&(Ll(t,e,i),si(t,i))}function A1(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),ZS(t,i)}function P1(t,e){var i=0;switch(t.tag){case 13:var s=t.stateNode,r=t.memoizedState;r!==null&&(i=r.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(q(314))}s!==null&&s.delete(e),ZS(t,i)}var JS;JS=function(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps||ti.current)Jt=!0;else{if(!(t.lanes&i)&&!(e.flags&128))return Jt=!1,p1(t,e,i);Jt=!!(t.flags&131072)}else Jt=!1,Ye&&e.flags&1048576&&sS(e,Mu,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;$c(t,e),t=e.pendingProps;var r=wo(e,Ot.current);go(e,i),r=Ym(null,e,s,t,r,i);var n=$m();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ii(s)?(n=!0,Eu(e)):n=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Vm(e),r.updater=Ah,e.stateNode=r,r._reactInternals=e,bp(e,s,t,i),e=Fp(null,e,s,!0,n,i)):(e.tag=0,Ye&&n&&Om(e),Wt(null,e,r,i),e=e.child),e;case 16:s=e.elementType;e:{switch($c(t,e),t=e.pendingProps,r=s._init,s=r(s._payload),e.type=s,r=e.tag=k1(s),t=Vi(s,t),r){case 0:e=Rp(null,e,s,t,i);break e;case 1:e=Fy(null,e,s,t,i);break e;case 11:e=Sy(null,e,s,t,i);break e;case 14:e=Ry(null,e,s,Vi(s.type,t),i);break e}throw Error(q(306,s,""))}return e;case 0:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Vi(s,r),Rp(t,e,s,r,i);case 1:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Vi(s,r),Fy(t,e,s,r,i);case 3:e:{if(HS(e),t===null)throw Error(q(387));s=e.pendingProps,n=e.memoizedState,r=n.element,cS(t,e),Lu(e,s,null,i);var o=e.memoizedState;if(s=o.element,n.isDehydrated)if(n={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=n,e.memoizedState=n,e.flags&256){r=Ro(Error(q(423)),e),e=Ay(t,e,s,i,r);break e}else if(s!==r){r=Ro(Error(q(424)),e),e=Ay(t,e,s,i,r);break e}else for(ci=fr(e.stateNode.containerInfo.firstChild),hi=e,Ye=!0,ji=null,i=aS(e,null,s,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(xo(),s===r){e=Bs(t,e,i);break e}Wt(t,e,s,i)}e=e.child}return e;case 5:return uS(e),t===null&&yp(e),s=e.type,r=e.pendingProps,n=t!==null?t.memoizedProps:null,o=r.children,pp(s,r)?o=null:n!==null&&pp(s,n)&&(e.flags|=32),OS(t,e),Wt(t,e,o,i),e.child;case 6:return t===null&&yp(e),null;case 13:return NS(t,e,i);case 4:return _m(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=bo(e,null,s,i):Wt(t,e,s,i),e.child;case 11:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Vi(s,r),Sy(t,e,s,r,i);case 7:return Wt(t,e,e.pendingProps,i),e.child;case 8:return Wt(t,e,e.pendingProps.children,i),e.child;case 12:return Wt(t,e,e.pendingProps.children,i),e.child;case 10:e:{if(s=e.type._context,r=e.pendingProps,n=e.memoizedProps,o=r.value,_e(Tu,s._currentValue),s._currentValue=o,n!==null)if(rs(n.value,o)){if(n.children===r.children&&!ti.current){e=Bs(t,e,i);break e}}else for(n=e.child,n!==null&&(n.return=e);n!==null;){var a=n.dependencies;if(a!==null){o=n.child;for(var l=a.firstContext;l!==null;){if(l.context===s){if(n.tag===1){l=Ds(-1,i&-i),l.tag=2;var c=n.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}n.lanes|=i,l=n.alternate,l!==null&&(l.lanes|=i),wp(n.return,i,e),a.lanes|=i;break}l=l.next}}else if(n.tag===10)o=n.type===e.type?null:n.child;else if(n.tag===18){if(o=n.return,o===null)throw Error(q(341));o.lanes|=i,a=o.alternate,a!==null&&(a.lanes|=i),wp(o,i,e),o=n.sibling}else o=n.child;if(o!==null)o.return=n;else for(o=n;o!==null;){if(o===e){o=null;break}if(n=o.sibling,n!==null){n.return=o.return,o=n;break}o=o.return}n=o}Wt(t,e,r.children,i),e=e.child}return e;case 9:return r=e.type,s=e.pendingProps.children,go(e,i),r=Oi(r),s=s(r),e.flags|=1,Wt(t,e,s,i),e.child;case 14:return s=e.type,r=Vi(s,e.pendingProps),r=Vi(s.type,r),Ry(t,e,s,r,i);case 15:return LS(t,e,e.type,e.pendingProps,i);case 17:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Vi(s,r),$c(t,e),e.tag=1,ii(s)?(t=!0,Eu(e)):t=!1,go(e,i),MS(e,s,r),bp(e,s,r,i),Fp(null,e,s,!0,t,i);case 19:return GS(t,e,i);case 22:return IS(t,e,i)}throw Error(q(156,e.tag))};function e0(t,e){return Pb(t,e)}function E1(t,e,i,s){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pi(t,e,i,s){return new E1(t,e,i,s)}function rv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function k1(t){if(typeof t=="function")return rv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Sm)return 11;if(t===Rm)return 14}return 2}function yr(t,e){var i=t.alternate;return i===null?(i=Pi(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&14680064,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function Qc(t,e,i,s,r,n){var o=2;if(s=t,typeof t=="function")rv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Yn:return on(i.children,r,n,e);case bm:o=8,r|=8;break;case jg:return t=Pi(12,i,e,r|2),t.elementType=jg,t.lanes=n,t;case Yg:return t=Pi(13,i,e,r),t.elementType=Yg,t.lanes=n,t;case $g:return t=Pi(19,i,e,r),t.elementType=$g,t.lanes=n,t;case ub:return kh(i,r,n,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case lb:o=10;break e;case cb:o=9;break e;case Sm:o=11;break e;case Rm:o=14;break e;case tr:o=16,s=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=Pi(o,i,e,r),e.elementType=t,e.type=s,e.lanes=n,e}function on(t,e,i,s){return t=Pi(7,t,s,e),t.lanes=i,t}function kh(t,e,i,s){return t=Pi(22,t,s,e),t.elementType=ub,t.lanes=i,t.stateNode={isHidden:!1},t}function _d(t,e,i){return t=Pi(6,t,null,e),t.lanes=i,t}function Ud(t,e,i){return e=Pi(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function M1(t,e,i,s,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rd(0),this.expirationTimes=Rd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rd(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function nv(t,e,i,s,r,n,o,a,l){return t=new M1(t,e,i,a,l),e===1?(e=1,n===!0&&(e|=8)):e=0,n=Pi(3,null,null,e),t.current=n,n.stateNode=t,n.memoizedState={element:s,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vm(n),t}function T1(t,e,i){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jn,key:s==null?null:""+s,children:t,containerInfo:e,implementation:i}}function t0(t){if(!t)return Sr;t=t._reactInternals;e:{if(Tn(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ii(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var i=t.type;if(ii(i))return tS(t,i,e)}return e}function i0(t,e,i,s,r,n,o,a,l){return t=nv(i,s,!0,t,r,n,o,a,l),t.context=t0(null),i=t.current,s=jt(),r=Cr(i),n=Ds(s,r),n.callback=e??null,mr(i,n,r),t.current.lanes=r,Ll(t,r,s),si(t,s),t}function Mh(t,e,i,s){var r=e.current,n=jt(),o=Cr(r);return i=t0(i),e.context===null?e.context=i:e.pendingContext=i,e=Ds(n,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=mr(r,e,o),t!==null&&(Ji(t,r,o,n),Xc(t,r,o)),o}function zu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Hy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function ov(t,e){Hy(t,e),(t=t.alternate)&&Hy(t,e)}function D1(){return null}var s0=typeof reportError=="function"?reportError:function(t){console.error(t)};function av(t){this._internalRoot=t}Th.prototype.render=av.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));Mh(t,e,null,null)};Th.prototype.unmount=av.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;xn(function(){Mh(null,t,null,null)}),e[Ns]=null}};function Th(t){this._internalRoot=t}Th.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ib();t={blockedOn:null,target:t,priority:e};for(var i=0;i<rr.length&&e!==0&&e<rr[i].priority;i++);rr.splice(i,0,t),i===0&&Hb(t)}};function lv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Dh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ny(){}function L1(t,e,i,s,r){if(r){if(typeof s=="function"){var n=s;s=function(){var c=zu(o);n.call(c)}}var o=i0(e,s,t,0,null,!1,!1,"",Ny);return t._reactRootContainer=o,t[Ns]=o.current,tl(t.nodeType===8?t.parentNode:t),xn(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof s=="function"){var a=s;s=function(){var c=zu(l);a.call(c)}}var l=nv(t,0,!1,null,null,!1,!1,"",Ny);return t._reactRootContainer=l,t[Ns]=l.current,tl(t.nodeType===8?t.parentNode:t),xn(function(){Mh(e,l,i,s)}),l}function Lh(t,e,i,s,r){var n=i._reactRootContainer;if(n){var o=n;if(typeof r=="function"){var a=r;r=function(){var l=zu(o);a.call(l)}}Mh(e,o,t,r)}else o=L1(i,e,t,r,s);return zu(o)}Db=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var i=Fa(e.pendingLanes);i!==0&&(Pm(e,i|1),si(e,ot()),!(Pe&6)&&(Fo=ot()+500,Dr()))}break;case 13:xn(function(){var s=Gs(t,1);if(s!==null){var r=jt();Ji(s,t,1,r)}}),ov(t,1)}};Em=function(t){if(t.tag===13){var e=Gs(t,134217728);if(e!==null){var i=jt();Ji(e,t,134217728,i)}ov(t,134217728)}};Lb=function(t){if(t.tag===13){var e=Cr(t),i=Gs(t,e);if(i!==null){var s=jt();Ji(i,t,e,s)}ov(t,e)}};Ib=function(){return Oe};Ob=function(t,e){var i=Oe;try{return Oe=t,e()}finally{Oe=i}};rp=function(t,e,i){switch(e){case"input":if(Qg(t,i),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<i.length;e++){var s=i[e];if(s!==t&&s.form===t.form){var r=Sh(s);if(!r)throw Error(q(90));db(s),Qg(s,r)}}}break;case"textarea":pb(t,i);break;case"select":e=i.value,e!=null&&lo(t,!!i.multiple,e,!1)}};xb=tv;bb=xn;var I1={usingClientEntryPoint:!1,Events:[Ol,Qn,Sh,yb,wb,tv]},pa={findFiberByHostInstance:Kr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},O1={bundleType:pa.bundleType,version:pa.version,rendererPackageName:pa.rendererPackageName,rendererConfig:pa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Fb(t),t===null?null:t.stateNode},findFiberByHostInstance:pa.findFiberByHostInstance||D1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{yh=yc.inject(O1),ms=yc}catch{}}vi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I1;vi.createPortal=function(t,e){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lv(e))throw Error(q(200));return T1(t,e,null,i)};vi.createRoot=function(t,e){if(!lv(t))throw Error(q(299));var i=!1,s="",r=s0;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=nv(t,1,!1,null,null,i,!1,s,r),t[Ns]=e.current,tl(t.nodeType===8?t.parentNode:t),new av(e)};vi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=Fb(e),t=t===null?null:t.stateNode,t};vi.flushSync=function(t){return xn(t)};vi.hydrate=function(t,e,i){if(!Dh(e))throw Error(q(200));return Lh(null,t,e,!0,i)};vi.hydrateRoot=function(t,e,i){if(!lv(t))throw Error(q(405));var s=i!=null&&i.hydratedSources||null,r=!1,n="",o=s0;if(i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(n=i.identifierPrefix),i.onRecoverableError!==void 0&&(o=i.onRecoverableError)),e=i0(e,null,t,1,i??null,r,!1,n,o),t[Ns]=e.current,tl(t),s)for(t=0;t<s.length;t++)i=s[t],r=i._getVersion,r=r(i._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[i,r]:e.mutableSourceEagerHydrationData.push(i,r);return new Th(e)};vi.render=function(t,e,i){if(!Dh(e))throw Error(q(200));return Lh(null,t,e,!1,i)};vi.unmountComponentAtNode=function(t){if(!Dh(t))throw Error(q(40));return t._reactRootContainer?(xn(function(){Lh(null,null,t,!1,function(){t._reactRootContainer=null,t[Ns]=null})}),!0):!1};vi.unstable_batchedUpdates=tv;vi.unstable_renderSubtreeIntoContainer=function(t,e,i,s){if(!Dh(i))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return Lh(t,e,i,!1,s)};vi.version="18.3.1-next-f1338f8080-20240426";function r0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r0)}catch(t){console.error(t)}}r0(),rb.exports=vi;var Nl=rb.exports;const Vu=vh(Nl),H1=jx({__proto__:null,default:Vu},[Nl]);var n0,Gy=Nl;n0=Gy.createRoot,Gy.hydrateRoot;var Vo=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(t){this.frameworkOverrides=t}getListeners(t,e,i){const s=e?this.allAsyncListeners:this.allSyncListeners;let r=s.get(t);return!r&&i&&(r=new Set,s.set(t,r)),r}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(t,e,i=!1){this.getListeners(t,i,!0).add(e)}removeEventListener(t,e,i=!1){const s=this.getListeners(t,i,!1);s&&(s.delete(e),s.size===0&&(i?this.allAsyncListeners:this.allSyncListeners).delete(t))}addGlobalListener(t,e=!1){(e?this.globalAsyncListeners:this.globalSyncListeners).add(t)}removeGlobalListener(t,e=!1){(e?this.globalAsyncListeners:this.globalSyncListeners).delete(t)}dispatchEvent(t){const e=t;this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0}dispatchEventOnce(t){this.firedEvents[t.type]||this.dispatchEvent(t)}dispatchToListeners(t,e){const i=t.type;if(e&&"event"in t){const a=t.event;a instanceof Event&&(t.eventPath=a.composedPath())}const s=(a,l)=>a.forEach(c=>{if(!l.has(c))return;const u=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>c(t)):()=>c(t);e?this.dispatchAsync(u):u()}),r=this.getListeners(i,e,!1)??new Set,n=new Set(r);n.size>0&&s(n,r),new Set(e?this.globalAsyncListeners:this.globalSyncListeners).forEach(a=>{const l=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>a(i,t)):()=>a(i,t);e?this.dispatchAsync(l):l()})}dispatchAsync(t){if(this.asyncFunctionsQueue.push(t),!this.scheduled){const e=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(e):e(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const t=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],t.forEach(e=>e())}},o0=(t=>(t.CommunityCoreModule="@ag-grid-community/core",t.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",t.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",t.CsvExportModule="@ag-grid-community/csv-export",t.EnterpriseCoreModule="@ag-grid-enterprise/core",t.RowGroupingModule="@ag-grid-enterprise/row-grouping",t.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",t.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",t.MenuModule="@ag-grid-enterprise/menu",t.SetFilterModule="@ag-grid-enterprise/set-filter",t.MultiFilterModule="@ag-grid-enterprise/multi-filter",t.StatusBarModule="@ag-grid-enterprise/status-bar",t.SideBarModule="@ag-grid-enterprise/side-bar",t.RangeSelectionModule="@ag-grid-enterprise/range-selection",t.MasterDetailModule="@ag-grid-enterprise/master-detail",t.RichSelectModule="@ag-grid-enterprise/rich-select",t.GridChartsModule="@ag-grid-enterprise/charts",t.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",t.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",t.ExcelExportModule="@ag-grid-enterprise/excel-export",t.ClipboardModule="@ag-grid-enterprise/clipboard",t.SparklinesModule="@ag-grid-enterprise/sparklines",t.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",t.AngularModule="@ag-grid-community/angular",t.ReactModule="@ag-grid-community/react",t.VueModule="@ag-grid-community/vue",t))(o0||{}),By={};function cv(t,e){By[e]||(t(),By[e]=!0)}function $i(t,...e){console.log("AG Grid: "+t,...e)}function _(t,...e){cv(()=>console.warn("AG Grid: "+t,...e),t+(e==null?void 0:e.join("")))}function ke(t,...e){cv(()=>console.error("AG Grid: "+t,...e),t+(e==null?void 0:e.join("")))}function uv(t){return!!(t&&t.constructor&&t.call&&t.apply)}function N1(t){G1(t,400)}var Xd=[],jd=!1;function Wy(t){Xd.push(t),!jd&&(jd=!0,window.setTimeout(()=>{const e=Xd.slice();Xd.length=0,jd=!1,e.forEach(i=>i())},0))}function G1(t,e=0){t.length>0&&window.setTimeout(()=>t.forEach(i=>i()),e)}function Ut(t,e){let i;return function(...s){const r=this;window.clearTimeout(i),i=window.setTimeout(function(){t.apply(r,s)},e)}}function zy(t,e){let i=0;return function(...s){const r=this,n=new Date().getTime();n-i<e||(i=n,t.apply(r,s))}}function B1(t,e,i=100,s){const r=new Date().getTime();let n=null,o=!1;const a=()=>{const l=new Date().getTime()-r>i;(t()||l)&&(e(),o=!0,n!=null&&(window.clearInterval(n),n=null),l&&s&&_(s))};a(),o||(n=window.setInterval(a,10))}function W1(...t){return e=>t.reduce((i,s)=>s(i),e)}function Ls(t){return t==null||t===""?null:t}function K(t,e=!1){return t!=null&&(t!==""||e)}function be(t){return!K(t)}function di(t){return t==null||t.length===0}function Np(t){return t!=null&&typeof t.toString=="function"?t.toString():null}function an(t){if(t===void 0)return;if(t===null||t==="")return null;if(typeof t=="number")return isNaN(t)?void 0:t;const e=parseInt(t,10);return isNaN(e)?void 0:e}function Gp(t){if(t!==void 0)return t===null||t===""?!1:Bp(t)}function Bp(t){return typeof t=="boolean"?t:typeof t=="string"?t.toUpperCase()==="TRUE"||t=="":!1}function ul(t,e){const i=t?JSON.stringify(t):null,s=e?JSON.stringify(e):null;return i===s}function z1(t,e,i=!1){const s=t==null,r=e==null;if(t&&t.toNumber&&(t=t.toNumber()),e&&e.toNumber&&(e=e.toNumber()),s&&r)return 0;if(s)return-1;if(r)return 1;function n(o,a){return o>a?1:o<a?-1:0}if(typeof t!="string"||!i)return n(t,e);try{return t.localeCompare(e)}catch{return n(t,e)}}function Zc(t){if(t instanceof Set||t instanceof Map){const e=[];return t.forEach(i=>e.push(i)),e}return Object.values(t)}function a0(t,e){return t.get("rowModelType")===e}function Xe(t){return a0(t,"clientSide")}function xs(t){return a0(t,"serverSide")}function Ft(t,e){return t.get("domLayout")===e}function _u(t){return ju(t)!==void 0}function Uu(t){return!t.get("suppressAsyncEvents")}function l0(t){return typeof t.get("getRowHeight")=="function"}function V1(t,e){return e?!t.get("enableStrictPivotColumnOrder"):t.get("maintainColumnOrder")}function Rr(t,e,i=!1,s){if(s==null&&(s=t.environment.getDefaultRowHeight()),l0(t)){if(i)return{height:s,estimated:!0};const o={node:e,data:e.data},a=t.getCallback("getRowHeight")(o);if(Wp(a))return a===0&&_("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,a),estimated:!1}}if(e.detail&&t.get("masterDetail"))return _1(t);const r=t.get("rowHeight");return{height:r&&Wp(r)?r:s,estimated:!1}}function _1(t){if(t.get("detailRowAutoHeight"))return{height:1,estimated:!1};const e=t.get("detailRowHeight");return Wp(e)?{height:e,estimated:!1}:{height:300,estimated:!1}}function ln(t){const{environment:e}=t,i=t.get("rowHeight");if(!i||be(i))return e.getDefaultRowHeight();const s=e.refreshRowHeightVariable();return s!==-1?s:(_("row height must be a number if not using standard row model"),e.getDefaultRowHeight())}function Wp(t){return!isNaN(t)&&typeof t=="number"&&isFinite(t)}function hl(t,e,i){const s=e[t.getDomDataKey()];return s?s[i]:void 0}function bn(t,e,i,s){const r=t.getDomDataKey();let n=e[r];be(n)&&(n={},e[r]=n),n[i]=s}function st(t){let e=null;const i=t.get("getDocument");return i&&K(i)?e=i():t.eGridDiv&&(e=t.eGridDiv.ownerDocument),e&&K(e)?e:document}function c0(t){return st(t).defaultView||window}function dl(t){return t.eGridDiv.getRootNode()}function Ze(t){return dl(t).activeElement}function u0(t){const e=st(t),i=Ze(t);return i===null||i===e.body}function fo(t){return t.get("ensureDomOrder")?!1:t.get("animateRows")}function Ih(t){return!(t.get("paginateChildRows")||t.get("groupHideOpenParents")||Ft(t,"print"))}function ps(t){const e=t.get("autoGroupColumnDef");return!(e!=null&&e.comparator)&&!t.get("treeData")}function zp(t){const e=t.get("groupAggFiltering");if(typeof e=="function")return t.getCallback("groupAggFiltering");if(e===!0)return()=>!0}function h0(t){const e=t.get("grandTotalRow");if(e)return e;if(t.get("groupIncludeTotalFooter"))return"bottom"}function d0(t){const e=t.get("groupTotalRow");if(typeof e=="function")return t.getCallback("groupTotalRow");if(e)return()=>e;const i=t.get("groupIncludeFooter");if(typeof i=="function"){const s=t.getCallback("groupIncludeFooter");return r=>s(r)?"bottom":void 0}return()=>i?"bottom":void 0}function g0(t){return t.exists("groupDisplayType")?t.get("groupDisplayType")==="multipleColumns":t.get("groupHideOpenParents")}function Oh(t,e){return e?!1:t.get("groupDisplayType")==="groupRows"}function _o(t){const e=t.getCallback("getRowId");return e===void 0?e:i=>{let s=e(i);return typeof s!="string"&&(_("The getRowId callback must return a string. The ID ",s," is being cast to a string."),s=String(s)),s}}function Ao(t){return(t==null?void 0:t.checkboxes)??!0}function Xu(t){return(t==null?void 0:t.mode)==="multiRow"&&(t.headerCheckbox??!0)}function U1(t){return(t==null?void 0:t.hideDisabledCheckboxes)??!1}function X1(t){return typeof t.get("rowSelection")!="string"}function j1(t){return t.get("cellSelection")!==void 0}function Y1(t){const e=t.get("cellSelection");return e!==void 0?typeof e!="boolean"?(e==null?void 0:e.suppressMultiRanges)??!1:!1:t.get("suppressMultiRangeSelection")}function Ws(t){const e=t.get("cellSelection");return e!==void 0?!!e:t.get("enableRangeSelection")}function $1(t){var s;const e=t.get("cellSelection");return e!==void 0?typeof e!="boolean"?((s=e.handle)==null?void 0:s.mode)==="range":!1:t.get("enableRangeHandle")}function Vy(t){var s;const e=t.get("cellSelection");return e!==void 0?typeof e!="boolean"?((s=e.handle)==null?void 0:s.mode)==="fill":!1:t.get("enableFillHandle")}function p0(t){const e=t.get("rowSelection")??"single";if(typeof e=="string"){const i=t.get("suppressRowClickSelection"),s=t.get("suppressRowDeselection");return i&&s?!1:i?"enableDeselection":s?"enableSelection":!0}return e.mode==="singleRow"||e.mode==="multiRow"?e.enableClickSelection??!1:!1}function K1(t){const e=p0(t);return e===!0||e==="enableSelection"}function _y(t){const e=p0(t);return e===!0||e==="enableDeselection"}function hv(t){const e=t.get("rowSelection");return typeof e=="string"?t.get("isRowSelectable"):e==null?void 0:e.isRowSelectable}function ju(t){const e=t.get("rowSelection");if(typeof e=="string")switch(e){case"multiple":return"multiRow";case"single":return"singleRow";default:return}return e==null?void 0:e.mode}function f0(t){return ju(t)==="multiRow"}function q1(t){const e=t.get("rowSelection");return typeof e=="string"?t.get("rowMultiSelectWithClick"):(e==null?void 0:e.enableSelectionWithoutKeys)??!1}function dv(t){const e=t.get("rowSelection");if(typeof e=="string"){const i=t.get("groupSelectsChildren"),s=t.get("groupSelectsFiltered");return i&&s?"filteredDescendants":i?"descendants":"self"}return(e==null?void 0:e.mode)==="multiRow"?e.groupSelects:void 0}function Sn(t){const e=dv(t);return e==="descendants"||e==="filteredDescendants"}function Yd(t){return t.isModuleRegistered("@ag-grid-enterprise/set-filter")&&!t.get("suppressSetFilterByDefault")}function xe(t){if(!(!t||!t.length))return t[t.length-1]}function Lr(t,e,i){return t==null&&e==null?!0:t!=null&&e!=null&&t.length===e.length&&t.every((s,r)=>i?i(s,e[r]):e[r]===s)}function Q1(t){return t.sort((e,i)=>e-i)}function m0(t,e){const i=t.indexOf(e);i>=0&&(t[i]=t[t.length-1],t.pop())}function Xt(t,e){const i=t.indexOf(e);i>=0&&t.splice(i,1)}function Z1(t,e){for(let i=0;i<e.length;i++)m0(t,e[i])}function J1(t,e){for(let i=0;i<e.length;i++)Xt(t,e[i])}function Yu(t,e,i){t.splice(i,0,e)}function v0(t,e,i){J1(t,e),e.slice().reverse().forEach(s=>Yu(t,s,i))}function cn(t,e){return t.indexOf(e)>-1}function eM(t){return(t==null?void 0:t.flatMap(e=>e))??[]}function Uy(t,e){e==null||t==null||e.forEach(i=>t.push(i))}var C0="__ag_Grid_Stop_Propagation",tM=["touchstart","touchend","touchmove","touchcancel","scroll"],$d={};function Po(t){t[C0]=!0}function Is(t){return t[C0]===!0}var y0=(()=>{const t={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return i=>{if(typeof $d[i]=="boolean")return $d[i];const s=document.createElement(t[i]||"div");return i="on"+i,$d[i]=i in s}})();function Vp(t,e,i){let s=e;for(;s;){const r=hl(t,s,i);if(r)return r;s=s.parentElement}return null}function iM(t,e){return!e||!t?!1:rM(e).indexOf(t)>=0}function sM(t){const e=[];let i=t.target;for(;i;)e.push(i),i=i.parentElement;return e}function rM(t){const e=t;return e.path?e.path:e.composedPath?e.composedPath():sM(e)}function nM(t,e,i,s){const n=cn(tM,i)?{passive:!0}:void 0;t&&t.addEventListener&&t.addEventListener(e,i,s,n)}var W=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(t){this.frameworkOverrides=t.frameworkOverrides,this.stubContext=t.context,this.eventService=t.eventService,this.gos=t.gos,this.localeService=t.localeService}getFrameworkOverrides(){return this.frameworkOverrides}destroy(){for(let t=0;t<this.destroyFunctions.length;t++)this.destroyFunctions[t]();this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(t,e,i){this.localEventService||(this.localEventService=new Vo),this.localEventService.addEventListener(t,e,i)}removeEventListener(t,e,i){this.localEventService&&this.localEventService.removeEventListener(t,e,i)}dispatchLocalEvent(t){this.localEventService&&this.localEventService.dispatchEvent(t)}addManagedElementListeners(t,e){return this._setupListeners(t,e)}addManagedEventListeners(t){return this._setupListeners(this.eventService,t)}addManagedListeners(t,e){return this._setupListeners(t,e)}_setupListeners(t,e){const i=[];for(const s in e){const r=e[s];r&&i.push(this._setupListener(t,s,r))}return i}_setupListener(t,e,i){if(this.destroyed)return()=>null;t instanceof HTMLElement?nM(this.getFrameworkOverrides(),t,e,i):t.addEventListener(e,i);const s=()=>(t.removeEventListener(e,i),null);return this.destroyFunctions.push(s),()=>(s(),this.destroyFunctions=this.destroyFunctions.filter(r=>r!==s),null)}setupGridOptionListener(t,e){this.gos.addPropertyEventListener(t,e);const i=()=>(this.gos.removePropertyEventListener(t,e),null);return this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(s=>s!==i),null)}addManagedPropertyListener(t,e){return this.destroyed?()=>null:this.setupGridOptionListener(t,e)}addManagedPropertyListeners(t,e){if(this.destroyed)return;const i=t.join("-")+this.propertyListenerId++,s=r=>{if(r.changeSet){if(r.changeSet&&r.changeSet.id===this.lastChangeSetIdLookup[i])return;this.lastChangeSetIdLookup[i]=r.changeSet.id}const n={type:"gridPropertyChanged",changeSet:r.changeSet,source:r.source};e(n)};t.forEach(r=>this.setupGridOptionListener(r,s))}addDestroyFunc(t){this.isAlive()?this.destroyFunctions.push(t):t()}createManagedBean(t,e){const i=this.createBean(t,e);return this.addDestroyFunc(this.destroyBean.bind(this,t,e)),i}createBean(t,e,i){return(e||this.stubContext).createBean(t,i)}destroyBean(t,e){return(e||this.stubContext).destroyBean(t)}destroyBeans(t,e){return(e||this.stubContext).destroyBeans(t)}};function zt(t){return t instanceof Jc}var Jc=class extends W{constructor(t,e,i,s){super(),this.isColumn=!1,this.expandable=!1,this.instanceId=b0(),this.expandableListenerRemoveCallback=null,this.colGroupDef=t,this.groupId=e,this.expanded=!!t&&!!t.openByDefault,this.padding=i,this.level=s}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(t,e){this.colGroupDef=t,this.level=e,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(t){this.originalParent=t}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(t=>t.isVisible()):!1}isPadding(){return this.padding}setExpanded(t){this.expanded=t===void 0?!1:t,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(t){this.children=t}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const t=[];return this.addLeafColumns(t),t}addLeafColumns(t){this.children&&this.children.forEach(e=>{Fr(e)?t.push(e):zt(e)&&e.addLeafColumns(t)})}getColumnGroupShow(){const t=this.colGroupDef;if(t)return t.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const t=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(e=>e.addEventListener("visibleChanged",t)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(e=>e.removeEventListener("visibleChanged",t)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let t=!1,e=!1,i=!1;const s=this.findChildrenRemovingPadding();for(let n=0,o=s.length;n<o;n++){const a=s[n];if(!a.isVisible())continue;const l=a.getColumnGroupShow();l==="open"?(t=!0,i=!0):l==="closed"?(e=!0,i=!0):(t=!0,e=!0)}const r=t&&e&&i;this.expandable!==r&&(this.expandable=r,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const t=[],e=i=>{i.forEach(s=>{zt(s)&&s.isPadding()?e(s.children):t.push(s)})};return e(this.children),t}onColumnVisibilityChanged(){this.setExpandable()}},w0="ag-Grid-ControlsColumn",oM=class extends W{constructor(){super(...arguments),this.beanName="controlsColService"}createControlsCols(){const{gos:t}=this,e=t.get("rowSelection");if(!e||typeof e!="object")return[];const i=Ao(e),s=Xu(e);if(i||s){const r=t.get("selectionColumnDef"),o={maxWidth:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:t.get("enableRtl")?"right":"left",comparator(l,c,u,h){const d=u.isSelected(),g=h.isSelected();return d&&g?0:d?1:-1},editable:!1,suppressFillHandle:!0,...r,colId:`${w0}`},a=new mv(o,null,o.colId,!1);return this.createBean(a),[a]}return[]}},Hh="ag-Grid-AutoColumn";function gv(t){const e=[],i=s=>{for(let r=0;r<s.length;r++){const n=s[r];Fr(n)?e.push(n):zt(n)&&i(n.getChildren())}};return i(t),e}function Es(t){return t.reduce((e,i)=>e+i.getActualWidth(),0)}function sr(t,e,i){const s={};if(!e)return;zs(null,e,n=>{s[n.getInstanceId()]=n}),i&&zs(null,i,n=>{s[n.getInstanceId()]=null});const r=Object.values(s).filter(n=>n!=null);t.destroyBeans(r)}function _p(t){return t.getId().startsWith(Hh)}function Gl(t){return t.getColId().startsWith(w0)}function eu(t){let e=[];return t instanceof Array?t.some(s=>typeof s!="string")?_("if colDef.type is supplied an array it should be of type 'string[]'"):e=t:typeof t=="string"?e=t.split(","):_("colDef.type should be of type 'string' | 'string[]'"),e}var pv=class{constructor(t){this.frameworkOverrides=t,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(t){let e=t;return this.frameworkOverrides.shouldWrapOutgoing&&(e=i=>{this.frameworkOverrides.wrapOutgoing(()=>t(i))},this.wrappedListeners.set(t,e)),e}wrapGlobal(t){let e=t;return this.frameworkOverrides.shouldWrapOutgoing&&(e=(i,s)=>{this.frameworkOverrides.wrapOutgoing(()=>t(i,s))},this.wrappedGlobalListeners.set(t,e)),e}unwrap(t){return this.wrappedListeners.get(t)??t}unwrapGlobal(t){return this.wrappedGlobalListeners.get(t)??t}},fv=new Set(["__proto__","constructor","prototype"]);function Yi(t,e){if(t!=null){if(Array.isArray(t)){for(let i=0;i<t.length;i++)e(i.toString(),t[i]);return}for(const[i,s]of Object.entries(t))e(i,s)}}function x0(t){const e={},i=Object.keys(t);for(let s=0;s<i.length;s++){if(fv.has(i[s]))continue;const r=i[s],n=t[r];e[r]=n}return e}function Up(t,e){if(!t)return;const i=t,s={};return Object.keys(i).forEach(r=>{if(e&&e.indexOf(r)>=0||fv.has(r))return;const n=i[r];jp(n)&&n.constructor===Object?s[r]=Up(n):s[r]=n}),s}function Xp(t){if(!t)return[];const e=Object;if(typeof e.values=="function")return e.values(t);const i=[];for(const s in t)t.hasOwnProperty(s)&&t.propertyIsEnumerable(s)&&i.push(t[s]);return i}function Vt(t,e,i=!0,s=!1){K(e)&&Yi(e,(r,n)=>{if(fv.has(r))return;let o=t[r];o!==n&&(s&&o==null&&n!=null&&typeof n=="object"&&n.constructor===Object&&(o={},t[r]=o),jp(n)&&jp(o)&&!Array.isArray(o)?Vt(o,n,i,s):(i||n!==void 0)&&(t[r]=n))})}function Ba(t,e,i){if(!e||!t)return;if(!i)return t[e];const s=e.split(".");let r=t;for(let n=0;n<s.length;n++){if(r==null)return;r=r[s[n]]}return r}function jp(t){return typeof t=="object"&&t!==null}var aM={resizable:!0,sortable:!0},lM=0;function b0(){return lM++}function Fr(t){return t instanceof mv}var mv=class extends W{constructor(t,e,i,s){super(),this.isColumn=!0,this.instanceId=b0(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.columnEventService=new Vo,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=t,this.userProvidedColDef=e,this.colId=i,this.primary=s,this.setState(t)}wireBeans(t){this.columnHoverService=t.columnHoverService}getInstanceId(){return this.instanceId}setState(t){t.sort!==void 0?(t.sort==="asc"||t.sort==="desc")&&(this.sort=t.sort):(t.initialSort==="asc"||t.initialSort==="desc")&&(this.sort=t.initialSort);const e=t.sortIndex,i=t.initialSortIndex;e!==void 0?e!==null&&(this.sortIndex=e):i!==null&&(this.sortIndex=i);const s=t.hide,r=t.initialHide;s!==void 0?this.visible=!s:this.visible=!r,t.pinned!==void 0?this.setPinned(t.pinned):this.setPinned(t.initialPinned);const n=t.flex,o=t.initialFlex;n!==void 0?this.flex=n:o!==void 0&&(this.flex=o)}setColDef(t,e,i){this.colDef=t,this.userProvidedColDef=e,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.columnEventService.dispatchEvent(this.createColumnEvent("colDefChanged",i))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(t){this.parent=t}getParent(){return this.parent}setOriginalParent(t){this.originalParent=t}getOriginalParent(){return this.originalParent}postConstruct(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()}initDotNotation(){const t=this.gos.get("suppressFieldDotNotation");this.fieldContainsDots=K(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!t,this.tooltipFieldContainsDots=K(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!t}initMinAndMaxWidths(){const t=this.colDef;this.minWidth=t.minWidth??this.gos.environment.getDefaultColumnMinWidth(),this.maxWidth=t.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.tooltipEnabled=K(this.colDef.tooltipField)||K(this.colDef.tooltipValueGetter)||K(this.colDef.tooltipComponent)}resetActualWidth(t){const e=this.calculateColInitialWidth(this.colDef);this.setActualWidth(e,t,!0)}calculateColInitialWidth(t){let e;const i=an(t.width),s=an(t.initialWidth);return i!=null?e=i:s!=null?e=s:e=200,Math.max(Math.min(e,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(t){if(be(this.colDef)||be(this.colDef.showRowGroup))return!1;const e=this.colDef.showRowGroup===!0,i=this.colDef.showRowGroup===t;return e||i}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}addEventListener(t,e){var s;this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.columnEventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new pv(this.frameworkOverrides));const i=((s=this.frameworkEventListenerService)==null?void 0:s.wrap(e))??e;this.columnEventService.addEventListener(t,i)}removeEventListener(t,e){var s;const i=((s=this.frameworkEventListenerService)==null?void 0:s.unwrap(e))??e;this.columnEventService.removeEventListener(t,i)}createColumnFunctionCallbackParams(t){return this.gos.addGridCommonParams({node:t,data:t.data,column:this,colDef:this.colDef})}isSuppressNavigable(t){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){const e=this.createColumnFunctionCallbackParams(t),i=this.colDef.suppressNavigable;return i(e)}return!1}isCellEditable(t){if(t.group){if(this.gos.get("treeData")){if(!t.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return this.isColumnFunc(t,this.colDef.editable)}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(t){return this.isColumnFunc(t,this.colDef.rowDrag)}isDndSource(t){return this.isColumnFunc(t,this.colDef.dndSource)}isCellCheckboxSelection(t){const e=this.gos.get("rowSelection");if(e&&typeof e!="string"){const i=Gl(this)&&Ao(e);return this.isColumnFunc(t,i)}else return this.isColumnFunc(t,this.colDef.checkboxSelection)}isSuppressPaste(t){return this.isColumnFunc(t,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(t){return this.colDef[t]??aM[t]}isColumnFunc(t,e){if(typeof e=="boolean")return e;if(typeof e=="function"){const i=this.createColumnFunctionCallbackParams(t);return e(i)}return!1}setHighlighted(t){this.highlighted!==t&&(this.highlighted=t,this.columnEventService.dispatchEvent(this.createColumnEvent("headerHighlightChanged","uiColumnMoved")))}setMoving(t,e){this.moving=t,this.columnEventService.dispatchEvent(this.createColumnEvent("movingChanged",e))}createColumnEvent(t,e){return this.gos.addGridCommonParams({type:t,column:this,columns:[this],source:e})}isMoving(){return this.moving}getSort(){return this.sort}setSort(t,e){this.sort!==t&&(this.sort=t,this.columnEventService.dispatchEvent(this.createColumnEvent("sortChanged",e))),this.dispatchStateUpdatedEvent("sort")}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return be(this.sort)}isSorting(){return K(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(t){this.sortIndex=t,this.dispatchStateUpdatedEvent("sortIndex")}setMenuVisible(t,e){this.menuVisible!==t&&(this.menuVisible=t,this.columnEventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",e)))}isMenuVisible(){return this.menuVisible}setAggFunc(t){this.aggFunc=t,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(t,e){this.oldLeft=this.left,this.left!==t&&(this.left=t,this.columnEventService.dispatchEvent(this.createColumnEvent("leftChanged",e)))}isFilterActive(){return this.filterActive}setFilterActive(t,e,i){this.filterActive!==t&&(this.filterActive=t,this.columnEventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",e)));const s=this.createColumnEvent("filterChanged",e);i&&Vt(s,i),this.columnEventService.dispatchEvent(s)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(t){t===!0||t==="left"?this.pinned="left":t==="right"?this.pinned="right":this.pinned=null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(t,e){this.firstRightPinned!==t&&(this.firstRightPinned=t,this.columnEventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",e)))}setLastLeftPinned(t,e){this.lastLeftPinned!==t&&(this.lastLeftPinned=t,this.columnEventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",e)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(t,e){const i=t===!0;this.visible!==i&&(this.visible=i,this.columnEventService.dispatchEvent(this.createColumnEvent("visibleChanged",e))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getColumnGroupPaddingInfo(){let t=this.getParent();if(!t||!t.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const e=t.getPaddingLevel()+1;let i=!0;for(;t;){if(!t.isPadding()){i=!1;break}t=t.getParent()}return{numberOfParents:e,isSpanningTotal:i}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(t){const e=t!==this.autoHeaderHeight;return this.autoHeaderHeight=t,e}createBaseColDefParams(t){return this.gos.addGridCommonParams({node:t,data:t.data,colDef:this.colDef,column:this})}getColSpan(t){if(be(this.colDef.colSpan))return 1;const e=this.createBaseColDefParams(t),i=this.colDef.colSpan(e);return Math.max(i,1)}getRowSpan(t){if(be(this.colDef.rowSpan))return 1;const e=this.createBaseColDefParams(t),i=this.colDef.rowSpan(e);return Math.max(i,1)}setActualWidth(t,e,i=!1){t=Math.max(t,this.minWidth),t=Math.min(t,this.maxWidth),this.actualWidth!==t&&(this.actualWidth=t,this.flex&&e!=="flex"&&e!=="gridInitializing"&&(this.flex=null),i||this.fireColumnWidthChangedEvent(e)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(t){this.columnEventService.dispatchEvent(this.createColumnEvent("widthChanged",t))}isGreaterThanMax(t){return t>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(t){this.flex!==t&&(this.flex=t),this.dispatchStateUpdatedEvent("flex")}setMinimum(t){this.setActualWidth(this.minWidth,t)}setRowGroupActive(t,e){this.rowGroupActive!==t&&(this.rowGroupActive=t,this.columnEventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",e))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(t,e){this.pivotActive!==t&&(this.pivotActive=t,this.columnEventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",e))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(t,e){this.aggregationActive!==t&&(this.aggregationActive=t,this.columnEventService.dispatchEvent(this.createColumnEvent("columnValueChanged",e)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchStateUpdatedEvent(t){this.columnEventService.dispatchEvent({type:"columnStateUpdated",key:t})}},cM={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},uM=class{constructor(){this.existingKeys={}}addExistingKeys(t){for(let e=0;e<t.length;e++)this.existingKeys[t[e]]=!0}getUniqueKey(t,e){t=Np(t);let i=0;for(;;){let s;if(t?(s=t,i!==0&&(s+="_"+i)):e?(s=e,i!==0&&(s+="_"+i)):s=i,!this.existingKeys[s])return this.existingKeys[s]=!0,String(s);i++}}},hM=class extends W{constructor(){super(...arguments),this.beanName="columnFactory"}wireBeans(t){this.dataTypeService=t.dataTypeService}createColumnTree(t,e,i,s){const r=new uM,{existingCols:n,existingGroups:o,existingColKeys:a}=this.extractExistingTreeData(i);r.addExistingKeys(a);const l=this.recursivelyCreateColumns(t,0,e,n,r,o,s),c=this.findMaxDept(l,0),u=this.balanceColumnTree(l,0,c,r);return zs(null,u,(d,g)=>{zt(d)&&d.setupExpandable(),d.setOriginalParent(g)}),{columnTree:u,treeDept:c}}extractExistingTreeData(t){const e=[],i=[],s=[];return t&&zs(null,t,r=>{if(zt(r)){const n=r;i.push(n)}else{const n=r;s.push(n.getId()),e.push(n)}}),{existingCols:e,existingGroups:i,existingColKeys:s}}balanceTreeForAutoCols(t,e){const i=[],s=this.findDepth(e);return t.forEach(r=>{let n=r;for(let o=s-1;o>=0;o--){const a=new Jc(null,`FAKE_PATH_${r.getId()}}_${o}`,!0,o);this.createBean(a),a.setChildren([n]),n.setOriginalParent(a),n=a}s===0&&r.setOriginalParent(null),i.push(n)}),[i,s]}findDepth(t){let e=0,i=t;for(;i&&i[0]&&zt(i[0]);)e++,i=i[0].getChildren();return e}balanceColumnTree(t,e,i,s){const r=[];for(let n=0;n<t.length;n++){const o=t[n];if(zt(o)){const a=o,l=this.balanceColumnTree(a.getChildren(),e+1,i,s);a.setChildren(l),r.push(a)}else{let a,l;for(let c=i-1;c>=e;c--){const u=s.getUniqueKey(null,null),h=this.createMergedColGroupDef(null),d=new Jc(h,u,!0,e);this.createBean(d),l&&l.setChildren([d]),l=d,a||(a=l)}if(a&&l)if(r.push(a),t.some(u=>zt(u))){l.setChildren([o]);continue}else{l.setChildren(t);break}r.push(o)}}return r}findMaxDept(t,e){let i=e;for(let s=0;s<t.length;s++){const r=t[s];if(zt(r)){const n=r,o=this.findMaxDept(n.getChildren(),e+1);i<o&&(i=o)}}return i}recursivelyCreateColumns(t,e,i,s,r,n,o){if(!t)return[];const a=new Array(t.length);for(let l=0;l<a.length;l++){const c=t[l];this.isColumnGroup(c)?a[l]=this.createColumnGroup(i,c,e,s,r,n,o):a[l]=this.createColumn(i,c,s,r,o)}return a}createColumnGroup(t,e,i,s,r,n,o){const a=this.createMergedColGroupDef(e),l=r.getUniqueKey(a.groupId||null,null),c=new Jc(a,l,!1,i);this.createBean(c);const u=this.findExistingGroup(e,n);u&&n.splice(u.idx,1);const h=u==null?void 0:u.group;h&&c.setExpanded(h.isExpanded());const d=this.recursivelyCreateColumns(a.children,i+1,t,s,r,n,o);return c.setChildren(d),c}createMergedColGroupDef(t){const e={};return Object.assign(e,this.gos.get("defaultColGroupDef")),Object.assign(e,t),e}createColumn(t,e,i,s,r){var a;const n=this.findExistingColumn(e,i);n&&(i==null||i.splice(n.idx,1));let o=n==null?void 0:n.column;if(o){const l=this.addColumnDefaultAndTypes(e,o.getColId());o.setColDef(l,e,r),this.applyColumnState(o,l,r)}else{const l=s.getUniqueKey(e.colId,e.field),c=this.addColumnDefaultAndTypes(e,l);o=new mv(c,e,l,t),this.createBean(o)}return(a=this.dataTypeService)==null||a.addColumnListeners(o),o}applyColumnState(t,e,i){const s=an(e.flex);if(s!==void 0&&t.setFlex(s),t.getFlex()<=0){const a=an(e.width);if(a!=null)t.setActualWidth(a,i);else{const l=t.getActualWidth();t.setActualWidth(l,i)}}e.sort!==void 0&&(e.sort=="asc"||e.sort=="desc"?t.setSort(e.sort,i):t.setSort(void 0,i));const n=an(e.sortIndex);n!==void 0&&t.setSortIndex(n);const o=Gp(e.hide);o!==void 0&&t.setVisible(!o,i),e.pinned!==void 0&&t.setPinned(e.pinned)}findExistingColumn(t,e){if(e)for(let i=0;i<e.length;i++){const s=e[i].getUserProvidedColDef();if(!s)continue;if(t.colId!=null){if(e[i].getId()===t.colId)return{idx:i,column:e[i]};continue}if(t.field!=null){if(s.field===t.field)return{idx:i,column:e[i]};continue}if(s===t)return{idx:i,column:e[i]}}}findExistingGroup(t,e){if(t.groupId!=null)for(let s=0;s<e.length;s++){const r=e[s];if(r.getColGroupDef()&&r.getId()===t.groupId)return{idx:s,group:r}}}addColumnDefaultAndTypes(t,e){var a;const i={},s=this.gos.get("defaultColDef");Vt(i,s,!1,!0);const r=this.updateColDefAndGetColumnType(i,t,e);r&&this.assignColumnTypes(r,i),Vt(i,t,!1,!0);const n=this.gos.get("autoGroupColumnDef"),o=ps(this.gos);return t.rowGroup&&n&&o&&Vt(i,{sort:n.sort,initialSort:n.initialSort},!1,!0),(a=this.dataTypeService)==null||a.validateColDef(i),i}updateColDefAndGetColumnType(t,e,i){var n;const s=(n=this.dataTypeService)==null?void 0:n.updateColDefAndGetColumnType(t,e,i),r=e.type??s??t.type;return t.type=r,r?eu(r):void 0}assignColumnTypes(t,e){if(!t.length)return;const i=Object.assign({},cM),s=this.gos.get("columnTypes")||{};Yi(s,(r,n)=>{r in i?_(`the column type '${r}' is a default column type and cannot be overridden.`):(n.type&&_("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),i[r]=n)}),t.forEach(r=>{const n=i[r.trim()];n?Vt(e,n,!1,!0):_("colDef.type '"+r+"' does not correspond to defined gridOptions.columnTypes")})}isColumnGroup(t){return t.children!==void 0}};function zs(t,e,i){if(e)for(let s=0;s<e.length;s++){const r=e[s];zt(r)&&zs(r,r.getChildren(),i),i(r,t)}}var dM=class extends W{constructor(){super(...arguments),this.beanName="columnModel",this.pivotMode=!1,this.autoHeightActiveAtLeastOnce=!1,this.ready=!1,this.changeEventsDispatching=!1,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}wireBeans(t){this.context=t.context,this.ctrlsService=t.ctrlsService,this.columnFactory=t.columnFactory,this.columnSizeService=t.columnSizeService,this.visibleColsService=t.visibleColsService,this.columnViewportService=t.columnViewportService,this.pivotResultColsService=t.pivotResultColsService,this.columnAnimationService=t.columnAnimationService,this.autoColService=t.autoColService,this.controlsColService=t.controlsColService,this.valueCache=t.valueCache,this.columnDefFactory=t.columnDefFactory,this.columnApplyStateService=t.columnApplyStateService,this.columnGroupStateService=t.columnGroupStateService,this.eventDispatcher=t.columnEventDispatcher,this.columnMoveService=t.columnMoveService,this.columnAutosizeService=t.columnAutosizeService,this.funcColsService=t.funcColsService,this.quickFilterService=t.quickFilterService,this.showRowGroupColsService=t.showRowGroupColsService,this.environment=t.environment}postConstruct(){const t=this.gos.get("pivotMode");this.isPivotSettingAllowed(t)&&(this.pivotMode=t),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],e=>this.refreshAll(Ur(e.source))),this.addManagedPropertyListener("rowSelection",e=>{this.onSelectionOptionsChanged(e.currentValue,e.previousValue,Ur(e.source))}),this.addManagedPropertyListener("autoGroupColumnDef",e=>this.onAutoGroupColumnDefChanged(Ur(e.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],e=>this.recreateColumnDefs(Ur(e.source))),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),Ur(e.source))),this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}createColsFromColDefs(t){var c,u,h;const e=this.colDefs?this.columnApplyStateService.compareColumnStatesAndDispatchEvents(t):void 0;this.valueCache.expire();const i=(c=this.colDefCols)==null?void 0:c.list,s=(u=this.colDefCols)==null?void 0:u.tree,r=this.columnFactory.createColumnTree(this.colDefs,!0,s,t);sr(this.context,(h=this.colDefCols)==null?void 0:h.tree,r.columnTree);const n=r.columnTree,o=r.treeDept,a=gv(n),l={};a.forEach(d=>l[d.getId()]=d),this.colDefCols={tree:n,treeDepth:o,list:a,map:l},this.funcColsService.extractCols(t,i),this.ready=!0,this.refreshCols(!0),this.visibleColsService.refresh(t),this.columnViewportService.checkViewportColumns(),this.eventDispatcher.everythingChanged(t),e&&(this.changeEventsDispatching=!0,e(),this.changeEventsDispatching=!1),this.eventDispatcher.newColumnsLoaded(t),t==="gridInitializing"&&this.columnSizeService.applyAutosizeStrategy()}refreshCols(t){var r,n,o;if(!this.colDefCols)return;const e=(r=this.cols)==null?void 0:r.tree;this.saveColOrder(),this.selectCols(),this.createAutoCols(),this.addAutoCols(),this.createControlsCols(),this.addControlsCols();const i=V1(this.gos,this.showingPivotResult);(!t||i)&&this.restoreColOrder(),this.positionLockedCols(),(n=this.showRowGroupColsService)==null||n.refresh(),(o=this.quickFilterService)==null||o.refreshQuickFilterCols(),this.setColSpanActive(),this.setAutoHeightActive(),this.visibleColsService.clear(),this.columnViewportService.clear(),!Lr(e,this.cols.tree)&&this.eventDispatcher.gridColumns()}selectCols(){const t=this.pivotResultColsService.getPivotResultCols();if(this.showingPivotResult=t!=null,t){const{map:e,list:i,tree:s,treeDepth:r}=t;this.cols={list:i.slice(),map:{...e},tree:s.slice(),treeDepth:r},t.list.some(o=>{var a;return((a=this.cols)==null?void 0:a.map[o.getColId()])!==void 0})||(this.lastPivotOrder=null)}else{const{map:e,list:i,tree:s,treeDepth:r}=this.colDefCols;this.cols={list:i.slice(),map:{...e},tree:s.slice(),treeDepth:r}}}getColsToShow(){const t=this.isPivotMode()&&!this.isShowingPivotResult(),e=this.funcColsService.getValueColumns();return this.cols.list.filter(s=>{const r=_p(s);if(t){const n=e&&cn(e,s);return r||n}else return r||s.isVisible()})}addAutoCols(){this.autoCols!=null&&(this.cols.list=this.autoCols.list.concat(this.cols.list),this.cols.tree=this.autoCols.tree.concat(this.cols.tree),Xy(this.cols))}createAutoCols(){var p;const t=Oh(this.gos,this.pivotMode),e=this.pivotMode?this.gos.get("pivotSuppressAutoColumn"):this.isSuppressAutoCol(),i=this.funcColsService.getRowGroupColumns(),r=!(i.length>0||this.gos.get("treeData"))||e||t,n=()=>{this.autoCols&&(sr(this.context,this.autoCols.tree),this.autoCols=null)};if(r||!this.autoColService){n();return}const o=this.autoColService.createAutoCols(i)??[],a=Yy(o,((p=this.autoCols)==null?void 0:p.list)||null),l=this.cols.treeDepth,u=(this.autoCols?this.autoCols.treeDepth:-1)==l;if(a&&u)return;n();const[h,d]=this.columnFactory.balanceTreeForAutoCols(o,this.cols.tree);this.autoCols={list:o,tree:h,treeDepth:d,map:{}};const g=f=>{if(!f)return null;const C=f.filter(m=>!_p(m));return[...o,...C]};this.lastOrder=g(this.lastOrder),this.lastPivotOrder=g(this.lastPivotOrder)}createControlsCols(){var c,u,h;const t=()=>{var d;sr(this.context,(d=this.controlsCols)==null?void 0:d.tree),this.controlsCols=null};this.controlsColService||t();const e=this.cols.treeDepth,s=(((c=this.controlsCols)==null?void 0:c.treeDepth)??-1)==e,r=((u=this.controlsColService)==null?void 0:u.createControlsCols())??[];if(Yy(r,((h=this.controlsCols)==null?void 0:h.list)??[])&&s)return;t();const[o,a]=this.columnFactory.balanceTreeForAutoCols(r,this.cols.tree);this.controlsCols={list:r,tree:o,treeDepth:a,map:{}};const l=d=>{if(!d)return null;const g=d.filter(p=>!Gl(p));return[...r,...g]};this.lastOrder=l(this.lastOrder),this.lastPivotOrder=l(this.lastPivotOrder)}addControlsCols(){this.controlsCols!=null&&(this.cols.list=this.controlsCols.list.concat(this.cols.list),this.cols.tree=this.controlsCols.tree.concat(this.cols.tree),Xy(this.cols))}refreshAll(t){this.isReady()&&(this.refreshCols(!1),this.visibleColsService.refresh(t))}setColsVisible(t,e=!1,i){this.columnApplyStateService.applyColumnState({state:t.map(s=>({colId:typeof s=="string"?s:s.getColId(),hide:!e}))},i)}setColsPinned(t,e,i){if(!this.cols||di(t))return;if(Ft(this.gos,"print")){_("Changing the column pinning status is not allowed with domLayout='print'");return}this.columnAnimationService.start();let s;e===!0||e==="left"?s="left":e==="right"?s="right":s=null;const r=[];t.forEach(n=>{if(!n)return;const o=this.getCol(n);o&&o.getPinned()!==s&&(o.setPinned(s),r.push(o))}),r.length&&(this.visibleColsService.refresh(i),this.eventDispatcher.columnPinned(r,i)),this.columnAnimationService.finish()}setColumnGroupOpened(t,e,i){let s;zt(t)?s=t.getId():s=t||"",this.columnGroupStateService.setColumnGroupState([{groupId:s,open:e}],i)}getProvidedColGroup(t){var i;let e=null;return zs(null,(i=this.cols)==null?void 0:i.tree,s=>{zt(s)&&s.getId()===t&&(e=s)}),e}isColGroupLocked(t){const e=this.gos.get("groupLockGroupColumns");if(!t.isRowGroupActive()||e===0)return!1;if(e===-1)return!0;const s=this.funcColsService.getRowGroupColumns().findIndex(r=>r.getColId()===t.getColId());return e>s}isSuppressAutoCol(){return this.gos.get("groupDisplayType")==="custom"?!0:this.gos.get("treeDataDisplayType")==="custom"}setAutoHeightActive(){this.autoHeightActive=this.cols.list.some(t=>t.isVisible()&&t.isAutoHeight()),this.autoHeightActive&&(this.autoHeightActiveAtLeastOnce=!0,Xe(this.gos)||xs(this.gos)||_("autoHeight columns only work with Client Side Row Model and Server Side Row Model."))}restoreColOrder(){const t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;const e=new Map(t.map((l,c)=>[l,c]));if(!this.cols.list.some(l=>e.has(l)))return;const s=new Map(this.cols.list.map(l=>[l,!0])),r=t.filter(l=>s.has(l)),n=new Map(r.map(l=>[l,!0])),o=this.cols.list.filter(l=>!n.has(l)),a=r.slice();o.forEach(l=>{let c=l.getOriginalParent();if(!c){a.push(l);return}const u=[];for(;!u.length&&c;)c.getLeafColumns().forEach(p=>{const f=a.indexOf(p)>=0,C=u.indexOf(p)<0;f&&C&&u.push(p)}),c=c.getOriginalParent();if(!u.length){a.push(l);return}const h=u.map(g=>a.indexOf(g)),d=Math.max(...h);Yu(a,l,d+1)}),this.cols.list=a}sortColsLikeKeys(t){if(this.cols==null)return;let e=[];const i={};t.forEach(r=>{if(i[r])return;const n=this.cols.map[r];n&&(e.push(n),i[r]=!0)});let s=0;if(this.cols.list.forEach(r=>{const n=r.getColId();if(i[n]!=null)return;n.startsWith(Hh)?Yu(e,r,s++):e.push(r)}),e=this.columnMoveService.placeLockedColumns(e),!this.columnMoveService.doesMovePassMarryChildren(e)){_("Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.cols.list=e}sortColsLikeCols(t){!t||t.length<=1||t.filter(i=>this.cols.list.indexOf(i)<0).length>0||t.sort((i,s)=>{const r=this.cols.list.indexOf(i),n=this.cols.list.indexOf(s);return r-n})}resetColDefIntoCol(t,e){const i=t.getUserProvidedColDef();if(!i)return!1;const s=this.columnFactory.addColumnDefaultAndTypes(i,t.getColId());return t.setColDef(s,i,e),!0}queueResizeOperations(){this.shouldQueueResizeOperations=!0}isShouldQueueResizeOperations(){return this.shouldQueueResizeOperations}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(t=>t()),this.resizeOperationQueue=[]}pushResizeOperation(t){this.resizeOperationQueue.push(t)}moveInCols(t,e,i){var s;v0((s=this.cols)==null?void 0:s.list,t,e),this.visibleColsService.refresh(i)}positionLockedCols(){this.cols.list=this.columnMoveService.placeLockedColumns(this.cols.list)}saveColOrder(){var t,e;this.showingPivotResult?this.lastPivotOrder=(t=this.cols)==null?void 0:t.list:this.lastOrder=(e=this.cols)==null?void 0:e.list}getColumnDefs(){if(!this.colDefCols)return;const t=this.colDefCols.list.slice();this.showingPivotResult?t.sort((s,r)=>this.lastOrder.indexOf(s)-this.lastOrder.indexOf(r)):this.lastOrder&&t.sort((s,r)=>this.cols.list.indexOf(s)-this.cols.list.indexOf(r));const e=this.funcColsService.getRowGroupColumns(),i=this.funcColsService.getPivotColumns();return this.columnDefFactory.buildColumnDefs(t,e,i)}isShowingPivotResult(){return this.showingPivotResult}isChangeEventsDispatching(){return this.changeEventsDispatching}isColSpanActive(){return this.colSpanActive}isProvidedColGroupsPresent(){var t;return((t=this.colDefCols)==null?void 0:t.treeDepth)>0}setColSpanActive(){this.colSpanActive=this.cols.list.some(t=>t.getColDef().colSpan!=null)}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}getHeaderRowCount(){return this.cols?this.cols.treeDepth+1:-1}isReady(){return this.ready}isPivotMode(){return this.pivotMode}setPivotMode(t,e){t===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode)||(this.pivotMode=t,this.ready&&(this.refreshCols(!1),this.visibleColsService.refresh(e),this.eventDispatcher.pivotModeChanged()))}isPivotSettingAllowed(t){return t&&this.gos.get("treeData")?(_("Pivot mode not available with treeData."),!1):!0}isPivotActive(){const t=this.funcColsService.getPivotColumns();return this.pivotMode&&!di(t)}recreateColumnDefs(t){this.cols&&(this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,t),this.createColsFromColDefs(t))}setColumnDefs(t,e){this.colDefs=t,this.createColsFromColDefs(e)}destroy(){var t,e,i;sr(this.context,(t=this.colDefCols)==null?void 0:t.tree),sr(this.context,(e=this.autoCols)==null?void 0:e.tree),sr(this.context,(i=this.controlsCols)==null?void 0:i.tree),super.destroy()}getColTree(){return this.cols.tree}getColDefColTree(){return this.colDefCols.tree}getColDefCols(){var t;return(t=this.colDefCols)!=null&&t.list?this.colDefCols.list:null}getCols(){var t;return((t=this.cols)==null?void 0:t.list)??[]}getAllCols(){var i,s,r;const t=this.pivotResultColsService.getPivotResultCols(),e=t==null?void 0:t.list;return[((i=this.colDefCols)==null?void 0:i.list)??[],((s=this.autoCols)==null?void 0:s.list)??[],((r=this.controlsCols)==null?void 0:r.list)??[],e??[]].flat()}getColsForKeys(t){return t?t.map(e=>this.getCol(e)).filter(e=>e!=null):[]}getColDefCol(t){var e;return(e=this.colDefCols)!=null&&e.list?this.getColFromCollection(t,this.colDefCols):null}getCol(t){return t==null?null:this.getColFromCollection(t,this.cols)}getColFromCollection(t,e){if(e==null)return null;const{map:i,list:s}=e;if(typeof t=="string"&&i[t])return i[t];for(let r=0;r<s.length;r++)if(jy(s[r],t))return s[r];return this.getAutoCol(t)}getAutoCol(t){var e;return((e=this.autoCols)==null?void 0:e.list.find(i=>jy(i,t)))??null}getAutoCols(){var t;return((t=this.autoCols)==null?void 0:t.list)??null}setColHeaderHeight(t,e){t.setAutoHeaderHeight(e)&&(t.isColumn?this.eventDispatcher.headerHeight(t):this.eventDispatcher.groupHeaderHeight(t))}getGroupRowsHeight(){const t=[],e=this.ctrlsService.getHeaderRowContainerCtrls();for(const i of e){if(!i)continue;const s=i.getGroupRowCount()||0;for(let r=0;r<s;r++){const n=i.getGroupRowCtrlAtIndex(r),o=t[r];if(n){const a=this.getColumnGroupHeaderRowHeight(n);(o==null||a>o)&&(t[r]=a)}}}return t}getColumnGroupHeaderRowHeight(t){const e=this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight();let i=0;const s=t.getHeaderCtrls();for(const r of s){const n=r.getColumn();if(n.isAutoHeaderHeight()){const o=n.getAutoHeaderHeight();o!=null&&o>i&&(i=o)}}return Math.max(e,i)}getColumnHeaderRowHeight(){const t=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),i=this.visibleColsService.getAllCols().filter(s=>s.isAutoHeaderHeight()).map(s=>s.getAutoHeaderHeight()||0);return Math.max(t,...i)}getHeaderHeight(){return this.gos.get("headerHeight")??this.environment.getDefaultHeaderHeight()}getFloatingFiltersHeight(){return this.gos.get("floatingFiltersHeight")??this.getHeaderHeight()}getGroupHeaderHeight(){return this.gos.get("groupHeaderHeight")??this.getHeaderHeight()}getPivotHeaderHeight(){return this.gos.get("pivotHeaderHeight")??this.getHeaderHeight()}getPivotGroupHeaderHeight(){return this.gos.get("pivotGroupHeaderHeight")??this.getGroupHeaderHeight()}onFirstDataRendered(){const t=this.gos.get("autoSizeStrategy");if((t==null?void 0:t.type)!=="fitCellContents")return;const{colIds:e,skipHeader:i}=t;setTimeout(()=>{e?this.columnAutosizeService.autoSizeCols({colKeys:e,skipHeader:i,source:"autosizeColumns"}):this.columnAutosizeService.autoSizeAllColumns("autosizeColumns",i)})}onAutoGroupColumnDefChanged(t){this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,t)}onSelectionOptionsChanged(t,e,i){const s=e&&typeof e!="string"?Ao(e):void 0,r=t&&typeof t!="string"?Ao(t):void 0,n=s!==r,o=e&&typeof e!="string"?Xu(e):void 0,a=t&&typeof t!="string"?Xu(t):void 0;(n||o!==a)&&this.refreshAll(i)}};function Ur(t){return t==="gridOptionsUpdated"?"gridOptionsChanged":t}function Xy(t){t.map={},t.list.forEach(e=>t.map[e.getId()]=e)}function jy(t,e){const i=t===e,s=t.getColDef()===e,r=t.getColId()==e;return i||s||r}function Yy(t,e){return Lr(t,e,(i,s)=>i.getColId()===s.getColId())}var gM=class extends W{constructor(){super(...arguments),this.beanName="columnAutosizeService",this.timesDelayed=0}wireBeans(t){this.columnModel=t.columnModel,this.visibleColsService=t.visibleColsService,this.animationFrameService=t.animationFrameService,this.autoWidthCalculator=t.autoWidthCalculator,this.eventDispatcher=t.columnEventDispatcher,this.ctrlsService=t.ctrlsService,this.renderStatusService=t.renderStatusService}autoSizeCols(t){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.autoSizeCols(t));return}const{colKeys:e,skipHeader:i,skipHeaderGroups:s,stopAtGroup:r,source:n="api"}=t;if(this.animationFrameService.flushAllFrames(),this.timesDelayed<5&&this.renderStatusService&&!this.renderStatusService.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>this.autoSizeCols(t));return}this.timesDelayed=0;const o=[];let a=-1;const l=i??this.gos.get("skipHeaderOnAutoSize"),c=s??l;for(;a!==0;){a=0;const u=[];e.forEach(h=>{if(!h)return;const d=this.columnModel.getCol(h);if(!d||o.indexOf(d)>=0)return;const g=this.autoWidthCalculator.getPreferredWidthForColumn(d,l);if(g>0){const p=this.normaliseColumnWidth(d,g);d.setActualWidth(p,n),o.push(d),a++}u.push(d)}),u.length&&this.visibleColsService.refresh(n)}c||this.autoSizeColumnGroupsByColumns(e,n,r),this.eventDispatcher.columnResized(o,!0,"autosizeColumns")}autoSizeColumn(t,e,i){t&&this.autoSizeCols({colKeys:[t],skipHeader:i,skipHeaderGroups:!0,source:e})}autoSizeColumnGroupsByColumns(t,e,i){const s=new Set;this.columnModel.getColsForKeys(t).forEach(a=>{let l=a.getParent();for(;l&&l!=i;)l.isPadding()||s.add(l),l=l.getParent()});let n;const o=[];for(const a of s){for(const l of this.ctrlsService.getHeaderRowContainerCtrls())if(n=l.getHeaderCtrlForColumn(a),n)break;n&&n.resizeLeafColumnsToFit(e)}return o}autoSizeAllColumns(t,e){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.autoSizeAllColumns(t,e));return}const i=this.visibleColsService.getAllCols();this.autoSizeCols({colKeys:i,skipHeader:e,source:t})}normaliseColumnWidth(t,e){const i=t.getMinWidth();e<i&&(e=i);const s=t.getMaxWidth();return t.isGreaterThanMax(e)&&(e=s),e}},pM=class extends W{constructor(){super(...arguments),this.beanName="funcColsService",this.rowGroupCols=[],this.valueCols=[],this.pivotCols=[]}wireBeans(t){this.columnModel=t.columnModel,this.eventDispatcher=t.columnEventDispatcher,this.aggFuncService=t.aggFuncService,this.visibleColsService=t.visibleColsService}getModifyColumnsNoEventsCallbacks(){return{addGroupCol:t=>this.rowGroupCols.push(t),removeGroupCol:t=>Xt(this.rowGroupCols,t),addPivotCol:t=>this.pivotCols.push(t),removePivotCol:t=>Xt(this.pivotCols,t),addValueCol:t=>this.valueCols.push(t),removeValueCol:t=>Xt(this.valueCols,t)}}getSourceColumnsForGroupColumn(t){const e=t.getColDef().showRowGroup;if(!e)return null;if(e===!0)return this.rowGroupCols.slice(0);const i=this.columnModel.getColDefCol(e);return i?[i]:null}sortRowGroupColumns(t){this.rowGroupCols.sort(t)}sortPivotColumns(t){this.pivotCols.sort(t)}getValueColumns(){return this.valueCols?this.valueCols:[]}getPivotColumns(){return this.pivotCols?this.pivotCols:[]}getRowGroupColumns(){return this.rowGroupCols?this.rowGroupCols:[]}isRowGroupEmpty(){return di(this.rowGroupCols)}setColumnAggFunc(t,e,i){if(!t)return;const s=this.columnModel.getColDefCol(t);s&&(s.setAggFunc(e),this.eventDispatcher.columnChanged("columnValueChanged",[s],i))}setRowGroupColumns(t,e){this.setColList(t,this.rowGroupCols,"columnRowGroupChanged",!0,!0,(i,s)=>this.setRowGroupActive(i,s,e),e)}setRowGroupActive(t,e,i){t!==e.isRowGroupActive()&&(e.setRowGroupActive(t,i),t&&!this.gos.get("suppressRowGroupHidesColumns")&&this.columnModel.setColsVisible([e],!1,i),!t&&!this.gos.get("suppressMakeColumnVisibleAfterUnGroup")&&this.columnModel.setColsVisible([e],!0,i))}addRowGroupColumns(t,e){this.updateColList(t,this.rowGroupCols,!0,!0,i=>this.setRowGroupActive(!0,i,e),"columnRowGroupChanged",e)}removeRowGroupColumns(t,e){this.updateColList(t,this.rowGroupCols,!1,!0,i=>this.setRowGroupActive(!1,i,e),"columnRowGroupChanged",e)}addPivotColumns(t,e){this.updateColList(t,this.pivotCols,!0,!1,i=>i.setPivotActive(!0,e),"columnPivotChanged",e)}setPivotColumns(t,e){this.setColList(t,this.pivotCols,"columnPivotChanged",!0,!1,(i,s)=>{s.setPivotActive(i,e)},e)}removePivotColumns(t,e){this.updateColList(t,this.pivotCols,!1,!1,i=>i.setPivotActive(!1,e),"columnPivotChanged",e)}setValueColumns(t,e){this.setColList(t,this.valueCols,"columnValueChanged",!1,!1,(i,s)=>this.setValueActive(i,s,e),e)}setValueActive(t,e,i){if(t!==e.isValueActive()&&(e.setValueActive(t,i),t&&!e.getAggFunc()&&this.aggFuncService)){const s=this.aggFuncService.getDefaultAggFunc(e);e.setAggFunc(s)}}addValueColumns(t,e){this.updateColList(t,this.valueCols,!0,!1,i=>this.setValueActive(!0,i,e),"columnValueChanged",e)}removeValueColumns(t,e){this.updateColList(t,this.valueCols,!1,!1,i=>this.setValueActive(!1,i,e),"columnValueChanged",e)}moveRowGroupColumn(t,e,i){if(this.isRowGroupEmpty())return;const s=this.rowGroupCols[t],r=this.rowGroupCols.slice(t,e);this.rowGroupCols.splice(t,1),this.rowGroupCols.splice(e,0,s),this.eventDispatcher.rowGroupChanged(r,i)}setColList(t,e,i,s,r,n,o){if(!this.columnModel.getCols())return;const a=new Map;e.forEach((c,u)=>a.set(c,u)),e.length=0,K(t)&&t.forEach(c=>{const u=this.columnModel.getColDefCol(c);u&&e.push(u)}),e.forEach((c,u)=>{const h=a.get(c);if(h===void 0){a.set(c,0);return}s&&h!==u||a.delete(c)}),(this.columnModel.getColDefCols()||[]).forEach(c=>{const u=e.indexOf(c)>=0;n(u,c)}),r&&this.columnModel.refreshCols(!1),this.visibleColsService.refresh(o),this.eventDispatcher.columnChanged(i,[...a.keys()],o)}updateColList(t,e,i,s,r,n,o){if(!t||di(t))return;let a=!1;const l=new Set;t.forEach(c=>{if(!c)return;const u=this.columnModel.getColDefCol(c);if(u){if(l.add(u),i){if(e.indexOf(u)>=0)return;e.push(u)}else{const h=e.indexOf(u);if(h<0)return;for(let d=h+1;d<e.length;d++)l.add(e[d]);Xt(e,u)}r(u),a=!0}}),a&&(s&&this.columnModel.refreshCols(!1),this.visibleColsService.refresh(o),this.eventDispatcher.genericColumnEvent(n,Array.from(l),o))}extractCols(t,e){this.extractRowGroupCols(t,e),this.extractPivotCols(t,e),this.extractValueCols(t,e)}extractValueCols(t,e){this.valueCols=this.extractColsCommon(e,this.valueCols,(i,s)=>i.setValueActive(s,t),()=>{},()=>{},i=>{const s=i.aggFunc;if(s===null||s==="")return null;if(s!==void 0)return!!s},i=>i.initialAggFunc!=null&&i.initialAggFunc!=""),this.valueCols.forEach(i=>{const s=i.getColDef();s.aggFunc!=null&&s.aggFunc!=""?i.setAggFunc(s.aggFunc):i.getAggFunc()||i.setAggFunc(s.initialAggFunc)})}extractRowGroupCols(t,e){this.rowGroupCols=this.extractColsCommon(e,this.rowGroupCols,(i,s)=>i.setRowGroupActive(s,t),i=>i.rowGroupIndex,i=>i.initialRowGroupIndex,i=>i.rowGroup,i=>i.initialRowGroup)}extractPivotCols(t,e){this.pivotCols=this.extractColsCommon(e,this.pivotCols,(i,s)=>i.setPivotActive(s,t),i=>i.pivotIndex,i=>i.initialPivotIndex,i=>i.pivot,i=>i.initialPivot)}extractColsCommon(t=[],e=[],i,s,r,n,o){const a=[],l=[];(this.columnModel.getColDefCols()||[]).forEach(d=>{const g=t.indexOf(d)<0,p=d.getColDef(),f=Gp(n(p)),C=Gp(o(p)),m=an(s(p)),v=an(r(p));let y;f!==void 0?y=f:m!==void 0?m===null?y=!1:y=m>=0:g?C!==void 0?y=C:v!==void 0?y=v!=null&&v>=0:y=!1:y=e.indexOf(d)>=0,y&&((g?m!=null||v!=null:m!=null)?a.push(d):l.push(d))});const u=d=>{const g=s(d.getColDef()),p=r(d.getColDef());return g??p};a.sort((d,g)=>{const p=u(d),f=u(g);return p===f?0:p<f?-1:1});const h=[].concat(a);return e.forEach(d=>{l.indexOf(d)>=0&&h.push(d)}),l.forEach(d=>{h.indexOf(d)<0&&h.push(d)}),e.forEach(d=>{h.indexOf(d)<0&&i(d,!1)}),h.forEach(d=>{e.indexOf(d)<0&&i(d,!0)}),h}generateColumnStateForRowGroupAndPivotIndexes(t,e){const i={},s=(r,n,o,a,l,c)=>{const u=this.columnModel.getColDefCols();if(!n.length||!u)return[];const h=Object.keys(r),d=new Set(h),g=new Set(h),p=new Set(n.map(S=>{const b=S.getColId();return g.delete(b),b}).concat(h)),f=[],C={};let m=0;for(let S=0;S<u.length;S++){const b=u[S].getColId();p.has(b)&&(f.push(b),C[b]=m++)}let v=1e3,y=!1,w=0;const x=S=>{const b=C[S];for(let R=w;R<b;R++){const A=f[R];g.has(A)&&(r[A][l]=v++,g.delete(A))}w=b};n.forEach(S=>{const b=S.getColId();if(d.has(b))x(b),r[b][l]=v++;else{const R=S.getColDef();(R[l]===null||R[l]===void 0&&R[c]==null)&&(y||(R[o]||R[o]===void 0&&R[a]?x(b):(g.forEach(E=>{r[E][l]=v+C[E]}),v+=f.length,y=!0)),i[b]||(i[b]={colId:b}),i[b][l]=v++)}})};return s(t,this.rowGroupCols,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),s(e,this.pivotCols,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(i)}},fM=class extends W{constructor(){super(...arguments),this.beanName="columnApplyStateService"}wireBeans(t){this.columnModel=t.columnModel,this.eventDispatcher=t.columnEventDispatcher,this.sortController=t.sortController,this.columnGetStateService=t.columnGetStateService,this.funcColsService=t.funcColsService,this.visibleColsService=t.visibleColsService,this.columnAnimationService=t.columnAnimationService,this.pivotResultColsService=t.pivotResultColsService}applyColumnState(t,e){const i=this.columnModel.getColDefCols()||[];if(di(i))return!1;if(t&&t.state&&!t.state.forEach)return _("applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;const s=this.funcColsService.getModifyColumnsNoEventsCallbacks(),r=(a,l,c)=>{const u=this.compareColumnStatesAndDispatchEvents(e),h=l.slice(),d={},g={},p=[],f=[];let C=0;const m=this.funcColsService.getRowGroupColumns().slice(),v=this.funcColsService.getPivotColumns().slice();a.forEach(S=>{const b=S.colId||"";if(b.startsWith(Hh)){p.push(S),f.push(S);return}const A=c(b);A?(this.syncColumnWithStateItem(A,S,t.defaultState,d,g,!1,e,s),Xt(h,A)):(f.push(S),C+=1)});const y=S=>this.syncColumnWithStateItem(S,null,t.defaultState,d,g,!1,e,s);h.forEach(y),this.funcColsService.sortRowGroupColumns($y.bind(this,d,m)),this.funcColsService.sortPivotColumns($y.bind(this,g,v)),this.columnModel.refreshCols(!1);const x=(this.columnModel.getAutoCols()||[]).slice();return p.forEach(S=>{const b=this.columnModel.getAutoCol(S.colId);Xt(x,b),this.syncColumnWithStateItem(b,S,t.defaultState,null,null,!0,e,s)}),x.forEach(y),this.orderLiveColsLikeState(t),this.visibleColsService.refresh(e),this.eventDispatcher.everythingChanged(e),u(),{unmatchedAndAutoStates:f,unmatchedCount:C}};this.columnAnimationService.start();let{unmatchedAndAutoStates:n,unmatchedCount:o}=r(t.state||[],i,a=>this.columnModel.getColDefCol(a));if(n.length>0||K(t.defaultState)){const a=this.pivotResultColsService.getPivotResultCols(),l=a==null?void 0:a.list;o=r(n,l||[],c=>this.pivotResultColsService.getPivotResultCol(c)).unmatchedCount}return this.columnAnimationService.finish(),o===0}resetColumnState(t){const e=this.columnModel.getColDefCols();if(di(e))return;const i=this.columnModel.getColDefColTree(),s=gv(i),r=[];let n=1e3,o=1e3,a=[];const l=this.columnModel.getAutoCols();l&&(a=a.concat(l)),s&&(a=a.concat(s)),a.forEach(c=>{const u=this.getColumnStateFromColDef(c);be(u.rowGroupIndex)&&u.rowGroup&&(u.rowGroupIndex=n++),be(u.pivotIndex)&&u.pivot&&(u.pivotIndex=o++),r.push(u)}),this.applyColumnState({state:r,applyOrder:!0},t)}getColumnStateFromColDef(t){const e=(p,f)=>p??f??null,i=t.getColDef(),s=e(i.sort,i.initialSort),r=e(i.sortIndex,i.initialSortIndex),n=e(i.hide,i.initialHide),o=e(i.pinned,i.initialPinned),a=e(i.width,i.initialWidth),l=e(i.flex,i.initialFlex);let c=e(i.rowGroupIndex,i.initialRowGroupIndex),u=e(i.rowGroup,i.initialRowGroup);c==null&&(u==null||u==!1)&&(c=null,u=null);let h=e(i.pivotIndex,i.initialPivotIndex),d=e(i.pivot,i.initialPivot);h==null&&(d==null||d==!1)&&(h=null,d=null);const g=e(i.aggFunc,i.initialAggFunc);return{colId:t.getColId(),sort:s,sortIndex:r,hide:n,pinned:o,width:a,flex:l,rowGroup:u,rowGroupIndex:c,pivot:d,pivotIndex:h,aggFunc:g}}syncColumnWithStateItem(t,e,i,s,r,n,o,a){if(!t)return;const l=(w,x)=>{const S={value1:void 0,value2:void 0};let b=!1;return e&&(e[w]!==void 0&&(S.value1=e[w],b=!0),K(x)&&e[x]!==void 0&&(S.value2=e[x],b=!0)),!b&&i&&(i[w]!==void 0&&(S.value1=i[w]),K(x)&&i[x]!==void 0&&(S.value2=i[x])),S},c=l("hide").value1;c!==void 0&&t.setVisible(!c,o);const u=l("pinned").value1;u!==void 0&&t.setPinned(u);const h=t.getColDef().minWidth??this.gos.environment.getDefaultColumnMinWidth(),d=l("flex").value1;if(d!==void 0&&t.setFlex(d),d==null){const w=l("width").value1;w!=null&&h!=null&&w>=h&&t.setActualWidth(w,o)}const g=l("sort").value1;g!==void 0&&(g==="desc"||g==="asc"?t.setSort(g,o):t.setSort(void 0,o));const p=l("sortIndex").value1;if(p!==void 0&&t.setSortIndex(p),n||!t.isPrimary())return;const f=l("aggFunc").value1;f!==void 0&&(typeof f=="string"?(t.setAggFunc(f),t.isValueActive()||(t.setValueActive(!0,o),a.addValueCol(t))):(K(f)&&_("stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),t.isValueActive()&&(t.setValueActive(!1,o),a.removeValueCol(t))));const{value1:C,value2:m}=l("rowGroup","rowGroupIndex");(C!==void 0||m!==void 0)&&(typeof m=="number"||C?(t.isRowGroupActive()||(t.setRowGroupActive(!0,o),a.addGroupCol(t)),s&&typeof m=="number"&&(s[t.getId()]=m)):t.isRowGroupActive()&&(t.setRowGroupActive(!1,o),a.removeGroupCol(t)));const{value1:v,value2:y}=l("pivot","pivotIndex");(v!==void 0||y!==void 0)&&(typeof y=="number"||v?(t.isPivotActive()||(t.setPivotActive(!0,o),a.addPivotCol(t)),r&&typeof y=="number"&&(r[t.getId()]=y)):t.isPivotActive()&&(t.setPivotActive(!1,o),a.removePivotCol(t)))}orderLiveColsLikeState(t){if(!t.applyOrder||!t.state)return;const e=[];t.state.forEach(i=>{i.colId!=null&&e.push(i.colId)}),this.columnModel.sortColsLikeKeys(e)}compareColumnStatesAndDispatchEvents(t){const e={rowGroupColumns:this.funcColsService.getRowGroupColumns().slice(),pivotColumns:this.funcColsService.getPivotColumns().slice(),valueColumns:this.funcColsService.getValueColumns().slice()},i=this.columnGetStateService.getColumnState(),s={};return i.forEach(r=>{s[r.colId]=r}),()=>{const r=this.columnModel.getAllCols(),n=(f,C,m,v)=>{const y=C.map(v),w=m.map(v);if(Lr(y,w))return;const S=new Set(C);m.forEach(R=>{S.delete(R)||S.add(R)});const b=[...S];this.eventService.dispatchEvent({type:f,columns:b,column:b.length===1?b[0]:null,source:t})},o=f=>{const C=[];return r.forEach(m=>{const v=s[m.getColId()];v&&f(v,m)&&C.push(m)}),C},a=f=>f.getColId();n("columnRowGroupChanged",e.rowGroupColumns,this.funcColsService.getRowGroupColumns(),a),n("columnPivotChanged",e.pivotColumns,this.funcColsService.getPivotColumns(),a);const c=o((f,C)=>{const m=f.aggFunc!=null,v=m!=C.isValueActive(),y=m&&f.aggFunc!=C.getAggFunc();return v||y});c.length>0&&this.eventDispatcher.columnChanged("columnValueChanged",c,t);const u=(f,C)=>f.width!=C.getActualWidth();this.eventDispatcher.columnResized(o(u),!0,t);const h=(f,C)=>f.pinned!=C.getPinned();this.eventDispatcher.columnPinned(o(h),t);const d=(f,C)=>f.hide==C.isVisible();this.eventDispatcher.columnVisible(o(d),t);const p=o((f,C)=>f.sort!=C.getSort()||f.sortIndex!=C.getSortIndex());p.length>0&&this.sortController.dispatchSortChangedEvents(t,p),this.normaliseColumnMovedEventForColumnState(i,t)}}normaliseColumnMovedEventForColumnState(t,e){const i=this.columnGetStateService.getColumnState(),s={};i.forEach(l=>s[l.colId]=l);const r={};t.forEach(l=>{s[l.colId]&&(r[l.colId]=!0)});const n=t.filter(l=>r[l.colId]),o=i.filter(l=>r[l.colId]),a=[];o.forEach((l,c)=>{const u=n&&n[c];if(u&&u.colId!==l.colId){const h=this.columnModel.getCol(u.colId);h&&a.push(h)}}),a.length&&this.eventDispatcher.columnMoved({movedColumns:a,source:e,finished:!0})}},$y=(t,e,i,s)=>{const r=t[i.getId()],n=t[s.getId()],o=r!=null,a=n!=null;if(o&&a)return r-n;if(o)return-1;if(a)return 1;const l=e.indexOf(i),c=e.indexOf(s),u=l>=0,h=c>=0;return u&&h?l-c:u?-1:1},mM=class extends W{constructor(){super(...arguments),this.beanName="columnMoveService"}wireBeans(t){this.columnModel=t.columnModel,this.columnAnimationService=t.columnAnimationService,this.eventDispatcher=t.columnEventDispatcher}moveColumnByIndex(t,e,i){const s=this.columnModel.getCols();if(!s)return;const r=s[t];this.moveColumns([r],e,i)}moveColumns(t,e,i,s=!0){const r=this.columnModel.getCols();if(!r)return;if(e>r.length-t.length){_("tried to insert columns in invalid location, toIndex = ",e),_("remember that you should not count the moving columns when calculating the new index");return}this.columnAnimationService.start();const n=this.columnModel.getColsForKeys(t);this.doesMovePassRules(n,e)&&(this.columnModel.moveInCols(n,e,i),this.eventDispatcher.columnMoved({movedColumns:n,source:i,toIndex:e,finished:s})),this.columnAnimationService.finish()}doesMovePassRules(t,e){const i=this.getProposedColumnOrder(t,e);return this.doesOrderPassRules(i)}doesOrderPassRules(t){return!(!this.doesMovePassMarryChildren(t)||!this.doesMovePassLockedPositions(t))}getProposedColumnOrder(t,e){const s=this.columnModel.getCols().slice();return v0(s,t,e),s}doesMovePassLockedPositions(t){const e=n=>n?n==="left"||n===!0?-1:1:0,i=this.gos.get("enableRtl");let s=i?1:-1,r=!0;return t.forEach(n=>{const o=e(n.getColDef().lockPosition);i?o>s&&(r=!1):o<s&&(r=!1),s=o}),r}doesMovePassMarryChildren(t){let e=!0;const i=this.columnModel.getColTree();return zs(null,i,s=>{if(!zt(s))return;const r=s,n=r.getColGroupDef();if(!(n&&n.marryChildren))return;const a=[];r.getLeafColumns().forEach(d=>{const g=t.indexOf(d);a.push(g)});const l=Math.max.apply(Math,a),c=Math.min.apply(Math,a),u=l-c,h=r.getLeafColumns().length-1;u>h&&(e=!1)}),e}placeLockedColumns(t){const e=[],i=[],s=[];return t.forEach(n=>{const o=n.getColDef().lockPosition;o==="right"?s.push(n):o==="left"||o===!0?e.push(n):i.push(n)}),this.gos.get("enableRtl")?[...s,...i,...e]:[...e,...i,...s]}},vM=/[&<>"']/g,CM={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Cs(t,e){if(t==null)return null;const i=t.toString().toString();return e?i:i.replace(vM,s=>CM[s])}function yM(t){if(!t||t==null)return null;const e=/([a-z])([A-Z])/g,i=/([A-Z]+)([A-Z])([a-z])/g;return t.replace(e,"$1 $2").replace(i,"$1 $2$3").replace(/\./g," ").split(" ").map(r=>r.substring(0,1).toUpperCase()+(r.length>1?r.substring(1,r.length):"")).join(" ")}var wM=class extends W{constructor(){super(...arguments),this.beanName="columnNameService"}wireBeans(t){this.expressionService=t.expressionService,this.funcColsService=t.funcColsService,this.columnModel=t.columnModel}getDisplayNameForColumn(t,e,i=!1){if(!t)return null;const s=this.getHeaderName(t.getColDef(),t,null,null,e);return i?this.wrapHeaderNameWithAggFunc(t,s):s}getDisplayNameForProvidedColumnGroup(t,e,i){const s=e?e.getColGroupDef():null;return s?this.getHeaderName(s,null,t,e,i):null}getDisplayNameForColumnGroup(t,e){return this.getDisplayNameForProvidedColumnGroup(t,t.getProvidedColumnGroup(),e)}getHeaderName(t,e,i,s,r){const n=t.headerValueGetter;if(n){const o=this.gos.addGridCommonParams({colDef:t,column:e,columnGroup:i,providedColumnGroup:s,location:r});return typeof n=="function"?n(o):typeof n=="string"?this.expressionService.evaluate(n,o):(_("headerValueGetter must be a function or a string"),"")}else{if(t.headerName!=null)return t.headerName;if(t.field)return yM(t.field)}return""}wrapHeaderNameWithAggFunc(t,e){if(this.gos.get("suppressAggFuncInHeader"))return e;const i=t.getColDef().pivotValueColumn,s=K(i);let r=null,n;if(s){const o=this.funcColsService.getValueColumns(),a=this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&o.length===1,l=t.getColDef().pivotTotalColumnIds!==void 0;if(a&&!l)return e;r=i?i.getAggFunc():null,n=!0}else{const o=t.isValueActive(),a=this.columnModel.isPivotMode()||!this.funcColsService.isRowGroupEmpty();o&&a?(r=t.getAggFunc(),n=!0):n=!1}if(n){const o=typeof r=="string"?r:"func";return`${this.localeService.getLocaleTextFunc()(o,o)}(${e})`}return e}},xM=class extends W{constructor(){super(...arguments),this.beanName="pivotResultColsService"}wireBeans(t){this.context=t.context,this.columnModel=t.columnModel,this.columnFactory=t.columnFactory,this.visibleColsService=t.visibleColsService}destroy(){var t;sr(this.context,(t=this.pivotResultCols)==null?void 0:t.tree),super.destroy()}isPivotResultColsPresent(){return this.pivotResultCols!=null}lookupPivotResultCol(t,e){if(this.pivotResultCols==null)return null;const i=this.columnModel.getColDefCol(e);let s=null;return this.pivotResultCols.list.forEach(r=>{const n=r.getColDef().pivotKeys,o=r.getColDef().pivotValueColumn;Lr(n,t)&&o===i&&(s=r)}),s}getPivotResultCols(){return this.pivotResultCols}getPivotResultCol(t){return this.pivotResultCols?this.columnModel.getColFromCollection(t,this.pivotResultCols):null}setPivotResultCols(t,e){var i,s;if(this.columnModel.isReady()&&!(t==null&&this.pivotResultCols==null)){if(t){this.processPivotResultColDef(t);const r=this.columnFactory.createColumnTree(t,!1,((i=this.pivotResultCols)==null?void 0:i.tree)||this.previousPivotResultCols||void 0,e);sr(this.context,(s=this.pivotResultCols)==null?void 0:s.tree,r.columnTree);const n=r.columnTree,o=r.treeDept,a=gv(n),l={};this.pivotResultCols={tree:n,treeDepth:o,list:a,map:l},this.pivotResultCols.list.forEach(u=>this.pivotResultCols.map[u.getId()]=u);const c=!!this.previousPivotResultCols;this.previousPivotResultCols=null,this.columnModel.refreshCols(!c)}else this.previousPivotResultCols=this.pivotResultCols?this.pivotResultCols.tree:null,this.pivotResultCols=null,this.columnModel.refreshCols(!1);this.visibleColsService.refresh(e)}}processPivotResultColDef(t){const e=this.gos.get("processPivotResultColDef"),i=this.gos.get("processPivotResultColGroupDef");if(!e&&!i)return;const s=r=>{r.forEach(n=>{if(K(n.children)){const a=n;i&&i(a),s(a.children)}else e&&e(n)})};t&&s(t)}},bM=class extends W{constructor(){super(...arguments),this.beanName="columnSizeService"}wireBeans(t){this.columnModel=t.columnModel,this.columnViewportService=t.columnViewportService,this.eventDispatcher=t.columnEventDispatcher,this.visibleColsService=t.visibleColsService,this.ctrlsService=t.ctrlsService}setColumnWidths(t,e,i,s){const r=[];t.forEach(n=>{const o=this.columnModel.getColDefCol(n.key)||this.columnModel.getCol(n.key);if(!o)return;if(r.push({width:n.newWidth,ratios:[1],columns:[o]}),this.gos.get("colResizeDefault")==="shift"&&(e=!e),e){const l=this.visibleColsService.getColAfter(o);if(!l)return;const c=o.getActualWidth()-n.newWidth,u=l.getActualWidth()+c;r.push({width:u,ratios:[1],columns:[l]})}}),r.length!==0&&this.resizeColumnSets({resizeSets:r,finished:i,source:s})}resizeColumnSets(t){const{resizeSets:e,finished:i,source:s}=t;if(!(!e||e.every(u=>this.checkMinAndMaxWidthsForSet(u)))){if(i){const u=e&&e.length>0?e[0].columns:null;this.eventDispatcher.columnResized(u,i,s)}return}const n=[],o=[];e.forEach(u=>{const{width:h,columns:d,ratios:g}=u,p={},f={};d.forEach(v=>o.push(v));let C=!0,m=0;for(;C;){if(m++,m>1e3){ke("infinite loop in resizeColumnSets");break}C=!1;const v=[];let y=0,w=h;d.forEach((S,b)=>{if(f[S.getId()])w-=p[S.getId()];else{v.push(S);const A=g[b];y+=A}});const x=1/y;v.forEach((S,b)=>{const R=b===v.length-1;let A;R?A=w:(A=Math.round(g[b]*h*x),w-=A);const P=S.getMinWidth(),E=S.getMaxWidth();A<P?(A=P,f[S.getId()]=!0,C=!0):E>0&&A>E&&(A=E,f[S.getId()]=!0,C=!0),p[S.getId()]=A})}d.forEach(v=>{const y=p[v.getId()];v.getActualWidth()!==y&&(v.setActualWidth(y,s),n.push(v))})});const a=n.length>0;let l=[];a&&(l=this.refreshFlexedColumns({resizingCols:o,skipSetLeft:!0}),this.visibleColsService.setLeftValues(s),this.visibleColsService.updateBodyWidths(),this.columnViewportService.checkViewportColumns());const c=o.concat(l);(a||i)&&this.eventDispatcher.columnResized(c,i,s,l)}checkMinAndMaxWidthsForSet(t){const{columns:e,width:i}=t;let s=0,r=0,n=!0;e.forEach(l=>{const c=l.getMinWidth();s+=c||0;const u=l.getMaxWidth();u>0?r+=u:n=!1});const o=i>=s,a=!n||i<=r;return o&&a}refreshFlexedColumns(t={}){const e=t.source?t.source:"flex";if(t.viewportWidth!=null&&(this.flexViewportWidth=t.viewportWidth),!this.flexViewportWidth)return[];const i=this.visibleColsService.getCenterCols();let s=-1;if(t.resizingCols){const d=new Set(t.resizingCols);for(let g=i.length-1;g>=0;g--)if(d.has(i[g])){s=g;break}}let r=0,n=[],o=0,a=0;for(let d=0;d<i.length;d++)i[d].getFlex()&&d>s?(n.push(i[d]),a+=i[d].getFlex(),o+=i[d].getMinWidth()):r+=i[d].getActualWidth();if(!n.length)return[];let l=[];r+o>this.flexViewportWidth&&(n.forEach(d=>d.setActualWidth(d.getMinWidth(),e)),l=n,n=[]);const c=[];let u;e:for(;;){u=this.flexViewportWidth-r;const d=u/a;for(let g=0;g<n.length;g++){const p=n[g],f=d*p.getFlex();let C=0;const m=p.getMinWidth(),v=p.getMaxWidth();if(f<m?C=m:f>v&&(C=v),C){p.setActualWidth(C,e),m0(n,p),a-=p.getFlex(),l.push(p),r+=p.getActualWidth();continue e}c[g]=Math.floor(f)}break}let h=u;return n.forEach((d,g)=>{const p=g<n.length-1?Math.min(c[g],h):Math.max(c[g],h);d.setActualWidth(p,e),l.push(d),h-=c[g]}),t.skipSetLeft||this.visibleColsService.setLeftValues(e),t.updateBodyWidths&&this.visibleColsService.updateBodyWidths(),t.fireResizedEvent&&this.eventDispatcher.columnResized(l,!0,e,n),n}sizeColumnsToFit(t,e="sizeColumnsToFit",i,s){var d;if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.sizeColumnsToFit(t,e,i,s));return}const r={};s&&((d=s==null?void 0:s.columnLimits)==null||d.forEach(({key:g,...p})=>{r[typeof g=="string"?g:g.getColId()]=p}));const n=this.visibleColsService.getAllCols(),o=t===Es(n);if(t<=0||!n.length||o)return;const a=[],l=[];n.forEach(g=>{g.getColDef().suppressSizeToFit===!0?l.push(g):a.push(g)});const c=a.slice(0);let u=!1;const h=g=>{Xt(a,g),l.push(g)};for(a.forEach(g=>{g.resetActualWidth(e);const p=r==null?void 0:r[g.getId()],f=(p==null?void 0:p.minWidth)??(s==null?void 0:s.defaultMinWidth),C=(p==null?void 0:p.maxWidth)??(s==null?void 0:s.defaultMaxWidth),m=g.getActualWidth();typeof f=="number"&&m<f?g.setActualWidth(f,e,!0):typeof C=="number"&&m>C&&g.setActualWidth(C,e,!0)});!u;){u=!0;const g=t-Es(l);if(g<=0)a.forEach(p=>{var C;const f=((C=r==null?void 0:r[p.getId()])==null?void 0:C.minWidth)??(s==null?void 0:s.defaultMinWidth);if(typeof f=="number"){p.setActualWidth(f,e,!0);return}p.setMinimum(e)});else{const p=g/Es(a);let f=g;for(let C=a.length-1;C>=0;C--){const m=a[C],v=r==null?void 0:r[m.getId()],y=(v==null?void 0:v.minWidth)??(s==null?void 0:s.defaultMinWidth),w=(v==null?void 0:v.maxWidth)??(s==null?void 0:s.defaultMaxWidth),x=m.getMinWidth(),S=m.getMaxWidth(),b=typeof y=="number"&&y>x?y:x,R=typeof w=="number"&&w<S?w:S;let A=Math.round(m.getActualWidth()*p);A<b?(A=b,h(m),u=!1):A>R?(A=R,h(m),u=!1):C===0&&(A=f),m.setActualWidth(A,e,!0),f-=A}}}c.forEach(g=>{g.fireColumnWidthChangedEvent(e)}),this.visibleColsService.setLeftValues(e),this.visibleColsService.updateBodyWidths(),!i&&this.eventDispatcher.columnResized(c,!0,e)}applyAutosizeStrategy(){const t=this.gos.get("autoSizeStrategy");if(!t)return;const{type:e}=t;setTimeout(()=>{if(e==="fitGridWidth"){const{columnLimits:i,defaultMinWidth:s,defaultMaxWidth:r}=t,n=i==null?void 0:i.map(({colId:o,minWidth:a,maxWidth:l})=>({key:o,minWidth:a,maxWidth:l}));this.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:s,defaultMaxWidth:r,columnLimits:n})}else e==="fitProvidedWidth"&&this.sizeColumnsToFit(t.width,"sizeColumnsToFit")})}};function S0(t,e){return t+"_"+e}function nt(t){return t instanceof R0}var R0=class extends W{constructor(t,e,i,s){super(),this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null,this.groupId=e,this.partId=i,this.providedColumnGroup=t,this.pinned=s}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(t){this.parent=t}getUniqueId(){return S0(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const t=this.getProvidedColumnGroup().getLeafColumns();return!t||t.length===0?!1:t.every(e=>e.isMoving())}checkLeft(){if(this.displayedChildren.forEach(t=>{nt(t)&&t.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const e=xe(this.displayedChildren).getLeft();this.setLeft(e)}else{const t=this.displayedChildren[0].getLeft();this.setLeft(t)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(t){this.oldLeft=this.left,this.left!==t&&(this.left=t,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let t=0;return this.displayedChildren&&this.displayedChildren.forEach(e=>{t+=e.getActualWidth()}),t}isResizable(){if(!this.displayedChildren)return!1;let t=!1;return this.displayedChildren.forEach(e=>{e.isResizable()&&(t=!0)}),t}getMinWidth(){let t=0;return this.displayedChildren.forEach(e=>{t+=e.getMinWidth()}),t}addChild(t){this.children||(this.children=[]),this.children.push(t)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const t=[];return this.addLeafColumns(t),t}getDisplayedLeafColumns(){const t=[];return this.addDisplayedLeafColumns(t),t}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(t){this.providedColumnGroup.setExpanded(t)}isAutoHeaderHeight(){var t;return!!((t=this.getColGroupDef())!=null&&t.autoHeaderHeight)}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(t){const e=t!==this.autoHeaderHeight;return this.autoHeaderHeight=t,e}addDisplayedLeafColumns(t){this.displayedChildren.forEach(e=>{Fr(e)?t.push(e):nt(e)&&e.addDisplayedLeafColumns(t)})}addLeafColumns(t){this.children.forEach(e=>{Fr(e)?t.push(e):nt(e)&&e.addLeafColumns(t)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const t=this.getParent();return!this.isPadding()||!t||!t.isPadding()?0:1+t.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let t=this;for(;t!=null&&t.isPadding();)t=t.getParent();if(!(t?t.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(i=>{if(nt(i)&&(!i.displayedChildren||!i.displayedChildren.length))return;switch(i.getColumnGroupShow()){case"open":t.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(i);break;case"closed":t.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(i);break;default:this.displayedChildren.push(i);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},F0=class{constructor(){this.existingIds={}}getInstanceIdForKey(t){const e=this.existingIds[t];let i;return typeof e!="number"?i=0:i=e+1,this.existingIds[t]=i,i}},SM=class extends W{constructor(){super(...arguments),this.beanName="visibleColsService",this.colsAndGroupsMap={},this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0}wireBeans(t){this.columnModel=t.columnModel,this.columnSizeService=t.columnSizeService,this.columnViewportService=t.columnViewportService,this.eventDispatcher=t.columnEventDispatcher}refresh(t,e=!1){e||this.buildTrees(),this.updateOpenClosedVisibilityInColumnGroups(),this.columnsLeft=Kd(this.treeLeft),this.columnsCenter=Kd(this.treeCenter),this.columnsRight=Kd(this.treeRight),this.joinColsAriaOrder(),this.joinCols(),this.setLeftValues(t),this.autoHeightCols=this.columns.filter(i=>i.isAutoHeight()),this.columnSizeService.refreshFlexedColumns(),this.updateBodyWidths(),this.columnViewportService.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(t),this.eventDispatcher.visibleCols(t)}updateBodyWidths(){const t=Es(this.columnsCenter),e=Es(this.columnsLeft),i=Es(this.columnsRight);this.bodyWidthDirty=this.bodyWidth!==t,(this.bodyWidth!==t||this.leftWidth!==e||this.rightWidth!==i)&&(this.bodyWidth=t,this.leftWidth=e,this.rightWidth=i,this.eventService.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventService.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(t){this.setLeftValuesOfCols(t),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(t){let e,i;this.gos.get("enableRtl")?(e=this.columnsLeft?this.columnsLeft[0]:null,i=this.columnsRight?xe(this.columnsRight):null):(e=this.columnsLeft?xe(this.columnsLeft):null,i=this.columnsRight?this.columnsRight[0]:null),this.columnModel.getCols().forEach(s=>{s.setLastLeftPinned(s===e,t),s.setFirstRightPinned(s===i,t)})}buildTrees(){const t=this.columnModel.getColsToShow(),e=t.filter(n=>n.getPinned()=="left"),i=t.filter(n=>n.getPinned()=="right"),s=t.filter(n=>n.getPinned()!="left"&&n.getPinned()!="right"),r=new F0;this.treeLeft=this.createGroups({columns:e,idCreator:r,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=this.createGroups({columns:i,idCreator:r,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=this.createGroups({columns:s,idCreator:r,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.ariaOrderColumns=[]}joinColsAriaOrder(){const t=this.columnModel.getCols(),e=[],i=[],s=[];for(const r of t){const n=r.getPinned();n?n===!0||n==="left"?e.push(r):s.push(r):i.push(r)}this.ariaOrderColumns=e.concat(i).concat(s)}getAriaColIndex(t){let e;return nt(t)?e=t.getLeafColumns()[0]:e=t,this.ariaOrderColumns.indexOf(e)+1}getAllAutoHeightCols(){return this.autoHeightCols}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(t=>{t.forEach(e=>{nt(e)&&e.checkLeft()})})}setLeftValuesOfCols(t){if(!this.columnModel.getColDefCols())return;const i=this.columnModel.getCols().slice(0),s=this.gos.get("enableRtl");[this.columnsLeft,this.columnsRight,this.columnsCenter].forEach(r=>{if(s){let n=Es(r);r.forEach(o=>{n-=o.getActualWidth(),o.setLeft(n,t)})}else{let n=0;r.forEach(o=>{o.setLeft(n,t),n+=o.getActualWidth()})}Z1(i,r)}),i.forEach(r=>{r.setLeft(null,t)})}joinCols(){this.gos.get("enableRtl")?this.columns=this.columnsRight.concat(this.columnsCenter).concat(this.columnsLeft):this.columns=this.columnsLeft.concat(this.columnsCenter).concat(this.columnsRight)}getColsCenter(){return this.columnsCenter}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}getTreeLeft(){return this.treeLeft}getTreeRight(){return this.treeRight}getTreeCenter(){return this.treeCenter}getAllCols(){return this.columns}isColDisplayed(t){return this.getAllCols().indexOf(t)>=0}getLeftColsForRow(t){return this.columnModel.isColSpanActive()?this.getColsForRow(t,this.columnsLeft):this.columnsLeft}getRightColsForRow(t){return this.columnModel.isColSpanActive()?this.getColsForRow(t,this.columnsRight):this.columnsRight}getColsForRow(t,e,i,s){const r=[];let n=null;for(let o=0;o<e.length;o++){const a=e[o],l=e.length-o,c=Math.min(a.getColSpan(t),l),u=[a];if(c>1){const d=c-1;for(let g=1;g<=d;g++)u.push(e[o+g]);o+=d}let h;i?(h=!1,u.forEach(d=>{i(d)&&(h=!0)})):h=!0,h&&(r.length===0&&n&&(s&&s(a))&&r.push(n),r.push(a)),n=a}return r}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(t){switch(t){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getCenterCols(){return this.columnsCenter}getLeftCols(){return this.columnsLeft}getRightCols(){return this.columnsRight}getColBefore(t){const e=this.getAllCols(),i=e.indexOf(t);return i>0?e[i-1]:null}getGroupAtDirection(t,e){const i=t.getProvidedColumnGroup().getLevel()+t.getPaddingLevel(),s=t.getDisplayedLeafColumns(),r=e==="After"?xe(s):s[0],n=`getCol${e}`;for(;;){const o=this[n](r);if(!o)return null;const a=this.getColGroupAtLevel(o,i);if(a!==t)return a}}getColGroupAtLevel(t,e){let i=t.getParent(),s,r;for(;s=i.getProvidedColumnGroup().getLevel(),r=i.getPaddingLevel(),!(s+r<=e);)i=i.getParent();return i}isPinningLeft(){return this.columnsLeft.length>0}isPinningRight(){return this.columnsRight.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const t=e=>{this.colsAndGroupsMap[e.getUniqueId()]=e};Xr(this.treeCenter,!1,t),Xr(this.treeLeft,!1,t),Xr(this.treeRight,!1,t)}isVisible(t){return this.colsAndGroupsMap[t.getUniqueId()]===t}updateOpenClosedVisibilityInColumnGroups(){const t=this.getAllTrees();Xr(t,!1,e=>{nt(e)&&e.calculateDisplayedColumns()})}getFirstColumn(){const t=this.gos.get("enableRtl"),e=["getLeftCols","getCenterCols","getRightCols"];t&&e.reverse();for(let i=0;i<e.length;i++){const s=this[e[i]]();if(s.length)return t?xe(s):s[0]}return null}getColumnGroup(t,e){if(!t)return null;if(nt(t))return t;const i=this.getAllTrees(),s=typeof e=="number";let r=null;return Xr(i,!1,n=>{if(nt(n)){const o=n;let a;s?a=t===o.getGroupId()&&e===o.getPartId():a=t===o.getGroupId(),a&&(r=o)}}),r}getColAfter(t){const e=this.getAllCols(),i=e.indexOf(t);return i<e.length-1?e[i+1]:null}isBodyWidthDirty(){return this.bodyWidthDirty}setBodyWidthDirty(){this.bodyWidthDirty=!0}getColsLeftWidth(){return Es(this.columnsLeft)}getDisplayedColumnsRightWidth(){return Es(this.columnsRight)}isColAtEdge(t,e){const i=this.getAllCols();if(!i.length)return!1;const s=e==="first";let r;if(nt(t)){const n=t.getDisplayedLeafColumns();if(!n.length)return!1;r=s?n[0]:xe(n)}else r=t;return(s?i[0]:xe(i))===r}createGroups(t){const{columns:e,idCreator:i,pinned:s,oldDisplayedGroups:r,isStandaloneStructure:n}=t,o=this.mapOldGroupsById(r),a=[];let l=e;for(;l.length;){const c=l;l=[];let u=0;const h=d=>{const g=u;u=d;const p=c[g],C=(nt(p)?p.getProvidedColumnGroup():p).getOriginalParent();if(C==null){for(let v=g;v<d;v++)a.push(c[v]);return}const m=this.createColGroup(C,i,o,s,n);for(let v=g;v<d;v++)m.addChild(c[v]);l.push(m)};for(let d=1;d<c.length;d++){const g=c[d],f=(nt(g)?g.getProvidedColumnGroup():g).getOriginalParent(),C=c[u],v=(nt(C)?C.getProvidedColumnGroup():C).getOriginalParent();f!==v&&h(d)}u<c.length&&h(c.length)}return n||this.setupParentsIntoCols(a,null),a}createColGroup(t,e,i,s,r){const n=t.getGroupId(),o=e.getInstanceIdForKey(n),a=S0(n,o);let l=i[a];return l&&l.getProvidedColumnGroup()!==t&&(l=null),K(l)?l.reset():(l=new R0(t,n,o,s),r||this.createBean(l)),l}mapOldGroupsById(t){const e={},i=s=>{s.forEach(r=>{if(nt(r)){const n=r;e[r.getUniqueId()]=n,i(n.getChildren())}})};return t&&i(t),e}setupParentsIntoCols(t,e){t.forEach(i=>{if(i.setParent(e),nt(i)){const s=i;this.setupParentsIntoCols(s.getChildren(),s)}})}};function Xr(t,e,i){if(t)for(let s=0;s<t.length;s++){const r=t[s];if(nt(r)){const n=e?r.getDisplayedChildren():r.getChildren();Xr(n,e,i)}i(r)}}function Kd(t){const e=[];return Xr(t,!0,i=>{Fr(i)&&e.push(i)}),e}var A0=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel"],RM=["scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","scrollGapChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnGroupHeaderHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged","overlayExclusiveChanged"],FM=[...A0,...RM],AM={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0,suppressSetFilterByDefault:!0},Dt=class{};Dt.STRING_PROPERTIES=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow"];Dt.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","theme","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy","cellSelection","selectionColumnDef"];Dt.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"];Dt.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"];Dt.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault"];Dt.OTHER_PROPERTIES=["suppressStickyTotalRow","loadThemeGoogleFonts","rowSelection"];Dt.FUNCTION_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering","chartMenuItems","groupTotalRow"];Dt.ALL_PROPERTIES=[...Dt.ARRAY_PROPERTIES,...Dt.OBJECT_PROPERTIES,...Dt.STRING_PROPERTIES,...Dt.NUMBER_PROPERTIES,...Dt.FUNCTION_PROPERTIES,...Dt.BOOLEAN_PROPERTIES,...Dt.OTHER_PROPERTIES];var gl=Dt,Ti=class{static getCallbackForEvent(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}};Ti.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY";Ti.PUBLIC_EVENTS=A0;Ti.EVENT_CALLBACKS=FM.map(t=>Ti.getCallbackForEvent(t));Ti.BOOLEAN_PROPERTIES=gl.BOOLEAN_PROPERTIES;Ti.ALL_PROPERTIES=gl.ALL_PROPERTIES;Ti.ALL_PROPERTIES_AND_CALLBACKS=[...Ti.ALL_PROPERTIES,...Ti.EVENT_CALLBACKS];Ti.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(Ti.ALL_PROPERTIES_AND_CALLBACKS);var pl=Ti;function PM(t,e){typeof t!="object"&&(t={});const i={...t};return pl.ALL_PROPERTIES_AND_CALLBACKS.forEach(r=>{const n=e[r];typeof n<"u"&&n!==pl.VUE_OMITTED_PROPERTY&&(i[r]=n)}),i}function EM(t,e){if(!t)return;const i={};let s=!1;if(Object.keys(t).filter(o=>pl.ALL_PROPERTIES_AND_CALLBACKS_SET.has(o)).forEach(o=>{i[o]=t[o],s=!0}),!s)return;const r={type:"gridOptionsChanged",options:i};e.dispatchEvent(r);const n={type:"componentStateChanged"};Yi(i,(o,a)=>{n[o]=a}),e.dispatchEvent(n)}var Uo=class extends W{};function Bl(t,e,i){return i&&t.addDestroyFunc(()=>e.destroyBean(i)),i??t}var Wl=class{constructor(t){this.cssClassStates={},this.getGui=t}addCssClass(t){const e=(t||"").split(" ");if(e.length>1){e.forEach(s=>this.addCssClass(s));return}if(this.cssClassStates[t]!==!0&&t.length){const s=this.getGui();s&&s.classList.add(t),this.cssClassStates[t]=!0}}removeCssClass(t){const e=(t||"").split(" ");if(e.length>1){e.forEach(s=>this.removeCssClass(s));return}if(this.cssClassStates[t]!==!1&&t.length){const s=this.getGui();s&&s.classList.remove(t),this.cssClassStates[t]=!1}}containsCssClass(t){const e=this.getGui();return e?e.classList.contains(t):!1}addOrRemoveCssClass(t,e){if(!t)return;if(t.indexOf(" ")>=0){const s=(t||"").split(" ");if(s.length>1){s.forEach(r=>this.addOrRemoveCssClass(r,e));return}}if(this.cssClassStates[t]!==e&&t.length){const s=this.getGui();s&&s.classList.toggle(t,e),this.cssClassStates[t]=e}}};function _s(t,e,i){i==null||typeof i=="string"&&i==""?P0(t,e):bs(t,e,i)}function bs(t,e,i){t.setAttribute(E0(e),i.toString())}function P0(t,e){t.removeAttribute(E0(e))}function E0(t){return`aria-${t}`}function ns(t,e){e?t.setAttribute("role",e):t.removeAttribute("role")}function kM(t){let e;return t==="asc"?e="ascending":t==="desc"?e="descending":t==="mixed"?e="other":e="none",e}function MM(t){return t.getAttribute("aria-label")}function Eo(t,e){_s(t,"label",e)}function fl(t,e){_s(t,"labelledby",e)}function k0(t,e){_s(t,"live",e)}function TM(t,e){_s(t,"atomic",e)}function DM(t,e){_s(t,"relevant",e)}function LM(t,e){_s(t,"disabled",e)}function M0(t,e){_s(t,"hidden",e)}function $u(t,e){bs(t,"expanded",e)}function IM(t,e){bs(t,"setsize",e)}function OM(t,e){bs(t,"posinset",e)}function HM(t,e){bs(t,"rowcount",e)}function NM(t,e){bs(t,"rowindex",e)}function GM(t,e){bs(t,"colcount",e)}function T0(t,e){bs(t,"colindex",e)}function BM(t,e){bs(t,"colspan",e)}function WM(t,e){bs(t,"sort",e)}function zM(t){P0(t,"sort")}function Ku(t,e){_s(t,"selected",e)}function VM(t,e){_s(t,"controls",e.id),fl(e,t.id)}function vv(t,e){return e===void 0?t("ariaIndeterminate","indeterminate"):e===!0?t("ariaChecked","checked"):t("ariaUnchecked","unchecked")}var qd,wc,Qd,Zd,Jd,eg,Yp,$p,tg;function ys(){return qd===void 0&&(qd=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),qd}function D0(){if(wc===void 0)if(ys()){const t=navigator.userAgent.match(/version\/(\d+)/i);t&&(wc=t[1]!=null?parseFloat(t[1]):0)}else wc=0;return wc}function Cv(){if(Qd===void 0){const t=window;Qd=!!t.chrome&&(!!t.chrome.webstore||!!t.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return Qd}function yv(){return Zd===void 0&&(Zd=/(firefox)/i.test(navigator.userAgent)),Zd}function L0(){return Jd===void 0&&(Jd=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),Jd}function Ir(){return eg===void 0&&(eg=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),eg}function Ky(){return!ys()||D0()>=15}function Kp(t){if(!t)return null;const e=t.tabIndex,i=t.getAttribute("tabIndex");return e===-1&&(i===null||i===""&&!yv())?null:e.toString()}function _M(){if(tg!==void 0)return tg;if(!document.body)return-1;let t=1e6;const e=yv()?6e6:1e9,i=document.createElement("div");for(document.body.appendChild(i);;){const s=t*2;if(i.style.height=s+"px",s>e||i.clientHeight!==s)break;t=s}return document.body.removeChild(i),tg=t,t}function UM(){var t,e;return((t=document.body)==null?void 0:t.clientWidth)??(window.innerHeight||((e=document.documentElement)==null?void 0:e.clientWidth)||-1)}function XM(){var t,e;return((t=document.body)==null?void 0:t.clientHeight)??(window.innerHeight||((e=document.documentElement)==null?void 0:e.clientHeight)||-1)}function jM(){return $p==null&&I0(),$p}function I0(){const t=document.body,e=document.createElement("div");e.style.width=e.style.height="100px",e.style.opacity="0",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",e.style.position="absolute",t.appendChild(e);let i=e.offsetWidth-e.clientWidth;i===0&&e.clientWidth===0&&(i=null),e.parentNode&&e.parentNode.removeChild(e),i!=null&&($p=i,Yp=i===0)}function O0(){return Yp==null&&I0(),Yp}var xc,YM="[tabindex], input, select, button, textarea, [href]",H0="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function wv(t){const e=Element.prototype.matches||Element.prototype.msMatchesSelector,s=e.call(t,"input, select, button, textarea"),r=e.call(t,H0),n=ws(t);return s&&!r&&n}function Qe(t,e,i={}){const{skipAriaHidden:s}=i;t.classList.toggle("ag-hidden",!e),s||M0(t,!e)}function $M(t,e,i={}){const{skipAriaHidden:s}=i;t.classList.toggle("ag-invisible",!e),s||M0(t,!e)}function ml(t,e){const i="disabled",s=e?r=>r.setAttribute(i,""):r=>r.removeAttribute(i);s(t),W0(t.querySelectorAll("input"),r=>s(r))}function mo(t,e,i){let s=0;for(;t;){if(t.classList.contains(e))return!0;if(t=t.parentElement,typeof i=="number"){if(++s>i)break}else if(t===i)break}return!1}function Dn(t){const{height:e,width:i,borderTopWidth:s,borderRightWidth:r,borderBottomWidth:n,borderLeftWidth:o,paddingTop:a,paddingRight:l,paddingBottom:c,paddingLeft:u,marginTop:h,marginRight:d,marginBottom:g,marginLeft:p,boxSizing:f}=window.getComputedStyle(t);return{height:parseFloat(e||"0"),width:parseFloat(i||"0"),borderTopWidth:parseFloat(s||"0"),borderRightWidth:parseFloat(r||"0"),borderBottomWidth:parseFloat(n||"0"),borderLeftWidth:parseFloat(o||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(c||"0"),paddingLeft:parseFloat(u||"0"),marginTop:parseFloat(h||"0"),marginRight:parseFloat(d||"0"),marginBottom:parseFloat(g||"0"),marginLeft:parseFloat(p||"0"),boxSizing:f}}function xv(t){const e=Dn(t);return e.boxSizing==="border-box"?e.height-e.paddingTop-e.paddingBottom:e.height}function zl(t){const e=Dn(t);return e.boxSizing==="border-box"?e.width-e.paddingLeft-e.paddingRight:e.width}function N0(t){const{height:e,marginBottom:i,marginTop:s}=Dn(t);return Math.floor(e+i+s)}function qu(t){const{width:e,marginLeft:i,marginRight:s}=Dn(t);return Math.floor(e+i+s)}function G0(t){const e=t.getBoundingClientRect(),{borderTopWidth:i,borderLeftWidth:s,borderRightWidth:r,borderBottomWidth:n}=Dn(t);return{top:e.top+(i||0),left:e.left+(s||0),right:e.right+(r||0),bottom:e.bottom+(n||0)}}function Qu(){if(typeof xc=="boolean")return xc;const t=document.createElement("div");return t.style.direction="rtl",t.style.width="1px",t.style.height="1px",t.style.position="fixed",t.style.top="0px",t.style.overflow="hidden",t.dir="rtl",t.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(t),t.scrollLeft=1,xc=Math.floor(t.scrollLeft)===0,document.body.removeChild(t),xc}function Zu(t,e){let i=t.scrollLeft;return e&&(i=Math.abs(i),Cv()&&!Qu()&&(i=t.scrollWidth-t.getBoundingClientRect().width-i)),i}function Ju(t,e,i){i&&(Qu()?e*=-1:(ys()||Cv())&&(e=t.scrollWidth-t.getBoundingClientRect().width-e)),t.scrollLeft=e}function mi(t){for(;t&&t.firstChild;)t.removeChild(t.firstChild)}function Rn(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function B0(t){return!!t.offsetParent}function ws(t){const e=t;return e.checkVisibility?e.checkVisibility({checkVisibilityCSS:!0}):!(!B0(t)||window.getComputedStyle(t).visibility!=="visible")}function vl(t){const e=document.createElement("div");return e.innerHTML=(t||"").trim(),e.firstChild}function KM(t){return t.clientWidth<t.scrollWidth}function qM(t){return t.clientHeight<t.scrollHeight}function eh(t,e){e==="flex"?(t.style.removeProperty("width"),t.style.removeProperty("minWidth"),t.style.removeProperty("maxWidth"),t.style.flex="1 1 auto"):es(t,e)}function es(t,e){e=bv(e),t.style.width=e.toString(),t.style.maxWidth=e.toString(),t.style.minWidth=e.toString()}function Wa(t,e){e=bv(e),t.style.height=e.toString(),t.style.maxHeight=e.toString(),t.style.minHeight=e.toString()}function bv(t){return typeof t=="number"?`${t}px`:t}function Sv(t){return t instanceof Node||t instanceof HTMLElement}function QM(t){if(t==null)return[];const e=[];return W0(t,i=>e.push(i)),e}function ZM(t,e){if(t)for(let i=0;i<t.length;i++){const s=t[i];e(s.name,s.value)}}function Di(t,e,i){i==null||i===""?t.removeAttribute(e):t.setAttribute(e,i.toString())}function W0(t,e){if(t!=null)for(let i=0;i<t.length;i++)e(t[i])}var ko=class{constructor(t=0,e=1){this.nextValue=t,this.step=e}next(){const t=this.nextValue;return this.nextValue+=this.step,t}peek(){return this.nextValue}skip(t){this.nextValue+=t}},JM=1e3,eT=1e3,qy=100,z0=class Wr extends W{constructor(e,i,s,r){super(),this.parentComp=e,this.tooltipShowDelayOverride=i,this.tooltipHideDelayOverride=s,this.shouldDisplayTooltip=r,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(e){this.popupService=e.popupService,this.userComponentFactory=e.userComponentFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const e=this.parentComp.getGui();this.tooltipTrigger===0&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(e){const i=this.gos.get(e);return i<0&&_(`${e} should not be lower than 0`),Math.max(200,i)}getTooltipDelay(e){return e==="show"?this.tooltipShowDelayOverride??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipHideDelayOverride??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const e=this.gos.get("tooltipTrigger");return!e||e==="hover"?0:1}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!Ir()&&(Wr.isLocked?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},qy):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){var n;const i=e.relatedTarget,s=this.parentComp.getGui(),r=(n=this.tooltipComp)==null?void 0:n.getGui();this.isInteractingWithTooltip||s.contains(i)||this.interactionEnabled&&(r!=null&&r.contains(i))||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=0||Wr.isLocked)return;let i=0;e&&(i=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),i),this.state=1}isLastTooltipHiddenRecently(){const e=new Date().getTime(),i=Wr.lastTooltipHideTime;return e-i<JM}setToDoNothing(e){!e&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const e={...this.parentComp.getTooltipParams()};if(!K(e.value)||this.shouldDisplayTooltip&&!this.shouldDisplayTooltip()){this.setToDoNothing();return}this.state=2,this.tooltipInstanceCount++;const i=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(e).newAgStackInstance().then(i)}hideTooltip(e){!e&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),Wr.lastTooltipHideTime=new Date().getTime()),this.eventService.dispatchEvent({type:"tooltipHide",parentGui:this.parentComp.getGui()}),e&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(e,i){if(this.state!==2||this.tooltipInstanceCount!==e){this.destroyBean(i);return}const r=i.getGui();this.tooltipComp=i,r.classList.contains("ag-tooltip")||r.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&r.classList.add("ag-tooltip-animate"),this.interactionEnabled&&r.classList.add("ag-tooltip-interactive");const n=this.localeService.getLocaleTextFunc(),o=this.popupService.addPopup({eChild:r,ariaLabel:n("ariaLabelTooltip","Tooltip")});if(o&&(this.tooltipPopupDestroyFunc=o.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){const a=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:a,columnMoved:a})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(r,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(st(this.gos),{keydown:a=>{r.contains(a==null?void 0:a.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(r,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventService.dispatchEvent({type:"tooltipShow",tooltipGui:r,parentGui:this.parentComp.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){var s;const e=(s=this.tooltipComp)==null?void 0:s.getGui(),i=Ze(this.gos);return!!e&&e.contains(i)}onTooltipFocusOut(e){const i=this.parentComp.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,i.contains(e.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent({...e,mouseEvent:this.lastMouseEvent}):this.popupService.positionPopupByComponent({...e,eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,i=this.tooltipComp,s=this.tooltipTrigger===0?eT:0;window.setTimeout(()=>{e(),this.destroyBean(i)},s),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(e=>{e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){Wr.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},qy)}unlockService(){Wr.isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};z0.isLocked=!1;var tT=z0,Xo=class extends W{constructor(t,e){super(),this.ctrl=t,e&&(this.beans=e)}wireBeans(t){this.beans=t}postConstruct(){this.refreshToolTip()}setBrowserTooltip(t){const e="title",i=this.ctrl.getGui();i&&(t!=null&&t!=""?i.setAttribute(e,t):i.removeAttribute(e))}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){var e,i,s,r;if(this.tooltipManager!=null)return;const t={getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()};this.tooltipManager=this.createBean(new tT(t,(i=(e=this.ctrl).getTooltipShowDelayOverride)==null?void 0:i.call(e),(r=(s=this.ctrl).getTooltipHideDelayOverride)==null?void 0:r.call(s),this.ctrl.shouldDisplayTooltip),this.beans.context)}refreshToolTip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context))):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}getTooltipParams(){var r,n,o,a,l;const t=this.ctrl,e=(r=t.getColumn)==null?void 0:r.call(t),i=(n=t.getColDef)==null?void 0:n.call(t),s=(o=t.getRowNode)==null?void 0:o.call(t);return{location:t.getLocation(),colDef:i,column:e,rowIndex:(a=t.getRowIndex)==null?void 0:a.call(t),node:s,data:s==null?void 0:s.data,value:this.getTooltipText(),valueFormatted:(l=t.getValueFormatted)==null?void 0:l.call(t),hideTooltipCallback:()=>{var c;return(c=this.tooltipManager)==null?void 0:c.hideTooltip(!0)}}}getTooltipText(){return this.tooltip}destroy(){this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)),super.destroy()}},iT=new ko,oe=null,ze=class V0 extends W{constructor(e,i){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=iT.next(),this.cssClassManager=new Wl(()=>this.eGui),this.componentSelectors=new Map((i??[]).map(s=>[s.selector,s])),e&&this.setTemplate(e)}preWireBeans(e){super.preWireBeans(e)}preConstruct(){this.usingBrowserTooltips=this.gos.get("enableBrowserTooltips"),this.wireTemplate(this.getGui())}wireTemplate(e,i){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,i))}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(e){const{newTooltipText:i,showDelayOverride:s,hideDelayOverride:r,location:n,shouldDisplayTooltip:o}=e||{};this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.tooltipText!==i&&(this.tooltipText=i);const a=()=>this.tooltipText;i!=null&&(this.tooltipFeature=this.createBean(new Xo({getTooltipValue:a,getGui:()=>this.getGui(),getLocation:()=>n??"UNKNOWN",getColDef:e==null?void 0:e.getColDef,getColumn:e==null?void 0:e.getColumn,getTooltipShowDelayOverride:s!=null?()=>s:void 0,getTooltipHideDelayOverride:r!=null?()=>r:void 0,shouldDisplayTooltip:o})))}getDataRefAttribute(e){return e.getAttribute?e.getAttribute("data-ref"):null}applyElementsToComponent(e,i,s,r=null){if(i===void 0&&(i=this.getDataRefAttribute(e)),i){const n=this[i];if(n===oe)this[i]=r??e;else{const o=s&&s[i];!this.suppressDataRefValidation&&!o&&_(`Issue with data-ref: ${i} on ${this.constructor.name} with ${n}`)}}}createChildComponentsFromTags(e,i){QM(e.childNodes).forEach(r=>{if(!(r instanceof HTMLElement))return;const n=this.createComponentFromElement(r,o=>{o.getGui()&&this.copyAttributesFromNode(r,o.getGui())},i);if(n){if(n.addItems&&r.children.length){this.createChildComponentsFromTags(r,i);const o=Array.prototype.slice.call(r.children);n.addItems(o)}this.swapComponentForNode(n,e,r)}else r.childNodes&&this.createChildComponentsFromTags(r,i)})}createComponentFromElement(e,i,s){const r=e.nodeName,n=this.getDataRefAttribute(e),o=r.indexOf("AG-")===0,a=o?this.componentSelectors.get(r):null;let l=null;if(a){V0.elementGettingCreated=e;const c=s&&n?s[n]:void 0;l=new a.component(c),l.setParentComponent(this),this.createBean(l,null,i)}else o&&_(`Missing selector: ${r}`);return this.applyElementsToComponent(e,n,s,l),l}copyAttributesFromNode(e,i){ZM(e.attributes,(s,r)=>i.setAttribute(s,r))}swapComponentForNode(e,i,s){const r=e.getGui();i.replaceChild(r,s),i.insertBefore(document.createComment(s.nodeName),r),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e){const i=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(s=>s.setAttribute("tabindex",i.toString()))}setTemplate(e,i,s){const r=vl(e);this.setTemplateFromElement(r,i,s)}setTemplateFromElement(e,i,s,r=!1){if(this.eGui=e,this.suppressDataRefValidation=r,i)for(let n=0;n<i.length;n++){const o=i[n];this.componentSelectors.set(o.selector,o)}this.wireTemplate(e,s)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,i){let s=i;return e==null?null:(s||(s=this.eGui),Sv(e)?{element:e,parent:s}:{element:e.getGui(),parent:s})}prependChild(e,i){const{element:s,parent:r}=this.getContainerAndElement(e,i)||{};!s||!r||r.insertAdjacentElement("afterbegin",s)}appendChild(e,i){const{element:s,parent:r}=this.getContainerAndElement(e,i)||{};!s||!r||r.appendChild(s)}isDisplayed(){return this.displayed}setVisible(e,i={}){if(e!==this.visible){this.visible=e;const{skipAriaHidden:s}=i;$M(this.eGui,e,{skipAriaHidden:s})}}setDisplayed(e,i={}){if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:s}=i;Qe(this.eGui,e,{skipAriaHidden:s});const r={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(r)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),super.destroy()}addGuiEventListener(e,i,s){this.eGui.addEventListener(e,i,s),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,i))}addCssClass(e){this.cssClassManager.addCssClass(e)}removeCssClass(e){this.cssClassManager.removeCssClass(e)}containsCssClass(e){return this.cssClassManager.containsCssClass(e)}addOrRemoveCssClass(e,i){this.cssClassManager.addOrRemoveCssClass(e,i)}},_0={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus",checkboxChecked:"checkbox-checked",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off"},sT=(()=>{const t=new Set(Object.values(_0));return t.add("eye"),t})();function rT(t,e,i){const s=ui(t,e,i);if(s){const{className:n}=s;if(typeof n=="string"&&n.indexOf("ag-icon")>-1||typeof n=="object"&&n["ag-icon"])return s}const r=document.createElement("span");return r.appendChild(s),r}function ui(t,e,i,s){let r=null;const n=i&&i.getColDef().icons;if(n&&(r=n[t]),e&&!r){const o=e.get("icons");o&&(r=o[t])}if(r){let o;if(typeof r=="function")o=r();else if(typeof r=="string")o=r;else throw new Error("icon from grid options needs to be a string or a function");if(typeof o=="string")return vl(o);if(Sv(o))return o;_("iconRenderer should return back a string or a dom object")}else{const o=document.createElement("span");let a=_0[t]??(sT.has(t)?t:void 0);return a||(_(`Did not find icon ${t}`),a=""),o.setAttribute("class",`ag-icon ag-icon-${a}`),o.setAttribute("unselectable","on"),ns(o,"presentation"),o}}var nT=class extends ze{constructor(){super(...arguments),this.dragSource=null,this.eIcon=oe,this.eLabel=oe}postConstruct(){const t=e=>rT(e,this.gos,null);this.dropIconMap={pinned:t("columnMovePin"),hide:t("columnMoveHide"),move:t("columnMoveMove"),left:t("columnMoveLeft"),right:t("columnMoveRight"),group:t("columnMoveGroup"),aggregate:t("columnMoveValue"),pivot:t("columnMovePivot"),notAllowed:t("dropNotAllowed")}}init(t){this.dragSource=t.dragSource,this.setTemplate(`<div class="ag-dnd-ghost ag-unselectable">
                <span data-ref="eIcon" class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
                <div data-ref="eLabel" class="ag-dnd-ghost-label"></div>
            </div>`)}destroy(){this.dragSource=null,super.destroy()}setIcon(t,e=!1){var s,r;mi(this.eIcon);let i=null;t||(t=(s=this.dragSource)!=null&&s.getDefaultIconName?(r=this.dragSource)==null?void 0:r.getDefaultIconName():"notAllowed"),i=this.dropIconMap[t],this.eIcon.classList.toggle("ag-shake-left-to-right",e),!(i===this.dropIconMap.hide&&this.gos.get("suppressDragLeaveHidesColumns"))&&i&&this.eIcon.appendChild(i)}setLabel(t){this.eLabel.textContent=Cs(t)}};function U0(t,e,i){if(i===0)return!1;const s=Math.abs(t.clientX-e.clientX),r=Math.abs(t.clientY-e.clientY);return Math.max(s,r)<=i}var wr=class{constructor(t,e=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new Vo,this.eElement=t,this.preventMouseClick=e;const i=this.onTouchStart.bind(this),s=this.onTouchMove.bind(this),r=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",i,{passive:!0}),this.eElement.addEventListener("touchmove",s,{passive:!0}),this.eElement.addEventListener("touchend",r,{passive:!1}),this.destroyFuncs.push(()=>{this.eElement.removeEventListener("touchstart",i,{passive:!0}),this.eElement.removeEventListener("touchmove",s,{passive:!0}),this.eElement.removeEventListener("touchend",r,{passive:!1})})}getActiveTouch(t){for(let e=0;e<t.length;e++)if(t[e].identifier===this.touchStart.identifier)return t[e];return null}addEventListener(t,e){this.localEventService.addEventListener(t,e)}removeEventListener(t,e){this.localEventService.removeEventListener(t,e)}onTouchStart(t){if(this.touching)return;this.touchStart=t.touches[0],this.touching=!0,this.moved=!1;const e=this.touchStart;window.setTimeout(()=>{const i=this.touchStart===e;if(this.touching&&i&&!this.moved){this.moved=!0;const s={type:"longTap",touchStart:this.touchStart,touchEvent:t};this.localEventService.dispatchEvent(s)}},500)}onTouchMove(t){if(!this.touching)return;const e=this.getActiveTouch(t.touches);if(!e)return;!U0(e,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(t){if(this.touching){if(!this.moved){const e={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(e),this.checkForDoubleTap()}this.preventMouseClick&&t.cancelable&&t.preventDefault(),this.touching=!1}}checkForDoubleTap(){const t=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0)if(t-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const i={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(i),this.lastTapTime=null}else this.lastTapTime=t;else this.lastTapTime=t}destroy(){this.destroyFuncs.forEach(t=>t())}};function fa(t,e){return`<span data-ref="eSort${t}" class="ag-sort-indicator-icon ag-sort-${e} ag-hidden" aria-hidden="true"></span>`}var oT=`<span class="ag-sort-indicator-container">
        ${fa("Order","order")}
        ${fa("Asc","ascending-icon")}
        ${fa("Desc","descending-icon")}
        ${fa("Mixed","mixed-icon")}
        ${fa("None","none-icon")}
    </span>`,Rv=class extends ze{constructor(t){super(),this.eSortOrder=oe,this.eSortAsc=oe,this.eSortDesc=oe,this.eSortMixed=oe,this.eSortNone=oe,t||this.setTemplate(oT)}wireBeans(t){this.sortController=t.sortController}attachCustomElements(t,e,i,s,r){this.eSortOrder=t,this.eSortAsc=e,this.eSortDesc=i,this.eSortMixed=s,this.eSortNone=r}setupSort(t,e=!1){if(this.column=t,this.suppressOrder=e,this.setupMultiSortIndicator(),!this.column.isSortable()&&!this.column.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,t),this.addInIcon("sortDescending",this.eSortDesc,t),this.addInIcon("sortUnSort",this.eSortNone,t);const i=this.updateIcons.bind(this),s=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",i),this.addManagedEventListeners({newColumnsLoaded:i,sortChanged:s,columnRowGroupChanged:s}),this.onSortChanged()}addInIcon(t,e,i){if(e==null)return;const s=ui(t,this.gos,i);s&&e.appendChild(s)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const t=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){const e=t==="asc";Qe(this.eSortAsc,e,{skipAriaHidden:!0})}if(this.eSortDesc){const e=t==="desc";Qe(this.eSortDesc,e,{skipAriaHidden:!0})}if(this.eSortNone){const e=!this.column.getColDef().unSortIcon&&!this.gos.get("unSortIcon"),i=t==null;Qe(this.eSortNone,!e&&i,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);const t=this.column.getColDef().showRowGroup;ps(this.gos)&&t&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){const t=this.sortController.getDisplaySortForColumn(this.column)==="mixed";Qe(this.eSortMixed,t,{skipAriaHidden:!0})}}updateSortOrder(){if(!this.eSortOrder)return;const t=this.sortController.getColumnsWithSortingOrdered(),e=this.sortController.getDisplaySortIndexForColumn(this.column)??-1,i=t.some(r=>this.sortController.getDisplaySortIndexForColumn(r)??!1),s=e>=0&&i;Qe(this.eSortOrder,s,{skipAriaHidden:!0}),e>=0?this.eSortOrder.textContent=(e+1).toString():mi(this.eSortOrder)}},aT={selector:"AG-SORT-INDICATOR",component:Rv},lT=`<div class="ag-cell-label-container" role="presentation">
        <span data-ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
        <span data-ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>
        <div data-ref="eLabel" class="ag-header-cell-label" role="presentation">
            <span data-ref="eText" class="ag-header-cell-text"></span>
            <span data-ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
            <ag-sort-indicator data-ref="eSortIndicator"></ag-sort-indicator>
        </div>
    </div>`,qp=class extends ze{constructor(){super(...arguments),this.eFilter=oe,this.eFilterButton=oe,this.eSortIndicator=oe,this.eMenu=oe,this.eLabel=oe,this.eText=oe,this.eSortOrder=oe,this.eSortAsc=oe,this.eSortDesc=oe,this.eSortMixed=oe,this.eSortNone=oe,this.lastMovingChanged=0}wireBeans(t){this.sortController=t.sortController,this.menuService=t.menuService,this.funcColsService=t.funcColsService}destroy(){super.destroy()}refresh(t){const e=this.params;return this.params=t,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort||this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||e.enableFilterButton!=t.enableFilterButton||e.enableFilterIcon!=t.enableFilterIcon?!1:(this.setDisplayName(t),!0)}workOutTemplate(){let t=this.params.template??lT;return t=t&&t.trim?t.trim():t,t}init(t){this.params=t,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate,[aT]),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(t)}setDisplayName(t){if(this.currentDisplayName!=t.displayName){this.currentDisplayName=t.displayName;const e=Cs(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=e)}}addInIcon(t,e,i){if(e==null)return;const s=ui(t,this.gos,i);s&&e.appendChild(s)}setupTap(){const{gos:t}=this;if(t.get("suppressTouch"))return;const e=new wr(this.getGui(),!0),i=this.shouldSuppressMenuHide(),s=i&&K(this.eMenu),r=s?new wr(this.eMenu,!0):e;if(this.params.enableMenu){const n=s?"tap":"longTap",o=a=>this.params.showColumnMenuAfterMouseClick(a.touchStart);this.addManagedListeners(r,{[n]:o})}if(this.params.enableSorting){const n=o=>{var l,c;const a=o.touchStart.target;i&&((l=this.eMenu)!=null&&l.contains(a)||(c=this.eFilterButton)!=null&&c.contains(a))||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")};this.addManagedListeners(e,{tap:n})}if(this.params.enableFilterButton){const n=new wr(this.eFilterButton,!0);this.addManagedListeners(n,{tap:()=>this.params.showFilter(this.eFilterButton)}),this.addDestroyFunc(()=>n.destroy())}this.addDestroyFunc(()=>e.destroy()),s&&this.addDestroyFunc(()=>r.destroy())}workOutShowMenu(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){Rn(this.eMenu),this.eMenu=void 0;return}const t=this.menuService.isLegacyMenuEnabled();this.addInIcon(t?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!t),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedElementListeners(this.eMenu,{click:()=>this.params.showColumnMenu(this.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}onMenuKeyboardShortcut(t){const e=this.params.column,i=this.menuService.isLegacyMenuEnabled();if(t&&!i){if(this.menuService.isFilterMenuInHeaderEnabled(e))return this.params.showFilter(this.eFilterButton??this.eMenu??this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu(this.eMenu??this.eFilterButton??this.getGui()),!0;return!1}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.createBean(new Rv(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;this.addManagedListeners(this.params.column,{movingChanged:()=>{this.lastMovingChanged=new Date().getTime()}}),this.eLabel&&this.addManagedElementListeners(this.eLabel,{click:e=>{const i=this.params.column.isMoving(),r=new Date().getTime()-this.lastMovingChanged<50;if(!(i||r)){const a=this.gos.get("multiSortKey")==="ctrl"?e.ctrlKey||e.metaKey:e.shiftKey;this.params.progressSort(a)}}});const t=()=>{const e=this.params.column.getSort();if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",e==="asc"),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",e==="desc"),this.addOrRemoveCssClass("ag-header-cell-sorted-none",!e),this.params.column.getColDef().showRowGroup){const i=this.funcColsService.getSourceColumnsForGroupColumn(this.params.column),r=!(i==null?void 0:i.every(n=>this.params.column.getSort()==n.getSort()));this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",r)}};this.addManagedEventListeners({sortChanged:t,columnRowGroupChanged:t})}setupFilterIcon(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))}setupFilterButton(){if(!this.eFilterButton)return;this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this))?this.addManagedElementListeners(this.eFilterButton,{click:()=>this.params.showFilter(this.eFilterButton)}):this.eFilterButton=void 0}configureFilter(t,e,i){if(!t)return Rn(e),!1;const s=this.params.column;return this.addInIcon("filter",e,s),this.addManagedListeners(s,{filterChanged:i}),i(),!0}onFilterChangedIcon(){const t=this.params.column.isFilterActive();Qe(this.eFilter,t,{skipAriaHidden:!0})}onFilterChangedButton(){const t=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",t)}getAnchorElementForMenu(t){return t?this.eFilterButton??this.eMenu??this.getGui():this.eMenu??this.eFilterButton??this.getGui()}},cT=class extends ze{constructor(){super(`<div class="ag-header-group-cell-label" role="presentation">
            <span data-ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span data-ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span data-ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`),this.agOpened=oe,this.agClosed=oe,this.agLabel=oe}wireBeans(t){this.columnModel=t.columnModel}destroy(){super.destroy()}init(t){this.params=t,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){this.params.template&&_("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}setupExpandIcons(){this.addInIcon("columnGroupOpened",this.agOpened),this.addInIcon("columnGroupClosed",this.agClosed);const t=r=>{if(Is(r))return;const n=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),n,"uiColumnExpanded")};this.addTouchAndClickListeners(this.agClosed,t),this.addTouchAndClickListeners(this.agOpened,t);const e=r=>{Po(r)};this.addManagedElementListeners(this.agClosed,{dblclick:e}),this.addManagedElementListeners(this.agOpened,{dblclick:e}),this.addManagedElementListeners(this.getGui(),{dblclick:t}),this.updateIconVisibility();const i=this.params.columnGroup.getProvidedColumnGroup(),s=this.updateIconVisibility.bind(this);this.addManagedListeners(i,{expandedChanged:s,expandableChanged:s})}addTouchAndClickListeners(t,e){const i=new wr(t,!0);this.addManagedListeners(i,{tap:e}),this.addDestroyFunc(()=>i.destroy()),this.addManagedElementListeners(t,{click:e})}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){const e=this.params.columnGroup.isExpanded();Qe(this.agOpened,e),Qe(this.agClosed,!e)}else Qe(this.agOpened,!1),Qe(this.agClosed,!1)}addInIcon(t,e){const i=ui(t,this.gos,null);i&&e.appendChild(i)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable()){Qe(this.agOpened,!1),Qe(this.agClosed,!1);return}}setupLabel(){var i;const{displayName:t,columnGroup:e}=this.params;if(K(t)){const s=Cs(t,!0);this.agLabel.textContent=s}this.addOrRemoveCssClass("ag-sticky-label",!((i=e.getColGroupDef())!=null&&i.suppressStickyLabel))}},uT="",hT="",dT=class extends ze{constructor(){super(),this.refreshCount=0;const t=document.createElement("span"),e=document.createElement("span");e.setAttribute("class","ag-value-change-delta");const i=document.createElement("span");i.setAttribute("class","ag-value-change-value"),t.appendChild(e),t.appendChild(i),this.setTemplateFromElement(t)}wireBeans(t){this.filterManager=t.filterManager}init(t){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(t,!0)}showDelta(t,e){const i=Math.abs(e),s=t.formatValue(i),r=K(s)?s:i,n=e>=0;n?this.eDelta.textContent=uT+r:this.eDelta.textContent=hT+r,this.eDelta.classList.toggle("ag-value-change-delta-up",n),this.eDelta.classList.toggle("ag-value-change-delta-down",!n)}setTimerToRemoveDelta(){this.refreshCount++;const t=this.refreshCount;this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{t===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),mi(this.eDelta)}refresh(t,e=!1){var s;const i=t.value;if(i===this.lastValue||(K(t.valueFormatted)?this.eValue.textContent=t.valueFormatted:K(t.value)?this.eValue.textContent=i:mi(this.eValue),(s=this.filterManager)!=null&&s.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof i=="number"&&typeof this.lastValue=="number"){const r=i-this.lastValue;this.showDelta(t,r)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),e||this.setTimerToRemoveDelta(),this.lastValue=i,!0}},gT=class extends ze{constructor(){super(),this.refreshCount=0;const t=document.createElement("span"),e=document.createElement("span");e.setAttribute("class","ag-value-slide-current"),t.appendChild(e),this.setTemplateFromElement(t),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}wireBeans(t){this.filterManager=t.filterManager}init(t){this.refresh(t,!0)}addSlideAnimation(){this.refreshCount++;const t=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const e=document.createElement("span");e.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=e,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{t===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{t===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(t,e=!1){var s;let i=t.value;return be(i)&&(i=""),i===this.lastValue||(s=this.filterManager)!=null&&s.isSuppressFlashingCellsBecauseFiltering()?!1:(e||this.addSlideAnimation(),this.lastValue=i,K(t.valueFormatted)?this.eCurrent.textContent=t.valueFormatted:K(t.value)?this.eCurrent.textContent=i:mi(this.eCurrent),!0)}},B=class{};B.BACKSPACE="Backspace";B.TAB="Tab";B.ENTER="Enter";B.ESCAPE="Escape";B.SPACE=" ";B.LEFT="ArrowLeft";B.UP="ArrowUp";B.RIGHT="ArrowRight";B.DOWN="ArrowDown";B.DELETE="Delete";B.F2="F2";B.PAGE_UP="PageUp";B.PAGE_DOWN="PageDown";B.PAGE_HOME="Home";B.PAGE_END="End";B.A="KeyA";B.C="KeyC";B.D="KeyD";B.V="KeyV";B.X="KeyX";B.Y="KeyY";B.Z="KeyZ";var pT=class extends ze{constructor(t,e,i){super(e,i),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=t||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:t,label:e,labelWidth:i,labelAlignment:s,disabled:r}=this.config;r!=null&&this.setDisabled(r),t!=null&&this.setLabelSeparator(t),e!=null&&this.setLabel(e),i!=null&&this.setLabelWidth(i),this.setLabelAlignment(s||this.labelAlignment),this.refreshLabel()}refreshLabel(){mi(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?(Qe(this.eLabel,!1),ns(this.eLabel,"presentation")):(Qe(this.eLabel,!0),ns(this.eLabel,null))}setLabelSeparator(t){return this.labelSeparator===t?this:(this.labelSeparator=t,this.label!=null&&this.refreshLabel(),this)}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(t){return this.label===t?this:(this.label=t,this.refreshLabel(),this)}setLabelAlignment(t){const i=this.getGui().classList;return i.toggle("ag-label-align-left",t==="left"),i.toggle("ag-label-align-right",t==="right"),i.toggle("ag-label-align-top",t==="top"),this}setLabelEllipsis(t){return this.eLabel.classList.toggle("ag-label-ellipsis",t),this}setLabelWidth(t){return this.label==null?this:(eh(this.eLabel,t),this)}setDisabled(t){t=!!t;const e=this.getGui();return ml(e,t),e.classList.toggle("ag-disabled",t),this.disabled=t,this}isDisabled(){return!!this.disabled}},X0=class extends pT{constructor(t,e,i,s){super(t,e,i),this.className=s}postConstruct(){super.postConstruct();const{width:t,value:e,onValueChange:i}=this.config;t!=null&&this.setWidth(t),e!=null&&this.setValue(e),i!=null&&this.onValueChange(i),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}setLabel(t){return super.setLabel(t),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const t=this.getAriaElement(),e=this.getLabelId(),i=this.getLabel();i==null||i==""||MM(t)!==null?fl(t,""):fl(t,e??"")}setAriaLabel(t){return Eo(this.getAriaElement(),t),this.refreshAriaLabelledBy(),this}onValueChange(t){return this.addManagedListeners(this,{fieldValueChanged:()=>t(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(t){return es(this.getGui(),t),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(t,e){return this.value===t?this:(this.previousValue=this.value,this.value=t,e||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}},Zr=class extends X0{constructor(t,e,i="text",s="input"){super(t,(t==null?void 0:t.template)??`
            <div role="presentation">
                <div data-ref="eLabel" class="ag-input-field-label"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <${s} data-ref="eInput" class="ag-input-field-input"></${s}>
                </div>
            </div>`,[],e),this.inputType=i,this.displayFieldTag=s,this.eLabel=oe,this.eWrapper=oe,this.eInput=oe}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;const{inputName:t,inputWidth:e}=this.config;t!=null&&this.setInputName(t),e!=null&&this.setInputWidth(e),this.addInputListeners(),this.activateTabIndex([this.eInput])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:t=>this.setValue(t.target.value)})}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(t){return eh(this.eWrapper,t),this}setInputName(t){return this.getInputElement().setAttribute("name",t),this}getFocusableElement(){return this.eInput}setMaxLength(t){const e=this.eInput;return e.maxLength=t,this}setInputPlaceholder(t){return Di(this.eInput,"placeholder",t),this}setInputAriaLabel(t){return Eo(this.eInput,t),this.refreshAriaLabelledBy(),this}setDisabled(t){return ml(this.eInput,t),super.setDisabled(t)}setAutoComplete(t){if(t===!0)Di(this.eInput,"autocomplete",null);else{const e=typeof t=="string"?t:"off";Di(this.eInput,"autocomplete",e)}return this}},Fv=class extends Zr{constructor(t,e="ag-checkbox",i="checkbox"){super(t,e,i),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:t,passive:e}=this.config;typeof t=="boolean"&&this.setReadOnly(t),typeof e=="boolean"&&this.setPassive(e)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(t){this.passive=t}isReadOnly(){return this.readOnly}setReadOnly(t){this.eWrapper.classList.toggle("ag-disabled",t),this.eInput.disabled=t,this.readOnly=t}setDisabled(t){return this.eWrapper.classList.toggle("ag-disabled",t),super.setDisabled(t)}toggle(){if(this.eInput.disabled)return;const t=this.isSelected(),e=this.getNextValue();this.passive?this.dispatchChange(e,t):this.setValue(e)}getValue(){return this.isSelected()}setValue(t,e){return this.refreshSelectedClass(t),this.setSelected(t,e),this}setName(t){const e=this.getInputElement();return e.name=t,this}isSelected(){return this.selected}setSelected(t,e){this.isSelected()!==t&&(this.previousValue=this.isSelected(),t=this.selected=typeof t=="boolean"?t:void 0,this.eInput.checked=t,this.eInput.indeterminate=t===void 0,e||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(t,e,i){this.dispatchLocalEvent({type:"fieldValueChanged",selected:t,previousValue:e,event:i});const s=this.getInputElement();this.eventService.dispatchEvent({type:"checkboxChanged",id:s.id,name:s.name,selected:t,previousValue:e})}onCheckboxClick(t){if(this.passive||this.eInput.disabled)return;const e=this.isSelected(),i=this.selected=t.target.checked;this.refreshSelectedClass(i),this.dispatchChange(i,e,t)}refreshSelectedClass(t){this.eWrapper.classList.toggle("ag-checked",t===!0),this.eWrapper.classList.toggle("ag-indeterminate",t==null)}},Av={selector:"AG-CHECKBOX",component:Fv},fT=class extends ze{constructor(){super(`
            <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[Av]),this.eCheckbox=oe}init(t){this.refresh(t);const e=this.eCheckbox.getInputElement();e.setAttribute("tabindex","-1"),k0(e,"polite"),this.addManagedListeners(e,{click:i=>{if(Po(i),this.eCheckbox.isDisabled())return;const s=this.eCheckbox.getValue();this.onCheckboxChanged(s)},dblclick:i=>{Po(i)}}),this.addManagedElementListeners(this.params.eGridCell,{keydown:i=>{if(i.key===B.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===Ze(this.gos)&&this.eCheckbox.toggle();const s=this.eCheckbox.getValue();this.onCheckboxChanged(s),i.preventDefault()}}})}refresh(t){return this.params=t,this.updateCheckbox(t),!0}updateCheckbox(t){var a;let e,i=!0;if(t.node.group&&t.column)if(typeof t.value=="boolean")e=t.value;else{const l=t.column.getColId();l.startsWith(Hh)?e=t.value==null||t.value===""?void 0:t.value==="true":t.node.aggData&&t.node.aggData[l]!==void 0?e=t.value??void 0:i=!1}else e=t.value??void 0;if(!i){this.eCheckbox.setDisplayed(!1);return}this.eCheckbox.setValue(e);const s=t.disabled!=null?t.disabled:!((a=t.column)!=null&&a.isCellEditable(t.node));this.eCheckbox.setDisabled(s);const r=this.localeService.getLocaleTextFunc(),n=vv(r,e),o=s?n:`${r("ariaToggleCellValue","Press SPACE to toggle cell value")} (${n})`;this.eCheckbox.setInputAriaLabel(o)}onCheckboxChanged(t){const{column:e,node:i,value:s}=this.params;this.eventService.dispatchEvent({type:"cellEditingStarted",column:e,colDef:e==null?void 0:e.getColDef(),data:i.data,node:i,rowIndex:i.rowIndex,rowPinned:i.rowPinned,value:s});const r=this.params.node.setDataValue(this.params.column,t,"edit");this.eventService.dispatchEvent({type:"cellEditingStopped",column:e,colDef:e==null?void 0:e.getColDef(),data:i.data,node:i,rowIndex:i.rowIndex,rowPinned:i.rowPinned,value:s,oldValue:s,newValue:t,valueChanged:r}),r||this.updateCheckbox(this.params)}},mT=class extends ze{constructor(){super(`<div class="ag-loading">
            <span class="ag-loading-icon" data-ref="eLoadingIcon"></span>
            <span class="ag-loading-text" data-ref="eLoadingText"></span>
        </div>`),this.eLoadingIcon=oe,this.eLoadingText=oe}init(t){t.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingError","ERR")}setupLoading(){const t=ui("groupLoading",this.gos,null);t&&this.eLoadingIcon.appendChild(t);const e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingOoo","Loading")}refresh(t){return!1}destroy(){super.destroy()}},vT=class extends ze{constructor(){super('<div class="ag-skeleton-container"></div>')}init(t){const e=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",e),this.addDestroyFunc(()=>fl(t.eParentOfValue)),fl(t.eParentOfValue,e),t.node.failedLoad?this.setupFailed():this.setupLoading(t)}setupFailed(){const t=this.localeService.getLocaleTextFunc();this.getGui().innerText=t("loadingError","ERR");const e=t("ariaSkeletonCellLoadingFailed","Row failed to load");Eo(this.getGui(),e)}setupLoading(t){const i=st(this.gos).createElement("div");i.classList.add("ag-skeleton-effect");const s=t.node.rowIndex;if(s!=null){const o=75+25*(s%2===0?Math.sin(s):Math.cos(s));i.style.width=`${o}%`}this.getGui().appendChild(i);const n=this.localeService.getLocaleTextFunc()("ariaSkeletonCellLoading","Row data is loading");Eo(this.getGui(),n)}refresh(t){return!1}destroy(){super.destroy()}},j0=class extends ze{constructor(){super()}destroy(){super.destroy()}},CT=class extends j0{init(){var e;const t=Ls((e=this.gos.get("overlayLoadingTemplate"))==null?void 0:e.trim());if(this.setTemplate(t??'<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>'),!t){const i=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=i("loadingOoo","Loading...")})}}},yT=class extends j0{init(){var e;const t=Ls((e=this.gos.get("overlayNoRowsTemplate"))==null?void 0:e.trim());if(this.setTemplate(t??'<span class="ag-overlay-no-rows-center"></span>'),!t){const i=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=i("noRowsToShow","No Rows To Show")})}}},jo=class extends ze{isPopup(){return!0}setParentComponent(t){t.addCssClass("ag-has-popup"),super.setParentComponent(t)}destroy(){const t=this.parentComponent;t&&t.isAlive()&&t.getGui().classList.remove("ag-has-popup"),super.destroy()}},wT=class extends jo{constructor(){super('<div class="ag-tooltip"></div>')}init(t){const{value:e}=t;this.getGui().textContent=Cs(e,!0)}};function Y0(t){const{inputValue:e,allSuggestions:i,hideIrrelevant:s,filterByPercentageOfBestMatch:r,addSequentialWeight:n}=t;let o=i.map((c,u)=>({value:c,relevance:bT(e.toLowerCase(),c.toLocaleLowerCase(),n),idx:u}));if(o.sort((c,u)=>u.relevance-c.relevance),s&&(o=o.filter(c=>c.relevance!==0)),o.length>0&&r&&r>0){const u=o[0].relevance*r;o=o.filter(h=>u-h.relevance<0)}const a=[],l=[];for(const c of o)a.push(c.value),l.push(c.idx);return{values:a,indices:l}}function xT(t){const e=[],i=t.length;for(let s=1;s<=i;s++)for(let r=0;r<=i-s;r++){const n=r+s-1;e.push(t.slice(r,n+1))}return e}function bT(t,e,i=!1){const s=t.replace(/\s/g,""),r=e.replace(/\s/g,""),n=s.length,o=r.length,a=new Array(n+1).fill(null).map(()=>new Array(o+1).fill(0));for(let h=0;h<=n;h+=1)a[h][0]=h;for(let h=0;h<=o;h+=1)a[0][h]=h;for(let h=1;h<=n;h++)for(let d=1;d<=o;d++)s[h-1]===r[d-1]?a[h][d]=a[h-1][d-1]:a[h][d]=1+Math.min(a[h][d-1],Math.min(a[h-1][d],a[h-1][d-1]));const l=a[n][o];let u=Math.max(n,o)-l;if(i){const h=xT(s);for(let d=0;d<h.length;d++){const g=h[d];r.indexOf(g)!==-1&&(u+=1,u*=g.length)}}return u}var ST=class extends W{constructor(){super(...arguments),this.beanName="userComponentRegistry",this.agGridDefaults={agDragAndDropImage:nT,agColumnHeader:qp,agColumnGroupHeader:cT,agSortIndicator:Rv,agAnimateShowChangeCellRenderer:dT,agAnimateSlideCellRenderer:gT,agLoadingCellRenderer:mT,agSkeletonCellRenderer:vT,agCheckboxCellRenderer:fT,agLoadingOverlay:CT,agNoRowsOverlay:yT,agTooltipComponent:wT},this.agGridDefaultParams={},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:"@ag-grid-enterprise/set-filter",agSetColumnFloatingFilter:"@ag-grid-enterprise/set-filter",agMultiColumnFilter:"@ag-grid-enterprise/multi-filter",agMultiColumnFloatingFilter:"@ag-grid-enterprise/multi-filter",agGroupColumnFilter:"@ag-grid-enterprise/row-grouping",agGroupColumnFloatingFilter:"@ag-grid-enterprise/row-grouping",agGroupCellRenderer:"@ag-grid-enterprise/row-grouping",agGroupRowRenderer:"@ag-grid-enterprise/row-grouping",agRichSelect:"@ag-grid-enterprise/rich-select",agRichSelectCellEditor:"@ag-grid-enterprise/rich-select",agDetailCellRenderer:"@ag-grid-enterprise/master-detail",agSparklineCellRenderer:"@ag-grid-enterprise/sparklines"},this.jsComps={}}postConstruct(){const t=this.gos.get("components");t!=null&&Yi(t,(e,i)=>this.registerJsComponent(e,i))}registerDefaultComponent(t,e,i){this.agGridDefaults[t]=e,i&&(this.agGridDefaultParams[t]=i)}registerJsComponent(t,e){this.jsComps[t]=e}retrieve(t,e){const i=(a,l,c)=>({componentFromFramework:l,component:a,params:c}),s=this.getFrameworkOverrides().frameworkComponent(e,this.gos.get("components"));if(s!=null)return i(s,!0);const r=this.jsComps[e];if(r){const a=this.getFrameworkOverrides().isFrameworkComponent(r);return i(r,a)}const n=this.agGridDefaults[e];if(n)return i(n,!1,this.agGridDefaultParams[e]);const o=this.enterpriseAgDefaultCompsModule[e];return o?this.gos.assertModuleRegistered(o,`AG Grid '${t}' component: ${e}`):cv(()=>{this.warnAboutMissingComponent(t,e)},"MissingComp"+e),null}warnAboutMissingComponent(t,e){const i=[...Object.keys(this.agGridDefaults).filter(r=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(r)),...Object.keys(this.jsComps)],s=Y0({inputValue:e,allSuggestions:i,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;_(`Could not find '${e}' component. It was configured as "${t}: '${e}'" but it wasn't found in the list of registered components.`),s.length>0&&_(`         Did you mean: [${s.slice(0,3)}]?`),_(`If using a custom component check it has been registered as described in: ${this.getFrameworkOverrides().getDocLink("components/")}`)}},it=class Pa{constructor(e){this.status=0,this.resolution=null,this.waiters=[],e(i=>this.onDone(i),i=>this.onReject(i))}static all(e){return e.length?new Pa(i=>{let s=e.length;const r=new Array(s);e.forEach((n,o)=>{n.then(a=>{r[o]=a,s--,s===0&&i(r)})})}):Pa.resolve()}static resolve(e=null){return new Pa(i=>i(e))}then(e){return new Pa(i=>{this.status===1?i(e(this.resolution)):this.waiters.push(s=>i(e(s)))})}onDone(e){this.status=1,this.resolution=e,this.waiters.forEach(i=>i(e))}onReject(e){}},RT={propertyName:"dateComponent",cellRenderer:!1},FT={propertyName:"dragAndDropImageComponent",cellRenderer:!1},AT={propertyName:"headerComponent",cellRenderer:!1},PT={propertyName:"headerGroupComponent",cellRenderer:!1},Qy={propertyName:"cellRenderer",cellRenderer:!0},ET={propertyName:"cellRenderer",cellRenderer:!1},kT={propertyName:"loadingCellRenderer",cellRenderer:!0},MT={propertyName:"cellEditor",cellRenderer:!1},Zy={propertyName:"innerRenderer",cellRenderer:!0},TT={propertyName:"loadingOverlayComponent",cellRenderer:!1},DT={propertyName:"noRowsOverlayComponent",cellRenderer:!1},LT={propertyName:"tooltipComponent",cellRenderer:!1},Pv={propertyName:"filter",cellRenderer:!1},IT={propertyName:"floatingFilterComponent",cellRenderer:!1},OT={propertyName:"toolPanel",cellRenderer:!1},HT={propertyName:"statusPanel",cellRenderer:!1},NT={propertyName:"fullWidthCellRenderer",cellRenderer:!0},GT={propertyName:"loadingCellRenderer",cellRenderer:!0},BT={propertyName:"groupRowRenderer",cellRenderer:!0},WT={propertyName:"detailCellRenderer",cellRenderer:!0},zT={propertyName:"menuItem",cellRenderer:!1},$0=class K0 extends W{constructor(){super(...arguments),this.beanName="userComponentFactory"}wireBeans(e){this.agComponentUtils=e.agComponentUtils,this.componentMetadataProvider=e.componentMetadataProvider,this.userComponentRegistry=e.userComponentRegistry,this.frameworkComponentWrapper=e.frameworkComponentWrapper,this.gridOptions=e.gridOptions}getDragAndDropImageCompDetails(e){return this.getCompDetails(this.gridOptions,FT,"agDragAndDropImage",e,!0)}getHeaderCompDetails(e,i){return this.getCompDetails(e,AT,"agColumnHeader",i)}getHeaderGroupCompDetails(e){const i=e.columnGroup.getColGroupDef();return this.getCompDetails(i,PT,"agColumnGroupHeader",e)}getFullWidthCellRendererDetails(e){return this.getCompDetails(this.gridOptions,NT,null,e,!0)}getFullWidthLoadingCellRendererDetails(e){return this.getCompDetails(this.gridOptions,GT,"agLoadingCellRenderer",e,!0)}getFullWidthGroupCellRendererDetails(e){return this.getCompDetails(this.gridOptions,BT,"agGroupRowRenderer",e,!0)}getFullWidthDetailCellRendererDetails(e){return this.getCompDetails(this.gridOptions,WT,"agDetailCellRenderer",e,!0)}getInnerRendererDetails(e,i){return this.getCompDetails(e,Zy,null,i)}getFullWidthGroupRowInnerCellRenderer(e,i){return this.getCompDetails(e,Zy,null,i)}getCellRendererDetails(e,i){return this.getCompDetails(e,Qy,null,i)}getEditorRendererDetails(e,i){return this.getCompDetails(e,ET,null,i)}getLoadingCellRendererDetails(e,i){return this.getCompDetails(e,kT,"agSkeletonCellRenderer",i,!0)}getCellEditorDetails(e,i){return this.getCompDetails(e,MT,"agCellEditor",i,!0)}getFilterDetails(e,i,s){return this.getCompDetails(e,Pv,s,i,!0)}getDateCompDetails(e){return this.getCompDetails(this.gridOptions,RT,"agDateInput",e,!0)}getLoadingOverlayCompDetails(e){return this.getCompDetails(this.gridOptions,TT,"agLoadingOverlay",e,!0)}getNoRowsOverlayCompDetails(e){return this.getCompDetails(this.gridOptions,DT,"agNoRowsOverlay",e,!0)}getTooltipCompDetails(e){return this.getCompDetails(e.colDef,LT,"agTooltipComponent",e,!0)}getSetFilterCellRendererDetails(e,i){return this.getCompDetails(e,Qy,null,i)}getFloatingFilterCompDetails(e,i,s){return this.getCompDetails(e,IT,s,i)}getToolPanelCompDetails(e,i){return this.getCompDetails(e,OT,null,i,!0)}getStatusPanelCompDetails(e,i){return this.getCompDetails(e,HT,null,i,!0)}getMenuItemCompDetails(e,i){return this.getCompDetails(e,zT,"agMenuItem",i,!0)}getCompDetails(e,i,s,r,n=!1){const{propertyName:o,cellRenderer:a}=i;let{compName:l,jsComp:c,fwComp:u,paramsFromSelector:h,popupFromSelector:d,popupPositionFromSelector:g}=K0.getCompKeys(this.frameworkOverrides,e,i,r),p;const f=y=>{const w=this.userComponentRegistry.retrieve(o,y);w&&(c=w.componentFromFramework?void 0:w.component,u=w.componentFromFramework?w.component:void 0,p=w.params)};if(l!=null&&f(l),c==null&&u==null&&s!=null&&f(s),c&&a&&!this.agComponentUtils.doesImplementIComponent(c)&&(c=this.agComponentUtils.adaptFunction(o,c)),!c&&!u){n&&ke(`Could not find component ${l}, did you forget to configure this component?`);return}const C=this.mergeParamsWithApplicationProvidedParams(e,i,r,h,p),m=c==null,v=c||u;return{componentFromFramework:m,componentClass:v,params:C,type:i,popupFromSelector:d,popupPositionFromSelector:g,newAgStackInstance:()=>this.newAgStackInstance(v,m,C,i)}}static getCompKeys(e,i,s,r){const{propertyName:n}=s;let o,a,l,c,u,h;if(i){const d=i,g=d[n+"Selector"],p=g?g(r):null,f=C=>{typeof C=="string"?o=C:C!=null&&C!==!0&&(e.isFrameworkComponent(C)?l=C:a=C)};p?(f(p.component),c=p.params,u=p.popup,h=p.popupPosition):f(d[n])}return{compName:o,jsComp:a,fwComp:l,paramsFromSelector:c,popupFromSelector:u,popupPositionFromSelector:h}}newAgStackInstance(e,i,s,r){const n=r.propertyName,o=!i;let a;if(o)a=new e;else{const c=this.componentMetadataProvider.retrieve(n);a=this.frameworkComponentWrapper.wrap(e,c.mandatoryMethodList,c.optionalMethodList,r)}const l=this.initComponent(a,s);return l==null?it.resolve(a):l.then(()=>a)}mergeParamsWithApplicationProvidedParams(e,i,s,r=null,n){const o=this.gos.getGridCommonParams();Vt(o,s),n&&Vt(o,n);const a=e,l=a&&a[i.propertyName+"Params"];if(typeof l=="function"){const c=l(s);Vt(o,c)}else typeof l=="object"&&Vt(o,l);return Vt(o,r),o}initComponent(e,i){if(this.createBean(e),e.init!=null)return e.init(i)}};function za(t){const e=t;return e!=null&&e.getFrameworkComponentInstance!=null?e.getFrameworkComponentInstance():t}var Nh=class Ee{static register(e){Ee.__register(e,!0,void 0)}static registerModules(e){Ee.__registerModules(e,!0,void 0)}static __register(e,i,s){Ee.runVersionChecks(e),s!==void 0?(Ee.areGridScopedModules=!0,Ee.gridModulesMap[s]===void 0&&(Ee.gridModulesMap[s]={}),Ee.gridModulesMap[s][e.moduleName]=e):Ee.globalModulesMap[e.moduleName]=e,Ee.setModuleBased(i)}static __unRegisterGridModules(e){delete Ee.gridModulesMap[e]}static __registerModules(e,i,s){Ee.setModuleBased(i),e&&e.forEach(r=>Ee.__register(r,i,s))}static isValidModuleVersion(e){const[i,s]=e.version.split(".")||[],[r,n]=Ee.currentModuleVersion.split(".")||[];return i===r&&s===n}static runVersionChecks(e){Ee.currentModuleVersion||(Ee.currentModuleVersion=e.version);const i=s=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${s} Please update all modules to the same version.`;if(e.version?Ee.isValidModuleVersion(e)||ke(i(`'${e.moduleName}' is version ${e.version} but the other modules are version ${Ee.currentModuleVersion}.`)):ke(i(`'${e.moduleName}' is incompatible.`)),e.validate){const s=e.validate();s.isValid||ke(`${s.message}`)}}static setModuleBased(e){Ee.moduleBased===void 0?Ee.moduleBased=e:Ee.moduleBased!==e&&(ke("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),ke("Please see https://www.ag-grid.com/javascript-grid/modules/ for more information."))}static __setIsBundled(){Ee.isBundled=!0}static __assertRegistered(e,i,s){var n;if(this.__isRegistered(e,s))return!0;let r;if(Ee.isBundled)r=`AG Grid: unable to use ${i} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:
        
        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>
        
For more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(Ee.moduleBased||Ee.moduleBased===void 0){const o=(n=Object.entries(o0).find(([a,l])=>l===e))==null?void 0:n[0];r=`AG Grid: unable to use ${i} as the ${o} is not registered${Ee.areGridScopedModules?` for gridId: ${s}`:""}. Check if you have registered the module:
           
    import { ModuleRegistry } from '@ag-grid-community/core';
    import { ${o} } from '${e}';
    
    ModuleRegistry.registerModules([ ${o} ]);

For more info see: https://www.ag-grid.com/javascript-grid/modules/`}else r=`AG Grid: unable to use ${i} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:
            
    import 'ag-grid-enterprise';`;return ke(r),!1}static __isRegistered(e,i){var s;return!!Ee.globalModulesMap[e]||!!((s=Ee.gridModulesMap[i])!=null&&s[e])}static __getRegisteredModules(e){return[...Zc(Ee.globalModulesMap),...Zc(Ee.gridModulesMap[e]||{})]}static __getGridRegisteredModules(e){return Zc(Ee.gridModulesMap[e]??{})||[]}static __isPackageBased(){return!Ee.moduleBased}};Nh.globalModulesMap={};Nh.gridModulesMap={};Nh.areGridScopedModules=!1;var fs=Nh,VT=class{constructor(t){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!t||!t.beanClasses)&&(this.beanDestroyComparator=t.beanDestroyComparator,this.init(t))}init(t){var e;Object.entries(t.providedBeanInstances).forEach(([i,s])=>{this.beans[i]=s}),t.beanClasses.forEach(i=>{const s=new i;s.beanName?this.beans[s.beanName]=s:console.error(`Bean ${i.name} is missing beanName`),this.createdBeans.push(s)}),(e=t.derivedBeans)==null||e.forEach(i=>{const{beanName:s,bean:r}=i(this);this.beans[s]=r,this.createdBeans.push(r)}),t.beanInitComparator&&this.createdBeans.sort(t.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(t,e){if(!t)throw Error("Can't wire to bean since it is null");return this.initBeans([t],e),t}initBeans(t,e){t.forEach(i=>{var s,r;(s=i.preWireBeans)==null||s.call(i,this.beans),(r=i.wireBeans)==null||r.call(i,this.beans)}),t.forEach(i=>{var s;return(s=i.preConstruct)==null?void 0:s.call(i)}),e&&t.forEach(e),t.forEach(i=>{var s;return(s=i.postConstruct)==null?void 0:s.call(i)})}getBeans(){return this.beans}getBean(t){return this.beans[t]}destroy(){if(this.destroyed)return;this.destroyed=!0;const t=this.getBeanInstances();this.beanDestroyComparator&&t.sort(this.beanDestroyComparator),this.destroyBeans(t),this.beans={},this.createdBeans=[]}destroyBean(t){var e;(e=t==null?void 0:t.destroy)==null||e.call(t)}destroyBeans(t){if(t)for(let e=0;e<t.length;e++)this.destroyBean(t[e]);return[]}isDestroyed(){return this.destroyed}},_T=class extends VT{init(e){this.gridId=e.gridId,this.beans.context=this,super.init(e)}destroy(){super.destroy(),fs.__unRegisterGridModules(this.gridId)}getGridId(){return this.gridId}},q0=(t=>(t[t.Left=0]="Left",t[t.Right=1]="Right",t))(q0||{}),UT=class extends W{constructor(){super(...arguments),this.beanName="dragAndDropService",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(t){this.ctrlsService=t.ctrlsService,this.dragService=t.dragService,this.mouseEventService=t.mouseEventService,this.environment=t.environment,this.userComponentFactory=t.userComponentFactory}addDragSource(t,e=!1){const i={eElement:t.eElement,dragStartPixels:t.dragStartPixels,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:e};this.dragSourceAndParamsList.push({params:i,dragSource:t}),this.dragService.addDragSource(i)}getDragAndDropImageComponent(){const{dragAndDropImageComp:t}=this;return!t||!t.comp?null:t.comp}removeDragSource(t){const e=this.dragSourceAndParamsList.find(i=>i.dragSource===t);e&&(this.dragService.removeDragSource(e.params),Xt(this.dragSourceAndParamsList,e))}destroy(){this.dragSourceAndParamsList.forEach(t=>this.dragService.removeDragSource(t.params)),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(t,e){var i,s;this.dragging=!0,this.dragSource=t,this.eventLastTime=e,this.dragItem=this.dragSource.getDragItem(),(s=(i=this.dragSource).onDragStarted)==null||s.call(i),this.createDragAndDropImageComponent()}onDragStop(t){var e,i,s;if((i=(e=this.dragSource)==null?void 0:e.onDragStopped)==null||i.call(e),(s=this.lastDropTarget)!=null&&s.onDragStop){const r=this.createDropTargetEvent(this.lastDropTarget,t,null,null,!1);this.lastDropTarget.onDragStop(r)}this.clearDragAndDropProperties()}onDragCancel(){var t,e,i;(e=(t=this.dragSource)==null?void 0:t.onDragCancelled)==null||e.call(t),(i=this.lastDropTarget)!=null&&i.onDragCancel&&this.lastDropTarget.onDragCancel(this.createDropTargetEvent(this.lastDropTarget,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(t,e=!1){var o,a,l,c;const i=this.getHorizontalDirection(t),s=this.getVerticalDirection(t);this.eventLastTime=t,this.positionDragAndDropImageComp(t);const r=this.dropTargets.filter(u=>this.isMouseOnDropTarget(t,u)),n=this.findCurrentDropTarget(t,r);if(n!==this.lastDropTarget){if(this.leaveLastTargetIfExists(t,i,s,e),this.lastDropTarget!==null&&n===null&&((a=(o=this.dragSource)==null?void 0:o.onGridExit)==null||a.call(o,this.dragItem)),this.lastDropTarget===null&&n!==null&&((c=(l=this.dragSource)==null?void 0:l.onGridEnter)==null||c.call(l,this.dragItem)),this.enterDragTargetIfExists(n,t,i,s,e),n&&this.dragAndDropImageComp){const{comp:u,promise:h}=this.dragAndDropImageComp;u?u.setIcon(n.getIconName?n.getIconName():null):h.then(d=>{d&&d.setIcon(n.getIconName?n.getIconName():null)})}this.lastDropTarget=n}else if(n&&n.onDragging){const u=this.createDropTargetEvent(n,t,i,s,e);n.onDragging(u)}}getAllContainersFromDropTarget(t){const e=t.getSecondaryContainers?t.getSecondaryContainers():null,i=[[t.getContainer()]];return e?i.concat(e):i}allContainersIntersect(t,e){for(const i of e){const{width:s,height:r,left:n,right:o,top:a,bottom:l}=i.getBoundingClientRect();if(s===0||r===0)return!1;const c=t.clientX>=n&&t.clientX<o,u=t.clientY>=a&&t.clientY<l;if(!c||!u)return!1}return!0}isMouseOnDropTarget(t,e){const i=this.getAllContainersFromDropTarget(e);let s=!1;for(const o of i)if(this.allContainersIntersect(t,o)){s=!0;break}const{eElement:r,type:n}=this.dragSource;return e.targetContainsSource&&!e.getContainer().contains(r)?!1:s&&e.isInterestedIn(n,r)}findCurrentDropTarget(t,e){const i=e.length;if(i===0)return null;if(i===1)return e[0];const r=dl(this.gos).elementsFromPoint(t.clientX,t.clientY);for(const n of r)for(const o of e)if(eM(this.getAllContainersFromDropTarget(o)).indexOf(n)!==-1)return o;return null}enterDragTargetIfExists(t,e,i,s,r){if(t&&t.onDragEnter){const n=this.createDropTargetEvent(t,e,i,s,r);t.onDragEnter(n)}}leaveLastTargetIfExists(t,e,i,s){if(!this.lastDropTarget)return;if(this.lastDropTarget.onDragLeave){const n=this.createDropTargetEvent(this.lastDropTarget,t,e,i,s);this.lastDropTarget.onDragLeave(n)}const r=this.getDragAndDropImageComponent();r&&r.setIcon(null)}addDropTarget(t){this.dropTargets.push(t)}removeDropTarget(t){this.dropTargets=this.dropTargets.filter(e=>e.getContainer()!==t.getContainer())}hasExternalDropZones(){return this.dropTargets.some(t=>t.external)}findExternalZone(t){return this.dropTargets.filter(i=>i.external).find(i=>i.getContainer()===t.getContainer())||null}isDropZoneWithinThisGrid(t){const i=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:s}=t;return i.contains(s)}getHorizontalDirection(t){const e=this.eventLastTime&&this.eventLastTime.clientX,i=t.clientX;return e===i?null:e>i?0:1}getVerticalDirection(t){const e=this.eventLastTime&&this.eventLastTime.clientY,i=t.clientY;return e===i?null:e>i?0:1}createDropTargetEvent(t,e,i,s,r){const n=t.getContainer(),o=n.getBoundingClientRect(),{dragItem:a,dragSource:l}=this,c=e.clientX-o.left,u=e.clientY-o.top;return this.gos.addGridCommonParams({event:e,x:c,y:u,vDirection:s,hDirection:i,dragSource:l,fromNudge:r,dragItem:a,dropZoneTarget:n})}positionDragAndDropImageComp(t){const e=this.getDragAndDropImageComponent();if(!e)return;const i=e.getGui(),r=i.getBoundingClientRect().height,n=UM()-2,o=XM()-2;if(!i.offsetParent)return;const l=G0(i.offsetParent),{clientY:c,clientX:u}=t;let h=c-l.top-r/2,d=u-l.left-10;const g=st(this.gos),p=g.defaultView||window,f=p.pageYOffset||g.documentElement.scrollTop,C=p.pageXOffset||g.documentElement.scrollLeft;n>0&&d+i.clientWidth>n+C&&(d=n+C-i.clientWidth),d<0&&(d=0),o>0&&h+i.clientHeight>o+f&&(h=o+f-i.clientHeight),h<0&&(h=0),i.style.left=`${d}px`,i.style.top=`${h}px`}removeDragAndDropImageComponent(){if(this.dragAndDropImageComp){const{comp:t}=this.dragAndDropImageComp;if(t){const e=t.getGui();this.dragAndDropImageParent&&this.dragAndDropImageParent.removeChild(e),this.destroyBean(t)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){const{dragSource:t}=this;if(!t)return;const i=this.userComponentFactory.getDragAndDropImageCompDetails({dragSource:t}).newAgStackInstance();this.dragAndDropImageComp={promise:i},i.then(s=>{!s||!this.isAlive()||(this.processDragAndDropImageComponent(s),this.dragAndDropImageComp.comp=s)})}processDragAndDropImageComponent(t){const{dragSource:e,mouseEventService:i,environment:s}=this;if(!e)return;const r=t.getGui();r.style.setProperty("position","absolute"),r.style.setProperty("z-index","9999"),i.stampTopLevelGridCompWithGridInstance(r),s.applyThemeClasses(r),t.setIcon(null);let{dragItemName:n}=e;uv(n)&&(n=n()),t.setLabel(n||""),r.style.top="20px",r.style.left="20px";const o=st(this.gos);let a=null,l=null;try{a=o.fullscreenElement}catch{}finally{a||(a=dl(this.gos));const c=a.querySelector("body");c?l=c:a instanceof ShadowRoot?l=a:a instanceof Document?l=a==null?void 0:a.documentElement:l=a}this.dragAndDropImageParent=l,l?l.appendChild(r):_("Could not find document body, it is needed for drag and drop.")}},XT=class{constructor(t){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=t.scrollContainer,this.scrollHorizontally=t.scrollAxis.indexOf("x")!==-1,this.scrollVertically=t.scrollAxis.indexOf("y")!==-1,this.scrollByTick=t.scrollByTick!=null?t.scrollByTick:20,t.onScrollCallback&&(this.onScrollCallback=t.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=t.getVerticalPosition,this.setVerticalPosition=t.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=t.getHorizontalPosition,this.setHorizontalPosition=t.setHorizontalPosition),this.shouldSkipVerticalScroll=t.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=t.shouldSkipHorizontalScroll||(()=>!1)}check(t,e=!1){const i=e||this.shouldSkipVerticalScroll();if(i&&this.shouldSkipHorizontalScroll())return;const s=this.scrollContainer.getBoundingClientRect(),r=this.scrollByTick;this.tickLeft=t.clientX<s.left+r,this.tickRight=t.clientX>s.right-r,this.tickUp=t.clientY<s.top+r&&!i,this.tickDown=t.clientY>s.bottom-r&&!i,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const t=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const e=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(e-t),this.tickDown&&this.setVerticalPosition(e+t)}if(this.scrollHorizontally){const e=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(e-t),this.tickRight&&this.setHorizontalPosition(e+t)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},jT=class extends W{wireBeans(t){this.dragAndDropService=t.dragAndDropService,this.rowModel=t.rowModel,this.pageBoundsService=t.pageBoundsService,this.focusService=t.focusService,this.sortController=t.sortController,this.filterManager=t.filterManager,this.selectionService=t.selectionService,this.mouseEventService=t.mouseEventService,this.ctrlsService=t.ctrlsService,this.funcColsService=t.funcColsService,this.rangeService=t.rangeService}constructor(t){super(),this.eContainer=t}postConstruct(){Xe(this.gos)&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(this,t=>{const e=t.gridBodyCtrl;this.autoScrollService=new XT({scrollContainer:e.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>e.getScrollFeature().getVScrollPosition().top,setVerticalPosition:i=>e.getScrollFeature().setVerticalScrollPosition(i),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(t){return t===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){var s;return!!(this.funcColsService.getRowGroupColumns().length||((s=this.filterManager)==null?void 0:s.isAnyFilterPresent())||this.sortController.isSortActive())}getRowNodes(t){if(!this.isFromThisGrid(t))return t.dragItem.rowNodes||[];const e=t.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const s=[...this.selectionService.getSelectedNodes()].sort((r,n)=>r.rowIndex==null||n.rowIndex==null?0:this.getRowIndexNumber(r)-this.getRowIndexNumber(n));if(s.indexOf(e)!==-1)return s}return[e]}onDragEnter(t){t.dragItem.rowNodes=this.getRowNodes(t),this.dispatchGridEvent("rowDragEnter",t),this.getRowNodes(t).forEach(e=>{e.setDragging(!0)}),this.onEnterOrDragging(t)}onDragging(t){this.onEnterOrDragging(t)}isFromThisGrid(t){const{dragSourceDomDataKey:e}=t.dragSource;return e===this.gos.getDomDataKey()}onEnterOrDragging(t){this.dispatchGridEvent("rowDragMove",t),this.lastDraggingEvent=t;const e=this.mouseEventService.getNormalisedPosition(t).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(t,e),this.autoScrollService.check(t.event)}doManagedDrag(t,e){const i=this.isFromThisGrid(t),s=this.gos.get("rowDragManaged"),r=t.dragItem.rowNodes;s&&this.shouldPreventRowMove()||(this.gos.get("suppressMoveWhenRowDragging")||!i?this.dragAndDropService.isDropZoneWithinThisGrid(t)&&this.clientSideRowModel.highlightRowAtPixel(r[0],e):this.moveRows(r,e))}getRowIndexNumber(t){const e=t.getRowIndexString();return parseInt(xe(e.split("-")),10)}moveRowAndClearHighlight(t){const e=this.clientSideRowModel.getLastHighlightedRowNode(),i=e&&e.highlighted===1,s=this.mouseEventService.getNormalisedPosition(t).y,r=t.dragItem.rowNodes;let n=i?1:0;if(this.isFromThisGrid(t))r.forEach(o=>{o.rowTop<s&&(n-=1)}),this.moveRows(r,s,n);else{const o=_o(this.gos);let a=this.clientSideRowModel.getRowIndexAtPixel(s)+1;this.clientSideRowModel.getHighlightPosition(s)===0&&a--,this.clientSideRowModel.updateRowData({add:r.filter(l=>!this.clientSideRowModel.getRowNode((o==null?void 0:o({data:l.data,level:0,rowPinned:l.rowPinned}))??l.data.id)).map(l=>l.data),addIndex:a})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(t,e,i=0){var r;this.clientSideRowModel.ensureRowsAtPixel(t,e,i)&&(this.focusService.clearFocusedCell(),(r=this.rangeService)==null||r.removeAllCellRanges())}addRowDropZone(t){if(!t.getContainer()){_("addRowDropZone - A container target needs to be provided");return}if(this.dragAndDropService.findExternalZone(t)){_("addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}let e={getContainer:t.getContainer};t.fromGrid?e=t:(t.onDragEnter&&(e.onDragEnter=s=>{t.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",s))}),t.onDragLeave&&(e.onDragLeave=s=>{t.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",s))}),t.onDragging&&(e.onDragging=s=>{t.onDragging(this.draggingToRowDragEvent("rowDragMove",s))}),t.onDragStop&&(e.onDragStop=s=>{t.onDragStop(this.draggingToRowDragEvent("rowDragEnd",s))}),t.onDragCancel&&(e.onDragCancel=s=>{t.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",s))}));const i={isInterestedIn:s=>s===2,getIconName:()=>"move",external:!0,...e};this.dragAndDropService.addDropTarget(i),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(i))}getRowDropZone(t){const e=this.getContainer.bind(this),i=this.onDragEnter.bind(this),s=this.onDragLeave.bind(this),r=this.onDragging.bind(this),n=this.onDragStop.bind(this),o=this.onDragCancel.bind(this);let a;return t?a={getContainer:e,onDragEnter:t.onDragEnter?l=>{i(l),t.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",l))}:i,onDragLeave:t.onDragLeave?l=>{s(l),t.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",l))}:s,onDragging:t.onDragging?l=>{r(l),t.onDragging(this.draggingToRowDragEvent("rowDragMove",l))}:r,onDragStop:t.onDragStop?l=>{n(l),t.onDragStop(this.draggingToRowDragEvent("rowDragEnd",l))}:n,onDragCancel:t.onDragCancel?l=>{o(l),t.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",l))}:o,fromGrid:!0}:a={getContainer:e,onDragEnter:i,onDragLeave:s,onDragging:r,onDragStop:n,onDragCancel:o,fromGrid:!0},a}draggingToRowDragEvent(t,e){const i=this.mouseEventService.getNormalisedPosition(e).y,s=i>this.pageBoundsService.getCurrentPageHeight();let r=-1,n;s||(r=this.rowModel.getRowIndexAtPixel(i),n=this.rowModel.getRow(r));let o;switch(e.vDirection){case 1:o="down";break;case 0:o="up";break;default:o=null;break}return this.gos.addGridCommonParams({type:t,event:e.event,node:e.dragItem.rowNode,nodes:e.dragItem.rowNodes,overIndex:r,overNode:n,y:i,vDirection:o})}dispatchGridEvent(t,e){const i=this.draggingToRowDragEvent(t,e);this.eventService.dispatchEvent(i)}onDragLeave(t){this.dispatchGridEvent("rowDragLeave",t),this.stopDragging(t),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}onDragStop(t){this.dispatchGridEvent("rowDragEnd",t),this.stopDragging(t),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(t))&&this.dragAndDropService.isDropZoneWithinThisGrid(t)&&this.moveRowAndClearHighlight(t)}onDragCancel(t){this.dispatchGridEvent("rowDragCancel",t),this.stopDragging(t),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(t))&&this.dragAndDropService.isDropZoneWithinThisGrid(t)&&this.clearRowHighlight()}stopDragging(t){this.autoScrollService.ensureCleared(),this.getRowNodes(t).forEach(e=>{e.setDragging(!1)})}},YT=class extends W{constructor(){super(...arguments),this.beanName="dragService",this.dragEndFunctions=[],this.dragSources=[]}wireBeans(t){this.mouseEventService=t.mouseEventService}destroy(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0,super.destroy()}removeListener(t){const e=t.dragSource.eElement,i=t.mouseDownListener;if(e.removeEventListener("mousedown",i),t.touchEnabled){const s=t.touchStartListener;e.removeEventListener("touchstart",s,{passive:!0})}}removeDragSource(t){const e=this.dragSources.find(i=>i.dragSource===t);e&&(this.removeListener(e),Xt(this.dragSources,e))}isDragging(){return this.dragging}addDragSource(t){const e=this.onMouseDown.bind(this,t),{eElement:i,includeTouch:s,stopPropagationForTouch:r}=t;i.addEventListener("mousedown",e);let n=null;const o=this.gos.get("suppressTouch");s&&!o&&(n=a=>{wv(a.target)||(r&&a.stopPropagation(),this.onTouchStart(t,a))},i.addEventListener("touchstart",n,{passive:!1})),this.dragSources.push({dragSource:t,mouseDownListener:e,touchStartListener:n,touchEnabled:!!s})}getStartTarget(){return this.startTarget}onTouchStart(t,e){this.currentDragParams=t,this.dragging=!1;const i=e.touches[0];this.touchLastTime=i,this.touchStart=i;const s=l=>this.onTouchMove(l,t.eElement),r=l=>this.onTouchUp(l,t.eElement),n=l=>{l.cancelable&&l.preventDefault()},o=e.target,a=[{target:dl(this.gos),type:"touchmove",listener:n,options:{passive:!1}},{target:o,type:"touchmove",listener:s,options:{passive:!0}},{target:o,type:"touchend",listener:r,options:{passive:!0}},{target:o,type:"touchcancel",listener:r,options:{passive:!0}}];this.addTemporaryEvents(a),t.dragStartPixels===0&&this.onCommonMove(i,this.touchStart,t.eElement)}onMouseDown(t,e){const i=e;if(t.skipMouseEvent&&t.skipMouseEvent(e)||i._alreadyProcessedByDragService||(i._alreadyProcessedByDragService=!0,e.button!==0))return;this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.currentDragParams=t,this.dragging=!1,this.mouseStartEvent=e,this.startTarget=e.target;const s=c=>this.onMouseMove(c,t.eElement),r=c=>this.onMouseUp(c,t.eElement),n=c=>c.preventDefault(),o=c=>{c.key===B.ESCAPE&&this.cancelDrag(t.eElement)},a=dl(this.gos),l=[{target:a,type:"mousemove",listener:s},{target:a,type:"mouseup",listener:r},{target:a,type:"contextmenu",listener:n},{target:a,type:"keydown",listener:o}];this.addTemporaryEvents(l),t.dragStartPixels===0&&this.onMouseMove(e,t.eElement)}addTemporaryEvents(t){t.forEach(e=>{const{target:i,type:s,listener:r,options:n}=e;i.addEventListener(s,r,n)}),this.dragEndFunctions.push(()=>{t.forEach(e=>{const{target:i,type:s,listener:r,options:n}=e;i.removeEventListener(s,r,n)})})}isEventNearStartEvent(t,e){const{dragStartPixels:i}=this.currentDragParams,s=K(i)?i:4;return U0(t,e,s)}getFirstActiveTouch(t){for(let e=0;e<t.length;e++)if(t[e].identifier===this.touchStart.identifier)return t[e];return null}onCommonMove(t,e,i){var s;if(!this.dragging){if(this.isEventNearStartEvent(t,e))return;if(this.dragging=!0,this.eventService.dispatchEvent({type:"dragStarted",target:i}),this.currentDragParams.onDragStart(e),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(e)}(s=this.currentDragParams)==null||s.onDragging(t)}onTouchMove(t,e){const i=this.getFirstActiveTouch(t.touches);i&&this.onCommonMove(i,this.touchStart,e)}onMouseMove(t,e){var i;ys()&&((i=st(this.gos).getSelection())==null||i.removeAllRanges()),this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.onCommonMove(t,this.mouseStartEvent,e)}shouldPreventMouseEvent(t){const e=this.gos.get("enableCellTextSelection"),i=t.type==="mousemove";return e&&i&&t.cancelable&&this.mouseEventService.isEventFromThisGrid(t)&&!this.isOverFormFieldElement(t)}isOverFormFieldElement(t){const e=t.target,i=e==null?void 0:e.tagName.toLocaleLowerCase();return!!(i!=null&&i.match("^a$|textarea|input|select|button"))}onTouchUp(t,e){let i=this.getFirstActiveTouch(t.changedTouches);i||(i=this.touchLastTime),this.onUpCommon(i,e)}onMouseUp(t,e){this.onUpCommon(t,e)}onUpCommon(t,e){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(t),this.eventService.dispatchEvent({type:"dragStopped",target:e})),this.resetDragProperties()}cancelDrag(t){var e,i;this.eventService.dispatchEvent({type:"dragCancelled",target:t}),(i=(e=this.currentDragParams)==null?void 0:e.onDragCancel)==null||i.call(e),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(t=>t()),this.dragEndFunctions.length=0}},Qp=class extends ze{constructor(t,e,i,s,r,n){super(),this.cellValueFn=t,this.rowNode=e,this.column=i,this.customGui=s,this.dragStartPixels=r,this.suppressVisibilityChange=n,this.dragSource=null}wireBeans(t){this.beans=t}isCustomGui(){return this.customGui!=null}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(ui("rowDrag",this.gos,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){const t=this.gos.get("rowDragManaged")?new KT(this,this.beans,this.rowNode,this.column):new $T(this,this.beans,this.rowNode,this.column);this.createManagedBean(t,this.beans.context)}}setDragElement(t,e){this.setTemplateFromElement(t,void 0,void 0,!0),this.addDragSource(e)}getSelectedNodes(){if(!this.gos.get("rowDragMultiRow"))return[this.rowNode];const e=this.beans.selectionService.getSelectedNodes();return e.indexOf(this.rowNode)!==-1?e:[this.rowNode]}checkCompatibility(){const t=this.gos.get("rowDragManaged");this.gos.get("treeData")&&t&&_("If using row drag with tree data, you cannot have rowDragManaged=true")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(t){if(t){const e=t.getColDef();if(e.rowDragText)return e.rowDragText}return this.gos.get("rowDragText")}addDragSource(t=4){this.dragSource&&this.removeDragSource();const e=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(e,{mousedown:s=>{s==null||s.preventDefault()}})[0]);const i=this.localeService.getLocaleTextFunc();this.dragSource={type:2,eElement:e,dragItemName:()=>{var o;const s=this.getDragItem(),r=((o=s.rowNodes)==null?void 0:o.length)||1,n=this.getRowDragText(this.column);return n?n(s,r):r===1?this.cellValueFn():`${r} ${i("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:t,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},Q0=class extends W{constructor(t,e,i){super(),this.parent=t,this.rowNode=e,this.column=i}setDisplayedOrVisible(t){const e={skipAriaHidden:!0};if(t)this.parent.setDisplayed(!1,e);else{let i=!0,s=!1;this.column&&(i=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),s=uv(this.column.getColDef().rowDrag)),s?(this.parent.setDisplayed(!0,e),this.parent.setVisible(i,e)):(this.parent.setDisplayed(i,e),this.parent.setVisible(!0,e))}}},$T=class extends Q0{constructor(t,e,i,s){super(t,i,s),this.beans=e}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const t=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:t,cellChanged:t}),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:t}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const t=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(t)}},KT=class extends Q0{constructor(t,e,i,s){super(t,i,s),this.beans=e}postConstruct(){const t=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventService,{sortChanged:t,filterChanged:t,columnRowGroupChanged:t,newColumnsLoaded:t}),this.addManagedListeners(this.rowNode,{dataChanged:t,cellChanged:t}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),i=e&&e.shouldPreventRowMove(),s=this.gos.get("suppressRowDrag"),r=this.beans.dragAndDropService.hasExternalDropZones(),n=i&&!r||s;this.setDisplayedOrVisible(n)}},qT=new Set(["localEventService","__objectId","sticky","__autoHeights","checkAutoHeightsDebounced"]),Vl=class Js{constructor(e){this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped={},this.treeNode=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=Js.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,i){var n;const s=this.data;this.data=e,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();const r=this.createDataChangedEvent(e,s,i);(n=this.localEventService)==null||n.dispatchEvent(r)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,i,s){return{type:"dataChanged",node:this,oldData:i,newData:e,update:s}}getRowIndexString(){return this.rowIndex==null?(ke("Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid."),null):this.rowPinned==="top"?Js.ID_PREFIX_TOP_PINNED+this.rowIndex:this.rowPinned==="bottom"?Js.ID_PREFIX_BOTTOM_PINNED+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){const e=new Js(this.beans);return e.id=this.id,e.data=this.data,e.__daemon=!0,e.selected=this.selected,e.level=this.level,e}setDataAndId(e,i){var o;const s=K(this.id)?this.createDaemonNode():null,r=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(i),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,s);const n=this.createDataChangedEvent(e,r,!1);(o=this.localEventService)==null||o.dispatchEvent(n)}checkRowSelectable(){const e=hv(this.beans.gos);this.setRowSelectable(e?e(this):!0)}setRowSelectable(e,i){if(this.selectable!==e){if(this.selectable=e,this.dispatchRowEvent("selectableChanged"),i)return;if(Sn(this.beans.gos)){const r=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:r??!1,source:"selectableChanged"});return}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}}setId(e){var s;const i=_o(this.beans.gos);if(i)if(this.data){const r=((s=this.parent)==null?void 0:s.getRoute())??[];this.id=i({data:this.data,parentKeys:r.length>0?r:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(Js.ID_PREFIX_ROW_GROUP)&&ke(`Row IDs cannot start with ${Js.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`)}else this.id=void 0;else this.id=e}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.dispatchRowEvent("topChanged"),this.setDisplayed(e!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(e){this.hovered=e}isHovered(){return this.hovered}setMaster(e){this.master!==e&&(this.master&&!e&&(this.expanded=!1),this.master=e,this.dispatchRowEvent("masterChanged"))}setGroup(e){this.group!==e&&(this.group&&!e&&(this.expanded=!1),this.group=e,this.updateHasChildren(),this.checkRowSelectable(),this.dispatchRowEvent("groupChanged"))}setRowHeight(e,i=!1){this.rowHeight=e,this.rowHeightEstimated=i,this.dispatchRowEvent("heightChanged")}setRowAutoHeight(e,i){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[i.getId()]=e,e!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=Ut(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){var a;let e=!1,i=!0,s=0;const r=this.__autoHeights;if(r==null||(this.beans.visibleColsService.getAllAutoHeightCols().forEach(l=>{let c=r[l.getId()];if(c==null)if(this.beans.columnModel.isColSpanActive()){let u=[];switch(l.getPinned()){case"left":u=this.beans.visibleColsService.getLeftColsForRow(this);break;case"right":u=this.beans.visibleColsService.getRightColsForRow(this);break;case null:u=this.beans.columnViewportService.getColsWithinViewport(this);break}if(u.includes(l)){e=!0;return}c=-1}else{e=!0;return}else i=!1;c>s&&(s=c)}),e)||((i||s<10)&&(s=Rr(this.beans.gos,this).height),s==this.rowHeight))return;this.setRowHeight(s);const o=this.beans.rowModel;(a=o.onRowHeightChangedDebounced)==null||a.call(o)}setExpanded(e,i,s){if(this.expanded===e)return;this.expanded=e,this.dispatchRowEvent("expandedChanged");const r={...this.createGlobalRowEvent("rowGroupOpened"),expanded:e,event:i||null};this.beans.rowNodeEventThrottle.dispatchExpanded(r,s),this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(e){return this.beans.gos.addGridCommonParams({type:e,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})}setDataValue(e,i,s){const n=typeof e!="string"?e:this.beans.columnModel.getCol(e)??this.beans.columnModel.getColDefCol(e),o=this.beans.valueService.getValueForDisplay(n,this);if(this.beans.gos.get("readOnlyEdit"))return this.beans.eventService.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:n,colDef:n.getColDef(),data:this.data,node:this,oldValue:o,newValue:i,value:i,source:s}),!1;const a=this.beans.valueService.setValue(this,n,i,s);return this.dispatchCellChangedEvent(n,i,o),this.checkRowSelectable(),a}setGroupValue(e,i){const s=this.beans.columnModel.getCol(e);be(this.groupData)&&(this.groupData={});const r=s.getColId(),n=this.groupData[r];n!==i&&(this.groupData[r]=i,this.dispatchCellChangedEvent(s,i,n))}setAggData(e){const i=this.aggData;if(this.aggData=e,this.localEventService){const s=r=>{const n=this.aggData?this.aggData[r]:void 0,o=i?i[r]:void 0;if(n===o)return;const a=this.beans.columnModel.getCol(r);a&&this.dispatchCellChangedEvent(a,n,o)};for(const r in i)s(r);for(const r in e)(!i||!(r in i))&&s(r)}}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(xs(this.beans.gos)){const s=this.beans.gos.get("treeData"),r=this.beans.gos.get("isServerSideGroup");e=!this.stub&&!this.footer&&(s?!!r&&r(this.data):!!this.group)}e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(e,i,s){var n;const r={type:"cellChanged",node:this,column:e,newValue:i,oldValue:s};(n=this.localEventService)==null||n.dispatchEvent(r)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.footer?!1:this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(e){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(i=>i.depthFirstSearch(e)),e(this)}calculateSelectedFromChildren(){var s;let e=!1,i=!1;if(!((s=this.childrenAfterGroup)!=null&&s.length))return this.selectable?this.selected:null;for(let r=0;r<this.childrenAfterGroup.length;r++){const n=this.childrenAfterGroup[r];let o=n.isSelected();if(!n.selectable){const a=n.calculateSelectedFromChildren();if(a===null)continue;o=a}switch(o){case!0:e=!0;break;case!1:i=!0;break;default:return}}if(!(e&&i))return e?!0:i?!1:this.selectable?this.selected:null}setSelectedInitialValue(e){this.selected=e}dispatchRowEvent(e){var i;(i=this.localEventService)==null||i.dispatchEvent({type:e,node:this})}selectThisNode(e,i,s="api"){const r=!this.selectable&&e,n=this.selected===e;if(r||n)return!1;this.selected=e,this.dispatchRowEvent("rowSelected");const o=this.sibling;return o&&o.footer&&o.localEventService&&o.dispatchRowEvent("rowSelected"),this.beans.eventService.dispatchEvent({...this.createGlobalRowEvent("rowSelected"),event:i||null,source:s}),!0}setSelected(e,i=!1,s="api"){if(typeof s=="boolean"){_("since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.");return}this.setSelectedParams({newValue:e,clearSelection:i,rangeSelect:!1,source:s})}setSelectedParams(e){return this.rowPinned?(_("cannot select pinned rows"),0):this.id===void 0?(_("cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected({...e,nodes:[this.footer?this.sibling:this]})}isRowPinned(){return!!this.rowPinned}addEventListener(e,i){var r;this.localEventService||(this.localEventService=new Vo),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.localEventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new pv(this.beans.frameworkOverrides));const s=((r=this.frameworkEventListenerService)==null?void 0:r.wrap(i))??i;this.localEventService.addEventListener(e,s)}removeEventListener(e,i){var r;if(!this.localEventService)return;const s=((r=this.frameworkEventListenerService)==null?void 0:r.unwrap(i))??i;this.localEventService.removeEventListener(e,s),this.localEventService.noRegisteredListenersExist()&&(this.localEventService=null)}onMouseEnter(){this.dispatchRowEvent("mouseEnter")}onMouseLeave(){this.dispatchRowEvent("mouseLeave")}isFullWidthCell(){if(_("since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option."),this.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;const e=[];let i=this;for(;i&&i.key!=null;)e.push(i.key),i=i.parent;return e.reverse()}createFooter(){if(this.sibling)return;const e=new Js(this.beans);Object.keys(this).forEach(i=>{qT.has(i)||(e[i]=this[i])}),e.footer=!0,e.setRowTop(null),e.setRowIndex(null),e.oldRowTop=null,e.id="rowGroupFooter_"+this.id,e.sibling=this,this.sibling=e}destroyFooter(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}setFirstChild(e){this.firstChild!==e&&(this.firstChild=e,this.dispatchRowEvent("firstChildChanged"))}setLastChild(e){this.lastChild!==e&&(this.lastChild=e,this.dispatchRowEvent("lastChildChanged"))}setChildIndex(e){this.childIndex!==e&&(this.childIndex=e,this.dispatchRowEvent("childIndexChanged"))}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.dispatchRowEvent("displayedChanged"))}setDragging(e){this.dragging!==e&&(this.dragging=e,this.dispatchRowEvent("draggingChanged"))}setHighlighted(e){this.highlighted!==e&&(this.highlighted=e,this.dispatchRowEvent("rowHighlightChanged"))}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent("allChildrenCountChanged"))}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent("rowIndexChanged"))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent("uiLevelChanged"))}};Vl.ID_PREFIX_ROW_GROUP="row-group-";Vl.ID_PREFIX_TOP_PINNED="t-";Vl.ID_PREFIX_BOTTOM_PINNED="b-";Vl.OBJECT_ID_SEQUENCE=0;var Os=Vl,QT=class extends W{constructor(){super(...arguments),this.beanName="filterManager",this.advancedFilterModelUpdateQueue=[]}wireBeans(t){this.columnModel=t.columnModel,this.dataTypeService=t.dataTypeService,this.quickFilterService=t.quickFilterService,this.advancedFilterService=t.advancedFilterService,this.columnFilterService=t.columnFilterService}postConstruct(){const t=this.refreshFiltersForAggregations.bind(this),e=this.updateAdvancedFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:t,columnPivotChanged:t,columnPivotModeChanged:t,newColumnsLoaded:e,columnVisible:e,advancedFilterEnabledChanged:({enabled:i})=>this.onAdvancedFilterEnabledChanged(i),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",i=>this.setAdvancedFilterModel(i.currentValue)),this.quickFilterService&&this.addManagedListeners(this.quickFilterService,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})})}isExternalFilterPresentCallback(){const t=this.gos.getCallback("isExternalFilterPresent");return typeof t=="function"?t({}):!1}doesExternalFilterPass(t){const e=this.gos.get("doesExternalFilterPass");return typeof e=="function"?e(t):!1}setFilterModel(t,e="api"){var i;if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}(i=this.columnFilterService)==null||i.setFilterModel(t,e)}getFilterModel(){var t;return((t=this.columnFilterService)==null?void 0:t.getFilterModel())??{}}isColumnFilterPresent(){var t;return!!((t=this.columnFilterService)!=null&&t.isColumnFilterPresent())}isAggregateFilterPresent(){var t;return!!((t=this.columnFilterService)!=null&&t.isAggregateFilterPresent())}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(t){var e,i;t?(e=this.columnFilterService)!=null&&e.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):(i=this.advancedFilterService)!=null&&i.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvancedFilterEnabled(){var t;return!!((t=this.advancedFilterService)!=null&&t.isEnabled())}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}resetQuickFilterCache(){var t;(t=this.quickFilterService)==null||t.resetQuickFilterCache()}refreshFiltersForAggregations(){zp(this.gos)&&this.onFilterChanged()}onFilterChanged(t={}){const{source:e,additionalEventAttributes:i,columns:s=[]}=t;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.columnFilterService?this.columnFilterService.updateBeforeFilterChanged(t):it.resolve()).then(()=>{var n;const r={source:e,type:"filterChanged",columns:s};i&&Vt(r,i),this.eventService.dispatchEvent(r),(n=this.columnFilterService)==null||n.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){var t;return!!((t=this.columnFilterService)!=null&&t.isSuppressFlashingCellsBecauseFiltering())}isQuickFilterPresent(){var t;return!!((t=this.quickFilterService)!=null&&t.isQuickFilterPresent())}updateAggFiltering(){this.aggFiltering=!!zp(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.columnModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(t,e){return this.doesRowPassFilter({rowNode:e,filterInstanceToSkip:t})}doesRowPassAggregateFilters(t){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(t.rowNode)||this.isAggregateFilterPresent()&&!this.columnFilterService.doAggregateFiltersPass(t.rowNode,t.filterInstanceToSkip))}doesRowPassFilter(t){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(t.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(t.rowNode)||this.isColumnFilterPresent()&&!this.columnFilterService.doColumnFiltersPass(t.rowNode,t.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(t.rowNode))}isFilterActive(t){var e;return!!((e=this.columnFilterService)!=null&&e.isFilterActive(t))}getOrCreateFilterWrapper(t){var e;return((e=this.columnFilterService)==null?void 0:e.getOrCreateFilterWrapper(t))??null}getDefaultFloatingFilter(t){return this.columnFilterService.getDefaultFloatingFilter(t)}createFilterParams(t,e){return this.columnFilterService.createFilterParams(t,e)}isFilterAllowed(t){var e;return this.isAdvancedFilterEnabled()?!1:!!((e=this.columnFilterService)!=null&&e.isFilterAllowed(t))}getFloatingFilterCompDetails(t,e){var i;return(i=this.columnFilterService)==null?void 0:i.getFloatingFilterCompDetails(t,e)}getCurrentFloatingFilterParentModel(t){var e;return(e=this.columnFilterService)==null?void 0:e.getCurrentFloatingFilterParentModel(t)}destroyFilter(t,e="api"){var i;(i=this.columnFilterService)==null||i.destroyFilter(t,e)}areFilterCompsDifferent(t,e){var i;return!!((i=this.columnFilterService)!=null&&i.areFilterCompsDifferent(t,e))}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(t){var e;if(this.isAdvancedFilterEnabled()){if((e=this.dataTypeService)!=null&&e.isPendingInference()){this.advancedFilterModelUpdateQueue.push(t);return}this.advancedFilterService.setModel(t??null),this.onFilterChanged({source:"advancedFilter"})}}toggleAdvancedFilterBuilder(t,e){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder({source:e,force:t})}updateAdvancedFilterColumns(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){var t;return this.isAdvancedFilterEnabled()?!1:!!((t=this.columnFilterService)!=null&&t.hasFloatingFilters())}getFilterInstance(t,e){var i;if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}return(i=this.columnFilterService)==null?void 0:i.getFilterInstance(t,e)}getColumnFilterInstance(t){var e;return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve(void 0)):((e=this.columnFilterService)==null?void 0:e.getColumnFilterInstance(t))??Promise.resolve(void 0)}warnAdvancedFilters(){_("Column Filter API methods have been disabled as Advanced Filters are enabled.")}setupAdvancedFilterHeaderComp(t){var e;(e=this.advancedFilterService)==null||e.getCtrl().setupHeaderComp(t)}getHeaderRowCount(){return this.isAdvancedFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advancedFilterModelUpdateQueue.forEach(t=>this.setAdvancedFilterModel(t)),this.advancedFilterModelUpdateQueue=[]}getColumnFilterModel(t){var e;return(e=this.columnFilterService)==null?void 0:e.getColumnFilterModel(t)}setColumnFilterModel(t,e){var i;return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve()):((i=this.columnFilterService)==null?void 0:i.setColumnFilterModel(t,e))??Promise.resolve()}setColDefPropertiesForDataType(t,e,i){var s;(s=this.columnFilterService)==null||s.setColDefPropertiesForDataType(t,e,i)}},ZT=class extends ze{constructor(t,e){super('<div class="ag-filter"></div>'),this.column=t,this.source=e,this.filterWrapper=null}wireBeans(t){this.filterManager=t.filterManager,this.columnModel=t.columnModel}postConstruct(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return!!this.filterWrapper}getFilter(){var t;return((t=this.filterWrapper)==null?void 0:t.filterPromise)??null}afterInit(){var t,e;return((e=(t=this.filterWrapper)==null?void 0:t.filterPromise)==null?void 0:e.then(()=>{}))??it.resolve()}afterGuiAttached(t){var e,i;(i=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null||i.then(s=>{var r;(r=s==null?void 0:s.afterGuiAttached)==null||r.call(s,t)})}afterGuiDetached(){var t,e;(e=(t=this.filterWrapper)==null?void 0:t.filterPromise)==null||e.then(i=>{var s;(s=i==null?void 0:i.afterGuiDetached)==null||s.call(i)})}createFilter(t){var s,r;const{column:e,source:i}=this;this.filterWrapper=((s=this.filterManager)==null?void 0:s.getOrCreateFilterWrapper(e))??null,(r=this.filterWrapper)!=null&&r.filterPromise&&this.filterWrapper.filterPromise.then(n=>{const o=n.getGui();K(o)||_(`getGui method from filter returned ${o}; it should be a DOM element.`),this.appendChild(o),t&&this.eventService.dispatchEvent({type:"filterOpened",column:e,source:i,eGui:this.getGui()})})}onFilterDestroyed(t){(t.source==="api"||t.source==="paramsUpdated")&&t.column.getId()===this.column.getId()&&this.columnModel.getColDefCol(this.column)&&(mi(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}},Z0="ag-resizer-wrapper",qs=(t,e)=>`<div data-ref="${t}Resizer" class="ag-resizer ag-resizer-${e}"></div>`,JT=`<div class="${Z0}">
        ${qs("eTopLeft","topLeft")}
        ${qs("eTop","top")}
        ${qs("eTopRight","topRight")}
        ${qs("eRight","right")}
        ${qs("eBottomRight","bottomRight")}
        ${qs("eBottom","bottom")}
        ${qs("eBottomLeft","bottomLeft")}
        ${qs("eLeft","left")}
    </div>`,eD=class extends W{constructor(t,e){super(),this.element=t,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},e)}wireBeans(t){this.popupService=t.popupService,this.resizeObserverService=t.resizeObserverService,this.dragService=t.dragService}center(){const{clientHeight:t,clientWidth:e}=this.offsetParent,i=e/2-this.getWidth()/2,s=t/2-this.getHeight()/2;this.offsetElement(i,s)}initialisePosition(){if(this.positioned)return;const{centered:t,forcePopupParentAsOffsetParent:e,minWidth:i,width:s,minHeight:r,height:n,x:o,y:a}=this.config;this.offsetParent||this.setOffsetParent();let l=0,c=0;const u=ws(this.element);if(u){const h=this.findBoundaryElement(),d=window.getComputedStyle(h);if(d.minWidth!=null){const g=h.offsetWidth-this.element.offsetWidth;c=parseInt(d.minWidth,10)-g}if(d.minHeight!=null){const g=h.offsetHeight-this.element.offsetHeight;l=parseInt(d.minHeight,10)-g}}if(this.minHeight=r||l,this.minWidth=i||c,s&&this.setWidth(s),n&&this.setHeight(n),(!s||!n)&&this.refreshSize(),t)this.center();else if(o||a)this.offsetElement(o,a);else if(u&&e){let h=this.boundaryEl,d=!0;if(h||(h=this.findBoundaryElement(),d=!1),h){const g=parseFloat(h.style.top),p=parseFloat(h.style.left);d?this.offsetElement(isNaN(p)?0:p,isNaN(g)?0:g):this.setPosition(p,g)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(t,e){if(!this.config.popup||t===this.movable)return;this.movable=t;const i=this.moveElementDragListener||{eElement:e,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};t?(this.dragService.addDragSource(i),this.moveElementDragListener=i):(this.dragService.removeDragSource(i),this.moveElementDragListener=void 0)}setResizable(t){if(this.clearResizeListeners(),t?this.addResizers():this.removeResizers(),typeof t=="boolean"){if(t===!1)return;t={topLeft:t,top:t,topRight:t,right:t,bottomRight:t,bottom:t,bottomLeft:t,left:t}}Object.keys(t).forEach(e=>{const s=!!t[e],r=this.getResizerElement(e),n={dragStartPixels:0,eElement:r,onDragStart:o=>this.onResizeStart(o,e),onDragging:this.onResize.bind(this),onDragStop:o=>this.onResizeEnd(o,e)};(s||!this.isAlive()&&!s)&&(s?(this.dragService.addDragSource(n),this.resizeListeners.push(n),r.style.pointerEvents="all"):r.style.pointerEvents="none",this.resizable[e]=s)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:t,width:e}=this.lastSize;e!==-1&&(this.element.style.width=`${e}px`),t!==-1&&(this.element.style.height=`${t}px`)}getHeight(){return this.element.offsetHeight}setHeight(t){const{popup:e}=this.config,i=this.element;let s=!1;if(typeof t=="string"&&t.indexOf("%")!==-1)Wa(i,t),t=N0(i),s=!0;else if(t=Math.max(this.minHeight,t),this.positioned){const r=this.getAvailableHeight();r&&t>r&&(t=r)}this.getHeight()!==t&&(s?(i.style.maxHeight="unset",i.style.minHeight="unset"):e?Wa(i,t):(i.style.height=`${t}px`,i.style.flex="0 0 auto",this.lastSize.height=typeof t=="number"?t:parseFloat(t)))}getAvailableHeight(){const{popup:t,forcePopupParentAsOffsetParent:e}=this.config;this.positioned||this.initialisePosition();const{clientHeight:i}=this.offsetParent;if(!i)return null;const s=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),n=t?this.position.y:s.top,o=t?0:r.top;let a=0;if(e){const c=this.element.parentElement;if(c){const{bottom:u}=c.getBoundingClientRect();a=u-s.bottom}}return i+o-n-a}getWidth(){return this.element.offsetWidth}setWidth(t){const e=this.element,{popup:i}=this.config;let s=!1;if(typeof t=="string"&&t.indexOf("%")!==-1)es(e,t),t=qu(e),s=!0;else if(this.positioned){t=Math.max(this.minWidth,t);const{clientWidth:r}=this.offsetParent,n=i?this.position.x:this.element.getBoundingClientRect().left;r&&t+n>r&&(t=r-n)}this.getWidth()!==t&&(s?(e.style.maxWidth="unset",e.style.minWidth="unset"):this.config.popup?es(e,t):(e.style.width=`${t}px`,e.style.flex=" unset",this.lastSize.width=typeof t=="number"?t:parseFloat(t)))}offsetElement(t=0,e=0){const{forcePopupParentAsOffsetParent:i}=this.config,s=i?this.boundaryEl:this.element;s&&(this.popupService.positionPopup({ePopup:s,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:t,y:e})}),this.setPosition(parseFloat(s.style.left),parseFloat(s.style.top)))}constrainSizeToAvailableHeight(t){if(!this.config.forcePopupParentAsOffsetParent)return;const e=()=>{const i=this.getAvailableHeight();this.element.style.setProperty("max-height",`${i}px`)};t?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),e):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(t,e){this.position.x=t,this.position.y=e}updateDragStartPosition(t,e){this.dragStartPosition={x:t,y:e}}calculateMouseMovement(t){const{e,isLeft:i,isTop:s,anywhereWithin:r,topBuffer:n}=t,o=e.clientX-this.dragStartPosition.x,a=e.clientY-this.dragStartPosition.y,l=this.shouldSkipX(e,!!i,!!r,o)?0:o,c=this.shouldSkipY(e,!!s,n,a)?0:a;return{movementX:l,movementY:c}}shouldSkipX(t,e,i,s){const r=this.element.getBoundingClientRect(),n=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:r.left;let l=a<=0&&n.left>=t.clientX||n.right<=t.clientX&&n.right<=o.right;return l?!0:(e?l=s<0&&t.clientX>a+n.left||s>0&&t.clientX<a+n.left:i?l=s<0&&t.clientX>o.right||s>0&&t.clientX<a+n.left:l=s<0&&t.clientX>o.right||s>0&&t.clientX<o.right,l)}shouldSkipY(t,e,i=0,s){const r=this.element.getBoundingClientRect(),n=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:r.top;let l=a<=0&&n.top>=t.clientY||n.bottom<=t.clientY&&n.bottom<=o.bottom;return l?!0:(e?l=s<0&&t.clientY>a+n.top+i||s>0&&t.clientY<a+n.top:l=s<0&&t.clientY>o.bottom||s>0&&t.clientY<o.bottom,l)}createResizeMap(){const t=this.element;this.resizerMap={topLeft:{element:t.querySelector("[data-ref=eTopLeftResizer]")},top:{element:t.querySelector("[data-ref=eTopResizer]")},topRight:{element:t.querySelector("[data-ref=eTopRightResizer]")},right:{element:t.querySelector("[data-ref=eRightResizer]")},bottomRight:{element:t.querySelector("[data-ref=eBottomRightResizer]")},bottom:{element:t.querySelector("[data-ref=eBottomResizer]")},bottomLeft:{element:t.querySelector("[data-ref=eBottomLeftResizer]")},left:{element:t.querySelector("[data-ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const t=this.element;if(!t)return;const i=new DOMParser().parseFromString(JT,"text/html").body;t.appendChild(i.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const t=this.element.querySelector(`.${Z0}`);t&&this.element.removeChild(t),this.resizersAdded=!1}getResizerElement(t){return this.resizerMap[t].element}onResizeStart(t,e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!e.match(/top/i),isRight:!!e.match(/right/i),isBottom:!!e.match(/bottom/i),isLeft:!!e.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[e].element.classList.add("ag-active");const{popup:i,forcePopupParentAsOffsetParent:s}=this.config;!i&&!s&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(t.clientX,t.clientY)}getSiblings(){const e=this.element.parentElement;return e?Array.prototype.slice.call(e.children).filter(i=>!i.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const t=this.getSiblings()||[];let e=0,i=0;for(let s=0;s<t.length;s++){const r=t[s],n=!!r.style.flex&&r.style.flex!=="0 0 auto";if(r===this.element)continue;let o=this.minHeight||0,a=this.minWidth||0;if(n){const l=window.getComputedStyle(r);l.minHeight&&(o=parseInt(l.minHeight,10)),l.minWidth&&(a=parseInt(l.minWidth,10))}else o=r.offsetHeight,a=r.offsetWidth;e+=o,i+=a}return{height:e,width:i}}applySizeToSiblings(t){let e=null;const i=this.getSiblings();if(i){for(let s=0;s<i.length;s++){const r=i[s];r!==e&&(t?r.style.height=`${r.offsetHeight}px`:r.style.width=`${r.offsetWidth}px`,r.style.flex="0 0 auto",r===this.element&&(e=i[s+1]))}e&&(e.style.removeProperty("height"),e.style.removeProperty("min-height"),e.style.removeProperty("max-height"),e.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(t=>t)}onResize(t){if(!this.isResizing||!this.currentResizer)return;const{popup:e,forcePopupParentAsOffsetParent:i}=this.config,{isTop:s,isRight:r,isBottom:n,isLeft:o}=this.currentResizer,a=r||o,l=n||s,{movementX:c,movementY:u}=this.calculateMouseMovement({e:t,isLeft:o,isTop:s}),h=this.position.x,d=this.position.y;let g=0,p=0;if(a&&c){const f=o?-1:1,C=this.getWidth(),m=C+c*f;let v=!1;o&&(g=C-m,(h+g<=0||m<=this.minWidth)&&(v=!0,g=0)),v||this.setWidth(m)}if(l&&u){const f=s?-1:1,C=this.getHeight(),m=C+u*f;let v=!1;s?(p=C-m,(d+p<=0||m<=this.minHeight)&&(v=!0,p=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&C<m&&this.getMinSizeOfSiblings().height+m>this.element.parentElement.offsetHeight&&(v=!0),v||this.setHeight(m)}this.updateDragStartPosition(t.clientX,t.clientY),((e||i)&&g||p)&&this.offsetElement(h+g,d+p)}onResizeEnd(t,e){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[e].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const t=this.element;this.config.popup&&(this.config.width||this.setWidth(t.offsetWidth),this.config.height||this.setHeight(t.offsetHeight))}onMoveStart(t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(t.clientX,t.clientY)}onMove(t){if(!this.isMoving)return;const{x:e,y:i}=this.position;let s;this.config.calculateTopBuffer&&(s=this.config.calculateTopBuffer());const{movementX:r,movementY:n}=this.calculateMouseMovement({e:t,isTop:!0,anywhereWithin:!0,topBuffer:s});this.offsetElement(e+r,i+n),this.updateDragStartPosition(t.clientX,t.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let t=this.element;for(;t;){if(window.getComputedStyle(t).position!=="static")return t;t=t.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const t=this.resizeListeners.pop();this.dragService.removeDragSource(t)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},J0=class eR extends W{constructor(e,i={}){super(),this.eFocusableElement=e,this.callbacks=i,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:s=>{if(s.defaultPrevented)return;const r=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,s.shiftKey);r&&(r.focus(),s.preventDefault())},...i}}wireBeans(e){this.focusService=e.focusService}postConstruct(){this.eFocusableElement.classList.add(eR.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedElementListeners(this.eFocusableElement,{focusin:this.callbacks.onFocusIn}),this.callbacks.onFocusOut&&this.addManagedElementListeners(this.eFocusableElement,{focusout:this.callbacks.onFocusOut})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:i=>{if(!(i.defaultPrevented||Is(i))){if(this.callbacks.shouldStopEventPropagation(i)){Po(i);return}i.key===B.TAB?this.callbacks.onTabKeyDown(i):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(i)}}})}};J0.FOCUS_MANAGED_CLASS="ag-focus-managed";var Ln=J0,tR={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function Ev(t,e){return th(t)?(t.debounceMs!=null&&_("debounceMs is ignored when apply button is present"),0):t.debounceMs!=null?t.debounceMs:e}function th(t){return!!t.buttons&&t.buttons.indexOf("apply")>=0}var tD=class extends ze{constructor(t){super(),this.filterNameKey=t,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.eFilterBody=oe,this.buttonListeners=[]}wireBeans(t){this.rowModel=t.rowModel}postConstruct(){this.resetTemplate(),this.createManagedBean(new Ln(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new eD(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(t){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(t){let e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit);const i=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" data-ref="eFilterBody">
                    ${this.createBodyTemplate()}
                </div>
            </form>`;this.setTemplate(i,this.getAgComponents(),t),e=this.getGui(),e&&e.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(t){this.setParams(t),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(t){this.providedFilterParams=t,this.applyActive=th(t),this.resetButtonsPanel(t)}updateParams(t){this.providedFilterParams=t,this.applyActive=th(t),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(t,e){const{buttons:i,readOnly:s}=e??{},{buttons:r,readOnly:n}=t;if(s===n&&ul(i,r))return;const o=r&&r.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(mi(this.eButtonsPanel),this.buttonListeners.forEach(c=>c()),this.buttonListeners=[]):o&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!o){this.eButtonsPanel&&Rn(this.eButtonsPanel);return}const a=document.createDocumentFragment(),l=c=>{let u,h;switch(c){case"apply":u=this.translate("applyFilter"),h=p=>this.onBtApply(!1,!1,p);break;case"clear":u=this.translate("clearFilter"),h=()=>this.onBtClear();break;case"reset":u=this.translate("resetFilter"),h=()=>this.onBtReset();break;case"cancel":u=this.translate("cancelFilter"),h=p=>{this.onBtCancel(p)};break;default:_("Unknown button type specified");return}const g=vl(`<button
                    type="${c==="apply"?"submit":"button"}"
                    data-ref="${c}FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >${u}
                </button>`);this.buttonListeners.push(...this.addManagedElementListeners(g,{click:h})),a.append(g)};r.forEach(c=>l(c)),this.eButtonsPanel.append(a),this.getGui().appendChild(this.eButtonsPanel)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){const t=Ev(this.providedFilterParams,this.getDefaultDebounceMs()),e=Ut(this.checkApplyDebounce.bind(this),t);this.onBtApplyDebounce=()=>{this.debouncePending=!0,e()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(t){return(t!=null?this.setModelIntoUi(t):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(t){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(t)})}handleCancelEnd(t){this.providedFilterParams.closeOnApply&&this.close(t)}resetUiToActiveModel(t,e){const i=()=>{this.onUiChanged(!1,"prevent"),e==null||e()};t!=null?this.setModelIntoUi(t).then(i):this.resetUiToDefaults().then(i)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(t="api"){const e=this.getModelFromUi();if(!this.isModelValid(e))return!1;const i=this.appliedModel;return this.appliedModel=e,!this.areModelsEqual(i,e)}isModelValid(t){return!0}onFormSubmit(t){t.preventDefault()}onBtApply(t=!1,e=!1,i){i&&i.preventDefault(),this.applyModel(e?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:t,afterDataChange:e,source:"columnFilter"});const{closeOnApply:s}=this.providedFilterParams;s&&this.applyActive&&!t&&!e&&this.close(i)}onNewRowsLoaded(){}close(t){if(!this.hidePopup)return;const e=t,i=e&&e.key;let s;(i==="Enter"||i==="Space")&&(s={keyboardEvent:e}),this.hidePopup(s),this.hidePopup=null}onUiChanged(t=!1,e){if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const i=this.isModelValid(this.getModelFromUi()),s=this.queryForHtmlElement('[data-ref="applyFilterButton"]');s&&ml(s,!i)}t&&!e||e==="immediately"?this.onBtApply(t):(!this.applyActive&&!e||e==="debounce")&&this.onBtApplyDebounce()}afterGuiAttached(t){t&&(this.hidePopup=t.hidePopup),this.refreshFilterResizer(t==null?void 0:t.container)}refreshFilterResizer(t){if(!this.positionableFeature||t==="toolPanel")return;const e=t==="floatingFilter"||t==="columnFilter",{positionableFeature:i,gos:s}=this;e?(i.restoreLastSize(),i.setResizable(s.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}refresh(t){const e=this.providedFilterParams;return this.providedFilterParams=t,this.resetButtonsPanel(t,e),!0}destroy(){const t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(t){return this.localeService.getLocaleTextFunc()(t,tR[t])}getCellValue(t){return this.providedFilterParams.getValue(t)}getPositionableElement(){return this.eFilterBody}},iD=class extends Fv{constructor(t){super(t,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(t){t.selected&&t.name&&this.eInput.name&&this.eInput.name===t.name&&t.id&&this.eInput.id!==t.id&&this.setValue(!1,!0)}},sD=class extends ze{constructor(t="default",e=!1){super(`<div class="ag-list ag-${t}-list" role="listbox"></div>`),this.cssIdentifier=t,this.unFocusable=e,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const t=this.getGui();this.addManagedElementListeners(t,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(t,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(t){const e=t.key;switch(e){case B.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const i=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(i)}break;case B.DOWN:case B.UP:t.preventDefault(),this.navigate(e);break;case B.PAGE_DOWN:case B.PAGE_UP:case B.PAGE_HOME:case B.PAGE_END:t.preventDefault(),this.navigateToPage(e);break}}navigate(t){const e=t===B.DOWN;let i;if(!this.highlightedEl)i=this.itemEls[e?0:this.itemEls.length-1];else{let r=this.itemEls.indexOf(this.highlightedEl)+(e?1:-1);r=Math.min(Math.max(r,0),this.itemEls.length-1),i=this.itemEls[r]}this.highlightItem(i)}navigateToPage(t){if(!this.highlightedEl||this.itemEls.length===0)return;const e=this.itemEls.indexOf(this.highlightedEl),i=this.options.length-1,s=this.itemEls[0].clientHeight,r=Math.floor(this.getGui().clientHeight/s);let n=-1;t===B.PAGE_HOME?n=0:t===B.PAGE_END?n=i:t===B.PAGE_DOWN?n=Math.min(e+r,i):t===B.PAGE_UP&&(n=Math.max(e-r,0)),n!==-1&&this.highlightItem(this.itemEls[n])}addOptions(t){return t.forEach(e=>this.addOption(e)),this}addOption(t){const{value:e,text:i}=t,s=i||e;return this.options.push({value:e,text:s}),this.renderOption(e,s),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(t=>{Rn(t)}),this.itemEls=[]}updateIndices(){const t=this.getGui().querySelectorAll(".ag-list-item");t.forEach((e,i)=>{OM(e,i+1),IM(e,t.length)})}renderOption(t,e){const i=st(this.gos),s=i.createElement("div");ns(s,"option"),s.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);const r=i.createElement("span");s.appendChild(r),r.textContent=e,this.unFocusable||(s.tabIndex=-1),this.itemEls.push(s),this.addManagedListeners(s,{mouseover:()=>this.highlightItem(s),mousedown:n=>{n.preventDefault(),n.stopPropagation(),this.setValue(t)}}),this.createManagedBean(new Xo({getTooltipValue:()=>e,getGui:()=>s,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>r.scrollWidth>r.clientWidth})),this.getGui().appendChild(s)}setValue(t,e){if(this.value===t)return this.fireItemSelected(),this;if(t==null)return this.reset(e),this;const i=this.options.findIndex(s=>s.value===t);if(i!==-1){const s=this.options[i];this.value=s.value,this.displayValue=s.text,this.highlightItem(this.itemEls[i]),e||this.fireChangeEvent()}return this}setValueByIndex(t){return this.setValue(this.options[t].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const t=this.options.findIndex(e=>e.value===this.value);t!==-1&&this.highlightItem(this.itemEls[t])}reset(t){this.value=null,this.displayValue=null,this.clearHighlighted(),t||this.fireChangeEvent()}highlightItem(t){if(!ws(t))return;this.clearHighlighted(),this.highlightedEl=t,this.highlightedEl.classList.add(this.activeClass),Ku(this.highlightedEl,!0);const e=this.getGui(),{scrollTop:i,clientHeight:s}=e,{offsetTop:r,offsetHeight:n}=t;(r+n>i+s||r<i)&&this.highlightedEl.scrollIntoView({block:"nearest"}),this.unFocusable||this.highlightedEl.focus()}clearHighlighted(){!this.highlightedEl||!ws(this.highlightedEl)||(this.highlightedEl.classList.remove(this.activeClass),Ku(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},rD=class extends X0{constructor(t){if(super(t,(t==null?void 0:t.template)||`
            <div class="ag-picker-field" role="presentation">
                <div data-ref="eLabel"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
                    <div data-ref="eDisplayField" class="ag-picker-field-display"></div>
                    <div data-ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
                </div>
            </div>`,(t==null?void 0:t.agComponents)||[],t==null?void 0:t.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=oe,this.eWrapper=oe,this.eDisplayField=oe,this.eIcon=oe,this.ariaRole=t==null?void 0:t.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!t)return;const{pickerGap:e,maxPickerHeight:i,variableWidth:s,minPickerWidth:r,maxPickerWidth:n}=t;e!=null&&(this.pickerGap=e),this.variableWidth=!!s,i!=null&&this.setPickerMaxHeight(i),r!=null&&this.setPickerMinWidth(r),n!=null&&this.setPickerMaxWidth(n)}wireBeans(t){this.popupService=t.popupService}postConstruct(){super.postConstruct(),this.setupAria();const t=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",t);const e=this.getAriaElement();this.addManagedElementListeners(e,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:i,inputWidth:s}=this.config;if(i){const r=ui(i,this.gos);r&&this.eIcon.appendChild(r)}s!=null&&this.setInputWidth(s)}setupAria(){const t=this.getAriaElement();t.setAttribute("tabindex",this.gos.get("tabIndex").toString()),$u(t,!1),this.ariaRole&&ns(t,this.ariaRole)}onLabelOrWrapperMouseDown(t){if(t){const e=this.getFocusableElement();if(e!==this.eWrapper&&(t==null?void 0:t.target)===e)return;t.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(t){switch(t.key){case B.UP:case B.DOWN:case B.ENTER:case B.SPACE:t.preventDefault(),this.onLabelOrWrapperMouseDown();break;case B.ESCAPE:this.isPickerDisplayed&&(t.preventDefault(),t.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const t=this.pickerComponent.getGui();t.addEventListener("focusin",this.onPickerFocusIn),t.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const t=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const e=this.localeService.getLocaleTextFunc(),{pickerAriaLabelKey:i,pickerAriaLabelValue:s,modalPicker:r=!0}=this.config,n={modal:r,eChild:t,closeOnEsc:!0,closedCallback:()=>{const d=u0(this.gos);this.beforeHidePicker(),d&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:e(i,s),anchorToElement:this.eWrapper};t.style.position="absolute";const o=this.popupService.addPopup(n),{maxPickerHeight:a,minPickerWidth:l,maxPickerWidth:c,variableWidth:u}=this;u?(l&&(t.style.minWidth=l),t.style.width=bv(qu(this.eWrapper)),c&&(t.style.maxWidth=c)):eh(t,c??qu(this.eWrapper));const h=a??`${xv(this.popupService.getPopupParent())}px`;return t.style.setProperty("max-height",h),this.alignPickerToComponent(),o.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerType:t}=this.config,{pickerGap:e}=this,i=this.gos.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:t,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:i,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const t=this.pickerComponent.getGui();t.removeEventListener("focusin",this.onPickerFocusIn),t.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(t){if(!this.isAlive())return;const e=this.getAriaElement();$u(e,t),this.eWrapper.classList.toggle("ag-picker-expanded",t),this.eWrapper.classList.toggle("ag-picker-collapsed",!t)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(t){var e;(e=this.pickerComponent)!=null&&e.getGui().contains(t.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(t){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",t)}hidePicker(){this.hideCurrentPicker&&this.hideCurrentPicker()}setInputWidth(t){return eh(this.eWrapper,t),this}getFocusableElement(){return this.eWrapper}setPickerGap(t){return this.pickerGap=t,this}setPickerMinWidth(t){return typeof t=="number"&&(t=`${t}px`),this.minPickerWidth=t??void 0,this}setPickerMaxWidth(t){return typeof t=="number"&&(t=`${t}px`),this.maxPickerWidth=t??void 0,this}setPickerMaxHeight(t){return typeof t=="number"&&(t=`${t}px`),this.maxPickerHeight=t??void 0,this}destroy(){this.hidePicker(),super.destroy()}},kv=class extends rD{constructor(t){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox",...t})}postConstruct(){super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:t,value:e,placeholder:i}=this.config;t!=null&&this.addOptions(t),e!=null&&this.setValue(e,!0),i&&e==null&&(this.eDisplayField.textContent=i),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(t){this.eWrapper.contains(t.relatedTarget)||this.hidePicker()}createListComponent(){this.listComponent=this.createBean(new sD("select",!0)),this.listComponent.setParentComponent(this);const t=this.listComponent.getAriaElement(),e=`ag-select-list-${this.listComponent.getCompId()}`;t.setAttribute("id",e),VM(this.getAriaElement(),t),this.listComponent.addManagedListeners(this.listComponent,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})}}),this.listComponent.addManagedListeners(this.listComponent,{fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(t){var i;const{key:e}=t;switch(e===B.TAB&&this.hidePicker(),e){case B.ENTER:case B.UP:case B.DOWN:case B.PAGE_UP:case B.PAGE_DOWN:case B.PAGE_HOME:case B.PAGE_END:t.preventDefault(),this.isPickerDisplayed?(i=this.listComponent)==null||i.handleKeyDown(t):super.onKeyDown(t);break;case B.ESCAPE:super.onKeyDown(t);break;case B.SPACE:this.isPickerDisplayed?t.preventDefault():super.onKeyDown(t);break}}showPicker(){this.listComponent&&(super.showPicker(),this.listComponent.refreshHighlighted())}addOptions(t){return t.forEach(e=>this.addOption(e)),this}addOption(t){return this.listComponent.addOption(t),this}clearOptions(){var t;return(t=this.listComponent)==null||t.clearOptions(),this}setValue(t,e,i){if(this.value===t||!this.listComponent)return this;if(i||this.listComponent.setValue(t,!0),this.listComponent.getValue()===this.getValue())return this;let r=this.listComponent.getDisplayValue();return r==null&&this.config.placeholder&&(r=this.config.placeholder),this.eDisplayField.textContent=r,this.setTooltip({newTooltipText:r??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth}),super.setValue(t,e)}destroy(){this.listComponent&&(this.listComponent=this.destroyBean(this.listComponent)),super.destroy()}},nD={selector:"AG-SELECT",component:kv},iR=class{constructor(){this.customFilterOptions={}}init(t,e){this.filterOptions=t.filterOptions||e,this.mapCustomOptions(),this.selectDefaultItem(t)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach(t=>{if(typeof t=="string")return;const e=[["displayKey"],["displayName"],["predicate","test"]],i=s=>s.some(r=>t[r]!=null)?!0:(_(`ignoring FilterOptionDef as it doesn't contain one of '${s}'`),!1);if(!e.every(i)){this.filterOptions=this.filterOptions.filter(s=>s===t)||[];return}this.customFilterOptions[t.displayKey]=t})}selectDefaultItem(t){if(t.defaultOption)this.defaultOption=t.defaultOption;else if(this.filterOptions.length>=1){const e=this.filterOptions[0];typeof e=="string"?this.defaultOption=e:e.displayKey?this.defaultOption=e.displayKey:_("invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else _("no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(t){return this.customFilterOptions[t]}},sR=class extends tD{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(t){const e=this.optionsFactory.getCustomOption(t);if(e){const{numberOfInputs:s}=e;return s??1}return t&&["empty","notBlank","blank"].indexOf(t)>=0?0:t==="inRange"?2:1}onFloatingFilterChanged(t,e){this.setTypeFromFloatingFilter(t),this.setValueFromFloatingFilter(e),this.onUiChanged(!0)}setTypeFromFloatingFilter(t){this.eTypes.forEach((e,i)=>{i===0?e.setValue(t,!0):e.setValue(this.optionsFactory.getDefaultOption(),!0)})}getModelFromUi(){const t=this.getUiCompleteConditions();return t.length===0?null:this.maxNumConditions>1&&t.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),conditions:t}:t[0]}getConditionTypes(){return this.eTypes.map(t=>t.getValue())}getConditionType(t){return this.eTypes[t].getValue()}getJoinOperator(){return this.eJoinOperatorsOr.length===0?this.defaultJoinOperator:this.eJoinOperatorsOr[0].getValue()===!0?"OR":"AND"}areModelsEqual(t,e){if(!t&&!e)return!0;if(!t&&e||t&&!e)return!1;const i=!t.operator,s=!e.operator;if(!i&&s||i&&!s)return!1;let n;if(i){const o=t,a=e;n=this.areSimpleModelsEqual(o,a)}else{const o=t,a=e;n=o.operator===a.operator&&Lr(o.conditions,a.conditions,(l,c)=>this.areSimpleModelsEqual(l,c))}return n}shouldRefresh(t){var n;const e=this.getModel(),i=e?e.conditions??[e]:null,s=((n=t.filterOptions)==null?void 0:n.map(o=>typeof o=="string"?o:o.displayKey))??this.getDefaultFilterOptions();return!(!(!i||i.every(o=>s.find(a=>a===o.type)!==void 0))||typeof t.maxNumConditions=="number"&&i&&i.length>t.maxNumConditions)}refresh(t){return!this.shouldRefresh(t)||!super.refresh(t)?!1:(this.setParams(t),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(t){if(t.operator){const i=t;let s=i.conditions;s==null&&(s=[],_("Filter model is missing 'conditions'"));const r=this.validateAndUpdateConditions(s),n=this.getNumConditions();if(r<n)this.removeConditionsAndOperators(r);else if(r>n)for(let a=n;a<r;a++)this.createJoinOperatorPanel(),this.createOption();const o=i.operator==="OR";this.eJoinOperatorsAnd.forEach(a=>a.setValue(!o,!0)),this.eJoinOperatorsOr.forEach(a=>a.setValue(o,!0)),s.forEach((a,l)=>{this.eTypes[l].setValue(a.type,!0),this.setConditionIntoUi(a,l)})}else{const i=t;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(i.type,!0),this.setConditionIntoUi(i,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),it.resolve()}validateAndUpdateConditions(t){let e=t.length;return e>this.maxNumConditions&&(t.splice(this.maxNumConditions),_('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),e=this.maxNumConditions),e}doesFilterPass(t){const e=this.getModel();if(e==null)return!0;const{operator:i}=e,s=[];if(i){const n=e;s.push(...n.conditions??[])}else s.push(e);return s[i&&i==="OR"?"some":"every"](n=>this.individualConditionPasses(t,n))}setParams(t){super.setParams(t),this.setNumConditions(t),this.defaultJoinOperator=this.getDefaultJoinOperator(t.defaultJoinOperator),this.filterPlaceholder=t.filterPlaceholder,this.optionsFactory=new iR,this.optionsFactory.init(t,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(t){this.maxNumConditions=t.maxNumConditions??2,this.maxNumConditions<1&&(_('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=t.numAlwaysVisibleConditions??1,this.numAlwaysVisibleConditions<1&&(_('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(_('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){const t=this.createManagedBean(new kv);this.eTypes.push(t),t.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(t.getGui());const e=this.createValueElement();this.eConditionBodies.push(e),this.eFilterBody.appendChild(e),this.putOptionsIntoDropdown(t),this.resetType(t);const i=this.getNumConditions()-1;this.forEachPositionInput(i,s=>this.resetInput(s)),this.addChangedListeners(t,i)}createJoinOperatorPanel(){const t=document.createElement("div");this.eJoinOperatorPanels.push(t),t.classList.add("ag-filter-condition");const e=this.createJoinOperator(this.eJoinOperatorsAnd,t,"and"),i=this.createJoinOperator(this.eJoinOperatorsOr,t,"or");this.eFilterBody.appendChild(t);const s=this.eJoinOperatorPanels.length-1,r=this.joinOperatorId++;this.resetJoinOperatorAnd(e,s,r),this.resetJoinOperatorOr(i,s,r),this.isReadOnly()||(e.onValueChange(this.listener),i.onValueChange(this.listener))}createJoinOperator(t,e,i){const s=this.createManagedBean(new iD);return t.push(s),s.addCssClass("ag-filter-condition-operator"),s.addCssClass(`ag-filter-condition-operator-${i}`),e.appendChild(s.getGui()),s}getDefaultJoinOperator(t){return t==="AND"||t==="OR"?t:"AND"}createFilterListOptions(){const t=this.optionsFactory.getFilterOptions();this.filterListOptions=t.map(e=>typeof e=="string"?this.createBoilerplateListOption(e):this.createCustomListOption(e))}putOptionsIntoDropdown(t){this.filterListOptions.forEach(e=>{t.addOption(e)}),t.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(t){return{value:t,text:this.translate(t)}}createCustomListOption(t){const{displayKey:e}=t,i=this.optionsFactory.getCustomOption(t.displayKey);return{value:e,text:i?this.localeService.getLocaleTextFunc()(i.displayKey,i.displayName):this.translate(e)}}createBodyTemplate(){return""}getAgComponents(){return[]}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const t=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,t)}updateNumConditions(){let t=-1,e=!0;for(let i=0;i<this.getNumConditions();i++)this.isConditionUiComplete(i)?t=i:e=!1;if(this.shouldAddNewConditionAtEnd(e))this.createJoinOperatorPanel(),this.createOption();else{const i=this.lastUiCompletePosition??this.getNumConditions()-2;if(t<i){this.removeConditionsAndOperators(i+1);const s=t+1,r=i-s;r>0&&this.removeConditionsAndOperators(s,r),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=t}updateConditionStatusesAndValues(t,e){this.eTypes.forEach((s,r)=>{const n=this.isConditionDisabled(r,t);s.setDisabled(n||this.filterListOptions.length<=1),r===1&&(ml(this.eJoinOperatorPanels[0],n),this.eJoinOperatorsAnd[0].setDisabled(n),this.eJoinOperatorsOr[0].setDisabled(n))}),this.eConditionBodies.forEach((s,r)=>{Qe(s,this.isConditionBodyVisible(r))});const i=(e??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(s=>{s.setValue(!i,!0)}),this.eJoinOperatorsOr.forEach(s=>{s.setValue(i,!0)}),this.forEachInput((s,r,n,o)=>{this.setElementDisplayed(s,r<o),this.setElementDisabled(s,this.isConditionDisabled(n,t))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(t){return t&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(t,e){if(t>=this.getNumConditions())return;this.removeComponents(this.eTypes,t,e),this.removeElements(this.eConditionBodies,t,e),this.removeValueElements(t,e);const i=Math.max(t-1,0);this.removeElements(this.eJoinOperatorPanels,i,e),this.removeComponents(this.eJoinOperatorsAnd,i,e),this.removeComponents(this.eJoinOperatorsOr,i,e)}removeElements(t,e,i){this.removeItems(t,e,i).forEach(r=>Rn(r))}removeComponents(t,e,i){this.removeItems(t,e,i).forEach(r=>{Rn(r.getGui()),this.destroyBean(r)})}removeItems(t,e,i){return i==null?t.splice(e):t.splice(e,i)}afterGuiAttached(t){if(super.afterGuiAttached(t),this.resetPlaceholder(),!(t!=null&&t.suppressFocus))if(this.isReadOnly())this.eFilterBody.focus();else{const e=this.getInputs(0)[0];if(!e)return;e instanceof Zr&&e.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();const t=this.getModel();this.resetUiToActiveModel(t);let e=-1,i=-1,s=!1;const r=this.getJoinOperator();for(let o=this.getNumConditions()-1;o>=0;o--)if(this.isConditionUiComplete(o))e===-1&&(e=o,i=o);else{const a=o>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(o-1),l=o<e;(a||l)&&(this.removeConditionsAndOperators(o,1),s=!0,l&&i--)}let n=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),n=!0),this.shouldAddNewConditionAtEnd(i===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),n=!0),n&&this.updateConditionStatusesAndValues(i,r),s&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=i}getPlaceholderText(t,e){let i=this.translate(t);if(uv(this.filterPlaceholder)){const s=this.filterPlaceholder,r=this.eTypes[e].getValue(),n=this.translate(r);i=s({filterOptionKey:r,filterOption:n,placeholder:i})}else typeof this.filterPlaceholder=="string"&&(i=this.filterPlaceholder);return i}resetPlaceholder(){const t=this.localeService.getLocaleTextFunc();this.forEachInput((e,i,s,r)=>{if(!(e instanceof Zr))return;const n=i===0&&r>1?"inRangeStart":i===0?"filterOoo":"inRangeEnd",o=i===0&&r>1?t("ariaFilterFromValue","Filter from value"):i===0?t("ariaFilterValue","Filter Value"):t("ariaFilterToValue","Filter to Value");e.setInputPlaceholder(this.getPlaceholderText(n,s)),e.setInputAriaLabel(o)})}setElementValue(t,e,i){t instanceof Zr&&t.setValue(e!=null?String(e):null,!0)}setElementDisplayed(t,e){t instanceof ze&&Qe(t.getGui(),e)}setElementDisabled(t,e){t instanceof ze&&ml(t.getGui(),e)}attachElementOnChange(t,e){t instanceof Zr&&t.onValueChange(e)}forEachInput(t){this.getConditionTypes().forEach((e,i)=>{this.forEachPositionTypeInput(i,e,t)})}forEachPositionInput(t,e){const i=this.getConditionType(t);this.forEachPositionTypeInput(t,i,e)}forEachPositionTypeInput(t,e,i){const s=this.getNumberOfInputs(e),r=this.getInputs(t);for(let n=0;n<r.length;n++){const o=r[n];o!=null&&i(o,n,t,s)}}isConditionDisabled(t,e){return this.isReadOnly()?!0:t===0?!1:t>e+1}isConditionBodyVisible(t){const e=this.getConditionType(t);return this.getNumberOfInputs(e)>0}isConditionUiComplete(t){return!(t>=this.getNumConditions()||this.getConditionType(t)==="empty"||this.getValues(t).some(i=>i==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const t=[];for(let e=0;e<this.getNumConditions();e++)this.isConditionUiComplete(e)&&t.push(this.createCondition(e));return t}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let t=this.getNumConditions();t<this.numAlwaysVisibleConditions;t++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(t){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(e=>this.resetType(e)),this.eJoinOperatorsAnd.forEach((e,i)=>this.resetJoinOperatorAnd(e,i,this.joinOperatorId+i)),this.eJoinOperatorsOr.forEach((e,i)=>this.resetJoinOperatorOr(e,i,this.joinOperatorId+i)),this.joinOperatorId++,this.forEachInput(e=>this.resetInput(e)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,t||this.onUiChanged(),it.resolve()}resetType(t){const i=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");t.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(i).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(t,e,i){this.resetJoinOperator(t,e,this.isDefaultOperator("AND"),this.translate("andCondition"),i)}resetJoinOperatorOr(t,e,i){this.resetJoinOperator(t,e,this.isDefaultOperator("OR"),this.translate("orCondition"),i)}resetJoinOperator(t,e,i,s,r){this.updateJoinOperatorDisabled(t.setValue(i,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${r}`).setLabel(s),e)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach((t,e)=>this.updateJoinOperatorDisabled(t,e)),this.eJoinOperatorsOr.forEach((t,e)=>this.updateJoinOperatorDisabled(t,e))}updateJoinOperatorDisabled(t,e){t.setDisabled(this.isReadOnly()||e>0)}resetInput(t){this.setElementValue(t,null),this.setElementDisabled(t,this.isReadOnly())}setConditionIntoUi(t,e){const i=this.mapValuesFromModel(t);this.forEachInput((s,r,n)=>{n===e&&this.setElementValue(s,i[r]!=null?i[r]:null)})}setValueFromFloatingFilter(t){this.forEachInput((e,i,s)=>{this.setElementValue(e,i===0&&s===0?t:null,!0)})}isDefaultOperator(t){return t===this.defaultJoinOperator}addChangedListeners(t,e){this.isReadOnly()||(t.onValueChange(this.listener),this.forEachPositionInput(e,i=>{this.attachElementOnChange(i,this.listener)}))}individualConditionPasses(t,e){const i=this.getCellValue(t.node),s=this.mapValuesFromModel(e),r=this.optionsFactory.getCustomOption(e.type),n=this.evaluateCustomFilter(r,s,i);return n??(i==null?this.evaluateNullValue(e.type):this.evaluateNonNullValue(s,i,e,t))}evaluateCustomFilter(t,e,i){if(t==null)return;const{predicate:s}=t;if(s!=null&&!e.some(r=>r==null))return s(e,i)}isBlank(t){return t==null||typeof t=="string"&&t.trim().length===0}hasInvalidInputs(){return!1}},rR=class extends sR{setParams(t){super.setParams(t),this.scalarFilterParams=t}evaluateNullValue(t){switch(t){case"equals":if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case"notEqual":if(this.scalarFilterParams.includeBlanksInNotEqual)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case"lessThan":case"lessThanOrEqual":if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case"inRange":if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(t,e,i){const s=this.comparator(),r=t[0]!=null?s(t[0],e):0;switch(i.type){case"equals":return r===0;case"notEqual":return r!==0;case"greaterThan":return r>0;case"greaterThanOrEqual":return r>=0;case"lessThan":return r<0;case"lessThanOrEqual":return r<=0;case"inRange":{const n=s(t[1],e);return this.scalarFilterParams.inRangeInclusive?r>=0&&n<=0:r>0&&n<0}case"blank":return this.isBlank(e);case"notBlank":return!this.isBlank(e);default:return _('Unexpected type of filter "'+i.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}},oD=65,aD=67,lD=86,cD=68,uD=90,hD=89;function nR(t){var i;return t.altKey||t.ctrlKey||t.metaKey?!1:((i=t.key)==null?void 0:i.length)===1}function Zp(t,e,i,s,r){const n=s?s.getColDef().suppressKeyboardEvent:void 0;if(!n)return!1;const o=t.addGridCommonParams({event:e,editing:r,column:s,node:i,data:i.data,colDef:s.getColDef()});return!!(n&&n(o))}function dD(t,e,i,s){const r=s.getDefinition(),n=r&&r.suppressHeaderKeyboardEvent;if(!K(n))return!1;const o=t.addGridCommonParams({colDef:r,column:s,headerRowIndex:i,event:e});return!!n(o)}function gD(t){const{keyCode:e}=t;let i;switch(e){case oD:i=B.A;break;case aD:i=B.C;break;case lD:i=B.V;break;case cD:i=B.D;break;case uD:i=B.Z;break;case hD:i=B.Y;break;default:i=t.code}return i}function pD(t,e=!1){return t===B.DELETE?!0:!e&&t===B.BACKSPACE?L0():!1}var In=class extends Zr{constructor(t,e="ag-text-field",i="text"){super(t,e,i)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(t,e){return this.eInput.value!==t&&(this.eInput.value=K(t)?t:""),super.setValue(t,e)}setStartValue(t){this.setValue(t,!0)}preventDisallowedCharacters(){const t=new RegExp(`[${this.config.allowedCharPattern}]`),e=i=>{nR(i)&&i.key&&!t.test(i.key)&&i.preventDefault()};this.addManagedListeners(this.eInput,{keydown:e,paste:i=>{var r;const s=(r=i.clipboardData)==null?void 0:r.getData("text");s&&s.split("").some(n=>!t.test(n))&&i.preventDefault()}})}},Gh={selector:"AG-INPUT-TEXT-FIELD",component:In},Mv=class extends In{constructor(t){super(t,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListeners(this.eInput,{blur:()=>{const r=parseFloat(this.eInput.value),n=isNaN(r)?"":this.normalizeValue(r.toString());this.value!==n&&this.setValue(n)},wheel:this.onWheel.bind(this)}),this.eInput.step="any";const{precision:t,min:e,max:i,step:s}=this.config;typeof t=="number"&&this.setPrecision(t),typeof e=="number"&&this.setMin(e),typeof i=="number"&&this.setMax(i),typeof s=="number"&&this.setStep(s)}onWheel(t){Ze(this.gos)===this.eInput&&t.preventDefault()}normalizeValue(t){if(t==="")return"";this.precision!=null&&(t=this.adjustPrecision(t));const e=parseFloat(t);return this.min!=null&&e<this.min?t=this.min.toString():this.max!=null&&e>this.max&&(t=this.max.toString()),t}adjustPrecision(t,e){if(this.precision==null)return t;if(e){const s=parseFloat(t).toFixed(this.precision);return parseFloat(s).toString()}const i=String(t).split(".");if(i.length>1){if(i[1].length<=this.precision)return t;if(this.precision>0)return`${i[0]}.${i[1].slice(0,this.precision)}`}return i[0]}setMin(t){return this.min===t?this:(this.min=t,Di(this.eInput,"min",t),this)}setMax(t){return this.max===t?this:(this.max=t,Di(this.eInput,"max",t),this)}setPrecision(t){return this.precision=t,this}setStep(t){return this.step===t?this:(this.step=t,Di(this.eInput,"step",t),this)}setValue(t,e){return this.setValueOrInputValue(i=>super.setValue(i,e),()=>this,t)}setStartValue(t){return this.setValueOrInputValue(e=>super.setValue(e,!0),e=>{this.eInput.value=e},t)}setValueOrInputValue(t,e,i){if(K(i)){let s=this.isScientificNotation(i);if(s&&this.eInput.validity.valid)return t(i);if(!s){i=this.adjustPrecision(i);const r=this.normalizeValue(i);s=i!=r}if(s)return e(i)}return t(i)}getValue(){if(!this.eInput.validity.valid)return;const t=this.eInput.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):super.getValue()}isScientificNotation(t){return typeof t=="string"&&t.includes("e")}},fD={selector:"AG-INPUT-NUMBER-FIELD",component:Mv},oR=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"],Tv=class{constructor(t,e,i){this.localeService=t,this.optionsFactory=e,this.valueFormatter=i}getModelAsString(t){if(!t)return null;const e=t.operator!=null,i=this.localeService.getLocaleTextFunc();if(e){const s=t,n=(s.conditions??[]).map(a=>this.getModelAsString(a)),o=s.operator==="AND"?"andCondition":"orCondition";return n.join(` ${i(o,tR[o])} `)}else{if(t.type==="blank"||t.type==="notBlank")return i(t.type,t.type);{const s=t,r=this.optionsFactory.getCustomOption(s.type),{displayKey:n,displayName:o,numberOfInputs:a}=r||{};return n&&o&&a===0?(i(n,o),o):this.conditionToString(s,r)}}}updateParams(t){this.optionsFactory=t.optionsFactory}formatValue(t){return this.valueFormatter?this.valueFormatter(t??null)??"":String(t)}},aR=class extends Tv{conditionToString(t,e){const{numberOfInputs:i}=e||{};return t.type=="inRange"||i===2?`${this.formatValue(t.filter)}-${this.formatValue(t.filterTo)}`:t.filter!=null?this.formatValue(t.filter):`${t.type}`}};function Jp(t){const{allowedCharPattern:e}=t??{};return e??null}var mD=class extends rR{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}refresh(t){return this.numberFilterParams.allowedCharPattern!==t.allowedCharPattern?!1:super.refresh(t)}mapValuesFromModel(t){const{filter:e,filterTo:i,type:s}=t||{};return[this.processValue(e),this.processValue(i)].slice(0,this.getNumberOfInputs(s))}getDefaultDebounceMs(){return 500}comparator(){return(t,e)=>t===e?0:t<e?1:-1}setParams(t){this.numberFilterParams=t,super.setParams(t),this.filterModelFormatter=new aR(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return oR}setElementValue(t,e,i){const s=!i&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(e??null):e;super.setElementValue(t,s)}createValueElement(){const t=Jp(this.numberFilterParams),e=document.createElement("div");return e.classList.add("ag-filter-body"),ns(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from",t),this.createFromToElement(e,this.eValuesTo,"to",t),e}createFromToElement(t,e,i,s){const r=this.createManagedBean(s?new In({allowedCharPattern:s}):new Mv);r.addCssClass(`ag-filter-${i}`),r.addCssClass("ag-filter-filter"),e.push(r),t.appendChild(r.getGui())}removeValueElements(t,e){this.removeComponents(this.eValuesFrom,t,e),this.removeComponents(this.eValuesTo,t,e)}getValues(t){const e=[];return this.forEachPositionInput(t,(i,s,r,n)=>{s<n&&e.push(this.processValue(this.stringToFloat(i.getValue())))}),e}areSimpleModelsEqual(t,e){return t.filter===e.filter&&t.filterTo===e.filterTo&&t.type===e.type}getFilterType(){return"number"}processValue(t){return t==null||isNaN(t)?null:t}stringToFloat(t){if(typeof t=="number")return t;let e=Ls(t);return e!=null&&e.trim()===""&&(e=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(e):e==null||e.trim()==="-"?null:parseFloat(e)}createCondition(t){const e=this.getConditionType(t),i={filterType:this.getFilterType(),type:e},s=this.getValues(t);return s.length>0&&(i.filter=s[0]),s.length>1&&(i.filterTo=s[1]),i}getInputs(t){return t>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[t],this.eValuesTo[t]]}getModelAsString(t){return this.filterModelFormatter.getModelAsString(t)??""}hasInvalidInputs(){let t=!1;return this.forEachInput(e=>{if(!e.getInputElement().validity.valid){t=!0;return}}),t}},lR=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],cR=class extends Tv{conditionToString(t,e){const{numberOfInputs:i}=e||{};return t.type=="inRange"||i===2?`${t.filter}-${t.filterTo}`:t.filter!=null?`${t.filter}`:`${t.type}`}};function uR(t){const e=t&&t.trim();return e===""?t:e}var vD=class extends sR{constructor(){super("textFilter"),this.defaultFormatter=t=>t,this.defaultLowercaseFormatter=t=>t==null?null:t.toString().toLowerCase(),this.defaultMatcher=({filterOption:t,value:e,filterText:i})=>{if(i==null)return!1;switch(t){case"contains":return e.indexOf(i)>=0;case"notContains":return e.indexOf(i)<0;case"equals":return e===i;case"notEqual":return e!=i;case"startsWith":return e.indexOf(i)===0;case"endsWith":{const s=e.lastIndexOf(i);return s>=0&&s===e.length-i.length}default:return!1}},this.eValuesFrom=[],this.eValuesTo=[]}getDefaultDebounceMs(){return 500}setParams(t){this.textFilterParams=t,super.setParams(t),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new cR(this.localeService,this.optionsFactory)}getTextMatcher(){const t=this.textFilterParams.textCustomComparator;return t?(_("textCustomComparator is deprecated, use textMatcher instead."),({filterOption:e,value:i,filterText:s})=>t(e,i,s)):this.textFilterParams.textMatcher||this.defaultMatcher}createCondition(t){const e=this.getConditionType(t),i={filterType:this.getFilterType(),type:e},s=this.getValuesWithSideEffects(t,!0);return s.length>0&&(i.filter=s[0]),s.length>1&&(i.filterTo=s[1]),i}getFilterType(){return"text"}areSimpleModelsEqual(t,e){return t.filter===e.filter&&t.filterTo===e.filterTo&&t.type===e.type}getInputs(t){return t>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[t],this.eValuesTo[t]]}getValues(t){return this.getValuesWithSideEffects(t,!1)}getValuesWithSideEffects(t,e){const i=[];return this.forEachPositionInput(t,(s,r,n,o)=>{if(r<o){let a=Ls(s.getValue());e&&this.textFilterParams.trimInput&&(a=uR(a)??null,s.setValue(a,!0)),i.push(a)}}),i}getDefaultFilterOptions(){return lR}createValueElement(){const t=document.createElement("div");return t.classList.add("ag-filter-body"),ns(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from"),this.createFromToElement(t,this.eValuesTo,"to"),t}createFromToElement(t,e,i){const s=this.createManagedBean(new In);s.addCssClass(`ag-filter-${i}`),s.addCssClass("ag-filter-filter"),e.push(s),t.appendChild(s.getGui())}removeValueElements(t,e){this.removeComponents(this.eValuesFrom,t,e),this.removeComponents(this.eValuesTo,t,e)}mapValuesFromModel(t){const{filter:e,filterTo:i,type:s}=t||{};return[e||null,i||null].slice(0,this.getNumberOfInputs(s))}evaluateNullValue(t){return t?["notEqual","notContains","blank"].indexOf(t)>=0:!1}evaluateNonNullValue(t,e,i,s){const r=t.map(d=>this.formatter(d))||[],n=this.formatter(e),{api:o,colDef:a,column:l,context:c,textFormatter:u}=this.textFilterParams;if(i.type==="blank")return this.isBlank(e);if(i.type==="notBlank")return!this.isBlank(e);const h={api:o,colDef:a,column:l,context:c,node:s.node,data:s.data,filterOption:i.type,value:n,textFormatter:u};return r.some(d=>this.matcher({...h,filterText:d}))}getModelAsString(t){return this.filterModelFormatter.getModelAsString(t)??""}};function hR(t){if(typeof t=="number")return t;if(typeof t=="string"){const e=parseInt(t);return isNaN(e)?void 0:e}}function us(t,e=Number.MAX_VALUE){return i=>{const s=hR(i);if(!(s==null||s<t||s>e))return s}}function Va(t,e){return t.toString().padStart(e,"0")}function CD(t,e){const i=[];for(let s=t;s<=e;s++)i.push(s);return i}function yD(t,e,i){return typeof t!="number"?"":t.toString().replace(".",i).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${e}`)}function Li(t,e=!0,i="-"){if(!t)return null;let s=[t.getFullYear(),t.getMonth()+1,t.getDate()].map(r=>Va(r,2)).join(i);return e&&(s+=" "+[t.getHours(),t.getMinutes(),t.getSeconds()].map(r=>Va(r,2)).join(":")),s}var ig=t=>{if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function _a(t,e="YYYY-MM-DD"){const i=Va(t.getFullYear(),4),s=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n={YYYY:()=>i.slice(i.length-4,i.length),YY:()=>i.slice(i.length-2,i.length),Y:()=>`${t.getFullYear()}`,MMMM:()=>s[t.getMonth()],MMM:()=>s[t.getMonth()].slice(0,3),MM:()=>Va(t.getMonth()+1,2),Mo:()=>`${t.getMonth()+1}${ig(t.getMonth()+1)}`,M:()=>`${t.getMonth()+1}`,Do:()=>`${t.getDate()}${ig(t.getDate())}`,DD:()=>Va(t.getDate(),2),D:()=>`${t.getDate()}`,dddd:()=>r[t.getDay()],ddd:()=>r[t.getDay()].slice(0,3),dd:()=>r[t.getDay()].slice(0,2),do:()=>`${t.getDay()}${ig(t.getDay())}`,d:()=>`${t.getDay()}`},o=new RegExp(Object.keys(n).join("|"),"g");return e.replace(o,a=>a in n?n[a]():a)}function ei(t){if(!t)return null;const[e,i]=t.split(" ");if(!e)return null;const s=e.split("-").map(h=>parseInt(h,10));if(s.filter(h=>!isNaN(h)).length!==3)return null;const[r,n,o]=s,a=new Date(r,n-1,o);if(a.getFullYear()!==r||a.getMonth()!==n-1||a.getDate()!==o)return null;if(!i||i==="00:00:00")return a;const[l,c,u]=i.split(":").map(h=>parseInt(h,10));return l>=0&&l<24&&a.setHours(l),c>=0&&c<60&&a.setMinutes(c),u>=0&&u<60&&a.setSeconds(u),a}var dR=class{constructor(t,e,i,s,r){this.alive=!0,this.context=t,this.eParent=s,e.getDateCompDetails(i).newAgStackInstance().then(a=>{if(!this.alive){t.destroyBean(a);return}this.dateComp=a,a&&(s.appendChild(a.getGui()),a.afterGuiAttached&&a.afterGuiAttached(),this.tempValue&&a.setDate(this.tempValue),this.disabled!=null&&this.setDateCompDisabled(this.disabled),r==null||r(this))})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(t){this.dateComp?this.dateComp.setDate(t):this.tempValue=t}setDisabled(t){this.dateComp?this.setDateCompDisabled(t):this.disabled=t}setDisplayed(t){Qe(this.eParent,t)}setInputPlaceholder(t){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(t)}setInputAriaLabel(t){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(t)}afterGuiAttached(t){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(t)}updateParams(t){var i,s;let e=!1;(i=this.dateComp)!=null&&i.refresh&&typeof this.dateComp.refresh=="function"&&this.dateComp.refresh(t)!==null&&(e=!0),!e&&((s=this.dateComp)!=null&&s.onParamsUpdated)&&typeof this.dateComp.onParamsUpdated=="function"&&this.dateComp.onParamsUpdated(t)!==null&&_("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}setDateCompDisabled(t){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(t)}},gR=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"],pR=class extends Tv{constructor(t,e,i){super(e,i),this.dateFilterParams=t}conditionToString(t,e){const{type:i}=t,{numberOfInputs:s}=e||{},r=i=="inRange"||s===2,n=ei(t.dateFrom),o=ei(t.dateTo),a=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(r){const l=n!==null?_a(n,a):"null",c=o!==null?_a(o,a):"null";return`${l}-${c}`}return n!=null?_a(n,a):`${i}`}updateParams(t){super.updateParams(t),this.dateFilterParams=t.dateFilterParams}},Jy=1e3,ew=1/0,wD=class extends rR{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=Jy,this.maxValidYear=ew,this.minValidDate=null,this.maxValidDate=null}wireBeans(t){super.wireBeans(t),this.context=t.context,this.userComponentFactory=t.userComponentFactory}afterGuiAttached(t){super.afterGuiAttached(t),this.dateConditionFromComps[0].afterGuiAttached(t)}mapValuesFromModel(t){const{dateFrom:e,dateTo:i,type:s}=t||{};return[e&&ei(e)||null,i&&ei(i)||null].slice(0,this.getNumberOfInputs(s))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(t,e){const i=e;return e==null||i<t?-1:i>t?1:0}setParams(t){this.dateFilterParams=t,super.setParams(t);const e=(i,s)=>{if(t[i]!=null)if(isNaN(t[i]))_(`DateFilter ${i} is not a number`);else return t[i]==null?s:Number(t[i]);return s};this.minValidYear=e("minValidYear",Jy),this.maxValidYear=e("maxValidYear",ew),this.minValidYear>this.maxValidYear&&_("DateFilter minValidYear should be <= maxValidYear"),t.minValidDate?this.minValidDate=t.minValidDate instanceof Date?t.minValidDate:ei(t.minValidDate):this.minValidDate=null,t.maxValidDate?this.maxValidDate=t.maxValidDate instanceof Date?t.maxValidDate:ei(t.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&_("DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new pR(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(t){const e=new dR(this.context,this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},t);return this.addDestroyFunc(()=>e.destroy()),e}setElementValue(t,e){t.setDate(e)}setElementDisplayed(t,e){t.setDisplayed(e)}setElementDisabled(t,e){t.setDisabled(e)}getDefaultFilterOptions(){return gR}createValueElement(){const e=st(this.gos).createElement("div");return e.classList.add("ag-filter-body"),this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}createFromToElement(t,e,i,s){const n=st(this.gos).createElement("div");n.classList.add(`ag-filter-${s}`),n.classList.add(`ag-filter-date-${s}`),e.push(n),t.appendChild(n),i.push(this.createDateCompWrapper(n))}removeValueElements(t,e){this.removeDateComps(this.dateConditionFromComps,t,e),this.removeDateComps(this.dateConditionToComps,t,e),this.removeItems(this.eConditionPanelsFrom,t,e),this.removeItems(this.eConditionPanelsTo,t,e)}removeDateComps(t,e,i){this.removeItems(t,e,i).forEach(r=>r.destroy())}isValidDateValue(t){if(t===null)return!1;if(this.minValidDate){if(t<this.minValidDate)return!1}else if(t.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(t>this.maxValidDate)return!1}else if(t.getUTCFullYear()>this.maxValidYear)return!1;return!0}isConditionUiComplete(t){if(!super.isConditionUiComplete(t))return!1;let e=!0;return this.forEachInput((i,s,r,n)=>{r!==t||!e||s>=n||(e=e&&this.isValidDateValue(i.getDate()))}),e}areSimpleModelsEqual(t,e){return t.dateFrom===e.dateFrom&&t.dateTo===e.dateTo&&t.type===e.type}getFilterType(){return"date"}createCondition(t){const e=this.getConditionType(t),i={},s=this.getValues(t);return s.length>0&&(i.dateFrom=Li(s[0])),s.length>1&&(i.dateTo=Li(s[1])),{dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:e,...i}}resetPlaceholder(){const t=this.localeService.getLocaleTextFunc(),e=this.translate("dateFormatOoo"),i=t("ariaFilterValue","Filter Value");this.forEachInput(s=>{s.setInputPlaceholder(e),s.setInputAriaLabel(i)})}getInputs(t){return t>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[t],this.dateConditionToComps[t]]}getValues(t){const e=[];return this.forEachPositionInput(t,(i,s,r,n)=>{s<n&&e.push(i.getDate())}),e}translate(t){return t==="lessThan"?super.translate("before"):t==="greaterThan"?super.translate("after"):super.translate(t)}getModelAsString(t){return this.filterModelFormatter.getModelAsString(t)??""}},Dv=class extends W{constructor(t,e,i,s){super(),this.columnOrGroup=t,this.columnOrGroup=t,this.eCell=e,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=s,this.beans=i}setColsSpanning(t){this.colsSpanning=t,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gos.get("enableRtl")&&this.colsSpanning?xe(this.colsSpanning):this.columnOrGroup}postConstruct(){const t=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:t}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:t}),this.addManagedPropertyListener("domLayout",t)}setLeftFirstTime(){const t=this.beans.gos.get("suppressColumnMoveAnimation"),e=K(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&e&&!t?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const t=this.getColumnOrGroup(),e=t.getLeft(),i=t.getOldLeft(),s=this.modifyLeftForPrintLayout(t,i),r=this.modifyLeftForPrintLayout(t,e);this.setLeft(s),this.actualLeft=r,this.beans.columnAnimationService.executeNextVMTurn(()=>{this.actualLeft===r&&this.setLeft(r)})}onLeftChanged(){const t=this.getColumnOrGroup(),e=t.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(t,e),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(t,e){if(!Ft(this.beans.gos,"print")||t.getPinned()==="left")return e;const s=this.beans.visibleColsService.getColsLeftWidth();if(t.getPinned()==="right"){const r=this.beans.visibleColsService.getBodyContainerWidth();return s+r+e}return s+e}setLeft(t){if(K(t)&&(this.eCell.style.left=`${t}px`),nt(this.columnOrGroup)){const e=this.columnOrGroup.getLeafColumns();if(!e.length)return;e.length>1&&BM(this.ariaEl,e.length)}}},xD="ag-column-first",bD="ag-column-last";function fR(t,e,i,s){return be(t)?[]:RD(t.headerClass,t,e,i,s)}function mR(t,e,i){t.addOrRemoveCssClass(xD,i.isColAtEdge(e,"first")),t.addOrRemoveCssClass(bD,i.isColAtEdge(e,"last"))}function SD(t,e,i,s){return e.addGridCommonParams({colDef:t,column:i,columnGroup:s})}function RD(t,e,i,s,r){if(be(t))return[];let n;if(typeof t=="function"){const o=SD(e,i,s,r);n=t(o)}else n=t;return typeof n=="string"?[n]:Array.isArray(n)?[...n]:[]}var FD=0,vR=class CR extends W{constructor(e,i,s){super(),this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.columnGroupChild=e,this.parentRowCtrl=s,this.beans=i,this.instanceId=e.getUniqueId()+"-"+FD++}wireBeans(e){this.pinnedWidthService=e.pinnedWidthService,this.focusService=e.focusService,this.userComponentFactory=e.userComponentFactory,this.ctrlsService=e.ctrlsService,this.dragAndDropService=e.dragAndDropService,this.menuService=e.menuService}postConstruct(){const e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}shouldStopEventPropagation(e){const{headerRowIndex:i,column:s}=this.focusService.getFocusedHeader();return dD(this.gos,e,i,s)}getWrapperHasFocus(){return Ze(this.gos)===this.eGui}setGui(e,i){this.eGui=e,this.addDomData(i),i.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),i.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}onGuiFocus(){this.eventService.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){const{wrapperElement:i,checkMeasuringCallback:s,compBean:r}=e,{animationFrameService:n,resizeObserverService:o,columnModel:a,gos:l}=this.beans,c=f=>{if(!this.isAlive()||!r.isAlive())return;const{paddingTop:C,paddingBottom:m,borderBottomWidth:v,borderTopWidth:y}=Dn(this.getGui()),w=C+m+v+y,S=i.offsetHeight+w;if(f<5){const b=st(l),R=!b||!b.contains(i),A=S==0;if(R||A){n.requestAnimationFrame(()=>c(f+1));return}}a.setColHeaderHeight(this.column,S)};let u=!1,h;const d=()=>{const f=this.column.isAutoHeaderHeight();f&&!u&&g(),!f&&u&&p()},g=()=>{u=!0,c(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),h=o.observeResize(i,()=>c(0))},p=()=>{u=!1,h&&h(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),h=void 0};d(),r.addDestroyFunc(()=>p()),r.addManagedListeners(this.column,{widthChanged:()=>u&&c(0)}),r.addManagedEventListeners({sortChanged:()=>{u&&window.setTimeout(()=>c(0))}}),s&&s(d)}onDisplayedColumnsChanged(){const{comp:e,column:i,beans:s,eGui:r}=this;!e||!i||!r||(mR(e,i,s.visibleColsService),T0(r,s.visibleColsService.getAriaColIndex(i)))}addResizeAndMoveKeyboardListeners(e){this.resizeFeature&&e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const e=this.focusService.isHeaderFocusSuppressed();this.eGui&&Di(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){var o;const i=Ze(this.gos),s=e.key===B.LEFT||e.key===B.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),i!==this.eGui||!e.shiftKey&&!e.altKey||((this.isResizing||s)&&(e.preventDefault(),e.stopImmediatePropagation()),!s))return;const r=e.key===B.LEFT!==this.gos.get("enableRtl"),n=q0[r?"Left":"Right"];if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const a=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(a,e.shiftKey),(o=this.resizeFeature)==null||o.toggleColumnResizing(!0)}else this.moveHeader(n)}getViewportAdjustedResizeDiff(e){let i=this.getResizeDiff(e);if(this.column.getPinned()){const r=this.pinnedWidthService.getPinnedLeftWidth(),n=this.pinnedWidthService.getPinnedRightWidth(),o=zl(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(r+n+i>o)if(o>r+n)i=o-r-n;else return 0}return i}getResizeDiff(e){let i=e.key===B.LEFT!==this.gos.get("enableRtl");const s=this.column.getPinned(),r=this.gos.get("enableRtl");return s&&r!==(s==="right")&&(i=!i),(i?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{var e;(e=this.resizeFeature)==null||e.toggleColumnResizing(!1)},150))}handleKeyDown(e){const i=this.getWrapperHasFocus();switch(e.key){case B.PAGE_DOWN:case B.PAGE_UP:case B.PAGE_HOME:case B.PAGE_END:i&&e.preventDefault()}}addDomData(e){const i=CR.DOM_DATA_KEY_HEADER_CTRL;bn(this.gos,this.eGui,i,this),e.addDestroyFunc(()=>bn(this.gos,this.eGui,i,null))}getGui(){return this.eGui}focus(e){return this.eGui?(this.lastFocusEvent=e||null,this.eGui.focus(),!0):!1}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getColumnGroupChild(){return this.columnGroupChild}removeDragSource(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,i,s){const r=e??i;this.gos.get("preventDefaultOnContextMenu")&&r.preventDefault(),this.menuService.isHeaderContextMenuEnabled(s)&&this.menuService.showHeaderContextMenu(s,e,i),this.dispatchColumnMouseEvent("columnHeaderContextMenu",s)}dispatchColumnMouseEvent(e,i){this.eventService.dispatchEvent({type:e,column:i})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null}};vR.DOM_DATA_KEY_HEADER_CTRL="headerCtrl";var Bh=vR,Lv=class extends W{wireBeans(t){this.columnHoverService=t.columnHoverService}constructor(t,e){super(),this.columns=t,this.element=e}postConstruct(){this.gos.get("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListeners(this.element,{mouseout:this.onMouseOut.bind(this),mouseover:this.onMouseOver.bind(this)})}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}},AD=class extends Bh{constructor(t,e,i){super(t,e,i),this.iconCreated=!1,this.column=t}setComp(t,e,i,s,r){this.comp=t,r=Bl(this,this.beans.context,r),this.eButtonShowMainFilter=i,this.eFloatingFilterBody=s,this.setGui(e,r),this.setupActive(),this.setupWidth(r),this.setupLeft(r),this.setupHover(r),this.setupFocus(r),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(r),this.setupUi(),r.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(r),r.addManagedListeners(this.column,{colDefChanged:()=>this.onColDefChanged(r)}),r.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}setupActive(){const t=this.column.getColDef(),e=!!t.filter,i=!!t.floatingFilter;this.active=e&&i}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const t=ui("filter",this.gos,this.column);t&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(t))}setupFocus(t){t.createManagedBean(new Ln(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const t=this.localeService.getLocaleTextFunc();Eo(this.eButtonShowMainFilter,t("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(t){if(Ze(this.gos)===this.eGui)return;const s=this.focusService.findNextFocusableElement(this.eGui,null,t.shiftKey);if(s){this.beans.headerNavigationService.scrollToColumn(this.column),t.preventDefault(),s.focus();return}const r=this.findNextColumnWithFloatingFilter(t.shiftKey);r&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:r},event:t})&&t.preventDefault()}findNextColumnWithFloatingFilter(t){const e=this.beans.visibleColsService;let i=this.column;do if(i=t?e.getColBefore(i):e.getColAfter(i),!i)break;while(!i.getColDef().filter||!i.getColDef().floatingFilter);return i}handleKeyDown(t){super.handleKeyDown(t);const e=this.getWrapperHasFocus();switch(t.key){case B.UP:case B.DOWN:e||t.preventDefault();case B.LEFT:case B.RIGHT:if(e)return;t.stopPropagation();case B.ENTER:e&&this.focusService.focusInto(this.eGui)&&t.preventDefault();break;case B.ESCAPE:e||this.eGui.focus()}}onFocusIn(t){if(this.eGui.contains(t.relatedTarget))return;const i=!!t.relatedTarget&&!t.relatedTarget.classList.contains("ag-floating-filter"),s=!!t.relatedTarget&&mo(t.relatedTarget,"ag-floating-filter");if(i&&s&&t.target===this.eGui){const n=this.lastFocusEvent,o=!!(n&&n.key===B.TAB);if(n&&o){const a=n.shiftKey;this.focusService.focusInto(this.eGui,a)}}const r=this.getRowIndex();this.beans.focusService.setFocusedHeader(r,this.column)}setupHover(t){t.createManagedBean(new Lv([this.column],this.eGui));const e=()=>{if(!this.gos.get("columnHoverHighlight"))return;const i=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",i)};t.addManagedEventListeners({columnHoverChanged:e}),e()}setupLeft(t){const e=new Dv(this.column,this.eGui,this.beans);t.createManagedBean(e)}setupFilterButton(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()}setupUserComp(){var e;if(!this.active)return;const t=(e=this.beans.filterManager)==null?void 0:e.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());t&&this.setCompDetails(t)}setCompDetails(t){this.userCompDetails=t,this.comp.setCompDetails(t)}showParentFilter(){const t=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuService.showFilterMenu({column:this.column,buttonElement:t,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(t){if(!this.active)return;const{filterManager:e}=this.beans,i=s=>{if((s==null?void 0:s.source)==="filterDestroyed"&&!this.isAlive())return;const r=this.comp.getFloatingFilterComp();r&&r.then(n=>{if(n){const o=e==null?void 0:e.getCurrentFloatingFilterParentModel(this.column),a=s?{...s,columns:s.columns??[],source:s.source==="api"?"api":"columnFilter"}:null;n.onParentModelChanged(o,a)}})};[this.destroySyncListener]=t.addManagedListeners(this.column,{filterChanged:i}),e!=null&&e.isFilterActive(this.column)&&i(null)}setupWidth(t){const e=()=>{const i=`${this.column.getActualWidth()}px`;this.comp.setWidth(i)};t.addManagedListeners(this.column,{widthChanged:e}),e()}setupFilterChangedListener(t){this.active&&([this.destroyFilterChangedListener]=t.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){var t;if(!this.suppressFilterButton&&this.comp){const e=!!((t=this.beans.filterManager)!=null&&t.isFilterAllowed(this.column));this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(t){var n;const e=this.active;this.setupActive();const i=!e&&this.active;e&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const s=this.active?(n=this.beans.filterManager)==null?void 0:n.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,r=this.comp.getFloatingFilterComp();!r||!s?this.updateCompDetails(t,s,i):r.then(o=>{var a;!o||(a=this.beans.filterManager)!=null&&a.areFilterCompsDifferent(this.userCompDetails??null,s)?this.updateCompDetails(t,s,i):this.updateFloatingFilterParams(s)})}updateCompDetails(t,e,i){this.isAlive()&&(this.setCompDetails(e),this.setupFilterButton(),this.setupUi(),i&&(this.setupSyncWithFilter(t),this.setupFilterChangedListener(t)))}updateFloatingFilterParams(t){var i;if(!t)return;const e=t.params;(i=this.comp.getFloatingFilterComp())==null||i.then(s=>{let r=!1;s!=null&&s.refresh&&typeof s.refresh=="function"&&s.refresh(e)!==null&&(r=!0),!r&&(s!=null&&s.onParamsUpdated)&&typeof s.onParamsUpdated=="function"&&s.onParamsUpdated(e)!==null&&_("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")})}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};var ce="32.3.3";function PD(t){var e,i;return!!((e=t.filterManager)!=null&&e.isColumnFilterPresent())||!!((i=t.filterManager)!=null&&i.isAggregateFilterPresent())}function ED(t,e,i){var s;return(s=t.filterManager)==null?void 0:s.getFilterInstance(e,i)}function kD(t,e){var i;return((i=t.filterManager)==null?void 0:i.getColumnFilterInstance(e))??Promise.resolve(void 0)}function MD(t,e){var s;const i=t.columnModel.getColDefCol(e);if(i)return(s=t.filterManager)==null?void 0:s.destroyFilter(i,"api")}function TD(t,e){t.frameworkOverrides.wrapIncoming(()=>{var i;return(i=t.filterManager)==null?void 0:i.setFilterModel(e)})}function DD(t){var e;return((e=t.filterManager)==null?void 0:e.getFilterModel())??{}}function LD(t,e){var i;return((i=t.filterManager)==null?void 0:i.getColumnFilterModel(e))??null}function ID(t,e,i){var s;return((s=t.filterManager)==null?void 0:s.setColumnFilterModel(e,i))??Promise.resolve()}function OD(t,e){const i=t.columnModel.getCol(e);if(!i){ke(`column '${e}' not found`);return}t.menuService.showFilterMenu({column:i,containerType:"columnFilter",positionBy:"auto"})}function HD(t,e,i){if(e==null)return null;let s=null;const{compName:r,jsComp:n,fwComp:o}=$0.getCompKeys(t,e,Pv);return r?s={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[r]:n==null&&o==null&&e.filter===!0&&(s=i()),s}var tw={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},iw=["january","february","march","april","may","june","july","august","september","october","november","december"],ND=class extends W{constructor(){super(...arguments),this.beanName="columnFilterService",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[]}wireBeans(t){this.valueService=t.valueService,this.columnModel=t.columnModel,this.rowModel=t.rowModel,this.userComponentFactory=t.userComponentFactory,this.rowRenderer=t.rowRenderer,this.dataTypeService=t.dataTypeService,this.filterManager=t.filterManager}postConstruct(){var t,e;this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),rowDataUpdated:()=>this.onNewRowsLoaded("rowDataUpdated"),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel={...((e=(t=this.gos.get("initialState"))==null?void 0:t.filter)==null?void 0:e.filterModel)??{}}}setFilterModel(t,e="api"){var r;if((r=this.dataTypeService)!=null&&r.isPendingInference()){this.filterModelUpdateQueue.push({model:t,source:e});return}const i=[],s=this.getFilterModel(!0);if(t){const n=new Set(Object.keys(t));this.allColumnFilters.forEach((o,a)=>{const l=t[a];i.push(this.setModelOnFilterWrapper(o.filterPromise,l)),n.delete(a)}),n.forEach(o=>{const a=this.columnModel.getColDefCol(o)||this.columnModel.getCol(o);if(!a){_("setFilterModel() - no column found for colId: "+o);return}if(!a.isFilterAllowed()){_("setFilterModel() - unable to fully apply model, filtering disabled for colId: "+o);return}const l=this.getOrCreateFilterWrapper(a);if(!l){_("setFilterModel() - unable to fully apply model, unable to create filter for colId: "+o);return}i.push(this.setModelOnFilterWrapper(l.filterPromise,t[o]))})}else this.allColumnFilters.forEach(n=>{i.push(this.setModelOnFilterWrapper(n.filterPromise,null))});it.all(i).then(()=>{var a;const n=this.getFilterModel(!0),o=[];this.allColumnFilters.forEach((l,c)=>{const u=s?s[c]:null,h=n?n[c]:null;ul(u,h)||o.push(l.column)}),o.length>0&&((a=this.filterManager)==null||a.onFilterChanged({columns:o,source:e}))})}setModelOnFilterWrapper(t,e){return new it(i=>{t.then(s=>{typeof s.setModel!="function"&&(_("filter missing setModel method, which is needed for setFilterModel"),i()),(s.setModel(e)||it.resolve()).then(()=>i())})})}getFilterModel(t){const e={},{allColumnFilters:i,initialFilterModel:s}=this;return i.forEach((r,n)=>{const o=this.getModelFromFilterWrapper(r);K(o)&&(e[n]=o)}),t||Object.entries(s).forEach(([r,n])=>{var o;K(n)&&!i.has(r)&&((o=this.columnModel.getCol(r))!=null&&o.isFilterAllowed())&&(e[r]=n)}),e}getModelFromFilterWrapper(t){const{filter:e}=t;return e?typeof e.getModel!="function"?(_("filter API missing getModel method, which is needed for getFilterModel"),null):e.getModel():this.getModelFromInitialState(t.column)}getModelFromInitialState(t){return this.initialFilterModel[t.getColId()]??null}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}disableColumnFilters(){return this.allColumnFilters.size?(this.allColumnFilters.forEach(t=>this.disposeFilterWrapper(t,"advancedFilterEnabled")),!0):!1}doAggregateFiltersPass(t,e){return this.doColumnFiltersPass(t,e,!0)}updateActiveFilters(){const t=n=>n?n.isFilterActive?n.isFilterActive():(_("Filter is missing isFilterActive() method"),!1):!1,e=!!zp(this.gos),i=n=>{if(!n.isPrimary())return!0;const a=!this.columnModel.isPivotActive();return!n.isValueActive()||!a?!1:this.columnModel.isPivotMode()?!0:e},s=[],r=[];return this.forEachColumnFilter((n,o)=>{t(n)&&(i(o.column)?s.push(n):r.push(n))}).then(()=>{this.activeAggregateFilters=s,this.activeColumnFilters=r})}updateFilterFlagInColumns(t,e){return this.forEachColumnFilter((i,s)=>s.column.setFilterActive(i.isFilterActive(),t,e))}forEachColumnFilter(t){return it.all(Array.from(this.allColumnFilters.values()).map(e=>e.filterPromise.then(i=>t(i,e))))}doColumnFiltersPass(t,e,i){const{data:s,aggData:r}=t,n=i?this.activeAggregateFilters:this.activeColumnFilters,o=i?r:s;for(let a=0;a<n.length;a++){const l=n[a];if(!(l==null||l===e)){if(typeof l.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!l.doesFilterPass({node:t,data:o}))return!1}}return!0}callOnFilterChangedOutsideRenderCycle(t){const e=()=>{var i;return(i=this.filterManager)==null?void 0:i.onFilterChanged(t)};this.rowRenderer.isRefreshInProgress()?setTimeout(e,0):e()}updateBeforeFilterChanged(t={}){const{filterInstance:e,additionalEventAttributes:i}=t;return this.updateDependentFilters(),this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",i).then(()=>{this.allColumnFilters.forEach(s=>{s.filterPromise&&s.filterPromise.then(r=>{r&&r!==e&&r.onAnyFilterChanged&&r.onAnyFilterChanged()})}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(t){this.forEachColumnFilter(e=>{e.onNewRowsLoaded&&e.onNewRowsLoaded()}).then(()=>this.updateFilterFlagInColumns(t,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createValueGetter(t){return({node:e})=>this.valueService.getValue(t,e,!0)}createGetValue(t){return(e,i)=>{const s=i?this.columnModel.getCol(i):t;return s?this.valueService.getValue(s,e,!0):void 0}}isFilterActive(t){const{filter:e}=this.cachedFilter(t)??{};return e?e.isFilterActive():this.getModelFromInitialState(t)!=null}getOrCreateFilterWrapper(t){if(!t.isFilterAllowed())return null;let e=this.cachedFilter(t);return e||(e=this.createFilterWrapper(t),this.setColumnFilterWrapper(t,e)),e}cachedFilter(t){return this.allColumnFilters.get(t.getColId())}getDefaultFilter(t){var i;let e;if(Yd(this.gos))e="agSetColumnFilter";else{const s=(i=this.dataTypeService)==null?void 0:i.getBaseDataType(t);s==="number"?e="agNumberColumnFilter":s==="date"||s==="dateString"?e="agDateColumnFilter":e="agTextColumnFilter"}return e}getDefaultFloatingFilter(t){var i;let e;if(Yd(this.gos))e="agSetColumnFloatingFilter";else{const s=(i=this.dataTypeService)==null?void 0:i.getBaseDataType(t);s==="number"?e="agNumberColumnFloatingFilter":s==="date"||s==="dateString"?e="agDateColumnFloatingFilter":e="agTextColumnFloatingFilter"}return e}createFilterInstance(t,e){const i=this.getDefaultFilter(t),s=t.getColDef();let r;const n={...this.createFilterParams(t,s),filterModifiedCallback:()=>this.filterModifiedCallbackFactory(r,t)(),filterChangedCallback:a=>this.filterChangedCallbackFactory(r,t)(a),doesRowPassOtherFilter:a=>this.filterManager?this.filterManager.doesRowPassOtherFilters(r,a):!0},o=this.userComponentFactory.getFilterDetails(s,n,i);return o?{filterPromise:()=>{const a=o.newAgStackInstance();return a!=null&&a.then(l=>{r=l,e&&(e.filter=l)}),a},compDetails:o}:{filterPromise:null,compDetails:null}}createFilterParams(t,e){return this.gos.addGridCommonParams({column:t,colDef:x0(e),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(t),getValue:this.createGetValue(t),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(t){const e={column:t,filterPromise:null,compiledElement:null,compDetails:null},{filterPromise:i,compDetails:s}=this.createFilterInstance(t,e);return e.filterPromise=(i==null?void 0:i())??null,e.compDetails=s,e}onColumnsChanged(){var i;const t=[];this.allColumnFilters.forEach((s,r)=>{let n;s.column.isPrimary()?n=this.columnModel.getColDefCol(r):n=this.columnModel.getCol(r),!(n&&n===s.column)&&(t.push(s.column),this.disposeFilterWrapper(s,"columnChanged"),this.disposeColumnListener(r))});const e=t.every(s=>s.getColDef().filter==="agGroupColumnFilter");t.length>0&&!e?(i=this.filterManager)==null||i.onFilterChanged({columns:t,source:"api"}):this.updateDependentFilters()}updateDependentFilters(){const t=this.columnModel.getAutoCols();t==null||t.forEach(e=>{e.getColDef().filter==="agGroupColumnFilter"&&this.getOrCreateFilterWrapper(e)})}isFilterAllowed(t){if(!t.isFilterAllowed())return!1;const{filter:i}=this.allColumnFilters.get(t.getColId())??{};return i&&typeof(i==null?void 0:i.isFilterAllowed)=="function"?i.isFilterAllowed():!0}getFloatingFilterCompDetails(t,e){const i=l=>{var u;const c=(u=this.getOrCreateFilterWrapper(t))==null?void 0:u.filterPromise;c!=null&&c.then(h=>{l(za(h))})},s=t.getColDef(),r={...this.createFilterParams(t,s),filterChangedCallback:()=>i(l=>this.filterChangedCallbackFactory(l,t)())},n=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(s,Pv,r);let o=HD(this.frameworkOverrides,s,()=>this.getDefaultFloatingFilter(t));o==null&&(o="agReadOnlyFloatingFilter");const a={column:t,filterParams:n,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(t),parentFilterInstance:i,showParentFilter:e,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(s,a,o)}getCurrentFloatingFilterParentModel(t){return this.getModelFromFilterWrapper(this.cachedFilter(t)??{column:t})}destroyFilter(t,e="api"){var r;const i=t.getColId(),s=this.allColumnFilters.get(i);this.disposeColumnListener(i),delete this.initialFilterModel[i],s&&(this.disposeFilterWrapper(s,e),(r=this.filterManager)==null||r.onFilterChanged({columns:[t],source:"api"}))}disposeColumnListener(t){const e=this.allColumnListeners.get(t);e&&(this.allColumnListeners.delete(t),e())}disposeFilterWrapper(t,e){t.filterPromise.then(i=>{this.destroyBean(i),t.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(t.column.getColId()),this.eventService.dispatchEvent({type:"filterDestroyed",source:e,column:t.column})})}filterModifiedCallbackFactory(t,e){return()=>{this.eventService.dispatchEvent({type:"filterModified",column:e,filterInstance:t})}}filterChangedCallbackFactory(t,e){return i=>{const s=(i==null?void 0:i.source)??"columnFilter",r={filter:t,additionalEventAttributes:i,columns:[e],source:s};this.callOnFilterChangedOutsideRenderCycle(r)}}checkDestroyFilter(t){const e=this.allColumnFilters.get(t);if(!e)return;const i=e.column,{compDetails:s}=i.isFilterAllowed()?this.createFilterInstance(i):{compDetails:null};if(this.areFilterCompsDifferent(e.compDetails,s)){this.destroyFilter(i,"paramsUpdated");return}const r=i.getColDef().filterParams;if(!e.filterPromise){this.destroyFilter(i,"paramsUpdated");return}e.filterPromise.then(n=>{(n!=null&&n.refresh?n.refresh({...this.createFilterParams(i,i.getColDef()),filterModifiedCallback:this.filterModifiedCallbackFactory(n,i),filterChangedCallback:this.filterChangedCallbackFactory(n,i),doesRowPassOtherFilter:a=>this.filterManager?this.filterManager.doesRowPassOtherFilters(n,a):!0,...r}):!0)===!1&&this.destroyFilter(i,"paramsUpdated")})}setColumnFilterWrapper(t,e){const i=t.getColId();this.allColumnFilters.set(i,e),this.allColumnListeners.set(i,this.addManagedListeners(t,{colDefChanged:()=>this.checkDestroyFilter(i)})[0])}areFilterCompsDifferent(t,e){if(!e||!t)return!0;const{componentClass:i}=t,{componentClass:s}=e;return!(i===s||(i==null?void 0:i.render)&&(s==null?void 0:s.render)&&i.render===s.render)}hasFloatingFilters(){return this.columnModel.getCols().some(e=>e.getColDef().floatingFilter)}getFilterInstance(t,e){e&&this.getFilterInstanceImpl(t).then(i=>{const s=za(i);e(s)})}getColumnFilterInstance(t){return new Promise(e=>{this.getFilterInstanceImpl(t).then(i=>{e(za(i))})})}getFilterInstanceImpl(t){var s;const e=this.columnModel.getColDefCol(t);return e?((s=this.getOrCreateFilterWrapper(e))==null?void 0:s.filterPromise)??it.resolve(null):it.resolve(void 0)}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:t,source:e})=>this.setFilterModel(t,e)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:t,model:e,resolve:i})=>{this.setColumnFilterModel(t,e).then(()=>i())}),this.columnFilterModelUpdateQueue=[]}getColumnFilterModel(t){const e=this.getFilterWrapper(t);return e?this.getModelFromFilterWrapper(e):null}setColumnFilterModel(t,e){var n;if((n=this.dataTypeService)!=null&&n.isPendingInference()){let o=()=>{};const a=new Promise(l=>{o=l});return this.columnFilterModelUpdateQueue.push({key:t,model:e,resolve:o}),a}const i=this.columnModel.getColDefCol(t),s=i?this.getOrCreateFilterWrapper(i):null;return s?(o=>new Promise(a=>{o.then(l=>a(l))}))(this.setModelOnFilterWrapper(s.filterPromise,e)):Promise.resolve()}getFilterWrapper(t){const e=this.columnModel.getColDefCol(t);return e?this.cachedFilter(e)??null:null}setColDefPropertiesForDataType(t,e,i){const s=Yd(this.gos),r=this.localeService.getLocaleTextFunc(),n=o=>{const{filterParams:a}=t;t.filterParams=typeof a=="object"?{...a,...o}:o};switch(e.baseDataType){case"number":{s&&n({comparator:(o,a)=>{const l=o==null?0:parseInt(o),c=a==null?0:parseInt(a);return l===c?0:l>c?1:-1}});break}case"boolean":{n(s?{valueFormatter:o=>K(o.value)?r(String(o.value),o.value?"True":"False"):r("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(o,a)=>a,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(o,a)=>a===!1,numberOfInputs:0}]});break}case"date":{s&&n({valueFormatter:o=>{const a=i(o);return K(a)?a:r("blanks","(Blanks)")},treeList:!0,treeListFormatter:(o,a)=>{if(a===1&&o!=null){const l=iw[Number(o)-1];return r(l,tw[l])}return o??r("blanks","(Blanks)")}});break}case"dateString":{const o=e.dateParser;n(s?{valueFormatter:a=>{const l=i(a);return K(l)?l:r("blanks","(Blanks)")},treeList:!0,treeListPathGetter:a=>{const l=o(a??void 0);return l?[String(l.getFullYear()),String(l.getMonth()+1),String(l.getDate())]:null},treeListFormatter:(a,l)=>{if(l===1&&a!=null){const c=iw[Number(a)-1];return r(c,tw[c])}return a??r("blanks","(Blanks)")}}:{comparator:(a,l)=>{const c=o(l);return l==null||c<a?-1:c>a?1:0}});break}case"object":{s?n({valueFormatter:o=>{const a=i(o);return K(a)?a:r("blanks","(Blanks)")}}):t.filterValueGetter=o=>i({column:o.column,node:o.node,value:this.valueService.getValue(o.column,o.node)});break}}}destroy(){super.destroy(),this.allColumnFilters.forEach(t=>this.disposeFilterWrapper(t,"gridDestroyed")),this.allColumnListeners.clear()}};function GD(t){var e;return!!((e=t.filterManager)!=null&&e.isAnyFilterPresent())}function BD(t,e="api"){var i;(i=t.filterManager)==null||i.onFilterChanged({source:e})}var WD=class extends ze{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eFloatingFilterText"></ag-input-text-field>
            </div>`,[Gh]),this.eFloatingFilterText=oe}wireBeans(t){this.columnNameService=t.columnNameService}destroy(){super.destroy()}init(t){this.params=t;const e=this.columnNameService.getDisplayNameForColumn(t.column,"header",!0),i=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${e} ${i("ariaFilterInput","Filter Input")}`)}onParentModelChanged(t){if(t==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(e=>{if(e.getModelAsString){const i=e.getModelAsString(t);this.eFloatingFilterText.setValue(i)}})}onParamsUpdated(t){this.refresh(t)}refresh(t){this.init(t)}},yR=class extends ze{wireBeans(t){this.columnNameService=t.columnNameService}getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(t){return t&&t.afterFloatingFilter}isEventFromDataChange(t){return t==null?void 0:t.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(t){if(!t){this.lastType=this.optionsFactory.getDefaultOption();return}const e=t.operator;let i;e?i=t.conditions[0]:i=t,this.lastType=i.type}canWeEditAfterModelFromParentFilter(t){if(!t)return this.isTypeEditable(this.lastType);if(t.operator)return!1;const i=t;return this.isTypeEditable(i.type)}init(t){this.setSimpleParams(t,!1)}setSimpleParams(t,e=!0){this.optionsFactory=new iR,this.optionsFactory.init(t.filterParams,this.getDefaultFilterOptions()),e||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!t.filterParams.readOnly;const i=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(i)}onParamsUpdated(t){this.refresh(t)}refresh(t){this.setSimpleParams(t)}doesFilterHaveSingleInput(t){const e=this.optionsFactory.getCustomOption(t),{numberOfInputs:i}=e||{};return i==null||i==1}isTypeEditable(t){const e=["inRange","empty","blank","notBlank"];return!!t&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(t)&&e.indexOf(t)<0}getAriaLabel(t){const e=this.columnNameService.getDisplayNameForColumn(t.column,"header",!0),i=this.localeService.getLocaleTextFunc();return`${e} ${i("ariaFilterInput","Filter Input")}`}},zD=class extends yR{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eReadOnlyText"></ag-input-text-field>
                <div data-ref="eDateWrapper" style="display: flex;"></div>
            </div>`,[Gh]),this.eReadOnlyText=oe,this.eDateWrapper=oe}wireBeans(t){super.wireBeans(t),this.context=t.context,this.userComponentFactory=t.userComponentFactory}getDefaultFilterOptions(){return gR}init(t){super.init(t),this.params=t,this.filterParams=t.filterParams,this.createDateComponent(),this.filterModelFormatter=new pR(this.filterParams,this.localeService,this.optionsFactory);const e=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(e("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(t){this.refresh(t)}refresh(t){super.refresh(t),this.params=t,this.filterParams=t.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(t.currentParentModel())}updateCompOnModelChange(t){const e=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(t);if(this.setEditable(e),e){if(t){const i=t;this.dateComp.setDate(ei(i.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(t)),this.dateComp.setDate(null)}setEditable(t){Qe(this.eDateWrapper,t),Qe(this.eReadOnlyText.getGui(),!t)}onParentModelChanged(t,e){this.isEventFromFloatingFilter(e)||this.isEventFromDataChange(e)||(super.setLastTypeFromModel(t),this.updateCompOnModelChange(t))}onDateChanged(){const t=this.dateComp.getDate(),e=Li(t);this.params.parentFilterInstance(i=>{if(i){const s=ei(e);i.onFloatingFilterChanged(this.getLastType()||null,s)}})}getDateComponentParams(){const t=Ev(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:Ut(this.onDateChanged.bind(this),t),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new dR(this.context,this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper,t=>{t.setInputAriaLabel(this.getAriaLabel(this.params))}),this.addDestroyFunc(()=>this.dateComp.destroy())}updateDateComponent(){const t=this.gos.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(t)}getFilterModelFormatter(){return this.filterModelFormatter}},VD=class extends ze{constructor(){super(`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" data-ref="eDateInput"></ag-input-text-field>
            </div>`,[Gh]),this.eDateInput=oe}destroy(){super.destroy()}init(t){this.params=t,this.setParams(t);const e=this.eDateInput.getInputElement();this.addManagedListeners(e,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||e.focus()},input:i=>{i.target===Ze(this.gos)&&(this.eDateInput.isDisabled()||this.params.onDateChanged())}})}setParams(t){const e=this.eDateInput.getInputElement(),i=this.shouldUseBrowserDatePicker(t);this.usingSafariDatePicker=i&&ys(),e.type=i?"date":"text";const{minValidYear:s,maxValidYear:r,minValidDate:n,maxValidDate:o}=t.filterParams||{};if(n&&s&&_("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),o&&r&&_("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),n&&o){const[a,l]=[n,o].map(c=>c instanceof Date?c:ei(c));a&&l&&a.getTime()>l.getTime()&&_("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}n?n instanceof Date?e.min=_a(n):e.min=n:s&&(e.min=`${s}-01-01`),o?o instanceof Date?e.max=_a(o):e.max=o:r&&(e.max=`${r}-12-31`)}onParamsUpdated(t){this.refresh(t)}refresh(t){this.params=t,this.setParams(t)}getDate(){return ei(this.eDateInput.getValue())}setDate(t){this.eDateInput.setValue(Li(t,!1))}setInputPlaceholder(t){this.eDateInput.setInputPlaceholder(t)}setInputAriaLabel(t){this.eDateInput.setAriaLabel(t)}setDisabled(t){this.eDateInput.setDisabled(t)}afterGuiAttached(t){(!t||!t.suppressFocus)&&this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(t){return t.filterParams&&t.filterParams.browserDatePicker!=null?t.filterParams.browserDatePicker:Cv()||yv()||ys()&&D0()>=14.1}},wR=class extends W{constructor(t){super(),this.params=t,this.eFloatingFilterTextInput=oe,this.valueChangedListener=()=>{}}setupGui(t){var s;this.eFloatingFilterTextInput=this.createManagedBean(new In((s=this.params)==null?void 0:s.config));const e=this.eFloatingFilterTextInput.getGui();t.appendChild(e);const i=r=>this.valueChangedListener(r);this.addManagedListeners(e,{input:i,keydown:i})}setEditable(t){this.eFloatingFilterTextInput.setDisabled(!t)}setAutoComplete(t){this.eFloatingFilterTextInput.setAutoComplete(t)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(t,e){this.eFloatingFilterTextInput.setValue(t,e)}setValueChangedListener(t){this.valueChangedListener=t}setParams(t){this.setAriaLabel(t.ariaLabel),t.autoComplete!==void 0&&this.setAutoComplete(t.autoComplete)}setAriaLabel(t){this.eFloatingFilterTextInput.setInputAriaLabel(t)}},xR=class extends yR{constructor(){super(...arguments),this.eFloatingFilterInputContainer=oe}postConstruct(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" data-ref="eFloatingFilterInputContainer"></div>
        `)}getDefaultDebounceMs(){return 500}onParentModelChanged(t,e){this.isEventFromFloatingFilter(e)||this.isEventFromDataChange(e)||(this.setLastTypeFromModel(t),this.setEditable(this.canWeEditAfterModelFromParentFilter(t)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(t)))}init(t){this.setupFloatingFilterInputService(t),super.init(t),this.setTextInputParams(t)}setupFloatingFilterInputService(t){this.floatingFilterInputService=this.createFloatingFilterInputService(t),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(t){this.params=t;const e=t.browserAutoComplete??!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(t),autoComplete:e}),this.applyActive=th(this.params.filterParams),!this.isReadOnly()){const i=Ev(this.params.filterParams,this.getDefaultDebounceMs()),s=Ut(this.syncUpWithParentFilter.bind(this),i);this.floatingFilterInputService.setValueChangedListener(s)}}onParamsUpdated(t){this.refresh(t)}refresh(t){super.refresh(t),this.setTextInputParams(t)}recreateFloatingFilterInputService(t){const e=this.floatingFilterInputService.getValue();mi(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(t),this.floatingFilterInputService.setValue(e,!0)}syncUpWithParentFilter(t){const e=t.key===B.ENTER;if(this.applyActive&&!e)return;let i=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(i=uR(i),this.floatingFilterInputService.setValue(i,!0)),this.params.parentFilterInstance(s=>{s&&s.onFloatingFilterChanged(this.getLastType()||null,i||null)})}setEditable(t){this.floatingFilterInputService.setEditable(t)}},_D=class extends W{constructor(){super(...arguments),this.valueChangedListener=()=>{},this.numberInputActive=!0}setupGui(t){this.eFloatingFilterNumberInput=this.createManagedBean(new Mv),this.eFloatingFilterTextInput=this.createManagedBean(new In),this.eFloatingFilterTextInput.setDisabled(!0);const e=this.eFloatingFilterNumberInput.getGui(),i=this.eFloatingFilterTextInput.getGui();t.appendChild(e),t.appendChild(i),this.setupListeners(e,s=>this.valueChangedListener(s)),this.setupListeners(i,s=>this.valueChangedListener(s))}setEditable(t){this.numberInputActive=t,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(t){this.eFloatingFilterNumberInput.setAutoComplete(t),this.eFloatingFilterTextInput.setAutoComplete(t)}getValue(){return this.getActiveInputElement().getValue()}setValue(t,e){this.getActiveInputElement().setValue(t,e)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(t){this.valueChangedListener=t}setupListeners(t,e){this.addManagedListeners(t,{input:e,keydown:e})}setParams(t){this.setAriaLabel(t.ariaLabel),t.autoComplete!==void 0&&this.setAutoComplete(t.autoComplete)}setAriaLabel(t){this.eFloatingFilterNumberInput.setInputAriaLabel(t),this.eFloatingFilterTextInput.setInputAriaLabel(t)}},UD=class extends xR{init(t){var e;super.init(t),this.filterModelFormatter=new aR(this.localeService,this.optionsFactory,(e=t.filterParams)==null?void 0:e.numberFormatter)}onParamsUpdated(t){this.refresh(t)}refresh(t){Jp(t.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(t),super.refresh(t),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return oR}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(t){return this.allowedCharPattern=Jp(t.filterParams),this.allowedCharPattern?this.createManagedBean(new wR({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new _D)}},XD=class extends xR{init(t){super.init(t),this.filterModelFormatter=new cR(this.localeService,this.optionsFactory)}onParamsUpdated(t){this.refresh(t)}refresh(t){super.refresh(t),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return lR}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new wR)}};function jD(t){var e;return!!((e=t.filterManager)!=null&&e.isQuickFilterPresent())}function YD(t){return t.gos.get("quickFilterText")}function $D(t){var e;(e=t.filterManager)==null||e.resetQuickFilterCache()}var KD=class extends W{constructor(){super(...arguments),this.beanName="quickFilterService",this.quickFilter=null,this.quickFilterParts=null}wireBeans(t){this.valueService=t.valueService,this.columnModel=t.columnModel,this.rowModel=t.rowModel,this.pivotResultColsService=t.pivotResultColsService}postConstruct(){const t=this.resetQuickFilterCache.bind(this);this.addManagedEventListeners({columnPivotModeChanged:t,newColumnsLoaded:t,columnRowGroupChanged:t,columnVisible:()=>{this.gos.get("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}}),this.addManagedPropertyListener("quickFilterText",e=>this.setQuickFilter(e.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onQuickFilterColumnConfigChanged()),this.quickFilter=this.parseQuickFilter(this.gos.get("quickFilterText")),this.parser=this.gos.get("quickFilterParser"),this.matcher=this.gos.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setQuickFilterParserAndMatcher())}refreshQuickFilterCols(){var r;const t=this.columnModel.isPivotMode(),e=this.columnModel.getAutoCols(),i=this.columnModel.getColDefCols();let s=(t&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")?(r=this.pivotResultColsService.getPivotResultCols())==null?void 0:r.list:i)??[];e&&(s=s.concat(e)),this.colsForQuickFilter=this.gos.get("includeHiddenColumnsInQuickFilter")?s:s.filter(n=>n.isVisible()||n.isRowGroupActive())}isQuickFilterPresent(){return this.quickFilter!==null}doesRowPassQuickFilter(t){const e=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(e,t):this.quickFilterParts.every(i=>e?this.doesRowPassQuickFilterCache(t,i):this.doesRowPassQuickFilterNoCache(t,i))}resetQuickFilterCache(){this.rowModel.forEachNode(t=>t.quickFilterAggregateText=null)}setQuickFilterParts(){const{quickFilter:t,parser:e}=this;t?this.quickFilterParts=e?e(t):t.split(" "):this.quickFilterParts=null}parseQuickFilter(t){return K(t)?Xe(this.gos)?t.toUpperCase():(_("Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(t){if(t!=null&&typeof t!="string"){_(`Grid option quickFilterText only supports string inputs, received: ${typeof t}`);return}const e=this.parseQuickFilter(t);this.quickFilter!==e&&(this.quickFilter=e,this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setQuickFilterParserAndMatcher(){const t=this.gos.get("quickFilterParser"),e=this.gos.get("quickFilterMatcher"),i=t!==this.parser||e!==this.matcher;this.parser=t,this.matcher=e,i&&(this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onQuickFilterColumnConfigChanged(){this.refreshQuickFilterCols(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassQuickFilterNoCache(t,e){return this.colsForQuickFilter.some(i=>{const s=this.getQuickFilterTextForColumn(i,t);return K(s)&&s.indexOf(e)>=0})}doesRowPassQuickFilterCache(t,e){return this.checkGenerateQuickFilterAggregateText(t),t.quickFilterAggregateText.indexOf(e)>=0}doesRowPassQuickFilterMatcher(t,e){let i;t?(this.checkGenerateQuickFilterAggregateText(e),i=e.quickFilterAggregateText):i=this.getQuickFilterAggregateText(e);const{quickFilterParts:s,matcher:r}=this;return r(s,i)}checkGenerateQuickFilterAggregateText(t){t.quickFilterAggregateText||(t.quickFilterAggregateText=this.getQuickFilterAggregateText(t))}getQuickFilterTextForColumn(t,e){let i=this.valueService.getValue(t,e,!0);const s=t.getColDef();if(s.getQuickFilterText){const r=this.gos.addGridCommonParams({value:i,node:e,data:e.data,column:t,colDef:s});i=s.getQuickFilterText(r)}return K(i)?i.toString().toUpperCase():null}getQuickFilterAggregateText(t){const e=[];return this.colsForQuickFilter.forEach(i=>{const s=this.getQuickFilterTextForColumn(i,t);K(s)&&e.push(s)}),e.join(`
`)}},Iv={version:ce,moduleName:"@ag-grid-community/filter-core",beans:[QT]},qD={version:ce,moduleName:"@ag-grid-community/filter-api",apiFunctions:{isAnyFilterPresent:GD,onFilterChanged:BD},dependantModules:[Iv]},Ov={version:ce,moduleName:"@ag-grid-community/column-filter",beans:[ND],dependantModules:[Iv]},QD={version:ce,moduleName:"@ag-grid-community/column-filter-api",apiFunctions:{isColumnFilterPresent:PD,getFilterInstance:ED,getColumnFilterInstance:kD,destroyFilter:MD,setFilterModel:TD,getFilterModel:DD,getColumnFilterModel:LD,setColumnFilterModel:ID,showColumnFilter:OD},dependantModules:[Ov,qD]},bR={version:ce,moduleName:"@ag-grid-community/floating-filter-core",controllers:[{name:"headerFilterCell",classImp:AD}],dependantModules:[Ov]},ZD={version:ce,moduleName:"@ag-grid-community/read-only-floating-filter",userComponents:[{name:"agReadOnlyFloatingFilter",classImp:WD}],dependantModules:[bR]},JD={version:ce,moduleName:"@ag-grid-community/simple-filter",dependantModules:[Ov],userComponents:[{name:"agTextColumnFilter",classImp:vD},{name:"agNumberColumnFilter",classImp:mD},{name:"agDateColumnFilter",classImp:wD},{name:"agDateInput",classImp:VD}]},eL={version:ce,moduleName:"@ag-grid-community/simple-floating-filter",dependantModules:[JD,bR],userComponents:[{name:"agTextColumnFloatingFilter",classImp:XD},{name:"agNumberColumnFloatingFilter",classImp:UD},{name:"agDateColumnFloatingFilter",classImp:zD}]},SR={version:ce,moduleName:"@ag-grid-community/quick-filter-core",beans:[KD],dependantModules:[Iv]},tL={version:ce,moduleName:"@ag-grid-community/quick-filter-api",apiFunctions:{isQuickFilterPresent:jD,getQuickFilter:YD,resetQuickFilter:$D},dependantModules:[SR]},iL={version:ce,moduleName:"@ag-grid-community/quick-filter",dependantModules:[SR,tL]},sL={version:ce,moduleName:"@ag-grid-community/filter",dependantModules:[eL,ZD,iL,QD]},ef=(t=>(t.COLUMN_GROUP="group",t.COLUMN="column",t.FLOATING_FILTER="filter",t))(ef||{}),rL=class extends W{constructor(){super(...arguments),this.beanName="headerNavigationService",this.currentHeaderRowWithoutSpan=-1}wireBeans(t){this.focusService=t.focusService,this.headerPositionUtils=t.headerPositionUtils,this.ctrlsService=t.ctrlsService,this.columnModel=t.columnModel,this.visibleColService=t.visibleColsService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl});const t=st(this.gos);this.addManagedElementListeners(t,{mousedown:()=>this.setCurrentHeaderRowWithoutSpan(-1)})}getHeaderRowCount(){var t;return((t=this.ctrlsService.getHeaderRowContainerCtrl())==null?void 0:t.getRowCount())??0}getHeaderPositionForColumn(t,e){let i;if(typeof t=="string"?(i=this.columnModel.getCol(t),i||(i=this.visibleColService.getColumnGroup(t))):i=t,!i)return null;const s=this.ctrlsService.getHeaderRowContainerCtrl(),r=s==null?void 0:s.getAllCtrls(),n=xe(r||[]).getType()==="filter",o=this.getHeaderRowCount()-1;let a=-1,l=i;for(;l;)a++,l=l.getParent();let c=a;return e&&n&&c===o-1&&c++,c===-1?null:{headerRowIndex:c,column:i}}navigateVertically(t,e,i){if(e||(e=this.focusService.getFocusedHeader()),!e)return!1;const{headerRowIndex:s}=e,r=e.column,n=this.getHeaderRowCount(),o=t===0;let{headerRowIndex:a,column:l,headerRowIndexWithoutSpan:c}=o?this.headerPositionUtils.getColumnVisibleParent(r,s):this.headerPositionUtils.getColumnVisibleChild(r,s),u=!1;return a<0&&(a=0,l=r,u=!0),a>=n?(a=-1,this.setCurrentHeaderRowWithoutSpan(-1)):c!==void 0&&(this.currentHeaderRowWithoutSpan=c),!u&&!l?!1:this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a,column:l},allowUserOverride:!0,event:i})}setCurrentHeaderRowWithoutSpan(t){this.currentHeaderRowWithoutSpan=t}navigateHorizontally(t,e=!1,i){const s=this.focusService.getFocusedHeader(),r=t===2,n=this.gos.get("enableRtl");let o,a;if(this.currentHeaderRowWithoutSpan!==-1?s.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=s.headerRowIndex,r!==n?(a="Before",o=this.headerPositionUtils.findHeader(s,a)):(a="After",o=this.headerPositionUtils.findHeader(s,a)),o||!e)return this.focusService.focusHeaderPosition({headerPosition:o,direction:a,fromTab:e,allowUserOverride:!0,event:i});if(e){const l=this.gos.getCallback("tabToNextHeader");if(l)return this.focusService.focusHeaderPositionFromUserFunc({userFunc:l,headerPosition:o,direction:a})}return this.focusNextHeaderRow(s,a,i)}focusNextHeaderRow(t,e,i){const s=t.headerRowIndex;let r=null,n;if(e==="Before"?s>0&&(n=s-1,this.currentHeaderRowWithoutSpan-=1,r=this.headerPositionUtils.findColAtEdgeForHeaderRow(n,"end")):(n=s+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),r=this.headerPositionUtils.findColAtEdgeForHeaderRow(n,"start")),!r)return!1;const{column:o,headerRowIndex:a}=this.headerPositionUtils.getHeaderIndexToFocus(r.column,r==null?void 0:r.headerRowIndex);return this.focusService.focusHeaderPosition({headerPosition:{column:o,headerRowIndex:a},direction:e,fromTab:!0,allowUserOverride:!0,event:i})}scrollToColumn(t,e="After"){if(t.getPinned())return;let i;if(nt(t)){const s=t.getDisplayedLeafColumns();i=e==="Before"?xe(s):s[0]}else i=t;this.gridBodyCon.getScrollFeature().ensureColumnVisible(i)}},nL=class extends W{wireBeans(t){this.animationFrameService=t.animationFrameService,this.headerNavigationService=t.headerNavigationService,this.focusService=t.focusService,this.columnModel=t.columnModel,this.visibleColsService=t.visibleColsService,this.ctrlsService=t.ctrlsService,this.filterManager=t.filterManager,this.menuService=t.menuService}setComp(t,e,i){this.comp=t,this.eGui=e,this.createManagedBean(new Ln(i,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),this.onPivotModeChanged(),this.setupHeaderHeight();const s=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:s}),this.mockContextMenuForIPad(s),this.ctrlsService.register("gridHeaderCtrl",this)}setupHeaderHeight(){const t=this.setHeaderHeight.bind(this);t(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t),this.addManagedEventListeners({displayedColumnsChanged:t,columnHeaderHeightChanged:t,columnGroupHeaderHeightChanged:()=>this.animationFrameService.requestAnimationFrame(()=>t()),gridStylesChanged:t,advancedFilterEnabledChanged:t})}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){var n;const{columnModel:t}=this;let e=0;const i=this.columnModel.getGroupRowsHeight().reduce((o,a)=>o+a,0),s=this.columnModel.getColumnHeaderRowHeight();if((n=this.filterManager)!=null&&n.hasFloatingFilters()&&(e+=t.getFloatingFiltersHeight()),e+=i,e+=s,this.headerHeight===e)return;this.headerHeight=e;const r=`${e+1}px`;this.comp.setHeightAndMinHeight(r),this.eventService.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(){const t=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",t),this.comp.addOrRemoveCssClass("ag-pivot-off",!t)}onDisplayedColumnsChanged(){const e=this.visibleColsService.getAllCols().some(i=>i.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",e)}onTabKeyDown(t){const e=this.gos.get("enableRtl"),i=t.shiftKey,s=i!==e?2:3;(this.headerNavigationService.navigateHorizontally(s,!0,t)||!i&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(i,!0))&&t.preventDefault()}handleKeyDown(t){let e=null;switch(t.key){case B.LEFT:e=2;case B.RIGHT:{K(e)||(e=3),this.headerNavigationService.navigateHorizontally(e,!1,t)&&t.preventDefault();break}case B.UP:e=0;case B.DOWN:{K(e)||(e=1),this.headerNavigationService.navigateVertically(e,null,t)&&t.preventDefault();break}default:return}}onFocusOut(t){const{relatedTarget:e}=t;!e&&this.eGui.contains(Ze(this.gos))||this.eGui.contains(e)||this.focusService.clearFocusedHeader()}onHeaderContextMenu(t,e,i){var r;if(!t&&!i||!this.menuService.isHeaderContextMenuEnabled())return;const{target:s}=t??e;(s===this.eGui||s===((r=this.ctrlsService.getHeaderRowContainerCtrl())==null?void 0:r.getViewportElement()))&&this.menuService.showHeaderContextMenu(void 0,t,i)}mockContextMenuForIPad(t){if(!Ir())return;const e=new wr(this.eGui),i=s=>{t(void 0,s.touchStart,s.touchEvent)};this.addManagedListeners(e,{longTap:i}),this.addDestroyFunc(()=>e.destroy())}},Hv=class extends W{constructor(t,e=!1){super(),this.callback=t,this.addSpacer=e}wireBeans(t){this.visibleColsService=t.visibleColsService,this.scrollVisibleService=t.scrollVisibleService}postConstruct(){const t=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",t),this.addManagedEventListeners({columnContainerWidthChanged:t,displayedColumnsChanged:t,leftPinnedWidthChanged:t}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:t,scrollVisibilityChanged:t,scrollbarWidthChanged:t}),this.setWidth()}setWidth(){const t=Ft(this.gos,"print"),e=this.visibleColsService.getBodyContainerWidth(),i=this.visibleColsService.getColsLeftWidth(),s=this.visibleColsService.getDisplayedColumnsRightWidth();let r;t?r=e+i+s:(r=e,this.addSpacer&&(this.gos.get("enableRtl")?i:s)===0&&this.scrollVisibleService.isVerticalScrollShowing()&&(r+=this.scrollVisibleService.getScrollbarWidth())),this.callback(r)}},oL=class extends W{constructor(t){super(),this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=t}wireBeans(t){this.funcColsService=t.funcColsService}onDragEnter(t){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const e=t.dragItem.columns;e&&e.forEach(i=>{i.isPrimary()&&(i.isAnyFunctionActive()||(i.isAllowValue()?this.columnsToAggregate.push(i):i.isAllowRowGroup()?this.columnsToGroup.push(i):i.isAllowPivot()&&this.columnsToPivot.push(i)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(t){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(t){}onDragStop(t){this.columnsToAggregate.length>0&&this.funcColsService.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.funcColsService.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.funcColsService.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function RR(t){const{isFromHeader:e,fromLeft:i,xPosition:s,fromEnter:r,fakeEvent:n,pinned:o,gos:a,columnModel:l,columnMoveService:c,visibleColsService:u}=t;let{allMovingColumns:h}=t;if(e){const x=[];h.forEach(S=>{var A;let b=null,R=S.getParent();for(;R!=null&&R.getDisplayedLeafColumns().length===1;)b=R,R=R.getParent();b!=null?(!!((A=b.getColGroupDef())!=null&&A.marryChildren)?b.getProvidedColumnGroup().getLeafColumns():b.getLeafColumns()).forEach(L=>{x.includes(L)||x.push(L)}):x.includes(S)||x.push(S)}),h=x}const d=h.slice();l.sortColsLikeCols(d);const g=uL({movingCols:d,draggingRight:i,xPosition:s,pinned:o,gos:a,columnModel:l,visibleColsService:u}),p=aL(d,l);if(g.length===0)return;const f=g[0];let C=p!==null&&!r;if(e&&(C=p!==null),C&&!n&&(!i&&f>=p||i&&f<=p))return;const m=u.getAllCols(),v=[];let y=null;for(let x=0;x<g.length;x++){const S=g[x],b=c.getProposedColumnOrder(d,S);if(!c.doesOrderPassRules(b))continue;const R=b.filter(P=>m.includes(P));if(y===null)y=R;else if(!Lr(R,y))break;const A=lL(b);v.push({move:S,fragCount:A})}if(v.length===0)return;v.sort((x,S)=>x.fragCount-S.fragCount);const w=v[0].move;if(!(w>l.getCols().length-h.length))return{columns:h,toIndex:w}}function Nv(t){const{columns:e,toIndex:i}=RR(t)||{},{finished:s,columnMoveService:r}=t;return!e||i==null?null:(r.moveColumns(e,i,"uiColumnMoved",s),s?null:{columns:e,toIndex:i})}function aL(t,e){const i=e.getCols(),s=Q1(t.map(l=>i.indexOf(l))),r=s[0];return xe(s)-r!==s.length-1?null:r}function lL(t){function e(s){const r=[];let n=s.getOriginalParent();for(;n!=null;)r.push(n),n=n.getOriginalParent();return r}let i=0;for(let s=0;s<t.length-1;s++){let r=e(t[s]),n=e(t[s+1]);[r,n]=r.length>n.length?[r,n]:[n,r],r.forEach(o=>{n.indexOf(o)===-1&&i++})}return i}function cL(t,e){switch(e){case"left":return t.getLeftCols();case"right":return t.getRightCols();default:return t.getCenterCols()}}function uL(t){const{movingCols:e,draggingRight:i,xPosition:s,pinned:r,gos:n,columnModel:o,visibleColsService:a}=t;if(n.get("suppressMovableColumns")||e.some(y=>y.getColDef().suppressMovable))return[];const c=cL(a,r),u=o.getCols(),h=c.filter(y=>cn(e,y)),d=c.filter(y=>!cn(e,y)),g=u.filter(y=>!cn(e,y));let p=0,f=s;if(i){let y=0;h.forEach(w=>y+=w.getActualWidth()),f-=y}if(f>0){for(let y=0;y<d.length;y++){const w=d[y];if(f-=w.getActualWidth(),f<0)break;p++}i&&p++}let C;if(p>0){const y=d[p-1];C=g.indexOf(y)+1}else C=g.indexOf(d[0]),C===-1&&(C=0);const m=[C],v=(y,w)=>y-w;if(i){let y=C+1;const w=u.length-1;for(;y<=w;)m.push(y),y++;m.sort(v)}else{let y=C;const w=u.length-1;let x=u[y];for(;y<=w&&c.indexOf(x)<0;)y++,m.push(y),x=u[y];y=C-1;const S=0;for(;y>=S;)m.push(y),y--;m.sort(v).reverse()}return m}function ih(t){var c;const{pinned:e,fromKeyboard:i,gos:s,ctrlsService:r,useHeaderRow:n,skipScrollPadding:o}=t;let a=(c=r.getHeaderRowContainerCtrl(e))==null?void 0:c.getViewportElement(),{x:l}=t;return a?(i&&(l-=a.getBoundingClientRect().left),s.get("enableRtl")&&(n&&(a=a.querySelector(".ag-header-row")),l=a.clientWidth-l),e==null&&!o&&(l+=r.get("center").getCenterViewportScrollLeft()),l):0}function vo(t,e){for(const i of t)i.setMoving(e,"uiColumnMoved")}var sw=7,tf=100,bc=tf/2,hL=5,dL=100,gL=class extends W{constructor(t){super(),this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=t,this.isCenterContainer=!K(t)}wireBeans(t){this.columnModel=t.columnModel,this.visibleColsService=t.visibleColsService,this.columnMoveService=t.columnMoveService,this.dragAndDropService=t.dragAndDropService,this.ctrlsService=t.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,t=>{this.gridBodyCon=t.gridBodyCtrl})}getIconName(){var e;const t=((e=this.lastDraggingEvent)==null?void 0:e.dragItem.columns)??[];for(const i of t){const s=i.getPinned();if(i.getColDef().lockPinned){if(s==this.pinned)return"move";continue}if(s===this.pinned||!this.pinned)return"move";if(!s&&this.pinned)return"pinned"}return"notAllowed"}onDragEnter(t){const e=t.dragItem.columns;if(t.dragSource.type===0)this.setColumnsVisible(e,!0,"uiColumnDragged");else{const s=t.dragItem.visibleState,r=(e||[]).filter(n=>s[n.getId()]);this.setColumnsVisible(r,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(e,this.pinned),this.onDragging(t,!0,!0)}onDragging(t=this.lastDraggingEvent,e=!1,i=!1,s=!1){const r=this.gos.get("suppressMoveWhenColumnDragging");if(s&&!r){this.finishColumnMoving();return}if(this.lastDraggingEvent=t,!t||!s&&be(t.hDirection))return;const{pinned:n,gos:o,ctrlsService:a}=this,l=ih({x:t.x,pinned:n,gos:o,ctrlsService:a});e||this.checkCenterForScrolling(l),r?this.handleColumnDragWhileSuppressingMovement(t,e,i,l,s):this.handleColumnDragWhileAllowingMovement(t,e,i,l,s)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(t,e,i){if(!t)return;const s=t.filter(r=>!r.getColDef().lockVisible);this.columnModel.setColsVisible(s,e,i)}finishColumnMoving(){if(this.clearHighlighted(),!this.lastMovedInfo)return;const{columns:t,toIndex:e}=this.lastMovedInfo;this.columnMoveService.moveColumns(t,e,"uiColumnMoved",!0)}handleColumnDragWhileSuppressingMovement(t,e,i,s,r){const n=this.getAllMovingColumns(t,!0);if(r){const o=this.isAttemptingToPin(n);o&&this.attemptToPinColumns(n,void 0,!0);const{fromLeft:a,xPosition:l}=this.getNormalisedXPositionInfo(n,o)||{};if(a==null||l==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:n,xPosition:l,fromEnter:e,fakeEvent:i,fromLeft:a})}else{if(!this.dragAndDropService.isDropZoneWithinThisGrid(t))return;this.highlightHoveredColumn(n,s)}}handleColumnDragWhileAllowingMovement(t,e,i,s,r){const n=this.getAllMovingColumns(t),o=this.normaliseDirection(t.hDirection)===1,a=t.dragSource.type===1,l=this.getMoveColumnParams({allMovingColumns:n,isFromHeader:a,xPosition:s,fromLeft:o,fromEnter:e,fakeEvent:i}),c=Nv({...l,finished:r});c&&(this.lastMovedInfo=c)}getAllMovingColumns(t,e=!1){const i=t.dragSource.getDragItem();let s=null;e?(s=i.columnsInSplit,s||(s=i.columns)):s=i.columns;const r=n=>n.getColDef().lockPinned?n.getPinned()==this.pinned:!0;return s?s.filter(r):[]}getMoveColumnParams(t){const{allMovingColumns:e,isFromHeader:i,xPosition:s,fromLeft:r,fromEnter:n,fakeEvent:o}=t,{pinned:a,gos:l,columnModel:c,columnMoveService:u,visibleColsService:h}=this;return{allMovingColumns:e,isFromHeader:i,fromLeft:r,xPosition:s,pinned:a,fromEnter:n,fakeEvent:o,gos:l,columnModel:c,columnMoveService:u,visibleColsService:h}}findFirstAndLastMovingColumns(t){const e=t.length;let i,s;for(let r=0;r<=e;r++){if(!i){const n=t[r];n.getLeft()!=null&&(i=n)}if(!s){const n=t[e-1-r];n.getLeft()!=null&&(s=n)}if(i&&s)break}return{firstMovingCol:i,lastMovingCol:s}}highlightHoveredColumn(t,e){var u;const{gos:i,columnModel:s}=this,r=i.get("enableRtl"),n=s.getCols().filter(h=>h.isVisible()&&h.getPinned()===this.pinned);let o=null,a=null,l=null;for(const h of n){if(a=h.getActualWidth(),o=this.getNormalisedColumnLeft(h,0,r),o!=null){const d=o+a;if(o<=e&&d>=e){l=h;break}}o=null,a=null}if(l)t.indexOf(l)!==-1&&(l=null);else{for(let h=n.length-1;h>=0;h--){const d=n[h],g=n[h].getParent();if(!g){l=d;break}const p=g==null?void 0:g.getDisplayedLeafColumns();if(p.length){l=xe(p);break}}if(!l)return;o=this.getNormalisedColumnLeft(l,0,r),a=l.getActualWidth()}if(((u=this.lastHighlightedColumn)==null?void 0:u.column)!==l&&this.clearHighlighted(),l==null||o==null||a==null)return;let c;e-o<a/2!==r?c=0:c=1,l.setHighlighted(c),this.lastHighlightedColumn={column:l,position:c}}getNormalisedXPositionInfo(t,e){const{gos:i,visibleColsService:s}=this,r=i.get("enableRtl"),{firstMovingCol:n,column:o,position:a}=this.getColumnMoveAndTargetInfo(t,e,r);if(!n||!o||a==null)return;const l=s.getAllCols(),c=l.indexOf(n),u=l.indexOf(o),h=a===0!==r,d=c<u||c===u&&!h;let g=0;if(h?d&&(g-=1):d||(g+=1),u+g===c)return;const p=l[u+g];if(!p)return;const f=this.getNormalisedColumnLeft(p,20,r);return{fromLeft:d,xPosition:f}}getColumnMoveAndTargetInfo(t,e,i){const s=this.lastHighlightedColumn||{},{firstMovingCol:r,lastMovingCol:n}=this.findFirstAndLastMovingColumns(t);if(!r||!n||s.column||!e)return{firstMovingCol:r,...s};const a=this.getPinDirection()==="left";return{firstMovingCol:r,position:a?1:0,column:a!==i?r:n}}normaliseDirection(t){if(this.gos.get("enableRtl"))switch(t){case 0:return 1;case 1:return 0}return t}getNormalisedColumnLeft(t,e,i){const{gos:s,ctrlsService:r}=this,n=t.getLeft();if(n==null)return null;const o=t.getActualWidth();return ih({x:i?n+o-e:n+e,pinned:t.getPinned(),useHeaderRow:i,skipScrollPadding:!0,gos:s,ctrlsService:r})}isAttemptingToPin(t){const e=this.needToMoveLeft||this.needToMoveRight,i=this.failedMoveAttempts>sw;return e&&i||t.some(s=>s.getPinned()!==this.pinned)}moveColumnsAfterHighlight(t){const{allMovingColumns:e,xPosition:i,fromEnter:s,fakeEvent:r,fromLeft:n}=t,o=this.getMoveColumnParams({allMovingColumns:e,isFromHeader:!0,xPosition:i,fromLeft:n,fromEnter:s,fakeEvent:r}),{columns:a,toIndex:l}=RR(o)||{};a&&l!=null&&(this.lastMovedInfo={columns:a,toIndex:l}),this.finishColumnMoving()}clearHighlighted(){this.lastHighlightedColumn&&(this.lastHighlightedColumn.column.setHighlighted(null),this.lastHighlightedColumn=null)}checkCenterForScrolling(t){if(!this.isCenterContainer)return;const e=this.ctrlsService.get("center"),i=e.getCenterViewportScrollLeft(),s=i+e.getCenterWidth();this.gos.get("enableRtl")?(this.needToMoveRight=t<i+bc,this.needToMoveLeft=t>s-bc):(this.needToMoveLeft=t<i+bc,this.needToMoveRight=t>s-bc),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){var t;this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),dL),(t=this.dragAndDropService.getDragAndDropImageComponent())==null||t.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){var t;this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,(t=this.dragAndDropService.getDragAndDropImageComponent())==null||t.setIcon(this.getIconName()))}moveInterval(){var s,r;let t;this.intervalCount++,t=10+this.intervalCount*hL,t>tf&&(t=tf);let e=null;const i=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?e=i.scrollHorizontally(-t):this.needToMoveRight&&(e=i.scrollHorizontally(t)),e!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{if(this.failedMoveAttempts++,this.failedMoveAttempts<=sw+1)return;if((s=this.dragAndDropService.getDragAndDropImageComponent())==null||s.setIcon("pinned"),!this.gos.get("suppressMoveWhenColumnDragging")){const n=(r=this.lastDraggingEvent)==null?void 0:r.dragItem.columns;this.attemptToPinColumns(n,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(t,e,i=!1){const s=(t||[]).filter(r=>!r.getColDef().lockPinned);return s.length?(i&&(e=this.getPinDirection()),this.columnModel.setColsPinned(s,e,"uiColumnDragged"),i&&this.dragAndDropService.nudge(),s.length):0}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}},pL=class extends W{wireBeans(t){this.dragAndDropService=t.dragAndDropService,this.columnModel=t.columnModel,this.ctrlsService=t.ctrlsService}constructor(t,e){super(),this.pinned=t,this.eContainer=e}postConstruct(){this.ctrlsService.whenReady(this,t=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[t.gridBodyCtrl.getBodyViewportElement(),t.left.getContainerElement()],[t.bottomLeft.getContainerElement()],[t.topLeft.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[t.gridBodyCtrl.getBodyViewportElement(),t.right.getContainerElement()],[t.bottomRight.getContainerElement()],[t.topRight.getContainerElement()]];break;default:this.eSecondaryContainers=[[t.gridBodyCtrl.getBodyViewportElement(),t.center.getViewportElement()],[t.bottomCenter.getViewportElement()],[t.topCenter.getViewportElement()]];break}}),this.moveColumnFeature=this.createManagedBean(new gL(this.pinned)),this.bodyDropPivotTarget=this.createManagedBean(new oL(this.pinned)),this.dragAndDropService.addDropTarget(this),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(this))}isInterestedIn(t){return t===1||t===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(t){return this.columnModel.isPivotMode()&&t.dragSource.type===0}onDragEnter(t){this.currentDropListener=this.isDropColumnInPivotMode(t)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(t)}onDragLeave(t){this.currentDropListener.onDragLeave(t)}onDragging(t){this.currentDropListener.onDragging(t)}onDragStop(t){this.currentDropListener.onDragStop(t)}onDragCancel(){this.currentDropListener.onDragCancel()}},fL=class extends W{wireBeans(t){this.horizontalResizeService=t.horizontalResizeService,this.pinnedWidthService=t.pinnedWidthService,this.ctrlsService=t.ctrlsService,this.columnSizeService=t.columnSizeService,this.columnAutosizeService=t.columnAutosizeService}constructor(t,e,i,s,r){super(),this.pinned=t,this.column=e,this.eResize=i,this.comp=s,this.ctrl=r}postConstruct(){const t=[];let e,i;const s=()=>{if(Qe(this.eResize,e),!e)return;const o=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(t.push(o),i){const a=this.gos.get("skipHeaderOnAutoSize"),l=()=>{this.columnAutosizeService.autoSizeColumn(this.column,"uiColumnResized",a)};this.eResize.addEventListener("dblclick",l);const c=new wr(this.eResize);c.addEventListener("doubleTap",l),t.push(()=>{this.eResize.removeEventListener("dblclick",l),c.removeEventListener("doubleTap",l),c.destroy()})}},r=()=>{t.forEach(o=>o()),t.length=0},n=()=>{const o=this.column.isResizable(),a=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(o!==e||a!==i)&&(e=o,i=a,r(),s())};n(),this.addDestroyFunc(r),this.ctrl.setRefreshFunction("resize",n)}onResizing(t,e){const{column:i,lastResizeAmount:s,resizeStartWidth:r}=this,n=this.normaliseResizeAmount(e),o=r+n,a=[{key:i,newWidth:o}];if(this.column.getPinned()){const l=this.pinnedWidthService.getPinnedLeftWidth(),c=this.pinnedWidthService.getPinnedRightWidth(),u=zl(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(l+c+(n-s)>u)return}this.lastResizeAmount=n,this.columnSizeService.setColumnWidths(a,this.resizeWithShiftKey,t,"uiColumnResized"),t&&this.toggleColumnResizing(!1)}onResizeStart(t){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=t,this.toggleColumnResizing(!0)}toggleColumnResizing(t){this.comp.addOrRemoveCssClass("ag-column-resizing",t)}normaliseResizeAmount(t){let e=t;const i=this.pinned!=="left",s=this.pinned==="right";return this.gos.get("enableRtl")?i&&(e*=-1):s&&(e*=-1),e}},mL=class extends W{constructor(t){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=t}wireBeans(t){this.rowModel=t.rowModel,this.selectionService=t.selectionService}onSpaceKeyDown(t){const e=this.cbSelectAll;e.isDisplayed()&&!e.getGui().contains(Ze(this.gos))&&(t.preventDefault(),e.setValue(!e.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(t){this.headerCellCtrl=t,this.cbSelectAll=this.createManagedBean(new Fv),this.cbSelectAll.addCssClass("ag-header-select-all"),ns(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedEventListeners({newColumnsLoaded:this.onNewColumnsLoaded.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:this.onSelectionChanged.bind(this),paginationChanged:this.onSelectionChanged.bind(this),modelUpdated:this.onModelChanged.bind(this)}),this.addManagedListeners(this.cbSelectAll,{fieldValueChanged:this.onCbSelectAll.bind(this)}),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onNewColumnsLoaded(){this.showOrHideSelectAll()}onDisplayedColumnsChanged(){this.isAlive()&&this.showOrHideSelectAll()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const t=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(t);const e=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!e),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){const t=this.localeService.getLocaleTextFunc(),i=this.cbSelectAll.getValue()?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),s=t("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll",`${s} (${i})`):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(t("ariaHeaderSelection","Column with Header Selection")),this.headerCellCtrl.announceAriaDescription()}checkSelectionType(t){return f0(this.gos)?!0:(_(`${t} is only available if using 'multiRow' selection mode.`),!1)}checkRightRowModelType(t){return Xe(this.gos)||xs(this.gos)?!0:(_(`${t} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${this.rowModel.getType()}.`),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const t=this.cbSelectAll.getValue(),e=this.isFilteredOnly(),i=this.isCurrentPageOnly();let s="uiSelectAll";i?s="uiSelectAllCurrentPage":e&&(s="uiSelectAllFiltered");const r={source:s,justFiltered:e,justCurrentPage:i};t?this.selectionService.selectAllRowNodes(r):this.selectionService.deselectAllRowNodes(r)}isCheckboxSelection(){const t=this.gos.get("rowSelection"),e=typeof t=="object"&&Xu(t)&&Gl(this.column),i=this.column.getColDef().headerCheckboxSelection;let s=!1;return e?s=!0:typeof i=="function"?s=i(this.gos.addGridCommonParams({column:this.column,colDef:this.column.getColDef()})):s=!!i,s&&this.checkRightRowModelType(e?"headerCheckbox":"headerCheckboxSelection")&&this.checkSelectionType(e?"headerCheckbox":"headerCheckboxSelection")}isFilteredOnly(){const t=this.gos.get("rowSelection");return typeof t=="object"?t.mode==="multiRow"&&t.selectAll==="filtered":!!this.column.getColDef().headerCheckboxSelectionFilteredOnly}isCurrentPageOnly(){const t=this.gos.get("rowSelection");return typeof t=="object"?t.mode==="multiRow"&&t.selectAll==="currentPage":!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly}},vL=class extends Bh{constructor(t,e,i){super(t,e,i),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=t}setComp(t,e,i,s,r){this.comp=t,r=Bl(this,this.beans.context,r),this.setGui(e,r),this.updateState(),this.setupWidth(r),this.setupMovingCss(r),this.setupMenuClass(r),this.setupSortableClass(r),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:s,checkMeasuringCallback:o=>this.setRefreshFunction("measuring",o),compBean:r}),this.addColumnHoverListener(r),this.setupFilterClass(r),this.setupClassesFromColDef(),this.setupTooltip(r),this.addActiveHeaderMouseListeners(r),this.setupSelectAll(r),this.setupUserComp(r),this.refreshAria(),this.resizeFeature=r.createManagedBean(new fL(this.getPinned(),this.column,i,t,this)),r.createManagedBean(new Lv([this.column],e)),r.createManagedBean(new Dv(this.column,e,this.beans)),r.createManagedBean(new Ln(e,{shouldStopEventPropagation:o=>this.shouldStopEventPropagation(o),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(r),r.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],()=>this.refresh(r)),r.addManagedListeners(this.column,{colDefChanged:()=>this.refresh(r)}),r.addManagedListeners(this.column,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const n=()=>this.checkDisplayName(r);r.addManagedEventListeners({columnValueChanged:n,columnRowGroupChanged:n,columnPivotChanged:n,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),r.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(t,e){if(!this.column.isResizable())return;const i=this.column.getActualWidth(),s=this.column.getMinWidth(),r=this.column.getMaxWidth(),n=Math.min(Math.max(i+t,s),r);this.beans.columnSizeService.setColumnWidths([{key:this.column,newWidth:n}],e,!0,"uiColumnResized")}moveHeader(t){const{eGui:e,beans:i,column:s,ctrlsService:r}=this,{gos:n,columnModel:o,columnMoveService:a,visibleColsService:l}=i,c=this.getPinned(),u=e.getBoundingClientRect().left,h=s.getActualWidth(),d=n.get("enableRtl"),p=ih({x:t===0!==d?u-20:u+h+20,pinned:c,fromKeyboard:!0,gos:n,ctrlsService:r}),f=this.focusService.getFocusedHeader();Nv({allMovingColumns:[s],isFromHeader:!0,fromLeft:t===1,xPosition:p,pinned:c,fromEnter:!1,fakeEvent:!1,gos:n,columnModel:o,columnMoveService:a,visibleColsService:l,finished:!0}),r.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(s,"auto"),(!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&f&&this.restoreFocus(f)}restoreFocus(t){this.focusService.focusHeaderPosition({headerPosition:{...t,column:this.column}})}setupUserComp(t){const e=this.lookupUserCompDetails(t);this.setCompDetails(e)}setCompDetails(t){this.userCompDetails=t,this.comp.setUserCompDetails(t)}lookupUserCompDetails(t){const e=this.createParams(t),i=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(i,e)}createParams(t){return this.gos.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:i=>{this.menuService.showColumnMenu({column:this.column,buttonElement:i,positionBy:"button"})},showColumnMenuAfterMouseClick:i=>{this.menuService.showColumnMenu({column:this.column,mouseEvent:i,positionBy:"mouse"})},showFilter:i=>{this.menuService.showFilterMenu({column:this.column,buttonElement:i,containerType:"columnFilter",positionBy:"button"})},progressSort:i=>{this.beans.sortController.progressSort(this.column,!!i,"uiColumnSorted")},setSort:(i,s)=>{this.beans.sortController.setSortForColumn(this.column,i,!!s,"uiColumnSorted")},eGridHeader:this.getGui(),setTooltip:(i,s)=>{this.setupTooltip(t,i,s)}})}setupSelectAll(t){this.selectAllFeature=t.createManagedBean(new mL(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(t){super.handleKeyDown(t),t.key===B.SPACE&&this.selectAllFeature.onSpaceKeyDown(t),t.key===B.ENTER&&this.onEnterKeyDown(t),t.key===B.DOWN&&t.altKey&&this.showMenuOnKeyPress(t,!1)}onEnterKeyDown(t){if(t.ctrlKey||t.metaKey)this.showMenuOnKeyPress(t,!0);else if(this.sortable){const e=t.shiftKey;this.beans.sortController.progressSort(this.column,e,"uiColumnSorted")}}showMenuOnKeyPress(t,e){const i=this.comp.getUserCompInstance();!i||!(i instanceof qp)||i.onMenuKeyboardShortcut(e)&&t.preventDefault()}onFocusIn(t){if(!this.getGui().contains(t.relatedTarget)){const e=this.getRowIndex();this.focusService.setFocusedHeader(e,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)}onFocusOut(t){this.getGui().contains(t.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(t,e,i){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const s=this.gos.get("tooltipShowMode")==="whenTruncated",r=this.eGui,n=this.column.getColDef();!i&&s&&!n.headerComponent&&(i=()=>{const l=r.querySelector(".ag-header-cell-text");return l?l.scrollWidth>l.clientWidth:!0});const o={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>r,getLocation:()=>"header",getTooltipValue:()=>e??this.column.getColDef().headerTooltip,shouldDisplayTooltip:i},a=t.createManagedBean(new Xo(o));this.setRefreshFunction("tooltip",()=>a.refreshToolTip())}setupClassesFromColDef(){const t=()=>{const e=this.column.getColDef(),i=fR(e,this.gos,this.column,null),s=this.userHeaderClasses;this.userHeaderClasses=new Set(i),i.forEach(r=>{s.has(r)?s.delete(r):this.comp.addOrRemoveCssClass(r,!0)}),s.forEach(r=>this.comp.addOrRemoveCssClass(r,!1))};this.setRefreshFunction("headerClasses",t),t()}setDragSource(t){if(this.dragSourceElement=t,this.removeDragSource(),!t||!this.draggable)return;const{column:e,beans:i,displayName:s,dragAndDropService:r,gos:n}=this,{columnModel:o}=i;let a=!this.gos.get("suppressDragLeaveHidesColumns");const l=this.dragSource={type:1,eElement:t,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:()=>this.createDragItem(e),dragItemName:s,onDragStarted:()=>{a=!n.get("suppressDragLeaveHidesColumns"),vo([e],!0)},onDragStopped:()=>vo([e],!1),onDragCancelled:()=>vo([e],!1),onGridEnter:c=>{var u;if(a){const h=((u=c==null?void 0:c.columns)==null?void 0:u.filter(d=>!d.getColDef().lockVisible))||[];o.setColsVisible(h,!0,"uiColumnMoved")}},onGridExit:c=>{var u;if(a){const h=((u=c==null?void 0:c.columns)==null?void 0:u.filter(d=>!d.getColDef().lockVisible))||[];o.setColsVisible(h,!1,"uiColumnMoved")}}};r.addDragSource(l,!0)}createDragItem(t){const e={};return e[t.getId()]=t.isVisible(),{columns:[t],visibleState:e}}updateState(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(t,e){this.refreshFunctions[t]=e}refresh(t){this.updateState(),this.refreshHeaderComp(t),this.refreshAria(),Object.values(this.refreshFunctions).forEach(e=>e())}refreshHeaderComp(t){const e=this.lookupUserCompDetails(t);(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(t){const e=this.comp.getUserCompInstance();return!e||!e.refresh?!1:e.refresh(t)}calculateDisplayName(){return this.beans.columnNameService.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(t){this.displayName!==this.calculateDisplayName()&&this.refresh(t)}workOutDraggable(){const t=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!t.suppressMovable&&!t.lockPosition)||!!t.enableRowGroup||!!t.enablePivot}setupWidth(t){const e=()=>{const i=this.column.getActualWidth();this.comp.setWidth(`${i}px`)};t.addManagedListeners(this.column,{widthChanged:e}),e()}setupMovingCss(t){const e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};t.addManagedListeners(this.column,{movingChanged:e}),e()}setupMenuClass(t){const e=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};t.addManagedListeners(this.column,{menuVisibleChanged:e}),e()}setupSortableClass(t){const e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};e(),this.setRefreshFunction("updateSortable",e),t.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(t){const e=()=>{const i=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",i),this.refreshAria()};t.addManagedListeners(this.column,{filterActiveChanged:e}),e()}setupWrapTextClass(){const t=()=>{const e=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",e)};t(),this.setRefreshFunction("wrapText",t)}onHeaderHighlightChanged(){const t=this.column.getHighlighted(),e=t===0,i=t===1;this.comp.addOrRemoveCssClass("ag-header-highlight-before",e),this.comp.addOrRemoveCssClass("ag-header-highlight-after",i)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:t,column:e,comp:i,beans:s}=this,r=this.beans.columnModel.getGroupRowsHeight(),n=r.reduce((h,d)=>h+=d,0)===0;if(i.addOrRemoveCssClass("ag-header-parent-hidden",n),!e.isSpanHeaderHeight()){t.style.removeProperty("top"),t.style.removeProperty("height"),i.addOrRemoveCssClass("ag-header-span-height",!1),i.addOrRemoveCssClass("ag-header-span-total",!1);return}const{numberOfParents:o,isSpanningTotal:a}=this.column.getColumnGroupPaddingInfo();i.addOrRemoveCssClass("ag-header-span-height",o>0);const{columnModel:l}=s,c=l.getColumnHeaderRowHeight();if(o===0){i.addOrRemoveCssClass("ag-header-span-total",!1),t.style.setProperty("top","0px"),t.style.setProperty("height",`${c}px`);return}i.addOrRemoveCssClass("ag-header-span-total",a);let u=0;for(let h=0;h<o;h++)u+=r[r.length-1-h];t.style.setProperty("top",`${-u}px`),t.style.setProperty("height",`${c+u}px`)}refreshAriaSort(){if(this.sortable){const t=this.localeService.getLocaleTextFunc(),e=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(kM(e)),this.setAriaDescriptionProperty("sort",t("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const t=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",t("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){const t=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",t("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const t=this.localeService.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",t("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(t,e){e!=null?this.ariaDescriptionProperties.set(t,e):this.ariaDescriptionProperties.delete(t)}announceAriaDescription(){if(!this.eGui.contains(Ze(this.beans.gos)))return;const t=Array.from(this.ariaDescriptionProperties.keys()).sort((e,i)=>e==="filter"?-1:i.charCodeAt(0)-e.charCodeAt(0)).map(e=>this.ariaDescriptionProperties.get(e)).join(". ");this.beans.ariaAnnouncementService.announceValue(t,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(t){const e=()=>{if(!this.gos.get("columnHoverHighlight"))return;const i=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",i)};t.addManagedEventListeners({columnHoverChanged:e}),e()}getColId(){return this.column.getColId()}addActiveHeaderMouseListeners(t){const e=r=>this.handleMouseOverChange(r.type==="mouseenter"),i=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column),s=r=>this.handleContextMenuMouseEvent(r,void 0,this.column);t.addManagedListeners(this.getGui(),{mouseenter:e,mouseleave:e,click:i,contextmenu:s})}handleMouseOverChange(t){this.setActiveHeader(t),this.eventService.dispatchEvent({type:t?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(t){this.comp.addOrRemoveCssClass("ag-header-active",t)}getAnchorElementForMenu(t){const e=this.comp.getUserCompInstance();return e instanceof qp?e.getAnchorElementForMenu(t):this.getGui()}destroy(){super.destroy()}},CL=class extends W{wireBeans(t){this.horizontalResizeService=t.horizontalResizeService,this.autoWidthCalculator=t.autoWidthCalculator,this.visibleColsService=t.visibleColsService,this.columnSizeService=t.columnSizeService,this.columnAutosizeService=t.columnAutosizeService}constructor(t,e,i,s){super(),this.eResize=e,this.comp=t,this.pinned=i,this.columnGroup=s}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const t=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(t),!this.gos.get("suppressAutoSize")){const e=this.gos.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",()=>{const i=[];this.columnGroup.getDisplayedLeafColumns().forEach(r=>{r.getColDef().suppressAutoSize||i.push(r.getColId())}),i.length>0&&this.columnAutosizeService.autoSizeCols({colKeys:i,skipHeader:e,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")})}}onResizeStart(t){const e=this.getInitialValues(t);this.storeLocalValues(e),this.toggleColumnResizing(!0)}onResizing(t,e,i="uiColumnResized"){const s=this.normaliseDragChange(e),r=this.resizeStartWidth+s;this.resizeColumnsFromLocalValues(r,i,t)}getInitialValues(t){const e=this.getColumnsToResize(),i=this.getInitialSizeOfColumns(e),s=this.getSizeRatiosOfColumns(e,i),r={columnsToResize:e,resizeStartWidth:i,resizeRatios:s};let n=null;if(t&&(n=this.visibleColsService.getGroupAtDirection(this.columnGroup,"After")),n){const o=n.getDisplayedLeafColumns(),a=r.groupAfterColumns=o.filter(c=>c.isResizable()),l=r.groupAfterStartWidth=this.getInitialSizeOfColumns(a);r.groupAfterRatios=this.getSizeRatiosOfColumns(a,l)}else r.groupAfterColumns=void 0,r.groupAfterStartWidth=void 0,r.groupAfterRatios=void 0;return r}storeLocalValues(t){const{columnsToResize:e,resizeStartWidth:i,resizeRatios:s,groupAfterColumns:r,groupAfterStartWidth:n,groupAfterRatios:o}=t;this.resizeCols=e,this.resizeStartWidth=i,this.resizeRatios=s,this.resizeTakeFromCols=r,this.resizeTakeFromStartWidth=n,this.resizeTakeFromRatios=o}clearLocalValues(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}resizeLeafColumnsToFit(t){const e=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),i=this.getInitialValues();e>i.resizeStartWidth&&this.resizeColumns(i,e,t,!0)}resizeColumnsFromLocalValues(t,e,i=!0){if(!this.resizeCols||!this.resizeRatios)return;const s={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols??void 0,groupAfterStartWidth:this.resizeTakeFromStartWidth??void 0,groupAfterRatios:this.resizeTakeFromRatios??void 0};this.resizeColumns(s,t,e,i)}resizeColumns(t,e,i,s=!0){const{columnsToResize:r,resizeStartWidth:n,resizeRatios:o,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:c}=t,u=[];if(u.push({columns:r,ratios:o,width:e}),a){const h=e-n;u.push({columns:a,ratios:c,width:l-h})}this.columnSizeService.resizeColumnSets({resizeSets:u,finished:s,source:i}),s&&this.toggleColumnResizing(!1)}toggleColumnResizing(t){this.comp.addOrRemoveCssClass("ag-column-resizing",t)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(e=>e.isResizable())}getInitialSizeOfColumns(t){return t.reduce((e,i)=>e+i.getActualWidth(),0)}getSizeRatiosOfColumns(t,e){return t.map(i=>i.getActualWidth()/e)}normaliseDragChange(t){let e=t;return this.gos.get("enableRtl")?this.pinned!=="left"&&(e*=-1):this.pinned==="right"&&(e*=-1),e}destroy(){super.destroy(),this.clearLocalValues()}},yL=class extends W{constructor(t,e){super(),this.removeChildListenersFuncs=[],this.columnGroup=e,this.comp=t}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const t=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(e=>{e.addEventListener("widthChanged",t),e.addEventListener("visibleChanged",t),this.removeChildListenersFuncs.push(()=>{e.removeEventListener("widthChanged",t),e.removeEventListener("visibleChanged",t)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(t=>t()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const t=this.columnGroup.getActualWidth();this.comp.setWidth(`${t}px`),this.comp.addOrRemoveCssClass("ag-hidden",t===0)}},wL=class extends Bh{constructor(t,e,i){super(t,e,i),this.onSuppressColMoveChange=()=>{if(!this.isAlive()||this.isSuppressMoving())this.removeDragSource();else if(!this.dragSource){const s=this.getGui();this.setDragSource(s)}},this.column=t}setComp(t,e,i,s,r){this.comp=t,r=Bl(this,this.beans.context,r),this.setGui(e,r),this.displayName=this.beans.columnNameService.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(r),this.setupExpandable(r),this.setupTooltip(r),this.setupAutoHeight({wrapperElement:s,compBean:r}),this.setupUserComp(r),this.addHeaderMouseListeners(r),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const n=this.getParentRowCtrl().getPinned(),o=this.column.getProvidedColumnGroup().getLeafColumns();r.createManagedBean(new Lv(o,e)),r.createManagedBean(new Dv(this.column,e,this.beans)),r.createManagedBean(new yL(t,this.column)),this.resizeFeature=r.createManagedBean(new CL(t,i,n,this.column)),r.createManagedBean(new Ln(e,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(r,o),r.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(r),r.addDestroyFunc(()=>this.clearComponent())}refreshMaxHeaderHeight(){const{gos:t,comp:e}=this,i=t.get("groupHeaderHeight");i!=null?i===0?e.setHeaderWrapperHidden(!0):e.setHeaderWrapperMaxHeight(i):(e.setHeaderWrapperHidden(!1),e.setHeaderWrapperMaxHeight(null))}addHighlightListeners(t,e){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const i of e)t.addManagedListeners(i,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,i)})}onLeafColumnHighlightChanged(t){const e=this.column.getDisplayedLeafColumns(),i=e[0]===t,s=xe(e)===t;if(!i&&!s)return;const r=t.getHighlighted(),n=!!this.getParentRowCtrl().findHeaderCellCtrl(l=>l.getColumnGroupChild().isMoving());let o=!1,a=!1;if(n){const l=this.beans.gos.get("enableRtl"),c=r===1,u=r===0;i&&(l?a=c:o=u),s&&(l?o=u:a=c)}this.comp.addOrRemoveCssClass("ag-header-highlight-before",o),this.comp.addOrRemoveCssClass("ag-header-highlight-after",a)}getColumn(){return this.column}resizeHeader(t,e){if(!this.resizeFeature)return;const i=this.resizeFeature.getInitialValues(e);this.resizeFeature.resizeColumns(i,i.resizeStartWidth+t,"uiColumnResized",!0)}moveHeader(t){const{beans:e,eGui:i,column:s,ctrlsService:r}=this,{gos:n,columnModel:o,columnMoveService:a,visibleColsService:l}=e,c=n.get("enableRtl"),u=t===0,h=this.getPinned(),d=i.getBoundingClientRect(),g=d.left,p=d.width,f=ih({x:u!==c?g-20:g+p+20,pinned:h,fromKeyboard:!0,gos:n,ctrlsService:r}),C=s.getGroupId(),m=this.focusService.getFocusedHeader();Nv({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,fromLeft:t===1,xPosition:f,pinned:h,fromEnter:!1,fakeEvent:!1,gos:n,columnModel:o,columnMoveService:a,visibleColsService:l,finished:!0});const v=s.getDisplayedLeafColumns(),y=u?v[0]:xe(v);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(y,"auto"),(!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&m&&this.restoreFocus(C,s,m)}restoreFocus(t,e,i){const s=e.getLeafColumns();if(!s.length)return;const r=s[0].getParent();if(!r)return;const n=this.findGroupWidthId(r,t);n&&this.focusService.focusHeaderPosition({headerPosition:{...i,column:n}})}findGroupWidthId(t,e){for(;t;){if(t.getGroupId()===e)return t;t=t.getParent()}return null}resizeLeafColumnsToFit(t){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(t)}setupUserComp(t){const e=this.gos.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:s=>{this.beans.columnModel.setColumnGroupOpened(this.column.getProvidedColumnGroup(),s,"gridInitializing")},setTooltip:(s,r)=>{this.setupTooltip(t,s,r)}}),i=this.userComponentFactory.getHeaderGroupCompDetails(e);this.comp.setUserCompDetails(i)}addHeaderMouseListeners(t){const e=r=>this.handleMouseOverChange(r.type==="mouseenter"),i=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),s=r=>this.handleContextMenuMouseEvent(r,void 0,this.column.getProvidedColumnGroup());t.addManagedListeners(this.getGui(),{mouseenter:e,mouseleave:e,click:i,contextmenu:s})}handleMouseOverChange(t){this.eventService.dispatchEvent({type:t?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(t,e,i){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const s=this.column.getColGroupDef(),r=this.gos.get("tooltipShowMode")==="whenTruncated",n=this.eGui;!i&&r&&!(s!=null&&s.headerGroupComponent)&&(i=()=>{const a=n.querySelector(".ag-header-group-text");return a?a.scrollWidth>a.clientWidth:!0});const o={getColumn:()=>this.column,getGui:()=>n,getLocation:()=>"headerGroup",getTooltipValue:()=>e??(s&&s.headerTooltip),shouldDisplayTooltip:i};s&&(o.getColDef=()=>s),t.createManagedBean(new Xo(o))}setupExpandable(t){const e=this.column.getProvidedColumnGroup();this.refreshExpanded();const i=this.refreshExpanded.bind(this);t.addManagedListeners(e,{expandedChanged:i,expandableChanged:i})}refreshExpanded(){const{column:t}=this;this.expandable=t.isExpandable();const e=t.isExpanded();this.expandable?this.comp.setAriaExpanded(e?"true":"false"):this.comp.setAriaExpanded(void 0)}getColId(){return this.column.getUniqueId()}addClasses(){const t=this.column.getColGroupDef(),e=fR(t,this.gos,null,this.column);this.column.isPadding()?(e.push("ag-header-group-cell-no-group"),this.column.getLeafColumns().every(s=>s.isSpanHeaderHeight())&&e.push("ag-header-span-height")):(e.push("ag-header-group-cell-with-group"),t!=null&&t.wrapHeaderText&&e.push("ag-header-cell-wrap-text")),e.forEach(i=>this.comp.addOrRemoveCssClass(i,!0))}setupMovingCss(t){const i=this.column.getProvidedColumnGroup().getLeafColumns(),s=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving());i.forEach(r=>{t.addManagedListeners(r,{movingChanged:s})}),s()}onFocusIn(t){if(!this.eGui.contains(t.relatedTarget)){const e=this.getRowIndex();this.beans.focusService.setFocusedHeader(e,this.column)}}handleKeyDown(t){super.handleKeyDown(t);const e=this.getWrapperHasFocus();if(!(!this.expandable||!e)&&t.key===B.ENTER){const i=this.column,s=!i.isExpanded();this.beans.columnModel.setColumnGroupOpened(i.getProvidedColumnGroup(),s,"uiColumnExpanded")}}setDragSource(t){if(!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),!t))return;const{beans:e,column:i,displayName:s,gos:r,dragAndDropService:n}=this,{columnModel:o}=e,a=i.getProvidedColumnGroup().getLeafColumns();let l=!r.get("suppressDragLeaveHidesColumns");const c=this.dragSource={type:1,eElement:t,getDefaultIconName:()=>l?"hide":"notAllowed",dragItemName:s,getDragItem:()=>this.getDragItemForGroup(i),onDragStarted:()=>{l=!r.get("suppressDragLeaveHidesColumns"),vo(a,!0)},onDragStopped:()=>vo(a,!1),onDragCancelled:()=>vo(a,!1),onGridEnter:u=>{if(l){const{columns:h=[],visibleState:d}=u??{},g=h.filter(p=>!p.getColDef().lockVisible&&(!d||d[p.getColId()]));o.setColsVisible(g,!0,"uiColumnMoved")}},onGridExit:u=>{var h;if(l){const d=((h=u==null?void 0:u.columns)==null?void 0:h.filter(g=>!g.getColDef().lockVisible))||[];o.setColsVisible(d,!1,"uiColumnMoved")}}};n.addDragSource(c,!0)}getDragItemForGroup(t){const e=t.getProvidedColumnGroup().getLeafColumns(),i={};e.forEach(o=>i[o.getId()]=o.isVisible());const s=[];this.beans.visibleColsService.getAllCols().forEach(o=>{e.indexOf(o)>=0&&(s.push(o),Xt(e,o))}),e.forEach(o=>s.push(o));const r=[],n=t.getLeafColumns();for(const o of s)n.indexOf(o)!==-1&&r.push(o);return{columns:s,columnsInSplit:r,visibleState:i}}isSuppressMoving(){let t=!1;return this.column.getLeafColumns().forEach(i=>{(i.getColDef().suppressMovable||i.getColDef().lockPosition)&&(t=!0)}),t||this.gos.get("suppressMovableColumns")}destroy(){super.destroy()}},xL=0,sg=class extends W{constructor(t,e,i){super(),this.instanceId=xL++,this.rowIndex=t,this.pinned=e,this.type=i;const s=i=="group"?"ag-header-row-column-group":i=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${s}`}wireBeans(t){this.beans=t}postConstruct(){this.isPrintLayout=Ft(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.getHeaderCellCtrls().every(t=>t.getGui()!=null):!1}setComp(t,e,i=!0){this.comp=t,e=Bl(this,this.beans.context,e),i&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(e)}getHeaderRowClass(){return this.headerRowClass}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(t){const e=this.onRowHeightChanged.bind(this);t.addManagedEventListeners({columnResized:this.onColumnResized.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:i=>this.onVirtualColumnsChanged(i.afterScroll),columnGroupHeaderHeightChanged:e,columnHeaderHeightChanged:e,gridStylesChanged:e,advancedFilterEnabledChanged:e}),t.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),t.addManagedPropertyListener("ensureDomOrder",i=>this.isEnsureDomOrder=i.currentValue),t.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e)}getHeaderCellCtrl(t){if(this.headerCellCtrls)return Zc(this.headerCellCtrls).find(e=>e.getColumnGroupChild()===t)}onDisplayedColumnsChanged(){this.isPrintLayout=Ft(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){const t=this.getWidthForRow();this.comp.setWidth(`${t}px`)}getWidthForRow(){const{visibleColsService:t}=this.beans;return this.isPrintLayout?this.pinned!=null?0:t.getContainerWidth("right")+t.getContainerWidth("left")+t.getContainerWidth(null):t.getContainerWidth(this.pinned)}onRowHeightChanged(){const{topOffset:t,rowHeight:e}=this.getTopAndHeight();this.comp.setTop(t+"px"),this.comp.setHeight(e+"px")}getTopAndHeight(){const{columnModel:t,filterManager:e}=this.beans,i=[],s=t.getGroupRowsHeight(),r=t.getColumnHeaderRowHeight();i.push(...s),i.push(r),e!=null&&e.hasFloatingFilters()&&i.push(t.getFloatingFiltersHeight());let n=0;for(let a=0;a<this.rowIndex;a++)n+=i[a];const o=i[this.rowIndex];return{topOffset:n,rowHeight:o}}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(t=!1){const e=this.getHeaderCtrls(),i=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(e,i,t)}getHeaderCtrls(){const t=this.headerCellCtrls;this.headerCellCtrls=new Map;const e=this.getColumnsInViewport();for(const s of e)this.recycleAndCreateHeaderCtrls(s,t);const i=s=>{const{focusService:r,visibleColsService:n}=this.beans;return r.isHeaderWrapperFocused(s)?n.isVisible(s.getColumnGroupChild()):!1};if(t)for(const[s,r]of t)i(r)?this.headerCellCtrls.set(s,r):this.destroyBean(r);return this.getHeaderCellCtrls()}getHeaderCellCtrls(){var t;return Array.from(((t=this.headerCellCtrls)==null?void 0:t.values())??[])}recycleAndCreateHeaderCtrls(t,e){if(!this.headerCellCtrls||t.isEmptyGroup())return;const i=t.getUniqueId();let s;if(e&&(s=e.get(i),e.delete(i)),s&&s.getColumnGroupChild()!=t&&(this.destroyBean(s),s=void 0),s==null)switch(this.type){case"filter":{s=this.createBean(this.beans.ctrlsFactory.getInstance("headerFilterCell",t,this.beans,this));break}case"group":s=this.createBean(new wL(t,this.beans,this));break;default:s=this.createBean(new vL(t,this.beans,this));break}this.headerCellCtrls.set(i,s)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let t=[];const e=this.getActualDepth(),{columnViewportService:i}=this.beans;return["left",null,"right"].forEach(s=>{const r=i.getHeadersToRender(s,e);t=t.concat(r)}),t}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.columnViewportService.getHeadersToRender(this.pinned,this.getActualDepth())}findHeaderCellCtrl(t){if(!this.headerCellCtrls)return;const e=this.getHeaderCellCtrls();let i;return typeof t=="function"?i=e.find(t):i=e.find(s=>s.getColumnGroupChild()==t),i}focusHeader(t,e){const i=this.findHeaderCellCtrl(t);return i?i.focus(e):!1}destroy(){var t;(t=this.headerCellCtrls)==null||t.forEach(e=>{this.destroyBean(e)}),this.headerCellCtrls=void 0,super.destroy()}},bL=class extends W{constructor(t){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=t}wireBeans(t){this.ctrlsService=t.ctrlsService,this.scrollVisibleService=t.scrollVisibleService,this.pinnedWidthService=t.pinnedWidthService,this.columnModel=t.columnModel,this.focusService=t.focusService,this.filterManager=t.filterManager}setComp(t,e){this.comp=t,this.eViewport=e,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport);const i=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:i,advancedFilterEnabledChanged:i});const s=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;this.ctrlsService.register(s,this),this.columnModel.isReady()&&this.refresh()}getAllCtrls(){const t=[...this.groupsRowCtrls];return this.columnsRowCtrl&&t.push(this.columnsRowCtrl),this.filtersRowCtrl&&t.push(this.filtersRowCtrl),t}refresh(t=!1){const e=new ko,i=this.focusService.getFocusHeaderToUseAfterRefresh(),s=()=>{const a=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let l=0;l<a;l++){const c=this.createBean(new sg(e.next(),this.pinned,"group"));this.groupsRowCtrls.push(c)}},r=()=>{const a=e.next(),l=!this.hidden&&(this.columnsRowCtrl==null||!t||this.columnsRowCtrl.getRowIndex()!==a);(l||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),l&&(this.columnsRowCtrl=this.createBean(new sg(a,this.pinned,"column")))},n=()=>{var c;this.includeFloatingFilter=!!((c=this.filterManager)!=null&&c.hasFloatingFilters())&&!this.hidden;const a=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){a();return}const l=e.next();if(this.filtersRowCtrl){const u=this.filtersRowCtrl.getRowIndex()!==l;(!t||u)&&a()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new sg(l,this.pinned,"filter")))};s(),r(),n();const o=this.getAllCtrls();this.comp.setCtrls(o),this.restoreFocusOnHeader(i)}getHeaderCtrlForColumn(t){var e;if(Fr(t))return(e=this.columnsRowCtrl)==null?void 0:e.getHeaderCellCtrl(t);if(this.groupsRowCtrls.length!==0)for(let i=0;i<this.groupsRowCtrls.length;i++){const s=this.groupsRowCtrls[i].getHeaderCellCtrl(t);if(s)return s}}getHtmlElementForColumnHeader(t){const e=this.getHeaderCtrlForColumn(t);return e?e.getGui():null}getRowType(t){const i=this.getAllCtrls()[t];return i?i.getType():void 0}focusHeader(t,e,i){const r=this.getAllCtrls()[t];return r?r.focusHeader(e,i):!1}getViewportElement(){return this.eViewport}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(t){return this.groupsRowCtrls[t]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(t){this.comp.setViewportScrollLeft(t)}onScrollCallback(t){this.addManagedElementListeners(this.getViewportElement(),{scroll:t})}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}setupDragAndDrop(t){const e=new pL(this.pinned,t);this.createManagedBean(e)}restoreFocusOnHeader(t){if(!t)return;const{column:e}=t;e.getPinned()==this.pinned&&this.focusService.focusHeaderPosition({headerPosition:t})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){var e;const t=((e=this.filterManager)==null?void 0:e.hasFloatingFilters())&&!this.hidden;this.includeFloatingFilter!==t&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new Hv(t=>this.comp.setCenterWidth(`${t}px`),!0))}setupPinnedWidth(){if(this.pinned==null)return;const t=this.pinned==="left",e=this.pinned==="right";this.hidden=!0;const i=()=>{const s=t?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(s==null)return;const r=s==0,n=this.hidden!==r,o=this.gos.get("enableRtl"),a=this.scrollVisibleService.getScrollbarWidth(),c=this.scrollVisibleService.isVerticalScrollShowing()&&(o&&t||!o&&e)?s+a:s;this.comp.setPinnedContainerWidth(`${c}px`),this.comp.setDisplayed(!r),n&&(this.hidden=r,this.refresh())};this.addManagedEventListeners({leftPinnedWidthChanged:i,rightPinnedWidthChanged:i,scrollVisibilityChanged:i,scrollbarWidthChanged:i})}},Gv=class extends W{constructor(t){super(),this.view=t}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const t=this.getDomLayout(),e={autoHeight:t==="autoHeight",normal:t==="normal",print:t==="print"},i=e.autoHeight?"ag-layout-auto-height":e.print?"ag-layout-print":"ag-layout-normal";this.view.updateLayoutClasses(i,e)}getDomLayout(){const t=this.gos.get("domLayout")??"normal";return["normal","print","autoHeight"].indexOf(t)===-1?(_(`${t} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`),"normal"):t}},SL=class extends ze{constructor(){super(`
            <div class="ag-overlay" role="presentation">
                <div class="ag-overlay-panel" role="presentation">
                    <div class="ag-overlay-wrapper" data-ref="eOverlayWrapper" role="presentation"></div>
                </div>
            </div>`),this.eOverlayWrapper=oe,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeOverlayWrapperCssClass=null,this.elToFocusAfter=null}wireBeans(t){this.overlayService=t.overlayService,this.focusService=t.focusService,this.visibleColsService=t.visibleColsService}handleKeyDown(t){if(t.key!==B.TAB||t.defaultPrevented||Is(t)||this.focusService.findNextFocusableElement(this.eOverlayWrapper,!1,t.shiftKey))return;let i=!1;t.shiftKey?i=this.focusService.focusGridView(xe(this.visibleColsService.getAllCols()),!0,!1):i=this.focusService.focusNextGridCoreContainer(!1),i&&t.preventDefault()}updateLayoutClasses(t,e){const i=this.eOverlayWrapper.classList;i.toggle("ag-layout-auto-height",e.autoHeight),i.toggle("ag-layout-normal",e.normal),i.toggle("ag-layout-print",e.print)}postConstruct(){this.createManagedBean(new Gv(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(t){const e=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&e.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=t,e.toggle(t,!0)}showOverlay(t,e,i,s){if(this.setWrapperTypeClass(e),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=t,!!t){if(this.setDisplayed(!0,{skipAriaHidden:!0}),i&&this.focusService.isGridFocused()){const r=Ze(this.gos);r&&!u0(this.gos)&&(this.elToFocusAfter=r)}t.then(r=>{if(this.activePromise!==t){this.activeOverlay!==r&&(this.destroyBean(r),r=null);return}if(this.activePromise=null,!r)return;if(this.activeOverlay!==r&&(this.eOverlayWrapper.appendChild(r.getGui()),this.activeOverlay=r,s)){const o=r;this.updateListenerDestroyFunc=this.addManagedPropertyListener(s,({currentValue:a})=>{var l;(l=o.refresh)==null||l.call(o,this.gos.addGridCommonParams({...a??{}}))})}const n=this.focusService;i&&n.isGridFocused()&&n.focusInto(this.eOverlayWrapper)})}}updateOverlayWrapperPaddingTop(t){this.eOverlayWrapper.style.setProperty("padding-top",`${t}px`)}destroyActiveOverlay(){var s;this.activePromise=null;const t=this.activeOverlay;if(!t)return;let e=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,e&&!this.focusService.isGridFocused()&&(e=null);const i=this.updateListenerDestroyFunc;i&&(i(),this.updateListenerDestroyFunc=null),this.destroyBean(t),mi(this.eOverlayWrapper),(s=e==null?void 0:e.focus)==null||s.call(e,{preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.overlayService.setOverlayWrapperComp(void 0),super.destroy()}},FR=class extends ze{constructor(t,e){super(),this.direction=e,this.eViewport=oe,this.eContainer=oe,this.hideTimeout=null,this.setTemplate(t)}wireBeans(t){this.animationFrameService=t.animationFrameService}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",L0()||Ir())}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=O0(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const t=this.getGui(),e=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0),i=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1);this.addManagedListeners(t,{mouseenter:e,mousedown:e,touchstart:e,mouseleave:i,touchend:i})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:t=>{t.direction===this.direction&&(this.hideTimeout!==null&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null},400)}})}attemptSettingScrollPosition(t){const e=this.getViewportElement();B1(()=>ws(e),()=>this.setScrollPosition(t),100)}getViewportElement(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(t){this.addManagedElementListeners(this.getViewportElement(),{scroll:t})}},RL=class extends FR{constructor(){super(`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" data-ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" data-ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" data-ref="eRightSpacer"></div>
        </div>`,"horizontal"),this.eLeftSpacer=oe,this.eRightSpacer=oe}wireBeans(t){super.wireBeans(t),this.visibleColsService=t.visibleColsService,this.pinnedRowModel=t.pinnedRowModel,this.ctrlsService=t.ctrlsService,this.scrollVisibleService=t.scrollVisibleService}postConstruct(){super.postConstruct();const t=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:t,displayedColumnsWidthChanged:t,pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this)}),this.addManagedPropertyListener("domLayout",t),this.ctrlsService.register("fakeHScrollComp",this),this.createManagedBean(new Hv(e=>this.eContainer.style.width=`${e}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;const t=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${t}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const t=this.scrollVisibleService.isVerticalScrollShowing();let e=this.visibleColsService.getDisplayedColumnsRightWidth();const i=!this.enableRtl&&t,s=this.scrollVisibleService.getScrollbarWidth();i&&(e+=s),es(this.eRightSpacer,e),this.eRightSpacer.classList.toggle("ag-scroller-corner",e<=s);let r=this.visibleColsService.getColsLeftWidth();this.enableRtl&&t&&(r+=s),es(this.eLeftSpacer,r),this.eLeftSpacer.classList.toggle("ag-scroller-corner",r<=s)}setScrollVisible(){const t=this.scrollVisibleService.isHorizontalScrollShowing(),e=this.invisibleScrollbar,i=this.gos.get("suppressHorizontalScroll"),s=t&&this.scrollVisibleService.getScrollbarWidth()||0,n=i?0:s===0&&e?16:s;this.addOrRemoveCssClass("ag-scrollbar-invisible",e),Wa(this.getGui(),n),Wa(this.eViewport,n),Wa(this.eContainer,n),this.setDisplayed(t,{skipAriaHidden:!0})}getScrollPosition(){return Zu(this.getViewportElement(),this.enableRtl)}setScrollPosition(t){ws(this.getViewportElement())||this.attemptSettingScrollPosition(t),Ju(this.getViewportElement(),t,this.enableRtl)}},AR=class extends W{wireBeans(t){this.maxDivHeightScaler=t.rowContainerHeightService}constructor(t,e){super(),this.eContainer=t,this.eViewport=e}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this)})}onHeightChanged(){const t=this.maxDivHeightScaler.getUiContainerHeight(),e=t!=null?`${t}px`:"";this.eContainer.style.height=e,this.eViewport&&(this.eViewport.style.height=e)}},FL=class extends FR{wireBeans(t){super.wireBeans(t),this.ctrlsService=t.ctrlsService,this.scrollVisibleService=t.scrollVisibleService}constructor(){super(`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-vertical-scroll-container" data-ref="eContainer"></div>
            </div>
        </div>`,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new AR(this.eContainer)),this.ctrlsService.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this)})}setScrollVisible(){const t=this.scrollVisibleService.isVerticalScrollShowing(),e=this.invisibleScrollbar,i=t&&this.scrollVisibleService.getScrollbarWidth()||0,s=i===0&&e?16:i;this.addOrRemoveCssClass("ag-scrollbar-invisible",e),es(this.getGui(),s),es(this.eViewport,s),es(this.eContainer,s),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(){const{ctrlsService:t}=this,i=t.getGridBodyCtrl().getBodyViewportElement(),s=this.getScrollPosition(),r=i.scrollTop;s!=r&&this.setScrollPosition(r,!0)}getScrollPosition(){return this.getViewportElement().scrollTop}setScrollPosition(t,e){!e&&!ws(this.getViewportElement())&&this.attemptSettingScrollPosition(t),this.getViewportElement().scrollTop=t}},sf=(t=>(t.FakeHScrollbar="fakeHScrollComp",t.Header="centerHeader",t.PinnedTop="topCenter",t.PinnedBottom="bottomCenter",t.StickyTop="stickyTopCenter",t.StickyBottom="stickyBottomCenter",t))(sf||{}),AL=class extends W{constructor(t){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.eBodyViewport=t,this.resetLastHScrollDebounced=Ut(()=>this.lastScrollSource[1]=null,500),this.resetLastVScrollDebounced=Ut(()=>this.lastScrollSource[0]=null,500)}wireBeans(t){this.ctrlsService=t.ctrlsService,this.animationFrameService=t.animationFrameService,this.paginationService=t.paginationService,this.pageBoundsService=t.pageBoundsService,this.rowModel=t.rowModel,this.heightScaler=t.rowContainerHeightService,this.rowRenderer=t.rowRenderer,this.columnModel=t.columnModel,this.visibleColsService=t.visibleColsService}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)}),this.ctrlsService.whenReady(this,t=>{this.centerRowsCtrl=t.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.getViewportElement(),{scroll:this.onHScroll.bind(this,"Viewport")});for(const t of Object.values(sf)){const e=this.ctrlsService.get(t);this.registerScrollPartner(e,this.onHScroll.bind(this,t))}}addVerticalScrollListeners(){const t=this.ctrlsService.get("fakeVScrollComp"),e=this.gos.get("debounceVerticalScrollbar"),i=e?Ut(this.onVScroll.bind(this,"Viewport"),100):this.onVScroll.bind(this,"Viewport"),s=e?Ut(this.onVScroll.bind(this,"fakeVScrollComp"),100):this.onVScroll.bind(this,"fakeVScrollComp");this.addManagedElementListeners(this.eBodyViewport,{scroll:i}),this.registerScrollPartner(t,s)}registerScrollPartner(t,e){t.onScrollCallback(e)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(t){this.centerRowsCtrl!=null&&(t===void 0&&(t=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(t)))}setScrollLeftForAllContainersExceptCurrent(t){for(const e of[...Object.values(sf),"Viewport"]){if(this.lastScrollSource[1]===e)continue;const i=this.getViewportForSource(e);Ju(i,t,this.enableRtl)}}getViewportForSource(t){return t==="Viewport"?this.centerRowsCtrl.getViewportElement():this.ctrlsService.get(t).getViewportElement()}isControllingScroll(t,e){return this.lastScrollSource[e]==null?(e===0?this.lastScrollSource[0]=t:this.lastScrollSource[1]=t,!0):this.lastScrollSource[e]===t}onHScroll(t){if(!this.isControllingScroll(t,1))return;const e=this.centerRowsCtrl.getViewportElement(),{scrollLeft:i}=e;if(this.shouldBlockScrollUpdate(1,i,!0))return;const s=Zu(this.getViewportForSource(t),this.enableRtl);this.doHorizontalScroll(s),this.resetLastHScrollDebounced()}onVScroll(t){if(!this.isControllingScroll(t,0))return;let e;t==="Viewport"?e=this.eBodyViewport.scrollTop:e=this.ctrlsService.get("fakeVScrollComp").getScrollPosition(),!this.shouldBlockScrollUpdate(0,e,!0)&&(this.animationFrameService.setScrollTop(e),this.nextScrollTop=e,t==="Viewport"?this.ctrlsService.get("fakeVScrollComp").setScrollPosition(e):this.eBodyViewport.scrollTop=e,this.gos.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(t){const e=this.ctrlsService.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===t&&t===e||(this.scrollLeft=t,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(t),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(t){const e={type:"bodyScroll",direction:t===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(e),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(()=>{this.eventService.dispatchEvent({...e,type:"bodyScrollEnd"})},100)}shouldBlockScrollUpdate(t,e,i=!1){return i&&!Ir()?!1:t===0?this.shouldBlockVerticalScroll(e):this.shouldBlockHorizontalScroll(e)}shouldBlockVerticalScroll(t){const e=xv(this.eBodyViewport),{scrollHeight:i}=this.eBodyViewport;return t<0||t+e>i}shouldBlockHorizontalScroll(t){const e=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:i}=this.centerRowsCtrl.getViewportElement();if(this.enableRtl&&Qu()){if(t>0)return!0}else if(t<0)return!0;return Math.abs(t)+e>i}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll("Viewport")}scrollGridIfNeeded(){const t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(t,e=!1){const s=this.centerRowsCtrl.getViewportElement().scrollWidth-this.centerRowsCtrl.getCenterWidth();!e&&this.shouldBlockScrollUpdate(1,t)&&(this.enableRtl&&Qu()?t=t>0?0:s:t=Math.min(Math.max(t,0),s)),Ju(this.centerRowsCtrl.getViewportElement(),Math.abs(t),this.enableRtl),this.doHorizontalScroll(t)}setVerticalScrollPosition(t){this.eBodyViewport.scrollTop=t}getVScrollPosition(){return this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight,{top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowsCtrl.isHorizontalScrollShowing()}scrollHorizontally(t){const e=this.centerRowsCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(e+t),this.centerRowsCtrl.getViewportElement().scrollLeft-e}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(t,e=null){const i=this.rowModel.getRowCount();let s=-1;for(let r=0;r<i;r++){const n=this.rowModel.getRow(r);if(typeof t=="function"){if(n&&t(n)){s=r;break}}else if(t===n||t===n.data){s=r;break}}s>=0&&this.ensureIndexVisible(s,e)}ensureIndexVisible(t,e){if(Ft(this.gos,"print"))return;const i=this.rowModel.getRowCount();if(typeof t!="number"||t<0||t>=i){_("Invalid row index for ensureIndexVisible: "+t);return}const r=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming(()=>{var u;r||(u=this.paginationService)==null||u.goToPageWithIndex(t);const n=this.ctrlsService.getGridBodyCtrl(),o=n.getStickyTopHeight(),a=n.getStickyBottomHeight(),l=this.rowModel.getRow(t);let c;do{const h=l.rowTop,d=l.rowHeight,g=this.pageBoundsService.getPixelOffset(),p=l.rowTop-g,f=p+l.rowHeight,C=this.getVScrollPosition(),m=this.heightScaler.getDivStretchOffset(),v=C.top+m,y=C.bottom+m,w=y-v,x=this.heightScaler.getScrollPositionForPixel(p),S=this.heightScaler.getScrollPositionForPixel(f-w),b=Math.min((x+S)/2,p),R=v+o>p,A=y-a<f;let P=null;e==="top"?P=x:e==="bottom"?P=S:e==="middle"?P=b:R?P=x-o:A&&(P=S+a),P!==null&&(this.setVerticalScrollPosition(P),this.rowRenderer.redraw({afterScroll:!0})),c=h!==l.rowTop||d!==l.rowHeight}while(c);this.animationFrameService.flushAllFrames()})}ensureColumnVisible(t,e="auto"){const i=this.columnModel.getCol(t);if(!i||i.isPinned()||!this.visibleColsService.isColDisplayed(i))return;const s=this.getPositionedHorizontalScroll(i,e);this.getFrameworkOverrides().wrapIncoming(()=>{s!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(s),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()})}setScrollPosition(t,e){this.getFrameworkOverrides().wrapIncoming(()=>{this.centerRowsCtrl.setCenterViewportScrollLeft(e),this.setVerticalScrollPosition(t),this.rowRenderer.redraw({afterScroll:!0}),this.animationFrameService.flushAllFrames()})}getPositionedHorizontalScroll(t,e){const{columnBeforeStart:i,columnAfterEnd:s}=this.isColumnOutsideViewport(t),r=this.centerRowsCtrl.getCenterWidth()<t.getActualWidth(),n=this.centerRowsCtrl.getCenterWidth(),o=this.enableRtl;let a=(o?i:s)||r,l=o?s:i;e!=="auto"&&(a=e==="start",l=e==="end");const c=e==="middle";if(a||l||c){const{colLeft:u,colMiddle:h,colRight:d}=this.getColumnBounds(t);return c?h-n/2:a?o?d:u:o?u-n:d-n}return null}isColumnOutsideViewport(t){const{start:e,end:i}=this.getViewportBounds(),{colLeft:s,colRight:r}=this.getColumnBounds(t),n=this.enableRtl,o=n?e>r:i<r,a=n?i<s:e>s;return{columnBeforeStart:o,columnAfterEnd:a}}getColumnBounds(t){const e=this.enableRtl,i=this.visibleColsService.getBodyContainerWidth(),s=t.getActualWidth(),r=t.getLeft(),n=e?-1:1,o=e?i-r:r,a=o+s*n,l=o+s/2*n;return{colLeft:o,colMiddle:l,colRight:a}}getViewportBounds(){const t=this.centerRowsCtrl.getCenterWidth(),e=this.centerRowsCtrl.getCenterViewportScrollLeft(),i=e,s=t+e;return{start:i,end:s,width:t}}},PL=class extends W{wireBeans(t){this.animationFrameService=t.animationFrameService,this.ctrlsService=t.ctrlsService,this.pinnedWidthService=t.pinnedWidthService,this.columnModel=t.columnModel,this.visibleColsService=t.visibleColsService,this.columnSizeService=t.columnSizeService,this.scrollVisibleService=t.scrollVisibleService,this.columnViewportService=t.columnViewportService}constructor(t){super(),this.centerContainerCtrl=t}postConstruct(){this.ctrlsService.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const t=()=>{this.animationFrameService.requestAnimationFrame(()=>{this.onCenterViewportResized()})};this.centerContainerCtrl.registerViewportResizeListener(t),this.gridBodyCtrl.registerBodyViewportResizeListener(t)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleService.onCentreViewportResized(),this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const t=this.centerContainerCtrl.getCenterWidth();t!==this.centerWidth&&(this.centerWidth=t,this.columnSizeService.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}keepPinnedColumnsNarrowerThanViewport(){const t=this.gridBodyCtrl.getBodyViewportElement(),e=zl(t);if(e<=50)return;let i=this.getPinnedColumnsOverflowingViewport(e-50);const s=this.gos.getCallback("processUnpinnedColumns");i.length&&(s&&(i=s({columns:i,viewportWidth:e})),this.columnModel.setColsPinned(i,null,"viewportSizeFeature"))}getPinnedColumnsOverflowingViewport(t){const e=this.pinnedWidthService.getPinnedRightWidth(),i=this.pinnedWidthService.getPinnedLeftWidth(),s=e+i;if(s<t)return[];const r=[...this.visibleColsService.getLeftCols()],n=[...this.visibleColsService.getRightCols()];let o=0,a=0;const l=0,c=[];let u=s-l-t;for(;(a<r.length||o<n.length)&&u>0;){if(o<n.length){const h=n[o++];u-=h.getActualWidth(),c.push(h)}if(a<r.length&&u>0){const h=r[a++];u-=h.getActualWidth(),c.push(h)}}return c}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const t=this.gridBodyCtrl.getBodyViewportElement(),e=xv(t);this.bodyHeight!==e&&(this.bodyHeight=e,this.eventService.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const t={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(t)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){const t=this.centerContainerCtrl.getCenterWidth(),e=this.centerContainerCtrl.getViewportScrollLeft();this.columnViewportService.setScrollPosition(t,e)}},EL=class extends W{wireBeans(t){this.dragService=t.dragService,this.rangeService=t.rangeService}constructor(t){super(),this.eContainer=t}postConstruct(){if(!this.rangeService)return;this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{Ws(this.gos)?this.enableFeature():this.disableFeature()}),this.addDestroyFunc(()=>this.disableFeature()),Ws(this.gos)&&this.enableFeature()}enableFeature(){this.dragService.addDragSource(this.params)}disableFeature(){this.dragService.removeDragSource(this.params)}},kL=class extends ze{constructor(){super(`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[Av]),this.eCheckbox=oe}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const t=this.localeService.getLocaleTextFunc(),e=this.rowNode.isSelected(),i=vv(t,e),[s,r]=this.rowNode.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],n=t(s,r);this.eCheckbox.setValue(e,!0),this.eCheckbox.setInputAriaLabel(`${n} (${i})`)}onClicked(t,e,i){return this.rowNode.setSelectedParams({newValue:t,rangeSelect:i.shiftKey,groupSelectsFiltered:e,event:i,source:"checkboxSelected"})}init(t){if(this.rowNode=t.rowNode,this.column=t.column,this.overrides=t.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:s=>Po(s),click:s=>{Po(s);const r=dv(this.gos)==="filteredDescendants",n=this.eCheckbox.getValue();this.shouldHandleIndeterminateState(n,r)?this.onClicked(!0,r,s||{})===0&&this.onClicked(!1,r,s):n?this.onClicked(!1,r,s):this.onClicked(!0,r,s||{})}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),hv(this.gos)||typeof this.getIsVisible()=="function"){const s=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:s}),this.addManagedListeners(this.rowNode,{dataChanged:s,cellChanged:s}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(t,e){return e&&(this.eCheckbox.getPreviousValue()===void 0||t===void 0)&&Xe(this.gos)}showOrHideSelect(){var r,n,o;let t=this.rowNode.selectable;const e=this.getIsVisible();if(t)if(typeof e=="function"){const a=(r=this.overrides)==null?void 0:r.callbackParams;if(!this.column)t=e({...a,node:this.rowNode,data:this.rowNode.data});else{const l=this.column.createColumnFunctionCallbackParams(this.rowNode);t=e({...a,...l})}}else t=e??!1;const i=this.gos.get("rowSelection");if(i&&typeof i!="string"?!U1(i):(n=this.column)==null?void 0:n.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!t),this.setVisible(!0),this.setDisplayed(!0);return}if((o=this.overrides)!=null&&o.removeHidden){this.setDisplayed(t);return}this.setVisible(t)}getIsVisible(){var e,i;if(this.overrides)return this.overrides.isVisible;const t=this.gos.get("rowSelection");return t&&typeof t!="string"?Ao(t):(i=(e=this.column)==null?void 0:e.getColDef())==null?void 0:i.checkboxSelection}},ML=class extends ze{constructor(t,e,i){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=t,this.column=e,this.eCell=i}postConstruct(){this.getGui().appendChild(ui("rowDrag",this.gos,null)),this.addGuiEventListener("mousedown",e=>{e.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(t){const e=this.column.getColDef().dndSourceOnRowDrag;t.dataTransfer.setDragImage(this.eCell,0,0);const i=()=>{try{const s=JSON.stringify(this.rowNode.data);t.dataTransfer.setData("application/json",s),t.dataTransfer.setData("text/plain",s)}catch{}};if(e){const s=this.gos.addGridCommonParams({rowNode:this.rowNode,dragEvent:t});e(s)}else i()}checkVisibility(){const t=this.column.isDndSource(this.rowNode);this.setDisplayed(t)}},TL=class extends W{constructor(t,e){super(),this.staticClasses=[],this.cellCtrl=t,this.beans=e,this.column=t.getColumn(),this.rowNode=t.getRowNode()}setComp(t){this.cellComp=t,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const t=this.column.getColDef(),{cellClassRules:e}=t,i=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:t,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(e===this.cellClassRules?void 0:this.cellClassRules,e,i,s=>this.cellComp.addOrRemoveCssClass(s,!0),s=>this.cellComp.addOrRemoveCssClass(s,!1)),this.cellClassRules=e}applyUserStyles(){const t=this.column.getColDef();if(!t.cellStyle)return;let e;if(typeof t.cellStyle=="function"){const i=this.beans.gos.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:t,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex}),s=t.cellStyle;e=s(i)}else e=t.cellStyle;e&&this.cellComp.setUserStyles(e)}applyClassesFromColDef(){const t=this.column.getColDef(),e=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:t,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach(i=>this.cellComp.addOrRemoveCssClass(i,!1)),this.staticClasses=this.beans.stylingService.getStaticCellClasses(t,e),this.staticClasses.length&&this.staticClasses.forEach(i=>this.cellComp.addOrRemoveCssClass(i,!0))}destroy(){super.destroy()}},DL=class extends W{constructor(t,e,i,s,r){super(),this.cellCtrl=t,this.beans=e,this.rowNode=s,this.rowCtrl=r}setComp(t){this.eGui=t}onKeyDown(t){const e=t.key;switch(e){case B.ENTER:this.onEnterKeyDown(t);break;case B.F2:this.onF2KeyDown(t);break;case B.ESCAPE:this.onEscapeKeyDown(t);break;case B.TAB:this.onTabKeyDown(t);break;case B.BACKSPACE:case B.DELETE:this.onBackspaceOrDeleteKeyDown(e,t);break;case B.DOWN:case B.UP:case B.RIGHT:case B.LEFT:this.onNavigationKeyDown(t,e);break}}onNavigationKeyDown(t,e){this.cellCtrl.isEditing()||(t.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(t):this.beans.navigationService.navigateToNextCell(t,e,this.cellCtrl.getCellPosition(),!0),t.preventDefault())}onShiftRangeSelect(t){if(!this.beans.rangeService)return;const e=this.beans.rangeService.extendLatestRangeInDirection(t);e&&this.beans.navigationService.ensureCellVisible(e)}onTabKeyDown(t){this.beans.navigationService.onTabKeyDown(this.cellCtrl,t)}onBackspaceOrDeleteKeyDown(t,e){const{cellCtrl:i,beans:s,rowNode:r}=this,{gos:n,rangeService:o,eventService:a}=s;if(!i.isEditing()){if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),pD(t,n.get("enableCellEditingOnBackspace"))){if(o&&Ws(n))o.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(i.isCellEditable()){const l=i.getColumn(),c=this.beans.valueService.getDeleteValue(l,r);r.setDataValue(l,c,"cellClear")}}else i.startRowOrCellEdit(t,e);a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(t){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,t.shiftKey);else if(this.beans.gos.get("enterNavigatesVertically")){const e=t.shiftKey?B.UP:B.DOWN;this.beans.navigationService.navigateToNextCell(null,e,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(B.ENTER,t),this.cellCtrl.isEditing()&&t.preventDefault()}onF2KeyDown(t){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(B.F2,t)}onEscapeKeyDown(t){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(t){if(t.target!==this.eGui||this.cellCtrl.isEditing())return;const s=t.key;s===" "?this.onSpaceKeyDown(t):this.cellCtrl.startRowOrCellEdit(s,t)&&t.preventDefault()}onSpaceKeyDown(t){const{gos:e}=this.beans;if(!this.cellCtrl.isEditing()&&_u(e)){const i=this.rowNode.isSelected(),s=!i,r=dv(e)==="filteredDescendants",n=this.rowNode.setSelectedParams({newValue:s,rangeSelect:t.shiftKey,groupSelectsFiltered:r,event:t,source:"spaceKey"});i===void 0&&n===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:t.shiftKey,groupSelectsFiltered:r,event:t,source:"spaceKey"})}t.preventDefault()}destroy(){super.destroy()}},LL=class extends W{constructor(t,e,i){super(),this.cellCtrl=t,this.beans=e,this.column=i}onMouseEvent(t,e){if(!Is(e))switch(t){case"click":this.onCellClicked(e);break;case"mousedown":case"touchstart":this.onMouseDown(e);break;case"dblclick":this.onCellDoubleClicked(e);break;case"mouseout":this.onMouseOut(e);break;case"mouseover":this.onMouseOver(e);break}}onCellClicked(t){if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(t),t.preventDefault();return}const{eventService:e,rangeService:i,gos:s}=this.beans,r=t.ctrlKey||t.metaKey;i&&r&&i.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&i.intersectLastRange(!0);const n=this.cellCtrl.createEvent(t,"cellClicked");e.dispatchEvent(n);const o=this.column.getColDef();o.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{o.onCellClicked(n)})},0),(s.get("singleClickEdit")||o.singleClickEdit)&&!s.get("suppressClickEdit")&&!(t.shiftKey&&(i==null?void 0:i.getCellRanges().length)!=0)&&this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!Ir()||y0("dblclick"))return!1;const t=new Date().getTime(),e=t-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=t,e}onCellDoubleClicked(t){const{column:e,beans:i,cellCtrl:s}=this,{eventService:r,frameworkOverrides:n,gos:o}=i,a=e.getColDef(),l=s.createEvent(t,"cellDoubleClicked");r.dispatchEvent(l),typeof a.onCellDoubleClicked=="function"&&window.setTimeout(()=>{n.wrapOutgoing(()=>{a.onCellDoubleClicked(l)})},0),!o.get("singleClickEdit")&&!o.get("suppressClickEdit")&&s.startRowOrCellEdit(null,t)}onMouseDown(t){const{ctrlKey:e,metaKey:i,shiftKey:s}=t,r=t.target,{cellCtrl:n,beans:o}=this,{eventService:a,rangeService:l,focusService:c,gos:u}=o;if(this.isRightClickInExistingRange(t))return;const h=l&&l.getCellRanges().length!=0;if(!s||!h){const g=u.get("enableCellTextSelection")&&t.defaultPrevented,p=(ys()||g)&&!n.isEditing()&&!wv(r);n.focusCell(p)}if(s&&h&&!c.isCellFocused(n.getCellPosition())){t.preventDefault();const d=c.getFocusedCell();if(d){const{column:g,rowIndex:p,rowPinned:f}=d,C=o.rowRenderer.getRowByPosition({rowIndex:p,rowPinned:f}),m=C==null?void 0:C.getCellCtrl(g);m!=null&&m.isEditing()&&m.stopEditing(),c.setFocusedCell({column:g,rowIndex:p,rowPinned:f,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(r)){if(l){const d=this.cellCtrl.getCellPosition();if(s)l.extendLatestRangeToCell(d);else{const g=e||i;l.setRangeToCell(d,g)}}a.dispatchEvent(this.cellCtrl.createEvent(t,"cellMouseDown"))}}isRightClickInExistingRange(t){const{rangeService:e}=this.beans;if(e){const i=e.isCellInAnyRange(this.cellCtrl.getCellPosition()),s=t.button===2||t.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(i&&s)return!0}return!1}containsWidget(t){return mo(t,"ag-selection-checkbox",3)}onMouseOut(t){this.mouseStayingInsideCell(t)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(t,"cellMouseOut")),this.beans.columnHoverService.clearMouseOver())}onMouseOver(t){this.mouseStayingInsideCell(t)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(t,"cellMouseOver")),this.beans.columnHoverService.setMouseOver([this.column]))}mouseStayingInsideCell(t){if(!t.target||!t.relatedTarget)return!1;const e=this.cellCtrl.getGui(),i=e.contains(t.target),s=e.contains(t.relatedTarget);return i&&s}destroy(){super.destroy()}},IL=class extends W{constructor(t,e){super(),this.cellCtrl=t,this.beans=e,this.column=t.getColumn(),this.rowNode=t.getRowNode()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}setComp(t){this.eGui=t,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onNewColumnsLoaded(){const t=this.column.getRowSpan(this.rowNode);this.rowSpan!==t&&(this.rowSpan=t,this.applyRowSpan(!0))}onDisplayColumnsChanged(){const t=this.getColSpanningList();Lr(this.colsSpanning,t)||(this.colsSpanning=t,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eGui)return;const t=this.getCellWidth();this.eGui.style.width=`${t}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((t,e)=>t+e.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const t=this.column.getColSpan(this.rowNode),e=[];if(t===1)e.push(this.column);else{let i=this.column;const s=this.column.getPinned();for(let r=0;i&&r<t&&(e.push(i),i=this.beans.visibleColsService.getColAfter(i),!(!i||be(i)||s!==i.getPinned()));r++);}return e}onLeftChanged(){if(!this.eGui)return;const t=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=t+"px"}getCellLeft(){let t;return this.beans.gos.get("enableRtl")&&this.colsSpanning?t=xe(this.colsSpanning):t=this.column,t.getLeft()}modifyLeftForPrintLayout(t){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()==="left")return t;const e=this.beans.visibleColsService.getColsLeftWidth();if(this.column.getPinned()==="right"){const i=this.beans.visibleColsService.getBodyContainerWidth();return e+i+(t||0)}return e+(t||0)}applyRowSpan(t){if(this.rowSpan===1&&!t)return;const i=ln(this.beans.gos)*this.rowSpan;this.eGui.style.height=`${i}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}},ma="ag-cell-range-selected",OL="ag-cell-range-chart",HL="ag-cell-range-single-cell",NL="ag-cell-range-chart-category",GL="ag-cell-range-handle",BL="ag-cell-range-top",WL="ag-cell-range-right",zL="ag-cell-range-bottom",VL="ag-cell-range-left",_L=class{constructor(t,e){this.beans=t,this.rangeService=t.rangeService,this.selectionHandleFactory=t.selectionHandleFactory,this.cellCtrl=e}setComp(t,e){this.cellComp=t,this.eGui=e,this.onCellSelectionChanged()}onCellSelectionChanged(){this.cellComp&&(this.rangeCount=this.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(ma,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass(`${ma}-1`,this.rangeCount===1),this.cellComp.addOrRemoveCssClass(`${ma}-2`,this.rangeCount===2),this.cellComp.addOrRemoveCssClass(`${ma}-3`,this.rangeCount===3),this.cellComp.addOrRemoveCssClass(`${ma}-4`,this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(OL,this.hasChartRange),Ku(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(HL,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){const t=this.getRangeBorders(),e=this.isSingleCell(),i=!e&&t.top,s=!e&&t.right,r=!e&&t.bottom,n=!e&&t.left;this.cellComp.addOrRemoveCssClass(BL,i),this.cellComp.addOrRemoveCssClass(WL,s),this.cellComp.addOrRemoveCssClass(zL,r),this.cellComp.addOrRemoveCssClass(VL,n)}isSingleCell(){const{rangeService:t}=this.beans;return this.rangeCount===1&&!!t&&!t.isMoreThanOneCell()}getHasChartRange(){const{rangeService:t}=this.beans;if(!this.rangeCount||!t)return!1;const e=t.getCellRanges();return e.length>0&&e.every(i=>cn([1,0],i.type))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){const t=this.beans.gos.get("enableRtl");let e=!1,i=!1,s=!1,r=!1;const n=this.cellCtrl.getCellPosition().column,o=this.beans.visibleColsService;let a,l;t?(a=o.getColAfter(n),l=o.getColBefore(n)):(a=o.getColBefore(n),l=o.getColAfter(n));const c=this.rangeService.getCellRanges().filter(u=>this.rangeService.isCellInSpecificRange(this.cellCtrl.getCellPosition(),u));a||(r=!0),l||(i=!0);for(let u=0;u<c.length&&!(e&&i&&s&&r);u++){const h=c[u],d=this.rangeService.getRangeStartRow(h),g=this.rangeService.getRangeEndRow(h);!e&&this.beans.rowPositionUtils.sameRow(d,this.cellCtrl.getCellPosition())&&(e=!0),!s&&this.beans.rowPositionUtils.sameRow(g,this.cellCtrl.getCellPosition())&&(s=!0),!r&&a&&h.columns.indexOf(a)<0&&(r=!0),!i&&l&&h.columns.indexOf(l)<0&&(i=!0)}return{top:e,right:i,bottom:s,left:r}}refreshHandle(){if(this.beans.context.isDestroyed())return;const t=this.shouldHaveSelectionHandle();this.selectionHandle&&!t&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),t&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(GL,!!this.selectionHandle)}shouldHaveSelectionHandle(){const t=this.beans.gos,e=this.rangeService.getCellRanges(),i=e.length;if(this.rangeCount<1||i<1)return!1;const s=xe(e),r=this.cellCtrl.getCellPosition(),n=Vy(t)&&!this.cellCtrl.isSuppressFillHandle(),o=$1(t);let a=i===1&&!this.cellCtrl.isEditing()&&(n||o);if(this.hasChartRange){const c=e[0].type===1&&this.rangeService.isCellInSpecificRange(r,e[0]);this.cellComp.addOrRemoveCssClass(NL,c),a=s.type===0}return a&&s.endRow!=null&&this.rangeService.isContiguousRange(s)&&this.rangeService.isBottomRightCell(s,r)}addSelectionHandle(){const t=xe(this.rangeService.getCellRanges()).type,i=Vy(this.beans.gos)&&be(t)?0:1;this.selectionHandle&&this.selectionHandle.getType()!==i&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.selectionHandleFactory.createSelectionHandle(i)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}},UL="ag-cell",XL="ag-cell-auto-height",jL="ag-cell-normal-height",YL="ag-cell-focus",$L="ag-cell-first-right-pinned",KL="ag-cell-last-left-pinned",qL="ag-cell-not-inline-editing",QL="ag-column-hover",ZL="ag-cell-wrap-text",JL=0,PR=class rf extends W{constructor(e,i,s,r){super(),this.column=e,this.rowNode=i,this.beans=s,this.rowCtrl=r,this.cellRangeFeature=void 0,this.cellPositionFeature=void 0,this.cellCustomStyleFeature=void 0,this.tooltipFeature=void 0,this.cellMouseListenerFeature=void 0,this.cellKeyboardListenerFeature=void 0,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.onCellEditorAttachedFuncs=[],this.instanceId=e.getId()+"-"+JL++,this.colIdSanitised=Cs(this.column.getId()),this.createCellPosition(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}onFocusOut(){this.beans.focusService.clearRestoreFocus()}addFeatures(){this.cellPositionFeature=new IL(this,this.beans),this.cellCustomStyleFeature=new TL(this,this.beans),this.cellMouseListenerFeature=new LL(this,this.beans,this.column),this.cellKeyboardListenerFeature=new DL(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.column.isTooltipEnabled()&&this.enableTooltipFeature(),this.beans.rangeService&&Ws(this.beans.gos)&&(this.cellRangeFeature=new _L(this.beans,this))}removeFeatures(){const e=this.beans.context;this.cellPositionFeature=e.destroyBean(this.cellPositionFeature),this.cellCustomStyleFeature=e.destroyBean(this.cellCustomStyleFeature),this.cellMouseListenerFeature=e.destroyBean(this.cellMouseListenerFeature),this.cellKeyboardListenerFeature=e.destroyBean(this.cellKeyboardListenerFeature),this.cellRangeFeature=e.destroyBean(this.cellRangeFeature),this.disableTooltipFeature()}enableTooltipFeature(e,i){const s=()=>{const o=this.column.getColDef(),a=this.rowNode.data;if(o.tooltipField&&K(a))return Ba(a,o.tooltipField,this.column.isTooltipFieldContainsDots());const l=o.tooltipValueGetter;return l?l(this.beans.gos.addGridCommonParams({location:"cell",colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted})):null},r=this.beans.gos.get("tooltipShowMode")==="whenTruncated";!i&&r&&!this.isCellRenderer()&&(i=()=>{const o=this.getGui(),a=o.children.length===0?o:o.querySelector(".ag-cell-value");return a?a.scrollWidth>a.clientWidth:!0});const n={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:e!=null?()=>e:s,getValueFormatted:()=>this.valueFormatted,shouldDisplayTooltip:i};this.tooltipFeature=new Xo(n,this.beans)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}setComp(e,i,s,r,n,o){var a,l,c,u;this.cellComp=e,this.eGui=i,this.printLayout=r,o??(o=this),this.addDomData(o),this.addFeatures(),o.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(s,o),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),(a=this.cellPositionFeature)==null||a.setComp(i),(l=this.cellCustomStyleFeature)==null||l.setComp(e),(c=this.tooltipFeature)==null||c.refreshToolTip(),(u=this.cellKeyboardListenerFeature)==null||u.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(e,i),n&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(h=>h()),this.onCellCompAttachedFuncs=[])}setupAutoHeight(e,i){if(this.isAutoHeight=this.column.isAutoHeight(),!this.isAutoHeight||!e)return;const s=e.parentElement,r=Rr(this.beans.gos,this.rowNode).height,n=l=>{if(this.editing||!this.isAlive()||!i.isAlive())return;const{paddingTop:c,paddingBottom:u,borderBottomWidth:h,borderTopWidth:d}=Dn(s),g=c+u+h+d,f=e.offsetHeight+g;if(l<5){const m=st(this.beans.gos),v=!m||!m.contains(e),y=f==0;if(v||y){window.setTimeout(()=>n(l+1),0);return}}const C=Math.max(f,r);this.rowNode.setRowAutoHeight(C,this.column)},o=()=>n(0);o();const a=this.beans.resizeObserverService.observeResize(e,o);i.addDestroyFunc(()=>{a(),this.rowNode.setRowAutoHeight(void 0,this.column)})}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}showValue(e=!1){var d;const{beans:i,column:s,rowNode:r,cellRangeFeature:n,cellComp:o}=this,{userComponentFactory:a,animationFrameService:l}=i,c=this.getValueToDisplay();let u;if(r.stub&&((d=r.groupData)==null?void 0:d[this.column.getId()])==null){const g=this.createCellRendererParams();u=a.getLoadingCellRendererDetails(s.getColDef(),g)}else if(this.isCellRenderer()){const g=this.createCellRendererParams();u=a.getCellRendererDetails(s.getColDef(),g)}o.setRenderDetails(u,c,e),l.requestAnimationFrame(()=>n==null?void 0:n.refreshHandle())}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e)),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e){return this.rowNode.rowPinned!=null?!1:typeof e=="function"||e===!0}isCheckboxSelection(e){const{rowSelection:i}=this.beans.gridOptions;return e.checkboxSelection||Gl(this.column)&&i&&typeof i!="string"&&Ao(i)}refreshShouldDestroy(){const e=this.column.getColDef(),i=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e)),s=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),r=this.includeDndSource!=this.isIncludeControl(e.dndSource),n=this.isAutoHeight!=this.column.isAutoHeight();return i||s||r||n}startEditing(e=null,i=!1,s=null){const{editService:r}=this.beans;return!this.isCellEditable()||this.editing||!r?!0:this.cellComp?r.startEditing(this,e,i,s):(this.onCellCompAttachedFuncs.push(()=>{this.startEditing(e,i,s)}),!0)}setEditing(e,i){this.editCompDetails=i,this.editing!==e&&(this.editing=e)}stopRowOrCellEdit(e=!1){this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.stopEditing(e):this.stopEditing(e)}onPopupEditorClosed(){this.editing&&this.stopEditingAndFocus()}stopEditing(e=!1){this.onCellEditorAttachedFuncs=[];const{editService:i}=this.beans;return!this.editing||!i?!1:i.stopEditing(this,e)}createCellRendererParams(){return this.beans.gos.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.beans.valueService.getValueForDisplay(this.column,this.rowNode),setValue:i=>this.beans.valueService.setValue(this.rowNode,this.column,i),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(i,s,r,n)=>this.registerRowDragger(i,s,n),setTooltip:(i,s)=>{var r;this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(i,s),(r=this.tooltipFeature)==null||r.refreshToolTip()}})}setFocusOutOnEditor(){var e;this.editing&&((e=this.beans.editService)==null||e.setFocusOutOnEditor(this))}setFocusInOnEditor(){var e;this.editing&&((e=this.beans.editService)==null||e.setFocusInOnEditor(this))}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){var i;this.refreshShouldDestroy()?(i=this.rowCtrl)==null||i.recreateCell(this):this.refreshCell(e)}refreshCell(e){var u,h,d,g,p;if(this.suppressRefreshCell||this.editing)return;const i=this.column.getColDef(),s=e!=null&&!!e.newData,r=e!=null&&!!e.suppressFlash||!!i.suppressCellFlash,n=i.field==null&&i.valueGetter==null&&i.showRowGroup==null,o=e&&e.forceRefresh||n||s,a=!!this.cellComp,l=this.updateAndFormatValue(a),c=o||l;if(a){if(c){this.showValue(s);const f=(u=this.beans.filterManager)==null?void 0:u.isSuppressFlashingCellsBecauseFiltering();!r&&!f&&(this.beans.gos.get("enableCellChangeFlash")||i.enableCellChangeFlash)&&this.flashCell(),(h=this.cellCustomStyleFeature)==null||h.applyUserStyles(),(d=this.cellCustomStyleFeature)==null||d.applyClassesFromColDef()}(g=this.tooltipFeature)==null||g.refreshToolTip(),(p=this.cellCustomStyleFeature)==null||p.applyCellClassRules()}}stopEditingAndFocus(e=!1,i=!1){var s;(s=this.beans.editService)==null||s.stopEditingAndFocus(this,e,i)}flashCell(e){const i=(e==null?void 0:e.flashDuration)??(e==null?void 0:e.flashDelay),s=(e==null?void 0:e.fadeDuration)??(e==null?void 0:e.fadeDelay);this.animateCell("data-changed",i,s)}animateCell(e,i,s){if(!this.cellComp)return;const{gos:r}=this.beans;if(i||(i=r.get("cellFlashDuration")),i===0)return;K(s)||(s=r.get("cellFadeDuration"));const n=`ag-cell-${e}`,o=`ag-cell-${e}-animation`;this.cellComp.addOrRemoveCssClass(n,!0),this.cellComp.addOrRemoveCssClass(o,!1),this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(n,!1),this.cellComp.addOrRemoveCssClass(o,!0),this.eGui.style.transition=`background-color ${s}ms`,window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(o,!1),this.eGui.style.transition="")},s))},i)})}onFlashCells(e){if(!this.cellComp)return;const i=this.beans.cellPositionUtils.createId(this.getCellPosition());e.cells[i]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueService.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const i=this.value,s=this.valueFormatted;return this.value=this.beans.valueService.getValueForDisplay(this.column,this.rowNode),this.valueFormatted=this.callValueFormatter(this.value),e?!this.valuesAreEqual(i,this.value)||this.valueFormatted!=s:!0}valuesAreEqual(e,i){const s=this.column.getColDef();return s.equals?s.equals(e,i):e===i}getComp(){return this.cellComp}getValue(){return this.value}addDomData(e){const i=this.getGui();bn(this.beans.gos,i,rf.DOM_DATA_KEY_CELL_CTRL,this),e.addDestroyFunc(()=>bn(this.beans.gos,i,rf.DOM_DATA_KEY_CELL_CTRL,null))}createEvent(e,i){return this.beans.gos.addGridCommonParams({type:i,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:e,rowIndex:this.rowNode.rowIndex})}processCharacter(e){var i;(i=this.cellKeyboardListenerFeature)==null||i.processCharacter(e)}onKeyDown(e){var i;(i=this.cellKeyboardListenerFeature)==null||i.onKeyDown(e)}onMouseEvent(e,i){var s;(s=this.cellMouseListenerFeature)==null||s.onMouseEvent(e,i)}getGui(){return this.eGui}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){var e;this.cellComp&&((e=this.cellPositionFeature)==null||e.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{cellComp:e,column:i,beans:s}=this;mR(e,i,s.visibleColsService)}refreshAriaColIndex(){const e=this.beans.visibleColsService.getAriaColIndex(this.column);T0(this.getGui(),e)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){var e;return(e=this.cellPositionFeature)==null?void 0:e.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}isPrintLayout(){return this.printLayout}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(e,i=null){return this.cellComp?this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.startRowEditing(e,this):this.startEditing(e,!0,i):(this.onCellCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(e,i)}),!0)}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onCellSelectionChanged()}isRangeSelectionEnabled(){return this.cellRangeFeature!=null}focusCell(e=!1){this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:e})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onCellSelectionChanged()}onSuppressCellFocusChanged(e){this.eGui&&Di(this.eGui,"tabindex",e?void 0:-1)}onFirstRightPinnedChanged(){if(!this.cellComp)return;const e=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass($L,e)}onLastLeftPinnedChanged(){if(!this.cellComp)return;const e=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(KL,e)}onCellFocused(e){if(this.beans.focusService.isCellFocusSuppressed())return;const i=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp){i&&(e!=null&&e.forceBrowserFocus)&&(this.focusEventToRestore=e);return}if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass(YL,i),i&&e&&e.forceBrowserFocus){let r=this.cellComp.getFocusableElement();if(this.editing){const n=this.beans.focusService.findFocusableElements(r,null,!0);n.length&&(r=n[0])}r.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}const s=this.beans.gos.get("editType")==="fullRow";!i&&!s&&this.editing&&this.stopRowOrCellEdit(),i&&this.rowCtrl.announceDescription()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:Ls(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass(UL,!0),this.cellComp.addOrRemoveCssClass(qL,!0);const e=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(XL,e),this.cellComp.addOrRemoveCssClass(jL,!e)}onColumnHover(){if(!this.cellComp||!this.beans.gos.get("columnHoverHighlight"))return;const e=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(QL,e)}onColDefChanged(){var i;if(!this.cellComp)return;this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?(i=this.beans.editService)==null||i.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0})}setWrapText(){const e=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(ZL,e)}dispatchCellContextMenuEvent(e){const i=this.column.getColDef(),s=this.createEvent(e,"cellContextMenu");this.beans.eventService.dispatchEvent(s),i.onCellContextMenu&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{i.onCellContextMenu(s)})},0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],this.onCellEditorAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){const e=new kL;return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=new ML(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(e),e}registerRowDragger(e,i,s){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,i);return}const r=this.createRowDragComp(e,i,s);r&&(this.customRowDragComp=r,this.addDestroyFunc(()=>{this.beans.context.destroyBean(r),this.customRowDragComp=null}))}createRowDragComp(e,i,s){const r=this.beans.gos.get("pagination"),n=this.beans.gos.get("rowDragManaged"),o=Xe(this.beans.gos);if(n){if(!o){_("managed row dragging is only allowed in the Client Side Row Model");return}if(r){_("managed row dragging is not possible when doing pagination");return}}const a=new Qp(()=>this.value,this.rowNode,this.column,e,i,s);return this.beans.context.createBean(a),a}setSuppressRefreshCell(e){this.suppressRefreshCell=e}getEditCompDetails(){return this.editCompDetails}onCellEditorAttached(e){this.onCellEditorAttachedFuncs.push(e)}cellEditorAttached(){this.onCellEditorAttachedFuncs.forEach(e=>e()),this.onCellEditorAttachedFuncs=[]}};PR.DOM_DATA_KEY_CELL_CTRL="cellCtrl";var un=PR,eI=0,ER=class nf extends W{constructor(e,i,s,r,n){var o;super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKeySanitised=null,this.beans=i,this.gos=i.gos,this.rowNode=e,this.paginationPage=((o=i.paginationService)==null?void 0:o.getCurrentPage())??0,this.useAnimationFrameForCreate=r,this.printLayout=n,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+eI++,this.rowId=Cs(e.id),this.initRowBusinessKey(),this.rowFocused=i.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=i.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(s),this.rowStyles=this.processStylesFromGridOptions(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=Cs(e)}getRowId(){return this.rowId}getRowStyles(){return this.rowStyles}isSticky(){return this.rowNode.sticky}updateGui(e,i){e==="left"?this.leftGui=i:e==="right"?this.rightGui=i:e==="fullWidth"?this.fullWidthGui=i:this.centerGui=i}setComp(e,i,s,r){r=Bl(this,this.beans.context,r);const n={rowComp:e,element:i,containerType:s,compBean:r};this.allRowGuis.push(n),this.updateGui(s,n),this.initialiseRowComp(n),this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(i=>i.containerType!==e),this.updateGui(e,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(e){const i=e?"none":"";this.allRowGuis.forEach(s=>s.element.style.display=i)}initialiseRowComp(e){const i=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(e),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),_u(i)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const s=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(n=>s.addOrRemoveCssClass(n,!0)),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&$u(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(s),this.setRowCompRowBusinessKey(s),bn(i,e.element,nf.DOM_DATA_KEY_ROW_CTRL,this),e.compBean.addDestroyFunc(()=>bn(i,e.element,nf.DOM_DATA_KEY_ROW_CTRL,null)),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),i.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(()=>{this.isAlive()&&e.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKeySanitised!=null&&e.setRowBusinessKey(this.businessKeySanitised)}getBusinessKey(){return this.businessKeySanitised}setRowCompRowId(e){this.rowId=Cs(this.rowNode.id),this.rowId!=null&&e.setRowId(this.rowId)}executeSlideAndFadeAnimations(e){const{containerType:i}=e;this.slideInAnimation[i]&&(Wy(()=>{this.onTopChanged()}),this.slideInAnimation[i]=!1),this.fadeInAnimation[i]&&(Wy(()=>{e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[i]=!1)}addRowDraggerToRow(e){if(Ws(this.gos)){_("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `cellSelection: true`");return}const i=this.beans.localeService.getLocaleTextFunc(),s=new Qp(()=>`1 ${i("rowDragRow","row")}`,this.rowNode,void 0,e.element,void 0,!0),r=this.createBean(s,this.beans.context);this.rowDragComps.push(r),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(n=>n!==r),this.destroyBean(r,this.beans.context)})}setupFullWidth(e){const i=this.getPinnedForContainer(e.containerType);if(this.rowType=="FullWidthDetail"&&!this.gos.assertModuleRegistered("@ag-grid-enterprise/master-detail","cell renderer 'agDetailCellRenderer' (for master detail)"))return;const s=this.createFullWidthCompDetails(e.element,i);e.rowComp.showFullWidth(s)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderers(){var e,i;return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(s=>{var r;return(r=s==null?void 0:s.rowComp)==null?void 0:r.getFullWidthCellRenderer()}):[(i=(e=this.fullWidthGui)==null?void 0:e.rowComp)==null?void 0:i.getFullWidthCellRenderer()]}getCellElement(e){const i=this.getCellCtrl(e);return i?i.getGui():null}executeProcessRowPostCreateFunc(){const e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;const i={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(i)}areAllContainersReady(){const e=!!this.leftGui||!this.beans.visibleColsService.isPinningLeft(),i=!!this.centerGui,s=!!this.rightGui||!this.beans.visibleColsService.isPinningRight();return e&&i&&s}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this.rowNode}):!1}setRowType(){const e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),i=this.isNodeFullWidthCell(),s=this.gos.get("masterDetail")&&this.rowNode.detail,r=this.beans.columnModel.isPivotMode(),o=!!this.rowNode.group&&!this.rowNode.footer&&Oh(this.gos,r);e?this.rowType="FullWidthLoading":s?this.rowType="FullWidthDetail":i?this.rowType="FullWidth":o?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,i=!1){if(this.isFullWidth())return;if(e||this.gos.get("suppressAnimationFrame")||this.printLayout){this.updateColumnListsImpl(i);return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}createCellCtrls(e,i,s=null){const r={list:[],map:{}},n=(o,a)=>{r.list.push(a),r.map[o]=a};return i.forEach(o=>{const a=o.getInstanceId();let l=e.map[a];l||(l=new un(o,this.rowNode,this.beans,this)),n(a,l)}),e.list.forEach(o=>{const a=o.getColumn().getInstanceId();if(r.map[a]!=null)return;if(!this.isCellEligibleToBeRemoved(o,s)){n(a,o);return}o.destroy()}),r}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach(i=>{const s=this.getCellCtrlsForContainer(i.containerType);i.rowComp.setCellCtrls(s,e)})}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const e=this.beans.columnViewportService,i=this.beans.visibleColsService;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,i.getAllCols()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const s=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,s);const r=i.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,r,"left");const n=i.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,n,"right")}}isCellEligibleToBeRemoved(e,i){if(e.getColumn().getPinned()!=i)return!0;const o=e.isEditing(),a=this.beans.focusService.isCellFocused(e.getCellPosition());if(o||a){const c=e.getColumn();return!(this.beans.visibleColsService.getAllCols().indexOf(c)>=0)}return!0}getDomOrder(){return this.gos.get("ensureDomOrder")||Ft(this.gos,"print")}listenOnDomOrder(e){const i=()=>{e.rowComp.setDomOrder(this.getDomOrder())};e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],i)}setAnimateFlags(e){if(this.isSticky()||!e)return;const i=K(this.rowNode.oldRowTop),s=this.beans.visibleColsService.isPinningLeft(),r=this.beans.visibleColsService.isPinningRight();if(i){if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.slideInAnimation.fullWidth=!0;return}this.slideInAnimation.center=!0,this.slideInAnimation.left=s,this.slideInAnimation.right=r}else{if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.fadeInAnimation.fullWidth=!0;return}this.fadeInAnimation.center=!0,this.fadeInAnimation.left=s,this.fadeInAnimation.right=r}}isEditing(){return this.editingRow}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const e=(a,l)=>a?a.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(a.element,l).params):!0,i=e(this.fullWidthGui,null),s=e(this.centerGui,null),r=e(this.leftGui,"left"),n=e(this.rightGui,"right");return i&&s&&r&&n}addListeners(){this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),expandedChanged:this.updateExpandedCss.bind(this),hasChildrenChanged:this.updateExpandedCss.bind(this)}),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventService,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context))}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(this.gos.get("rowDragEntireRow")){this.allRowGuis.forEach(i=>{this.addRowDraggerToRow(i)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged())},cellChanged:e=>{this.getAllCellCtrls().forEach(i=>i.onCellChanged(e))}})}onRowNodeDataChanged(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(s=>s.refreshCell({suppressFlash:!e.update,newData:!e.update})),this.allRowGuis.forEach(s=>{this.setRowCompRowId(s.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(s.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.rowNode.highlighted;this.allRowGuis.forEach(i=>{const s=e===0,r=e===1;i.rowComp.addOrRemoveCssClass("ag-row-highlight-above",s),i.rowComp.addOrRemoveCssClass("ag-row-highlight-below",r)})}postProcessRowDragging(){const e=this.rowNode.dragging;this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-row-dragging",e))}updateExpandedCss(){const e=this.rowNode.isExpandable(),i=this.rowNode.expanded==!0;this.allRowGuis.forEach(s=>{s.rowComp.addOrRemoveCssClass("ag-row-group",e),s.rowComp.addOrRemoveCssClass("ag-row-group-expanded",e&&i),s.rowComp.addOrRemoveCssClass("ag-row-group-contracted",e&&!i),$u(s.element,e&&i)})}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:Ls(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}findFullWidthRowGui(e){return this.allRowGuis.find(i=>i.element.contains(e))}onKeyboardNavigate(e){const i=this.findFullWidthRowGui(e.target);if(!((i?i.element:null)===e.target))return;const n=this.rowNode,o=this.beans.focusService.getFocusedCell(),a={rowIndex:n.rowIndex,rowPinned:n.rowPinned,column:(o==null?void 0:o.column)??this.getColumnForFullWidth(i)};this.beans.navigationService.navigateToNextCell(e,e.key,a,!0),e.preventDefault()}onTabKeyDown(e){if(e.defaultPrevented||Is(e))return;const i=this.allRowGuis.find(l=>l.element.contains(e.target)),s=i?i.element:null,r=s===e.target,n=Ze(this.gos);let o=!1;s&&n&&(o=s.contains(n)&&n.classList.contains("ag-cell"));let a=null;!r&&!o&&(a=this.beans.focusService.findNextFocusableElement(s,!1,e.shiftKey)),(this.isFullWidth()&&r||!a)&&this.beans.navigationService.onTabKeyDown(this,e)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){var i;const e=(i=this.allRowGuis.find(s=>ws(s.element)))==null?void 0:i.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){const i=this.isFullWidth()&&e?void 0:-1;this.allRowGuis.forEach(s=>{Di(s.element,"tabindex",i)})}onFullWidthRowFocused(e){var n;const i=this.rowNode,s=e?this.isFullWidth()&&e.rowIndex===i.rowIndex&&e.rowPinned==i.rowPinned:!1,r=this.fullWidthGui?this.fullWidthGui.element:(n=this.centerGui)==null?void 0:n.element;r&&(r.classList.toggle("ag-full-width-focus",s),s&&(e!=null&&e.forceBrowserFocus)&&r.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,i){const s={list:[],map:{}};return e.list.forEach(r=>{r!==i&&(s.list.push(r),s.map[r.getColumn().getInstanceId()]=r)}),s}onMouseEvent(e,i){switch(e){case"dblclick":this.onRowDblClick(i);break;case"click":this.onRowClick(i);break;case"touchstart":case"mousedown":this.onRowMouseDown(i);break}}createRowEvent(e,i){return this.gos.addGridCommonParams({type:e,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:i})}createRowEventWithSource(e,i){const s=this.createRowEvent(e,i);return s.source=this,s}onRowDblClick(e){Is(e)||this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",e))}getColumnForFullWidth(e){const{visibleColsService:i}=this.beans;switch(e==null?void 0:e.containerType){case"center":return i.getCenterCols()[0];case"left":return i.getLeftCols()[0];case"right":return i.getRightCols()[0];default:return i.getAllCols()[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=mo(e.target,"ag-row-drag",3),!this.isFullWidth())return;const i=this.rowNode;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges();const s=this.findFullWidthRowGui(e.target),r=s==null?void 0:s.element,n=e.target;let o=!0;r&&r.contains(n)&&wv(n)&&(o=!1),this.beans.focusService.setFocusedCell({rowIndex:i.rowIndex,column:this.getColumnForFullWidth(s),rowPinned:i.rowPinned,forceBrowserFocus:o})}onRowClick(e){if(Is(e)||this.lastMouseDownOnDragger)return;const{gos:s}=this;this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowClicked",e));const r=e.ctrlKey||e.metaKey,n=e.shiftKey,o=this.rowNode.isSelected(),a=Sn(s),l=_y(s),c=K1(s);if(a&&this.rowNode.group||this.isRowSelectionBlocked()||!c&&!o||!l&&o)return;const u=q1(s),h="rowClicked";if(o)u?this.rowNode.setSelectedParams({newValue:!1,event:e,source:h}):r?l&&this.rowNode.setSelectedParams({newValue:!1,event:e,source:h}):c&&this.rowNode.setSelectedParams({newValue:!0,clearSelection:!n,rangeSelect:n,event:e,source:h});else{const d=u?!1:!r;this.rowNode.setSelectedParams({newValue:!0,clearSelection:d,rangeSelect:n,event:e,source:h})}}isRowSelectionBlocked(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!_u(this.gos)}setupDetailRowAutoHeight(e){if(this.rowType!=="FullWidthDetail"||!this.gos.get("detailRowAutoHeight"))return;const i=()=>{const r=e.clientHeight;if(r!=null&&r>0){const n=()=>{this.rowNode.setRowHeight(r),(Xe(this.gos)||xs(this.gos))&&this.beans.rowModel.onRowHeightChanged()};window.setTimeout(n,0)}},s=this.beans.resizeObserverService.observeResize(e,i);this.addDestroyFunc(s),i()}createFullWidthCompDetails(e,i){const{gos:s,rowNode:r}=this,n=s.addGridCommonParams({fullWidth:!0,data:r.data,node:r,value:r.key,valueFormatted:r.key,eGridCell:e,eParentOfValue:e,pinned:i,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(a,l,c,u)=>this.addFullWidthRowDragging(a,l,c,u),setTooltip:(a,l)=>this.refreshRowTooltip(a,l)}),o=this.beans.userComponentFactory;switch(this.rowType){case"FullWidthDetail":return o.getFullWidthDetailCellRendererDetails(n);case"FullWidthGroup":return o.getFullWidthGroupCellRendererDetails(n);case"FullWidthLoading":return o.getFullWidthLoadingCellRendererDetails(n);default:return o.getFullWidthCellRendererDetails(n)}}refreshRowTooltip(e,i){if(!this.fullWidthGui)return;const s={getGui:()=>this.fullWidthGui.element,getTooltipValue:()=>e,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:i};this.tooltipFeature&&this.destroyBean(this.tooltipFeature,this.beans.context),this.tooltipFeature=this.createBean(new Xo(s,this.beans))}addFullWidthRowDragging(e,i,s="",r){if(!this.isFullWidth())return;const n=new Qp(()=>s,this.rowNode,void 0,e,i,r);this.createBean(n,this.beans.context),this.addDestroyFunc(()=>{this.destroyBean(n,this.beans.context)})}onUiLevelChanged(){const e=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=e){const i="ag-row-level-"+e,s="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(r=>{r.rowComp.addOrRemoveCssClass(i,!0),r.rowComp.addOrRemoveCssClass(s,!1)})}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),i=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass("ag-row-first",e))),this.lastRowOnPage!==i&&(this.lastRowOnPage=i,this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass("ag-row-last",i)))}stopEditing(e=!1){var i;this.stoppingRowEdit||(i=this.beans.rowEditService)==null||i.stopEditing(this,e)}setInlineEditingCss(){const e=this.editingRow||this.getAllCellCtrls().some(i=>i.isEditing());this.allRowGuis.forEach(i=>{i.rowComp.addOrRemoveCssClass("ag-row-inline-editing",e),i.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!e)})}setEditingRow(e){this.editingRow=e}startRowEditing(e=null,i=null,s=null){var r;return this.editingRow?!0:((r=this.beans.rowEditService)==null?void 0:r.startEditing(this,e,i,s))??!0}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const e=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!e||!e.length||e.forEach(i=>{this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass(i,!0))})}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,e=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(e,!0))},e=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(e,!1))})}setStylesFromGridOptions(e,i){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(i,s=>s.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e==="left"||e==="right"?e:null}getInitialRowClasses(e){const i=this.getPinnedForContainer(e),s={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[e],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:i};return this.beans.rowCssClassCalculator.getInitialRowClasses(s)}processStylesFromGridOptions(){const e=this.gos.get("rowStyle");if(e&&typeof e=="function"){_("rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}const i=this.gos.getCallback("getRowStyle");let s;if(i){const r={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};s=i(r)}return s||e?Object.assign({},e,s):this.emptyStyle}onRowSelected(e){const i=!!this.rowNode.isSelected();this.forEachGui(e,s=>{s.rowComp.addOrRemoveCssClass("ag-row-selected",i),Ku(s.element,i),s.element.contains(Ze(this.gos))&&(s===this.centerGui||s===this.fullWidthGui)&&this.announceDescription()})}announceDescription(){if(this.isRowSelectionBlocked())return;const e=this.rowNode.isSelected();if(e&&!_y(this.gos))return;const s=this.beans.localeService.getLocaleTextFunc()(e?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${e?"deselect":"select"} this row.`);this.beans.ariaAnnouncementService.announceValue(s,"rowSelection")}addHoverFunctionality(e){if(!this.active)return;const{element:i,compBean:s}=e,{rowNode:r,beans:n,gos:o}=this;s.addManagedListeners(i,{mouseenter:()=>r.onMouseEnter(),mouseleave:()=>r.onMouseLeave()}),s.addManagedListeners(r,{mouseEnter:()=>{!n.dragService.isDragging()&&!o.get("suppressRowHoverHighlight")&&(i.classList.add("ag-row-hover"),r.setHovered(!0))},mouseLeave:()=>{i.classList.remove("ag-row-hover"),r.setHovered(!1)}})}roundRowTopToBounds(e){const i=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),s=this.applyPaginationOffset(i.top,!0)-100,r=this.applyPaginationOffset(i.bottom,!0)+100;return Math.min(Math.max(s,e),r)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(e,i){e?i(e):this.allRowGuis.forEach(i)}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;const i=this.rowNode.rowHeight,s=this.beans.environment.getDefaultRowHeight(),n=l0(this.gos)?Rr(this.gos,this.rowNode).height:void 0,o=n?`${Math.min(s,n)-2}px`:void 0;this.forEachGui(e,a=>{a.element.style.height=`${i}px`,o&&a.element.style.setProperty("--ag-line-height",o)})}addEventListener(e,i){super.addEventListener(e,i)}removeEventListener(e,i){super.removeEventListener(e,i)}destroyFirstPass(e=!1){if(this.active=!1,!e&&fo(this.gos)&&!this.isSticky())if(this.rowNode.rowTop!=null){const r=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(r)}else this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));this.rowNode.setHovered(!1);const i=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(i),this.beans.eventService.dispatchEvent(i),super.destroy()}destroySecondPass(){this.allRowGuis.length=0,this.stopEditing();const e=i=>(i.list.forEach(s=>s.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,i=>{i.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),i.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const e=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);e!==this.rowFocused&&(this.rowFocused=e,this.setFocusedClasses()),!e&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){var i;const e=((i=this.beans.paginationService)==null?void 0:i.getCurrentPage())??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,i=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;const s=this.beans.pageBoundsService.getPixelOffset();return e+s*(i?1:-1)}setRowTop(e){if(!this.printLayout&&K(e)){const i=this.applyPaginationOffset(e),n=`${this.rowNode.isRowPinned()||this.rowNode.sticky?i:this.beans.rowContainerHeightService.getRealPixelPosition(i)}px`;this.setRowTopStyle(n)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";const i=this.rowNode;let s;if(this.isSticky())s=i.stickyRowTop;else{const r=this.slideInAnimation[e]?this.roundRowTopToBounds(i.oldRowTop):i.rowTop,n=this.applyPaginationOffset(r);s=i.isRowPinned()?n:this.beans.rowContainerHeightService.getRealPixelPosition(n)}return s+"px"}setRowTopStyle(e){this.allRowGuis.forEach(i=>this.suppressRowTransform?i.rowComp.setTop(e):i.rowComp.setTransform(`translateY(${e})`))}getRowNode(){return this.rowNode}getCellCtrl(e){let i=null;return this.getAllCellCtrls().forEach(s=>{s.getColumn()==e&&(i=s)}),i!=null||this.getAllCellCtrls().forEach(s=>{s.getColSpanningList().indexOf(e)>=0&&(i=s)}),i}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}getRowIndex(){return this.rowNode.getRowIndexString()}updateRowIndexes(e){var o;const i=this.rowNode.getRowIndexString();if(i===null)return;const s=this.beans.headerNavigationService.getHeaderRowCount()+(((o=this.beans.filterManager)==null?void 0:o.getHeaderRowCount())??0),r=this.rowNode.rowIndex%2===0,n=s+this.rowNode.rowIndex+1;this.forEachGui(e,a=>{a.rowComp.setRowIndex(i),a.rowComp.addOrRemoveCssClass("ag-row-even",r),a.rowComp.addOrRemoveCssClass("ag-row-odd",!r),NM(a.element,n)})}setStoppingRowEdit(e){this.stoppingRowEdit=e}};ER.DOM_DATA_KEY_ROW_CTRL="renderedRow";var hn=ER,tI=class extends W{wireBeans(t){this.mouseEventService=t.mouseEventService,this.valueService=t.valueService,this.menuService=t.menuService,this.ctrlsService=t.ctrlsService,this.navigationService=t.navigationService,this.focusService=t.focusService,this.undoRedoService=t.undoRedoService,this.visibleColsService=t.visibleColsService,this.rowModel=t.rowModel,this.pinnedRowModel=t.pinnedRowModel,this.rangeService=t.rangeService,this.clipboardService=t.clipboardService}constructor(t){super(),this.element=t}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){const t="keydown",e=this.processKeyboardEvent.bind(this,t);this.addManagedElementListeners(this.element,{[t]:e})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",y0("touchstart")?"touchstart":"mousedown"].forEach(i=>{const s=this.processMouseEvent.bind(this,i);this.addManagedElementListeners(this.element,{[i]:s})})}processMouseEvent(t,e){if(!this.mouseEventService.isEventFromThisGrid(e)||Is(e))return;const i=this.getRowForEvent(e),s=this.mouseEventService.getRenderedCellForEvent(e);t==="contextmenu"?this.handleContextMenuMouseEvent(e,void 0,i,s):(s&&s.onMouseEvent(t,e),i&&i.onMouseEvent(t,e))}mockContextMenuForIPad(){if(!Ir())return;const t=new wr(this.element),e=i=>{const s=this.getRowForEvent(i.touchEvent),r=this.mouseEventService.getRenderedCellForEvent(i.touchEvent);this.handleContextMenuMouseEvent(void 0,i.touchEvent,s,r)};this.addManagedListeners(t,{longTap:e}),this.addDestroyFunc(()=>t.destroy())}getRowForEvent(t){let e=t.target;for(;e;){const i=hl(this.gos,e,hn.DOM_DATA_KEY_ROW_CTRL);if(i)return i;e=e.parentElement}return null}handleContextMenuMouseEvent(t,e,i,s){const r=i?i.getRowNode():null,n=s?s.getColumn():null;let o=null;if(n){const c=t||e;s.dispatchCellContextMenuEvent(c??null),o=this.valueService.getValue(n,r)}const a=this.ctrlsService.getGridBodyCtrl(),l=s?s.getGui():a.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:t,touchEvent:e,rowNode:r,column:n,value:o,anchorToElement:l})}getControlsForEventTarget(t){return{cellCtrl:Vp(this.gos,t,un.DOM_DATA_KEY_CELL_CTRL),rowCtrl:Vp(this.gos,t,hn.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(t,e){const{cellCtrl:i,rowCtrl:s}=this.getControlsForEventTarget(e.target);e.defaultPrevented||(i?this.processCellKeyboardEvent(i,t,e):s&&s.isFullWidth()&&this.processFullWidthRowKeyboardEvent(s,t,e))}processCellKeyboardEvent(t,e,i){const s=t.getRowNode(),r=t.getColumn(),n=t.isEditing();!Zp(this.gos,i,s,r,n)&&e==="keydown"&&(!n&&this.navigationService.handlePageScrollingKey(i)||t.onKeyDown(i),this.doGridOperations(i,t.isEditing()),nR(i)&&t.processCharacter(i)),e==="keydown"&&this.eventService.dispatchEvent(t.createEvent(i,"cellKeyDown"))}processFullWidthRowKeyboardEvent(t,e,i){const s=t.getRowNode(),r=this.focusService.getFocusedCell(),n=r&&r.column;if(!Zp(this.gos,i,s,n,!1)){const a=i.key;if(e==="keydown")switch(a){case B.PAGE_HOME:case B.PAGE_END:case B.PAGE_UP:case B.PAGE_DOWN:this.navigationService.handlePageScrollingKey(i,!0);break;case B.UP:case B.DOWN:t.onKeyboardNavigate(i);break;case B.TAB:t.onTabKeyDown(i);break}}e==="keydown"&&this.eventService.dispatchEvent(t.createRowEvent("cellKeyDown",i))}doGridOperations(t,e){if(!t.ctrlKey&&!t.metaKey||e||!this.mouseEventService.isEventFromThisGrid(t))return;const i=gD(t);if(i===B.A)return this.onCtrlAndA(t);if(i===B.C)return this.onCtrlAndC(t);if(i===B.D)return this.onCtrlAndD(t);if(i===B.V)return this.onCtrlAndV(t);if(i===B.X)return this.onCtrlAndX(t);if(i===B.Y)return this.onCtrlAndY();if(i===B.Z)return this.onCtrlAndZ(t)}onCtrlAndA(t){const{pinnedRowModel:e,rowModel:i,rangeService:s}=this;if(s&&i.isRowsToRender()){const[r,n]=[e.isEmpty("top"),e.isEmpty("bottom")],o=r?null:"top";let a,l;n?(a=null,l=i.getRowCount()-1):(a="bottom",l=e.getPinnedBottomRowCount()-1);const c=this.visibleColsService.getAllCols();if(di(c))return;s.setCellRange({rowStartIndex:0,rowStartPinned:o,rowEndIndex:l,rowEndPinned:a,columnStart:c[0],columnEnd:xe(c)})}t.preventDefault()}onCtrlAndC(t){if(!this.clipboardService||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:e,rowCtrl:i}=this.getControlsForEventTarget(t.target);e!=null&&e.isEditing()||i!=null&&i.isEditing()||(t.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(t){if(!this.clipboardService||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:e,rowCtrl:i}=this.getControlsForEventTarget(t.target);e!=null&&e.isEditing()||i!=null&&i.isEditing()||(t.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(t){const{cellCtrl:e,rowCtrl:i}=this.getControlsForEventTarget(t.target);e!=null&&e.isEditing()||i!=null&&i.isEditing()||this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(t){this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),t.preventDefault()}onCtrlAndZ(t){!this.gos.get("undoRedoCellEditing")||!this.undoRedoService||(t.preventDefault(),t.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){var t;(t=this.undoRedoService)==null||t.redo("ui")}},iI=class extends W{wireBeans(t){this.pinnedWidthService=t.pinnedWidthService}constructor(t){super(),this.element=t}postConstruct(){this.addManagedEventListeners({leftPinnedWidthChanged:this.onPinnedLeftWidthChanged.bind(this)})}onPinnedLeftWidthChanged(){const t=this.pinnedWidthService.getPinnedLeftWidth(),e=t>0;Qe(this.element,e),es(this.element,t)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}},sI=class extends W{wireBeans(t){this.pinnedWidthService=t.pinnedWidthService}constructor(t){super(),this.element=t}postConstruct(){this.addManagedEventListeners({rightPinnedWidthChanged:this.onPinnedRightWidthChanged.bind(this)})}onPinnedRightWidthChanged(){const t=this.pinnedWidthService.getPinnedRightWidth(),e=t>0;Qe(this.element,e),es(this.element,t)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}},Sc=t=>t.getTopRowCtrls(),Rc=t=>t.getStickyTopRowCtrls(),Fc=t=>t.getStickyBottomRowCtrls(),Ac=t=>t.getBottomRowCtrls(),Pc=t=>t.getCentreRowCtrls(),rI={center:{type:"center",container:"ag-center-cols-container",viewport:"ag-center-cols-viewport",getRowCtrls:Pc},left:{type:"left",container:"ag-pinned-left-cols-container",pinnedType:"left",getRowCtrls:Pc},right:{type:"right",container:"ag-pinned-right-cols-container",pinnedType:"right",getRowCtrls:Pc},fullWidth:{type:"fullWidth",container:"ag-full-width-container",fullWidth:!0,getRowCtrls:Pc},topCenter:{type:"center",container:"ag-floating-top-container",viewport:"ag-floating-top-viewport",getRowCtrls:Sc},topLeft:{type:"left",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:Sc},topRight:{type:"right",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:Sc},topFullWidth:{type:"fullWidth",container:"ag-floating-top-full-width-container",fullWidth:!0,getRowCtrls:Sc},stickyTopCenter:{type:"center",container:"ag-sticky-top-container",viewport:"ag-sticky-top-viewport",getRowCtrls:Rc},stickyTopLeft:{type:"left",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:Rc},stickyTopRight:{type:"right",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:Rc},stickyTopFullWidth:{type:"fullWidth",container:"ag-sticky-top-full-width-container",fullWidth:!0,getRowCtrls:Rc},stickyBottomCenter:{type:"center",container:"ag-sticky-bottom-container",viewport:"ag-sticky-bottom-viewport",getRowCtrls:Fc},stickyBottomLeft:{type:"left",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:Fc},stickyBottomRight:{type:"right",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:Fc},stickyBottomFullWidth:{type:"fullWidth",container:"ag-sticky-bottom-full-width-container",fullWidth:!0,getRowCtrls:Fc},bottomCenter:{type:"center",container:"ag-floating-bottom-container",viewport:"ag-floating-bottom-viewport",getRowCtrls:Ac},bottomLeft:{type:"left",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:Ac},bottomRight:{type:"right",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:Ac},bottomFullWidth:{type:"fullWidth",container:"ag-floating-bottom-full-width-container",fullWidth:!0,getRowCtrls:Ac}};function ro(t){return rI[t]}var nI=["topCenter","topLeft","topRight"],oI=["bottomCenter","bottomLeft","bottomRight"],aI=["center","left","right"],lI=["center","left","right","fullWidth"],cI=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],uI=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],hI=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],kR=["stickyTopCenter","stickyTopLeft","stickyTopRight"],MR=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],dI=[...kR,"stickyTopFullWidth",...MR,"stickyBottomFullWidth"],gI=[...nI,...oI,...aI,...kR,...MR],pI=class extends W{constructor(t){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=t,this.options=ro(t)}wireBeans(t){this.dragService=t.dragService,this.ctrlsService=t.ctrlsService,this.columnViewportService=t.columnViewportService,this.resizeObserverService=t.resizeObserverService,this.rowRenderer=t.rowRenderer}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new PL(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(t){this.comp.setOffsetTop(`${t.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.ctrlsService.register(this.name,this)}forContainers(t,e){t.indexOf(this.name)>=0&&e()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(t,e,i){this.comp=t,this.eContainer=e,this.eViewport=i,this.createManagedBean(new tI(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const s=()=>this.onPinnedWidthChanged();this.forContainers(uI,()=>{this.pinnedWidthFeature=this.createManagedBean(new iI(this.eContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:s})}),this.forContainers(hI,()=>{this.pinnedWidthFeature=this.createManagedBean(new sI(this.eContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:s})}),this.forContainers(lI,()=>this.createManagedBean(new AR(this.eContainer,this.name==="center"?i:void 0))),this.forContainers(gI,()=>this.createManagedBean(new EL(this.eContainer))),this.forContainers(cI,()=>this.createManagedBean(new Hv(r=>this.comp.setContainerWidth(`${r}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(t){this.addManagedElementListeners(this.getViewportElement(),{scroll:t})}addListeners(){this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),displayedRowsChanged:t=>this.onDisplayedRowsChanged(t.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if(dI.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const e=()=>{const i=this.gos.get("ensureDomOrder"),s=Ft(this.gos,"print");this.comp.setDomOrder(i||s)};this.addManagedPropertyListener("domLayout",e),e()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}onDisplayedColumnsWidthChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const t=e=>{this.dragService.isDragging()&&e.cancelable&&e.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(t=!1){const e=this.getCenterWidth(),i=this.getCenterViewportScrollLeft();this.columnViewportService.setScrollPosition(e,i,t)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return zl(this.eViewport)}getCenterViewportScrollLeft(){return Zu(this.eViewport,this.enableRtl)}registerViewportResizeListener(t){const e=this.resizeObserverService.observeResize(this.eViewport,t);this.addDestroyFunc(()=>e())}isViewportInTheDOMTree(){return B0(this.eViewport)}getViewportScrollLeft(){return Zu(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||KM(this.eViewport)}getViewportElement(){return this.eViewport}setHorizontalScroll(t){this.comp.setHorizontalScroll(t)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(t){Ju(this.eViewport,t,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const t=this.isContainerVisible();this.visible!=t&&(this.visible=t,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(t=!1){const e=this.options.getRowCtrls(this.rowRenderer);if(!this.visible||e.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const i=Ft(this.gos,"print"),r=this.gos.get("embedFullWidthRows")||i,n=e.filter(o=>{const a=o.isFullWidth();return this.options.fullWidth?!r&&a:r||!a});this.comp.setRowCtrls({rowCtrls:n,useFlushSync:t})}},fI="ag-force-vertical-scroll",mI="ag-selectable",vI="ag-column-moving",CI=class extends W{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(t){this.animationFrameService=t.animationFrameService,this.rowContainerHeightService=t.rowContainerHeightService,this.ctrlsService=t.ctrlsService,this.columnModel=t.columnModel,this.columnSizeService=t.columnSizeService,this.scrollVisibleService=t.scrollVisibleService,this.menuService=t.menuService,this.headerNavigationService=t.headerNavigationService,this.dragAndDropService=t.dragAndDropService,this.pinnedRowModel=t.pinnedRowModel,this.rowRenderer=t.rowRenderer,this.popupService=t.popupService,this.mouseEventService=t.mouseEventService,this.rowModel=t.rowModel,this.filterManager=t.filterManager,this.environment=t.environment}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(t,e,i,s,r,n,o){var a;this.comp=t,this.eGridBody=e,this.eBodyViewport=i,this.eTop=s,this.eBottom=r,this.eStickyTop=n,this.eStickyBottom=o,this.eCenterColsViewport=i.querySelector(`.${ro("center").viewport}`),this.eFullWidthContainer=i.querySelector(`.${ro("fullWidth").container}`),this.eStickyTopFullWidthContainer=n.querySelector(`.${ro("stickyTopFullWidth").container}`),this.eStickyBottomFullWidthContainer=o.querySelector(`.${ro("stickyBottomFullWidth").container}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",l=>this.setCellTextSelection(l.currentValue)),this.createManagedBean(new Gv(this.comp)),this.bodyScrollFeature=this.createManagedBean(new AL(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([s,i,r,n,o]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),(a=this.filterManager)==null||a.setupAdvancedFilterHeaderComp(s),this.ctrlsService.register("gridBodyCtrl",this)}getComp(){return this.comp}addEventListeners(){const t=this.setFloatingHeights.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.onScrollGapChanged.bind(this),pinnedRowDataChanged:t,pinnedHeightChanged:t,headerHeightChanged:this.onHeaderHeightChanged.bind(this)})}addFocusListeners(t){t.forEach(e=>{this.addManagedElementListeners(e,{focusin:i=>{const{target:s}=i,r=mo(s,"ag-root",e);e.classList.toggle("ag-has-focus",!r)},focusout:i=>{const{target:s,relatedTarget:r}=i,n=e.contains(r),o=mo(r,"ag-root",e);mo(s,"ag-root",e)||(!n||o)&&e.classList.remove("ag-has-focus")}})})}setColumnMovingCss(t){this.comp.setColumnMovingCss(vI,t)}setCellTextSelection(t=!1){this.comp.setCellSelectableCss(mI,t)}onScrollVisibilityChanged(){const t=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();const e=t&&this.scrollVisibleService.getScrollbarWidth()||0,i=O0()?16:0,s=`calc(100% + ${e+i}px)`;this.animationFrameService.requestAnimationFrame(()=>this.comp.setBodyViewportWidth(s)),this.updateScrollingClasses()}onScrollGapChanged(){this.updateScrollingClasses()}updateScrollingClasses(){this.eGridBody.classList.toggle("ag-body-vertical-content-no-gap",!this.scrollVisibleService.hasVerticalScrollGap()),this.eGridBody.classList.toggle("ag-body-horizontal-content-no-gap",!this.scrollVisibleService.hasHorizontalScrollGap())}onGridColumnsChanged(){const t=this.columnModel.getCols();this.comp.setColumnCount(t.length)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:t=>{if(t.target instanceof HTMLImageElement)return t.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;const t=i=>{const s=i.relatedTarget;if(Kp(s)===null){this.rowRenderer.stopEditing();return}let r=e.some(n=>n.contains(s))&&this.mouseEventService.isElementInThisGrid(s);if(!r){const n=this.popupService;r=n.getActivePopups().some(o=>o.contains(s))||n.isElementWithinCustomPopup(s)}r||this.rowRenderer.stopEditing()},e=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom];e.forEach(i=>this.addManagedElementListeners(i,{focusout:t}))}updateRowCount(){var s;const t=this.headerNavigationService.getHeaderRowCount()+(((s=this.filterManager)==null?void 0:s.getHeaderRowCount())??0),e=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,i=e===-1?-1:t+e;this.comp.setRowCount(i)}registerBodyViewportResizeListener(t){this.comp.registerBodyViewportResizeListener(t)}setVerticalScrollPaddingVisible(t){const e=t?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(e)}isVerticalScrollShowing(){const t=this.gos.get("alwaysShowVerticalScroll"),e=t?fI:null,i=Ft(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(e,t),t||i&&qM(this.eBodyViewport)}setupRowAnimationCssClass(){let t=this.environment.hasMeasuredSizes();const e=()=>{const i=t&&fo(this.gos)&&!this.rowContainerHeightService.isStretching(),s=i?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(s,i)};e(),this.addManagedEventListeners({heightScaleChanged:e}),this.addManagedPropertyListener("animateRows",e),this.addManagedEventListeners({gridStylesChanged:()=>{!t&&this.environment.hasMeasuredSizes()&&(t=!0,e())}})}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){const t=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:t}),this.mockContextMenuForIPad(t),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:t=>this.onFullWidthContainerWheel(t)})}onFullWidthContainerWheel(t){const{deltaX:e,deltaY:i,shiftKey:s}=t;(s||Math.abs(e)>Math.abs(i))&&this.mouseEventService.isEventFromThisGrid(t)&&this.scrollGridBodyToMatchEvent(t)}onStickyWheel(t){const{deltaX:e,deltaY:i,shiftKey:s}=t,r=s||Math.abs(e)>Math.abs(i),n=t.target;r?(this.eStickyTopFullWidthContainer.contains(n)||this.eStickyBottomFullWidthContainer.contains(n))&&this.scrollGridBodyToMatchEvent(t):(t.preventDefault(),this.scrollVertically(i))}scrollGridBodyToMatchEvent(t){const{deltaX:e,deltaY:i}=t;t.preventDefault(),this.eCenterColsViewport.scrollBy({left:e||i})}onBodyViewportContextMenu(t,e,i){if(!t&&!i)return;this.gos.get("preventDefaultOnContextMenu")&&(t||i).preventDefault();const{target:s}=t||e;(s===this.eBodyViewport||s===this.ctrlsService.get("center").getViewportElement())&&this.menuService.showContextMenu({mouseEvent:t,touchEvent:i,value:null,anchorToElement:this.eGridBody})}mockContextMenuForIPad(t){if(!Ir())return;const e=new wr(this.eBodyViewport),i=s=>{t(void 0,s.touchStart,s.touchEvent)};this.addManagedListeners(e,{longTap:i}),this.addDestroyFunc(()=>e.destroy())}onBodyViewportWheel(t){this.gos.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&t.preventDefault()}getGui(){return this.eGridBody}scrollVertically(t){const e=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(e+t),this.eBodyViewport.scrollTop-e}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new jT(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(this.rowDragFeature))}getRowDragFeature(){return this.rowDragFeature}setFloatingHeights(){const{pinnedRowModel:t}=this,e=t.getPinnedTopTotalHeight(),i=t.getPinnedBottomTotalHeight();this.comp.setTopHeight(e),this.comp.setBottomHeight(i),this.comp.setTopDisplay(e?"inherit":"none"),this.comp.setBottomDisplay(i?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(t=0){this.comp.setStickyTopHeight(`${t}px`),this.stickyTopHeight=t}getStickyTopHeight(){return this.stickyTopHeight}setStickyBottomHeight(t=0){this.comp.setStickyBottomHeight(`${t}px`),this.stickyBottomHeight=t}getStickyBottomHeight(){return this.stickyBottomHeight}setStickyWidth(t){if(!t)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const e=this.scrollVisibleService.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${e}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${e}px)`)}}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){var r;const e=this.ctrlsService.get("gridHeaderCtrl").getHeaderHeight()+(((r=this.filterManager)==null?void 0:r.getHeaderHeight())??0),i=this.pinnedRowModel.getPinnedTopTotalHeight();let s=0;e>0&&(s+=e),i>0&&(s+=i),s>0&&(s+=1),this.comp.setStickyTopTop(`${s}px`)}setStickyBottomOffsetBottom(){const t=this.pinnedRowModel.getPinnedBottomTotalHeight(),i=this.scrollVisibleService.isHorizontalScrollShowing()&&this.scrollVisibleService.getScrollbarWidth()||0,s=t+i;this.comp.setStickyBottomBottom(`${s}px`)}sizeColumnsToFit(t,e){const s=this.isVerticalScrollShowing()?this.scrollVisibleService.getScrollbarWidth():0,n=zl(this.eGridBody)-s;if(n>0){this.columnSizeService.sizeColumnsToFit(n,"sizeColumnsToFit",!1,t);return}e===void 0?window.setTimeout(()=>{this.sizeColumnsToFit(t,100)},0):e===100?window.setTimeout(()=>{this.sizeColumnsToFit(t,500)},100):e===500?window.setTimeout(()=>{this.sizeColumnsToFit(t,-1)},500):_("tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(t){this.eBodyViewport.addEventListener("scroll",t,{passive:!0})}removeScrollEventListener(t){this.eBodyViewport.removeEventListener("scroll",t)}};function va(t){return t.map(e=>`<ag-row-container name="${e}"></ag-row-container>`).join("")}`${va(["topLeft","topCenter","topRight","topFullWidth"])}${va(["left","center","right","fullWidth"])}${va(["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"])}${va(["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"])}${va(["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"])}`;var yI=class extends W{constructor(){super(...arguments),this.beanName="scrollVisibleService"}wireBeans(t){this.ctrlsService=t.ctrlsService,this.columnAnimationService=t.columnAnimationService}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)})}onDisplayedColumnsChanged(){this.updateScrollVisible()}onDisplayedColumnsWidthChanged(){this.updateScrollVisible()}onCentreViewportResized(){this.updateScrollGap()}updateScrollVisible(){this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn(()=>{this.columnAnimationService.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){const t=this.ctrlsService.get("center");if(!t||this.columnAnimationService.isActive())return;const e={horizontalScrollShowing:t.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(e),this.updateScrollGap()}updateScrollGap(){const t=this.ctrlsService.get("center"),e=t.hasHorizontalScrollGap(),i=t.hasVerticalScrollGap();(this.horizontalScrollGap!==e||this.verticalScrollGap!==i)&&(this.horizontalScrollGap=e,this.verticalScrollGap=i,this.eventService.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(t){(this.horizontalScrollShowing!==t.horizontalScrollShowing||this.verticalScrollShowing!==t.verticalScrollShowing)&&(this.horizontalScrollShowing=t.horizontalScrollShowing,this.verticalScrollShowing=t.verticalScrollShowing,this.eventService.dispatchEvent({type:"scrollVisibilityChanged"}))}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}hasHorizontalScrollGap(){return this.horizontalScrollGap}hasVerticalScrollGap(){return this.verticalScrollGap}getScrollbarWidth(){if(this.scrollbarWidth==null){const t=this.gos.get("scrollbarWidth"),i=typeof t=="number"&&t>=0?t:jM();i!=null&&(this.scrollbarWidth=i,this.eventService.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},rw="__ag_grid_instance",TR=class DR extends W{constructor(){super(...arguments),this.beanName="mouseEventService",this.gridInstanceId=DR.gridInstanceSequence.next()}wireBeans(e){this.ctrlsService=e.ctrlsService}stampTopLevelGridCompWithGridInstance(e){e[rw]=this.gridInstanceId}getRenderedCellForEvent(e){return Vp(this.gos,e.target,un.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(e){return this.isElementInThisGrid(e.target)}isElementInThisGrid(e){let i=e;for(;i;){const s=i[rw];if(K(s))return s===this.gridInstanceId;i=i.parentElement}return!1}getCellPositionForEvent(e){const i=this.getRenderedCellForEvent(e);return i?i.getCellPosition():null}getNormalisedPosition(e){const i=Ft(this.gos,"normal"),s=e;let r,n;if(s.clientX!=null||s.clientY!=null?(r=s.clientX,n=s.clientY):(r=s.x,n=s.y),i){const o=this.ctrlsService.getGridBodyCtrl(),a=o.getScrollFeature().getVScrollPosition(),l=o.getScrollFeature().getHScrollPosition();r+=l.left,n+=a.top}return{x:r,y:n}}};TR.gridInstanceSequence=new ko;var wI=TR,xI=class extends W{constructor(){super(),this.beanName="navigationService",this.onPageDown=zy(this.onPageDown,100),this.onPageUp=zy(this.onPageUp,100)}wireBeans(t){this.mouseEventService=t.mouseEventService,this.pageBoundsService=t.pageBoundsService,this.focusService=t.focusService,this.columnModel=t.columnModel,this.visibleColsService=t.visibleColsService,this.rowModel=t.rowModel,this.ctrlsService=t.ctrlsService,this.rowRenderer=t.rowRenderer,this.headerNavigationService=t.headerNavigationService,this.rowPositionUtils=t.rowPositionUtils,this.cellNavigationService=t.cellNavigationService,this.pinnedRowModel=t.pinnedRowModel,this.scrollVisibleService=t.scrollVisibleService,this.rangeService=t.rangeService}postConstruct(){this.ctrlsService.whenReady(this,t=>{this.gridBodyCon=t.gridBodyCtrl})}handlePageScrollingKey(t,e=!1){const i=t.key,s=t.altKey,r=t.ctrlKey||t.metaKey,n=!!this.rangeService&&t.shiftKey,o=this.mouseEventService.getCellPositionForEvent(t);let a=!1;switch(i){case B.PAGE_HOME:case B.PAGE_END:!r&&!s&&(this.onHomeOrEndKey(i),a=!0);break;case B.LEFT:case B.RIGHT:case B.UP:case B.DOWN:if(!o)return!1;r&&!s&&!n&&(this.onCtrlUpDownLeftRight(i,o),a=!0);break;case B.PAGE_DOWN:case B.PAGE_UP:!r&&!s&&(a=this.handlePageUpDown(i,o,e));break}return a&&t.preventDefault(),a}handlePageUpDown(t,e,i){return i&&(e=this.focusService.getFocusedCell()),e?(t===B.PAGE_UP?this.onPageUp(e):this.onPageDown(e),!0):!1}navigateTo(t){var o;const{scrollIndex:e,scrollType:i,scrollColumn:s,focusIndex:r,focusColumn:n}=t;K(s)&&!s.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(s),K(e)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e,i),t.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(r),this.focusService.setFocusedCell({rowIndex:r,column:n,rowPinned:null,forceBrowserFocus:!0}),(o=this.rangeService)==null||o.setRangeToCell({rowIndex:r,rowPinned:null,column:n})}onPageDown(t){const i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),s=this.getViewportHeight(),r=this.pageBoundsService.getPixelOffset(),n=i.top+s,o=this.rowModel.getRowIndexAtPixel(n+r);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(t,o):this.navigateToNextPage(t,o)}onPageUp(t){const i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),s=this.pageBoundsService.getPixelOffset(),r=i.top,n=this.rowModel.getRowIndexAtPixel(r+s);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(t,n,!0):this.navigateToNextPage(t,n,!0)}navigateToNextPage(t,e,i=!1){const s=this.getViewportHeight(),r=this.pageBoundsService.getFirstRow(),n=this.pageBoundsService.getLastRow(),o=this.pageBoundsService.getPixelOffset(),a=this.rowModel.getRow(t.rowIndex),l=i?(a==null?void 0:a.rowHeight)-s-o:s-o,c=(a==null?void 0:a.rowTop)+l;let u=this.rowModel.getRowIndexAtPixel(c+o);if(u===t.rowIndex){const d=i?-1:1;e=u=t.rowIndex+d}let h;i?(h="bottom",u<r&&(u=r),e<r&&(e=r)):(h="top",u>n&&(u=n),e>n&&(e=n)),this.isRowTallerThanView(u)&&(e=u,h="top"),this.navigateTo({scrollIndex:e,scrollType:h,scrollColumn:null,focusIndex:u,focusColumn:t.column})}navigateToNextPageWithAutoHeight(t,e,i=!1){this.navigateTo({scrollIndex:e,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:e,focusColumn:t.column}),setTimeout(()=>{const s=this.getNextFocusIndexForAutoHeight(t,i);this.navigateTo({scrollIndex:e,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:s,focusColumn:t.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(t,e=!1){const i=e?-1:1,s=this.getViewportHeight(),r=this.pageBoundsService.getLastRow();let n=0,o=t.rowIndex;for(;o>=0&&o<=r;){const a=this.rowModel.getRow(o);if(a){const l=a.rowHeight??0;if(n+l>s)break;n+=l}o+=i}return Math.max(0,Math.min(o,r))}getViewportHeight(){const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),e=this.scrollVisibleService.getScrollbarWidth();let i=t.bottom-t.top;return this.ctrlsService.get("center").isHorizontalScrollShowing()&&(i-=e),i}isRowTallerThanView(t){const e=this.rowModel.getRow(t);if(!e)return!1;const i=e.rowHeight;return typeof i!="number"?!1:i>this.getViewportHeight()}onCtrlUpDownLeftRight(t,e){const i=this.cellNavigationService.getNextCellToFocus(t,e,!0),{rowIndex:s}=i,r=i.column;this.navigateTo({scrollIndex:s,scrollType:null,scrollColumn:r,focusIndex:s,focusColumn:r})}onHomeOrEndKey(t){const e=t===B.PAGE_HOME,i=this.visibleColsService.getAllCols(),s=e?i[0]:xe(i),r=e?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow();this.navigateTo({scrollIndex:r,scrollType:null,scrollColumn:s,focusIndex:r,focusColumn:s})}onTabKeyDown(t,e){const i=e.shiftKey,s=this.tabToNextCellCommon(t,i,e);if(s!==!1){s?e.preventDefault():s===null&&this.focusService.allowFocusForNextGridCoreContainer(i);return}if(i){const{rowIndex:r,rowPinned:n}=t.getRowPosition();(n?r===0:r===this.pageBoundsService.getFirstRow())&&(this.gos.get("headerHeight")===0||this.focusService.isHeaderFocusSuppressed()?this.focusService.focusNextGridCoreContainer(!0,!0):(e.preventDefault(),this.focusService.focusPreviousFromFirstCell(e)))}else t instanceof un&&t.focusCell(!0),(!i&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(i))&&e.preventDefault()}tabToNextCell(t,e){const i=this.focusService.getFocusedCell();if(!i)return!1;let s=this.getCellByPosition(i);return!s&&(s=this.rowRenderer.getRowByPosition(i),!s||!s.isFullWidth())?!1:!!this.tabToNextCellCommon(s,t,e)}tabToNextCellCommon(t,e,i){let s=t.isEditing();if(!s&&t instanceof un){const o=t.getRowCtrl();o&&(s=o.isEditing())}let r;return s?this.gos.get("editType")==="fullRow"?r=this.moveToNextEditingRow(t,e,i):r=this.moveToNextEditingCell(t,e,i):r=this.moveToNextCellNotEditing(t,e),r===null?r:r||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(t,e,i=null){const s=t.getCellPosition();t.getGui().focus(),t.stopEditing();const r=this.findNextCellToFocusOn(s,e,!0);return r===!1?null:r==null?!1:(r.startEditing(null,!0,i),r.focusCell(!1),!0)}moveToNextEditingRow(t,e,i=null){const s=t.getCellPosition(),r=this.findNextCellToFocusOn(s,e,!0);if(r===!1)return null;if(r==null)return!1;const n=r.getCellPosition(),o=this.isCellEditable(s),a=this.isCellEditable(n),l=n&&s.rowIndex===n.rowIndex&&s.rowPinned===n.rowPinned;return o&&t.setFocusOutOnEditor(),l||(t.getRowCtrl().stopEditing(),r.getRowCtrl().startRowEditing(void 0,void 0,i)),a?(r.setFocusInOnEditor(),r.focusCell()):r.focusCell(!0),!0}moveToNextCellNotEditing(t,e){const i=this.visibleColsService.getAllCols();let s;t instanceof hn?s={...t.getRowPosition(),column:e?i[0]:xe(i)}:s=t.getCellPosition();const r=this.findNextCellToFocusOn(s,e,!1);if(r===!1)return null;if(r instanceof un)r.focusCell(!0);else if(r)return this.tryToFocusFullWidthRow(r.getRowPosition(),e);return K(r)}findNextCellToFocusOn(t,e,i){var r;let s=t;for(;;){t!==s&&(t=s),e||(s=this.getLastCellOfColSpan(s)),s=this.cellNavigationService.getNextTabbedCell(s,e);const n=this.gos.getCallback("tabToNextCell");if(K(n)){const c=n({backwards:e,editing:i,previousCellPosition:t,nextCellPosition:s||null});if(c===!0||c===null)c===null&&_("Returning `null` from tabToNextCell is deprecated. Return `true` to stay on the current cell, or `false` to let the browser handle the tab behaviour."),s=t;else{if(c===!1)return!1;s={rowIndex:c.rowIndex,column:c.column,rowPinned:c.rowPinned}}}if(!s)return null;if(s.rowIndex<0){const l=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:l+s.rowIndex,column:s.column},fromCell:!0}),null}const o=this.gos.get("editType")==="fullRow";if(i&&!o&&!this.isCellEditable(s))continue;this.ensureCellVisible(s);const a=this.getCellByPosition(s);if(!a){const l=this.rowRenderer.getRowByPosition(s);if(!l||!l.isFullWidth()||i)continue;return l}if(!a.isSuppressNavigable())return(r=this.rangeService)==null||r.setRangeToCell(s),a}}isCellEditable(t){const e=this.lookupRowNodeForCell(t);return e?t.column.isCellEditable(e):!1}getCellByPosition(t){const e=this.rowRenderer.getRowByPosition(t);return e?e.getCellCtrl(t.column):null}lookupRowNodeForCell(t){return t.rowPinned==="top"?this.pinnedRowModel.getPinnedTopRow(t.rowIndex):t.rowPinned==="bottom"?this.pinnedRowModel.getPinnedBottomRow(t.rowIndex):this.rowModel.getRow(t.rowIndex)}navigateToNextCell(t,e,i,s){let r=i,n=!1;for(;r&&(r===i||!this.isValidNavigateCell(r));)this.gos.get("enableRtl")?e===B.LEFT&&(r=this.getLastCellOfColSpan(r)):e===B.RIGHT&&(r=this.getLastCellOfColSpan(r)),r=this.cellNavigationService.getNextCellToFocus(e,r),n=be(r);if(n&&t&&t.key===B.UP&&(r={rowIndex:-1,rowPinned:null,column:i.column}),s){const a=this.gos.getCallback("navigateToNextCell");if(K(a)){const c=a({key:e,previousCellPosition:i,nextCellPosition:r||null,event:t});K(c)?r={rowPinned:c.rowPinned,rowIndex:c.rowIndex,column:c.column}:r=null}}if(!r)return;if(r.rowIndex<0){const a=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a+r.rowIndex,column:i.column},event:t||void 0,fromCell:!0});return}const o=this.getNormalisedPosition(r);o?this.focusPosition(o):this.tryToFocusFullWidthRow(r)}getNormalisedPosition(t){this.ensureCellVisible(t);const e=this.getCellByPosition(t);return e?(t=e.getCellPosition(),this.ensureCellVisible(t),t):null}tryToFocusFullWidthRow(t,e){const i=this.visibleColsService.getAllCols(),s=this.rowRenderer.getRowByPosition(t);if(!s||!s.isFullWidth())return!1;const r=this.focusService.getFocusedCell(),n={rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:t.column||(e?xe(i):i[0])};this.focusPosition(n);const o=e??(r!=null&&this.rowPositionUtils.before(n,r));return this.eventService.dispatchEvent({type:"fullWidthRowFocused",rowIndex:n.rowIndex,rowPinned:n.rowPinned,column:n.column,isFullWidthCell:!0,fromBelow:o}),!0}focusPosition(t){var e;this.focusService.setFocusedCell({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0}),(e=this.rangeService)==null||e.setRangeToCell(t)}isValidNavigateCell(t){return!!this.rowPositionUtils.getRowNode(t)}getLastCellOfColSpan(t){const e=this.getCellByPosition(t);if(!e)return t;const i=e.getColSpanningList();return i.length===1?t:{rowIndex:t.rowIndex,column:xe(i),rowPinned:t.rowPinned}}ensureCellVisible(t){const e=Ih(this.gos),i=this.rowModel.getRow(t.rowIndex);!(e&&(i==null?void 0:i.sticky))&&be(t.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t.rowIndex),t.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(t.column)}},bI=class extends W{constructor(){super(...arguments),this.beanName="horizontalResizeService"}wireBeans(t){this.dragService=t.dragService,this.ctrlsService=t.ctrlsService}addResizeBar(t){const e={dragStartPixels:t.dragStartPixels||0,eElement:t.eResizeBar,onDragStart:this.onDragStart.bind(this,t),onDragStop:this.onDragStop.bind(this,t),onDragging:this.onDragging.bind(this,t),onDragCancel:this.onDragStop.bind(this,t),includeTouch:!0,stopPropagationForTouch:!0};return this.dragService.addDragSource(e),()=>this.dragService.removeDragSource(e)}onDragStart(t,e){this.dragStartX=e.clientX,this.setResizeIcons();const i=e instanceof MouseEvent&&e.shiftKey===!0;t.onResizeStart(i)}setResizeIcons(){const t=this.ctrlsService.get("gridCtrl");t.setResizeCursor(!0),t.disableUserSelect(!0)}onDragStop(t){t.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const t=this.ctrlsService.get("gridCtrl");t.setResizeCursor(!1),t.disableUserSelect(!1)}onDragging(t,e){this.resizeAmount=e.clientX-this.dragStartX,t.onResizing(this.resizeAmount)}},SI=class extends W{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(t){this.popupService=t.popupService,this.focusService=t.focusService,this.ctrlsService=t.ctrlsService,this.menuService=t.menuService}hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(t,e,i){this.showPopup(t,s=>{this.popupService.positionPopupUnderMouseEvent({column:t,type:i,mouseEvent:e,ePopup:s})},i,e.target,this.menuService.isLegacyMenuEnabled())}showMenuAfterButtonClick(t,e,i){let s=-1,r="left";const n=this.menuService.isLegacyMenuEnabled();!n&&this.gos.get("enableRtl")&&(s=1,r="right");const o=n?void 0:4*s,a=n?void 0:4;this.showPopup(t,l=>{this.popupService.positionPopupByComponent({type:i,eventSource:e,ePopup:l,nudgeX:o,nudgeY:a,alignSide:r,keepWithinBounds:!0,position:"under",column:t})},i,e,n)}showPopup(t,e,i,s,r){const n=t?this.createBean(new ZT(t,"COLUMN_MENU")):void 0;if(this.activeMenu=n,!(n!=null&&n.hasFilter())||!t)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");const o=document.createElement("div");ns(o,"presentation"),o.classList.add("ag-menu"),r||o.classList.add("ag-filter-menu"),[this.tabListener]=this.addManagedElementListeners(o,{keydown:p=>this.trapFocusWithin(p,o)}),o.appendChild(n==null?void 0:n.getGui());let a;const l=()=>n==null?void 0:n.afterGuiDetached(),c=this.menuService.isColumnMenuAnchoringEnabled()?s??this.ctrlsService.getGridBodyCtrl().getGui():void 0,u=p=>{t.setMenuVisible(!1,"contextMenu");const f=p instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),f&&s&&ws(s)){const C=this.focusService.findTabbableParent(s);C&&C.focus()}l(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,i,t)},h=this.localeService.getLocaleTextFunc(),d=r&&i!=="columnFilter"?h("ariaLabelColumnMenu","Column Menu"):h("ariaLabelColumnFilter","Column Filter"),g=this.popupService.addPopup({modal:!0,eChild:o,closeOnEsc:!0,closedCallback:u,positionCallback:()=>e(o),anchorToElement:c,ariaLabel:d});g&&(this.hidePopup=a=g.hideFunc),n.afterInit().then(()=>{e(o),n.afterGuiAttached({container:i,hidePopup:a})}),t.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,i,t)}trapFocusWithin(t,e){t.key!==B.TAB||t.defaultPrevented||this.focusService.findNextFocusableElement(e,!1,t.shiftKey)||(t.preventDefault(),this.focusService.focusInto(e,t.shiftKey))}dispatchVisibleChangedEvent(t,e,i){this.eventService.dispatchEvent({type:"columnMenuVisibleChanged",visible:t,switchingTab:!1,key:e,column:i??null,columnGroup:null})}isMenuEnabled(t){return t.isFilterAllowed()&&(t.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},RI=class extends W{constructor(){super(...arguments),this.beanName="resizeObserverService"}observeResize(t,e){const s=c0(this.gos).ResizeObserver,r=s?new s(e):null;return r==null||r.observe(t),()=>r==null?void 0:r.disconnect()}},FI=class extends W{constructor(){super(...arguments),this.beanName="animationFrameService",this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}wireBeans(t){this.ctrlsService=t.ctrlsService,this.paginationService=t.paginationService}setScrollTop(t){var i;const e=this.gos.get("pagination");if(this.scrollGoingDown=t>=this.lastScrollTop,e&&t===0){const s=((i=this.paginationService)==null?void 0:i.getCurrentPage())??0;s!==this.lastPage&&(this.lastPage=s,this.scrollGoingDown=!0)}this.lastScrollTop=t}postConstruct(){this.useAnimationFrame=!this.gos.get("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(t){this.useAnimationFrame===!1&&_(`AnimationFrameService.${t} called but animation frames are off`)}createTask(t,e,i){this.verifyAnimationFrameOn(i);const s={task:t,index:e,createOrder:++this.taskCount};this.addTaskToList(this[i],s),this.schedule()}cancelTask(t){this.cancelledTasks.add(t)}addTaskToList(t,e){t.list.push(e),t.sorted=!1}sortTaskList(t){if(t.sorted)return;const e=this.scrollGoingDown?1:-1;t.list.sort((i,s)=>i.index!==s.index?e*(s.index-i.index):s.createOrder-i.createOrder),t.sorted=!0}addDestroyTask(t){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(t),this.schedule()}executeFrame(t){this.verifyAnimationFrameOn("executeFrame");const e=this.createTasksP1,i=e.list,s=this.createTasksP2,r=s.list,n=this.destroyTasks,o=new Date().getTime();let a=new Date().getTime()-o;const l=t<=0,c=this.ctrlsService.getGridBodyCtrl();for(;l||a<t;){if(!c.getScrollFeature().scrollGridIfNeeded()){let h;if(i.length)this.sortTaskList(e),h=i.pop().task;else if(r.length)this.sortTaskList(s),h=r.pop().task;else if(n.length)h=n.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(h)||h()}a=new Date().getTime()-o}i.length||r.length||n.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const t=this.executeFrame.bind(this,60);this.requestAnimationFrame(t)}requestAnimationFrame(t){const e=c0(this.gos);e.requestAnimationFrame?e.requestAnimationFrame(t):e.webkitRequestAnimationFrame?e.webkitRequestAnimationFrame(t):e.setTimeout(t,0)}isQueueEmpty(){return!this.ticking}debounce(t){let e=!1;return()=>{if(!this.isOn()){window.setTimeout(t,0);return}e||(e=!0,this.addDestroyTask(()=>{e=!1,t()}))}}},AI=class extends W{constructor(){super(...arguments),this.beanName="expansionService"}wireBeans(t){this.rowModel=t.rowModel}postConstruct(){this.isClientSideRowModel=Xe(this.gos)}expandRows(t){if(!this.isClientSideRowModel)return;const e=new Set(t);this.rowModel.forEachNode(i=>{i.id&&e.has(i.id)&&(i.expanded=!0)}),this.onGroupExpandedOrCollapsed()}getExpandedRows(){const t=[];return this.rowModel.forEachNode(({expanded:e,id:i})=>{e&&i&&t.push(i)}),t}expandAll(t){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(t)}setRowNodeExpanded(t,e,i,s){t&&(i&&t.parent&&t.parent.level!==-1&&this.setRowNodeExpanded(t.parent,e,i,s),t.setExpanded(e,void 0,s))}onGroupExpandedOrCollapsed(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:"map"})}},PI=class extends W{constructor(){super(...arguments),this.beanName="menuService"}wireBeans(t){this.valueService=t.valueService,this.filterMenuFactory=t.filterMenuFactory,this.ctrlsService=t.ctrlsService,this.animationFrameService=t.animationFrameService,this.filterManager=t.filterManager,this.rowRenderer=t.rowRenderer,this.columnChooserFactory=t.columnChooserFactory,this.contextMenuFactory=t.contextMenuFactory,this.enterpriseMenuFactory=t.enterpriseMenuFactory}postConstruct(){this.activeMenuFactory=this.enterpriseMenuFactory??this.filterMenuFactory}showColumnMenu(t){this.showColumnMenuCommon(this.activeMenuFactory,t,"columnMenu")}showFilterMenu(t){const e=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(e,t,t.containerType,!0)}showHeaderContextMenu(t,e,i){this.activeMenuFactory.showMenuAfterContextMenuEvent(t,e,i)}getContextMenuPosition(t,e){const i=this.getRowCtrl(t),s=this.getCellGui(i,e);if(!s)return i?{x:0,y:i.getRowYPosition()}:{x:0,y:0};const r=s.getBoundingClientRect();return{x:r.x+r.width/2,y:r.y+r.height/2}}showContextMenu(t){var n;const e=t.rowNode,i=t.column;let{anchorToElement:s,value:r}=t;e&&i&&r==null&&(r=this.valueService.getValueForDisplay(i,e)),s==null&&(s=this.getContextMenuAnchorElement(e,i)),(n=this.contextMenuFactory)==null||n.onContextMenu(t.mouseEvent??null,t.touchEvent??null,e??null,i??null,r,s)}showColumnChooser(t){var e;(e=this.columnChooserFactory)==null||e.showColumnChooser(t)}hidePopupMenu(){var t;(t=this.contextMenuFactory)==null||t.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()}hideColumnChooser(){var t;(t=this.columnChooserFactory)==null||t.hideActiveColumnChooser()}isColumnMenuInHeaderEnabled(t){const{suppressMenu:e,suppressHeaderMenuButton:i}=t.getColDef();return!(i??e)&&this.activeMenuFactory.isMenuEnabled(t)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(t){var e;return!t.getColDef().suppressHeaderFilterButton&&!!((e=this.filterManager)!=null&&e.isFilterAllowed(t))}isHeaderContextMenuEnabled(t){const e=t&&Fr(t)?t.getColDef():t==null?void 0:t.getColGroupDef();return!(e!=null&&e.suppressHeaderContextMenu)&&this.getColumnMenuType()==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const t=!this.isSuppressMenuHide();return!(Ir()&&t)}isHeaderFilterButtonEnabled(t){return this.isFilterMenuInHeaderEnabled(t)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(t)}isFilterMenuItemEnabled(t){var e;return!!((e=this.filterManager)!=null&&e.isFilterAllowed(t))&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(t)&&!this.isFloatingFilterButtonDisplayed(t)}isColumnMenuAnchoringEnabled(){return!this.isLegacyMenuEnabled()}areAdditionalColumnMenuItemsEnabled(){return this.getColumnMenuType()==="new"}isLegacyMenuEnabled(){return this.getColumnMenuType()==="legacy"}isFloatingFilterButtonEnabled(t){var s;const e=t.getColDef(),i=(s=e.floatingFilterComponentParams)==null?void 0:s.suppressFilterButton;return i!=null&&_("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),e.suppressFloatingFilterButton==null?!i:!e.suppressFloatingFilterButton}getColumnMenuType(){return this.gos.get("columnMenu")}isFloatingFilterButtonDisplayed(t){return!!t.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(t)}isSuppressMenuHide(){const t=this.gos.get("suppressMenuHide");return this.isLegacyMenuEnabled()?this.gos.exists("suppressMenuHide")?t:!1:t}showColumnMenuCommon(t,e,i,s){const{positionBy:r}=e,n=e.column;if(r==="button"){const{buttonElement:o}=e;t.showMenuAfterButtonClick(n,o,i,s)}else if(r==="mouse"){const{mouseEvent:o}=e;t.showMenuAfterMouseEvent(n,o,i,s)}else n&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(n,"auto"),this.animationFrameService.requestAnimationFrame(()=>{var a;const o=(a=this.ctrlsService.getHeaderRowContainerCtrl(n.getPinned()))==null?void 0:a.getHeaderCtrlForColumn(n);o&&t.showMenuAfterButtonClick(n,o.getAnchorElementForMenu(s),i,!0)}))}getRowCtrl(t){const{rowIndex:e,rowPinned:i}=t||{};if(e!=null)return this.rowRenderer.getRowByPosition({rowIndex:e,rowPinned:i})||void 0}getCellGui(t,e){if(!t||!e)return;const i=t.getCellCtrl(e);return(i==null?void 0:i.getGui())||void 0}getContextMenuAnchorElement(t,e){const i=this.ctrlsService.getGridBodyCtrl().getGridBodyElement(),s=this.getRowCtrl(t);if(!s)return i;const r=this.getCellGui(s,e);return r||(s.isFullWidth()?s.getFullWidthElement():i)}},EI=class extends Zr{constructor(t){super(t,"ag-text-area",null,"textarea")}setValue(t,e){const i=super.setValue(t,e);return this.eInput.value=t,i}setCols(t){return this.eInput.cols=t,this}setRows(t){return this.eInput.rows=t,this}},kI={selector:"AG-INPUT-TEXT-AREA",component:EI},MI=class extends jo{constructor(){super(`<div class="ag-large-text">
        <ag-input-text-area data-ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,[kI]),this.eTextArea=oe}init(t){this.params=t,this.focusAfterAttached=t.cellStartedEdit,this.eTextArea.setMaxLength(t.maxLength||200).setCols(t.cols||60).setRows(t.rows||10),K(t.value,!0)&&this.eTextArea.setValue(t.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(t){const e=t.key;(e===B.LEFT||e===B.UP||e===B.RIGHT||e===B.DOWN||t.shiftKey&&e===B.ENTER)&&t.stopPropagation()}afterGuiAttached(){const t=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(t("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const t=this.eTextArea.getValue();return!K(t)&&!K(this.params.value)?this.params.value:this.params.parseValue(t)}},TI=class extends jo{constructor(t){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=t}postConstruct(){bn(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const t=this.getGui(),e=this.params,i=s=>{Zp(this.gos,s,e.node,e.column,!0)||e.onKeyDown(s)};this.addManagedElementListeners(t,{keydown:i})}},DI=class extends jo{constructor(){super(`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" data-ref="eSelect"></ag-select>
            </div>`,[nD]),this.eSelect=oe,this.startedByEnter=!1}wireBeans(t){this.valueService=t.valueService}init(t){this.focusAfterAttached=t.cellStartedEdit;const{eSelect:e,valueService:i,gos:s}=this,{values:r,value:n,eventKey:o}=t;if(be(r)){_("no values found for select cellEditor");return}this.startedByEnter=o!=null?o===B.ENTER:!1;let a=!1;r.forEach(h=>{const d={value:h},g=i.formatValue(t.column,null,h),p=g!=null;d.text=p?g:h,e.addOption(d),a=a||n===h}),a?e.setValue(t.value,!0):t.values.length&&e.setValue(t.values[0],!0);const{valueListGap:l,valueListMaxWidth:c,valueListMaxHeight:u}=t;l!=null&&e.setPickerGap(l),u!=null&&e.setPickerMaxHeight(u),c!=null&&e.setPickerMaxWidth(c),s.get("editType")!=="fullRow"&&this.addManagedListeners(this.eSelect,{selectedItem:()=>t.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}},Wh=class extends jo{constructor(t){super(`
            <div class="ag-cell-edit-wrapper">
                ${t.getTemplate()}
            </div>`,t.getAgComponents()),this.cellEditorInput=t,this.eInput=oe}init(t){this.params=t;const{cellStartedEdit:e,eventKey:i,suppressPreventDefault:s}=t,r=this.eInput;this.cellEditorInput.init(r,t);let n,o=!0;e?(this.focusAfterAttached=!0,i===B.BACKSPACE||i===B.DELETE?n="":i&&i.length===1?s?o=!1:n=i:(n=this.cellEditorInput.getStartValue(),i!==B.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,n=this.cellEditorInput.getStartValue()),o&&n!=null&&r.setStartValue(n),this.addManagedElementListeners(r.getGui(),{keydown:a=>{const{key:l}=a;(l===B.PAGE_UP||l===B.PAGE_DOWN)&&a.preventDefault()}})}afterGuiAttached(){var s,r;const t=this.localeService.getLocaleTextFunc(),e=this.eInput;if(e.setInputAriaLabel(t("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;ys()||e.getFocusableElement().focus();const i=e.getInputElement();this.highlightAllOnFocus?i.select():(r=(s=this.cellEditorInput).setCaret)==null||r.call(s)}focusIn(){const t=this.eInput,e=t.getFocusableElement(),i=t.getInputElement();e.focus(),i.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}},LI=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" data-ref="eInput"></ag-input-text-field>'}getAgComponents(){return[Gh]}init(t,e){this.eInput=t,this.params=e,e.maxLength!=null&&t.setMaxLength(e.maxLength)}getValue(){const t=this.eInput.getValue();return!K(t)&&!K(this.params.value)?this.params.value:this.params.parseValue(t)}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){const t=this.eInput.getValue(),e=K(t)&&t.length||0;e&&this.eInput.getInputElement().setSelectionRange(e,e)}},LR=class extends Wh{constructor(){super(new LI)}},II=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" data-ref="eInput"></ag-input-number-field>'}getAgComponents(){return[fD]}init(t,e){this.eInput=t,this.params=e,e.max!=null&&t.setMax(e.max),e.min!=null&&t.setMin(e.min),e.precision!=null&&t.setPrecision(e.precision),e.step!=null&&t.setStep(e.step);const i=t.getInputElement();e.preventStepping?t.addManagedElementListeners(i,{keydown:this.preventStepping}):e.showStepperButtons&&i.classList.add("ag-number-field-input-stepper")}preventStepping(t){(t.key===B.UP||t.key===B.DOWN)&&t.preventDefault()}getValue(){const t=this.eInput.getValue();if(!K(t)&&!K(this.params.value))return this.params.value;let e=this.params.parseValue(t);if(e==null)return e;if(typeof e=="string"){if(e==="")return null;e=Number(e)}return isNaN(e)?null:e}getStartValue(){return this.params.value}setCaret(){ys()&&this.eInput.getInputElement().focus({preventScroll:!0})}},OI=class extends Wh{constructor(){super(new II)}},HI=class extends In{constructor(t){super(t,"ag-date-field","date")}postConstruct(){super.postConstruct();const t=ys();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||t||this.eInput.focus()}}),this.eInput.step="any"}onWheel(t){Ze(this.gos)===this.eInput&&t.preventDefault()}setMin(t){const e=t instanceof Date?Li(t??null,!1)??void 0:t;return this.min===e?this:(this.min=e,Di(this.eInput,"min",e),this)}setMax(t){const e=t instanceof Date?Li(t??null,!1)??void 0:t;return this.max===e?this:(this.max=e,Di(this.eInput,"max",e),this)}setStep(t){return this.step===t?this:(this.step=t,Di(this.eInput,"step",t),this)}getDate(){if(this.eInput.validity.valid)return ei(this.getValue())??void 0}setDate(t,e){this.setValue(Li(t??null,!1),e)}},IR={selector:"AG-INPUT-DATE-FIELD",component:HI},NI=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[IR]}init(t,e){this.eInput=t,this.params=e,e.min!=null&&t.setMin(e.min),e.max!=null&&t.setMax(e.max),e.step!=null&&t.setStep(e.step)}getValue(){const t=this.eInput.getDate();return!K(t)&&!K(this.params.value)?this.params.value:t??null}getStartValue(){const{value:t}=this.params;if(t instanceof Date)return Li(t,!1)}},GI=class extends Wh{constructor(){super(new NI)}},BI=class{constructor(t){this.getDataTypeService=t}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[IR]}init(t,e){this.eInput=t,this.params=e,e.min!=null&&t.setMin(e.min),e.max!=null&&t.setMax(e.max),e.step!=null&&t.setStep(e.step)}getValue(){const t=this.formatDate(this.eInput.getDate());return!K(t)&&!K(this.params.value)?this.params.value:this.params.parseValue(t??"")}getStartValue(){return Li(this.parseDate(this.params.value??void 0)??null,!1)}parseDate(t){const e=this.getDataTypeService();return e?e.getDateParserFunction(this.params.column)(t):ei(t)??void 0}formatDate(t){const e=this.getDataTypeService();return e?e.getDateFormatterFunction(this.params.column)(t):Li(t??null,!1)??void 0}},WI=class extends Wh{wireBeans(t){this.dataTypeService=t.dataTypeService}constructor(){super(new BI(()=>this.dataTypeService))}},zI=class extends jo{constructor(){super(`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[Av]),this.eCheckbox=oe}init(t){this.params=t;const e=t.value??void 0;this.eCheckbox.setValue(e),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(e),this.addManagedListeners(this.eCheckbox,{fieldValueChanged:s=>this.setAriaLabel(s.selected)})}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(t){const e=this.localeService.getLocaleTextFunc(),i=vv(e,t),s=e("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${s} (${i})`)}},Ea=class{constructor(t){this.cellValueChanges=t}},rg=class extends Ea{constructor(t,e,i,s){super(t),this.initialRange=e,this.finalRange=i,this.ranges=s}},VI=10,nw=class{constructor(t){this.actionStack=[],this.maxStackSize=t||VI,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(t){t.cellValueChanges&&t.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(t))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},_I=class extends W{constructor(){super(...arguments),this.beanName="undoRedoService",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=t=>{const e={column:t.column,rowIndex:t.rowIndex,rowPinned:t.rowPinned},i=this.activeCellEdit!==null&&this.cellPositionUtils.equals(this.activeCellEdit,e),s=this.activeRowEdit!==null&&this.rowPositionUtils.sameRow(this.activeRowEdit,e);if(!(i||s||this.isPasting||this.isRangeInAction))return;const{rowPinned:n,rowIndex:o,column:a,oldValue:l,value:c}=t,u={rowPinned:n,rowIndex:o,columnId:a.getColId(),newValue:c,oldValue:l};this.cellValueChanges.push(u)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}wireBeans(t){this.focusService=t.focusService,this.ctrlsService=t.ctrlsService,this.cellPositionUtils=t.cellPositionUtils,this.rowPositionUtils=t.rowPositionUtils,this.columnModel=t.columnModel,this.rangeService=t.rangeService}postConstruct(){if(!this.gos.get("undoRedoCellEditing"))return;const t=this.gos.get("undoRedoCellEditingLimit");if(t<=0)return;this.undoStack=new nw(t),this.redoStack=new nw(t),this.addListeners();const e=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:i=>{i.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:e,newColumnsLoaded:e,columnGroupOpened:e,columnRowGroupChanged:e,columnMoved:e,columnPinned:e,columnVisible:e,rowDragEnd:e}),this.ctrlsService.whenReady(this,i=>{this.gridBodyCtrl=i.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(t){this.eventService.dispatchEvent({type:"undoStarted",source:t});const e=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo");this.eventService.dispatchEvent({type:"undoEnded",source:t,operationPerformed:e})}redo(t){this.eventService.dispatchEvent({type:"redoStarted",source:t});const e=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo");this.eventService.dispatchEvent({type:"redoEnded",source:t,operationPerformed:e})}undoRedo(t,e,i,s,r){if(!t)return!1;const n=t.pop();return!n||!n.cellValueChanges?!1:(this.processAction(n,o=>o[s],r),n instanceof rg?this.processRange(this.rangeService,n.ranges||[n[i]]):this.processCell(n.cellValueChanges),e.push(n),!0)}processAction(t,e,i){t.cellValueChanges.forEach(s=>{const{rowIndex:r,rowPinned:n,columnId:o}=s,a={rowIndex:r,rowPinned:n},l=this.rowPositionUtils.getRowNode(a);l.displayed&&l.setDataValue(o,e(s),i)})}processRange(t,e){let i;t.removeAllCellRanges(!0),e.forEach((s,r)=>{if(!s)return;const n=s.startRow,o=s.endRow;r===e.length-1&&(i={rowPinned:n.rowPinned,rowIndex:n.rowIndex,columnId:s.startColumn.getColId()},this.setLastFocusedCell(i));const a={rowStartIndex:n.rowIndex,rowStartPinned:n.rowPinned,rowEndIndex:o.rowIndex,rowEndPinned:o.rowPinned,columnStart:s.startColumn,columns:s.columns};t.addCellRange(a)})}processCell(t){const e=t[0],{rowIndex:i,rowPinned:s}=e,r={rowIndex:i,rowPinned:s},n=this.rowPositionUtils.getRowNode(r),o={rowPinned:e.rowPinned,rowIndex:n.rowIndex,columnId:e.columnId};this.setLastFocusedCell(o,this.rangeService)}setLastFocusedCell(t,e){const{rowIndex:i,columnId:s,rowPinned:r}=t,n=this.gridBodyCtrl.getScrollFeature(),o=this.columnModel.getCol(s);if(!o)return;n.ensureIndexVisible(i),n.ensureColumnVisible(o);const a={rowIndex:i,column:o,rowPinned:r};this.focusService.setFocusedCell({...a,forceBrowserFocus:!0}),e==null||e.setRangeToCell(a)}addListeners(){this.addManagedEventListeners({rowEditingStarted:t=>{this.activeRowEdit={rowIndex:t.rowIndex,rowPinned:t.rowPinned}},rowEditingStopped:()=>{const t=new Ea(this.cellValueChanges);this.pushActionsToUndoStack(t),this.activeRowEdit=null},cellEditingStarted:t=>{this.activeCellEdit={column:t.column,rowIndex:t.rowIndex,rowPinned:t.rowPinned}},cellEditingStopped:t=>{if(this.activeCellEdit=null,t.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const i=new Ea(this.cellValueChanges);this.pushActionsToUndoStack(i)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const t=new Ea(this.cellValueChanges);this.pushActionsToUndoStack(t),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:t=>{const e=new rg(this.cellValueChanges,t.initialRange,t.finalRange);this.pushActionsToUndoStack(e),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let t;this.rangeService&&Ws(this.gos)?t=new rg(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):t=new Ea(this.cellValueChanges),this.pushActionsToUndoStack(t),this.isRangeInAction=!1}})}pushActionsToUndoStack(t){this.undoStack.push(t),this.cellValueChanges=[],this.redoStack.clear()}};function UI(t){return t.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition()}function XI(t){return t.ctrlsService.getGridBodyCtrl().getScrollFeature().getHScrollPosition()}function OR(t,e,i="auto"){t.frameworkOverrides.wrapIncoming(()=>t.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(e,i),"ensureVisible")}function HR(t,e,i){t.frameworkOverrides.wrapIncoming(()=>t.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureIndexVisible(e,i),"ensureVisible")}function jI(t,e,i=null){t.frameworkOverrides.wrapIncoming(()=>t.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureNodeVisible(e,i),"ensureVisible")}function YI(t){var e;(e=t.undoRedoService)==null||e.undo("api")}function $I(t){var e;(e=t.undoRedoService)==null||e.redo("api")}function KI(t,e={}){return t.rowRenderer.getCellEditorInstances(e).map(za)}function qI(t){return t.rowRenderer.getEditingCells()}function QI(t,e=!1){t.rowRenderer.stopEditing(e)}function ZI(t,e){const i=t.columnModel.getCol(e.colKey);if(!i){_(`no column found for ${e.colKey}`);return}const s={rowIndex:e.rowIndex,rowPinned:e.rowPinned||null,column:i};e.rowPinned==null&&HR(t,e.rowIndex),OR(t,e.colKey);const n=t.navigationService.getCellByPosition(s);if(!n)return;const{focusService:o,gos:a}=t,l=()=>{const u=Ze(a),h=n.getGui();return u!==h&&!!(h!=null&&h.contains(u))},c=a.get("stopEditingWhenCellsLoseFocus")&&l();(c||!o.isCellFocused(s))&&o.setFocusedCell({...s,forceBrowserFocus:c,preventScrollOnBrowserFocus:!0}),n.startRowOrCellEdit(e.key)}function JI(t){var e;return((e=t.undoRedoService)==null?void 0:e.getCurrentUndoStackSize())??0}function eO(t){var e;return((e=t.undoRedoService)==null?void 0:e.getCurrentRedoStackSize())??0}var tO=class extends W{constructor(){super(...arguments),this.beanName="editService"}wireBeans(t){this.navigationService=t.navigationService,this.userComponentFactory=t.userComponentFactory,this.valueService=t.valueService}startEditing(t,e=null,i=!1,s=null){var c;const r=this.createCellEditorParams(t,e,i),n=t.getColumn().getColDef(),o=this.userComponentFactory.getCellEditorDetails(n,r),a=(o==null?void 0:o.popupFromSelector)!=null?o.popupFromSelector:!!n.cellEditorPopup,l=(o==null?void 0:o.popupPositionFromSelector)!=null?o.popupPositionFromSelector:n.cellEditorPopupPosition;return t.setEditing(!0,o),t.getComp().setEditDetails(o,a,l,this.gos.get("reactiveCustomComponents")),this.eventService.dispatchEvent(t.createEvent(s,"cellEditingStarted")),!((c=o==null?void 0:o.params)!=null&&c.suppressPreventDefault)}stopEditing(t,e){const i=t.getComp(),{newValue:s,newValueExists:r}=this.takeValueFromCellEditor(e,i),n=t.getRowNode(),o=t.getColumn(),a=this.valueService.getValueForDisplay(o,n);let l=!1;return r&&(l=this.saveNewValue(t,a,s,n,o)),t.setEditing(!1,void 0),i.setEditDetails(),t.updateAndFormatValue(!1),t.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.eventService.dispatchEvent({...t.createEvent(null,"cellEditingStopped"),oldValue:a,newValue:s,valueChanged:l}),l}handleColDefChanged(t){const e=t.getCellEditor();if(e!=null&&e.refresh){const{eventKey:i,cellStartedEdit:s}=t.getEditCompDetails().params,r=this.createCellEditorParams(t,i,s),n=t.getColumn().getColDef(),o=this.userComponentFactory.getCellEditorDetails(n,r);e.refresh(o.params)}}setFocusOutOnEditor(t){const e=t.getComp().getCellEditor();e&&e.focusOut&&e.focusOut()}setFocusInOnEditor(t){const e=t.getComp(),i=e.getCellEditor();i!=null&&i.focusIn?i.focusIn():(t.focusCell(!0),t.onCellEditorAttached(()=>{var s,r;return(r=(s=e.getCellEditor())==null?void 0:s.focusIn)==null?void 0:r.call(s)}))}stopEditingAndFocus(t,e=!1,i=!1){t.stopRowOrCellEdit(),t.focusCell(!0),e||this.navigateAfterEdit(i,t.getCellPosition())}createPopupEditorWrapper(t){return new TI(t)}takeValueFromCellEditor(t,e){const i={newValueExists:!1};if(t)return i;const s=e.getCellEditor();return!s||s.isCancelAfterEnd&&s.isCancelAfterEnd()?i:{newValue:s.getValue(),newValueExists:!0}}saveNewValue(t,e,i,s,r){if(i===e)return!1;t.setSuppressRefreshCell(!0);const n=s.setDataValue(r,i,"edit");return t.setSuppressRefreshCell(!1),n}createCellEditorParams(t,e,i){const s=t.getColumn(),r=t.getRowNode();return this.gos.addGridCommonParams({value:this.valueService.getValueForDisplay(s,r),eventKey:e,column:s,colDef:s.getColDef(),rowIndex:t.getCellPosition().rowIndex,node:r,data:r.data,cellStartedEdit:i,onKeyDown:t.onKeyDown.bind(t),stopEditing:t.stopEditingAndFocus.bind(t),eGridCell:t.getGui(),parseValue:n=>this.valueService.parseValue(s,r,n,t.getValue()),formatValue:t.formatValue.bind(t)})}navigateAfterEdit(t,e){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){const s=t?B.UP:B.DOWN;this.navigationService.navigateToNextCell(null,s,e,!1)}}},iO=class extends W{constructor(){super(...arguments),this.beanName="rowEditService"}startEditing(t,e=null,i=null,s=null){let r=!0;return t.getAllCellCtrls().reduce((o,a)=>{const l=a===i;return l?r=a.startEditing(e,l,s):a.startEditing(null,l,s),o?!0:a.isEditing()},!1)&&this.setEditing(t,!0),r}stopEditing(t,e=!1){const i=t.getAllCellCtrls(),s=t.isEditing();t.setStoppingRowEdit(!0);let r=!1;for(const n of i){const o=n.stopEditing(e);s&&!e&&!r&&o&&(r=!0)}r&&this.eventService.dispatchEvent(t.createRowEvent("rowValueChanged")),s&&this.setEditing(t,!1),t.setStoppingRowEdit(!1)}setEditing(t,e){t.setEditingRow(e),t.forEachGui(void 0,s=>s.rowComp.addOrRemoveCssClass("ag-row-editing",e));const i=e?t.createRowEvent("rowEditingStarted"):t.createRowEvent("rowEditingStopped");this.eventService.dispatchEvent(i)}},On={version:ce,moduleName:"@ag-grid-community/edit-core",beans:[tO]},sO={version:ce,moduleName:"@ag-grid-community/edit-api",apiFunctions:{undoCellEditing:YI,redoCellEditing:$I,getCellEditorInstances:KI,getEditingCells:qI,stopEditing:QI,startEditingCell:ZI,getCurrentUndoSize:JI,getCurrentRedoSize:eO},dependantModules:[On]},rO={version:ce,moduleName:"@ag-grid-community/undo-redo-edit",beans:[_I],dependantModules:[On]},nO={version:ce,moduleName:"@ag-grid-community/full-row-edit",beans:[iO],dependantModules:[On]},NR={version:ce,moduleName:"@ag-grid-community/default-editor",userComponents:[{name:"agCellEditor",classImp:LR}],dependantModules:[On]},oO={version:ce,moduleName:"@ag-grid-community/data-type-editors",userComponents:[{name:"agTextCellEditor",classImp:LR},{name:"agNumberCellEditor",classImp:OI,params:{suppressPreventDefault:!0}},{name:"agDateCellEditor",classImp:GI},{name:"agDateStringCellEditor",classImp:WI},{name:"agCheckboxCellEditor",classImp:zI}],dependantModules:[NR]},aO={version:ce,moduleName:"@ag-grid-community/select-editor",userComponents:[{name:"agSelectCellEditor",classImp:DI}],dependantModules:[On]},lO={version:ce,moduleName:"@ag-grid-community/large-text-editor",userComponents:[{name:"agLargeTextCellEditor",classImp:MI}],dependantModules:[On]},cO={version:ce,moduleName:"@ag-grid-community/all-editors",dependantModules:[NR,oO,aO,lO]},uO={version:ce,moduleName:"@ag-grid-community/editing",dependantModules:[On,rO,nO,cO,sO]},hO=class extends W{constructor(){super(...arguments),this.beanName="autoWidthCalculator"}wireBeans(t){this.rowRenderer=t.rowRenderer,this.ctrlsService=t.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,t=>{this.centerRowContainerCtrl=t.center})}getPreferredWidthForColumn(t,e){const i=this.getHeaderCellForColumn(t);if(!i)return-1;const s=this.rowRenderer.getAllCellsForColumn(t);return e||s.push(i),this.addElementsToContainerAndGetWidth(s)}getPreferredWidthForColumnGroup(t){const e=this.getHeaderCellForColumn(t);return e?this.addElementsToContainerAndGetWidth([e]):-1}addElementsToContainerAndGetWidth(t){const e=document.createElement("form");e.style.position="fixed";const i=this.centerRowContainerCtrl.getContainerElement();t.forEach(n=>this.cloneItemIntoDummy(n,e)),i.appendChild(e);const s=e.offsetWidth;i.removeChild(e);const r=this.getAutoSizePadding();return s+r}getAutoSizePadding(){return this.gos.get("autoSizePadding")}getHeaderCellForColumn(t){let e=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(i=>{const s=i.getHtmlElementForColumnHeader(t);s!=null&&(e=s)}),e}cloneItemIntoDummy(t,e){const i=t.cloneNode(!0);i.style.width="",i.style.position="static",i.style.left="";const s=document.createElement("div"),r=s.classList;["ag-header-cell","ag-header-group-cell"].some(a=>i.classList.contains(a))?(r.add("ag-header","ag-header-row"),s.style.position="static"):r.add("ag-row");let o=t.parentElement;for(;o;){if(["ag-header-row","ag-row"].some(l=>o.classList.contains(l))){for(let l=0;l<o.classList.length;l++){const c=o.classList[l];c!="ag-row-position-absolute"&&r.add(c)}break}o=o.parentElement}s.appendChild(i),e.appendChild(s)}},dO=class extends W{constructor(t,e){super(),this.createRowCon=t,this.destroyRowCtrls=e,this.stickyTopRowCtrls=[],this.stickyBottomRowCtrls=[],this.extraTopHeight=0,this.extraBottomHeight=0}wireBeans(t){this.rowModel=t.rowModel,this.rowRenderer=t.rowRenderer,this.ctrlsService=t.ctrlsService,this.pageBoundsService=t.pageBoundsService}postConstruct(){this.isClientSide=Xe(this.gos),this.ctrlsService.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl}),this.resetStickyContainers()}getStickyTopRowCtrls(){return this.stickyTopRowCtrls}getStickyBottomRowCtrls(){return this.stickyBottomRowCtrls}setOffsetTop(t){this.extraTopHeight!==t&&(this.extraTopHeight=t,this.eventService.dispatchEvent({type:"stickyTopOffsetChanged",offset:t}))}setOffsetBottom(t){this.extraBottomHeight!==t&&(this.extraBottomHeight=t)}resetOffsets(){this.setOffsetBottom(0),this.setOffsetTop(0)}getExtraTopHeight(){return this.extraTopHeight}getExtraBottomHeight(){return this.extraBottomHeight}getLastPixelOfGroup(t){return this.isClientSide?this.getClientSideLastPixelOfGroup(t):this.getServerSideLastPixelOfGroup(t)}getFirstPixelOfGroup(t){return t.footer?t.sibling.rowTop+t.sibling.rowHeight-1:t.hasChildren()?t.rowTop-1:0}getServerSideLastPixelOfGroup(t){var e,i;if(this.isClientSide)throw new Error("This func should only be called in server side row model.");if(t.isExpandable()||t.footer){if(t.master)return t.detailNode.rowTop+t.detailNode.rowHeight;if(!t.sibling||Math.abs(t.sibling.rowIndex-t.rowIndex)===1){let r=(e=t.childStore)==null?void 0:e.getStoreBounds();return t.footer&&(r=(i=t.sibling.childStore)==null?void 0:i.getStoreBounds()),((r==null?void 0:r.heightPx)??0)+((r==null?void 0:r.topPx)??0)}return t.footer?t.rowTop+t.rowHeight:t.sibling.rowTop+t.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}getClientSideLastPixelOfGroup(t){if(!this.isClientSide)throw new Error("This func should only be called in client side row model.");if(t.isExpandable()||t.footer){if(t.footer&&t.rowIndex===0)return Number.MAX_SAFE_INTEGER;if(!t.sibling||Math.abs(t.sibling.rowIndex-t.rowIndex)===1){let s=t.footer?t.sibling:t;for(;s.isExpandable()&&s.expanded;)if(s.master)s=s.detailNode;else if(s.childrenAfterSort){if(s.childrenAfterSort.length===0)break;s=xe(s.childrenAfterSort)}return s.rowTop+s.rowHeight}return t.footer?t.rowTop+t.rowHeight:t.sibling.rowTop+t.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}updateStickyRows(t){const e=t==="top";let i=0;if(!this.canRowsBeSticky())return this.refreshNodesAndContainerHeight(t,new Set,i);const s=e?this.rowRenderer.getFirstVisibleVerticalPixel()-this.extraTopHeight:this.rowRenderer.getLastVisibleVerticalPixel()-this.extraTopHeight,r=new Set,n=c=>{if(r.add(c),e){const u=this.getLastPixelOfGroup(c),h=s+i+c.rowHeight;u<h?c.stickyRowTop=i+(u-h):c.stickyRowTop=i}else{const u=this.getFirstPixelOfGroup(c),h=s-(i+c.rowHeight);u>h?c.stickyRowTop=i-(u-h):c.stickyRowTop=i}i=0,r.forEach(u=>{const h=u.stickyRowTop+u.rowHeight;i<h&&(i=h)})},o=this.areFooterRowsStickySuppressed(),a=this.gos.get("suppressGroupRowsSticky"),l=c=>{if(!c.displayed)return!1;if(c.footer){if(o===!0||o==="grand"&&c.level===-1||o==="group"&&c.level>-1)return!1;const u=c.sibling.rowIndex?c.sibling.rowIndex+1===c.rowIndex:!1;return t==="bottom"&&u?!1:!r.has(c)}return c.isExpandable()?a===!0||t==="bottom"?!1:!r.has(c)&&c.expanded:!1};for(let c=0;c<100;c++){let u=s+i;e||(u=s-i);const h=this.rowModel.getRowIndexAtPixel(u),d=this.rowModel.getRow(h);if(d==null)break;const p=this.getStickyAncestors(d).find(C=>(e?C.rowIndex<h:C.rowIndex>h)&&l(C));if(p){n(p);continue}if((e?d.rowTop<u:d.rowTop+d.rowHeight>u)&&l(d)){n(d);continue}break}return e||r.forEach(c=>{c.stickyRowTop=i-(c.stickyRowTop+c.rowHeight)}),this.refreshNodesAndContainerHeight(t,r,i)}areFooterRowsStickySuppressed(){const t=this.gos.get("suppressStickyTotalRow");if(t===!0)return!0;const e=!!this.gos.get("groupIncludeFooter")||t==="group",i=!!this.gos.get("groupIncludeTotalFooter")||t==="grand";return e&&i?!0:i?"grand":e?"group":!1}canRowsBeSticky(){const t=Ih(this.gos),e=this.areFooterRowsStickySuppressed(),i=this.gos.get("suppressGroupRowsSticky");return t&&(!e||!i)}getStickyAncestors(t){const e=[];let i=t.footer?t.sibling:t.parent;for(;i;)i.sibling&&e.push(i.sibling),e.push(i),i=i.parent;return e.reverse()}checkStickyRows(){const t=this.updateStickyRows("top"),e=this.updateStickyRows("bottom");return t||e}destroyStickyCtrls(){this.resetStickyContainers()}resetStickyContainers(){this.refreshNodesAndContainerHeight("top",new Set,0),this.refreshNodesAndContainerHeight("bottom",new Set,0)}refreshStickyNode(t){const e=new Set;if(this.stickyTopRowCtrls.some(i=>i.getRowNode()===t)){for(let i=0;i<this.stickyTopRowCtrls.length;i++){const s=this.stickyTopRowCtrls[i].getRowNode();s!==t&&e.add(s)}this.refreshNodesAndContainerHeight("top",e,this.topContainerHeight)&&this.checkStickyRows();return}for(let i=0;i<this.stickyBottomRowCtrls.length;i++){const s=this.stickyBottomRowCtrls[i].getRowNode();s!==t&&e.add(s)}this.refreshNodesAndContainerHeight("bottom",e,this.bottomContainerHeight)&&this.checkStickyRows()}refreshNodesAndContainerHeight(t,e,i){const s=t==="top",r=s?this.stickyTopRowCtrls:this.stickyBottomRowCtrls,n={},o=[];for(let d=0;d<r.length;d++){const g=r[d].getRowNode();if(!e.has(g)){n[g.id]=r[d],g.sticky=!1;continue}o.push(r[d])}const a=new Set;for(let d=0;d<o.length;d++)a.add(o[d].getRowNode());const l=[];e.forEach(d=>{a.has(d)||(d.sticky=!0,l.push(this.createRowCon(d,!1,!1)))});let c=!!l.length||o.length!==r.length;s?this.topContainerHeight!==i&&(this.topContainerHeight=i,this.gridBodyCtrl.setStickyTopHeight(i),c=!0):this.bottomContainerHeight!==i&&(this.bottomContainerHeight=i,this.gridBodyCtrl.setStickyBottomHeight(i),c=!0),this.destroyRowCtrls(n,!1);const u=[...o,...l];u.sort((d,g)=>g.getRowNode().rowIndex-d.getRowNode().rowIndex),s||u.reverse(),u.forEach(d=>d.setRowTop(d.getRowNode().stickyRowTop));let h=0;return s?(e.forEach(d=>{d.rowIndex<this.pageBoundsService.getFirstRow()&&(h+=d.rowHeight)}),h>this.topContainerHeight&&(h=this.topContainerHeight),this.setOffsetTop(h)):(e.forEach(d=>{d.rowIndex>this.pageBoundsService.getLastRow()&&(h+=d.rowHeight)}),h>this.bottomContainerHeight&&(h=this.bottomContainerHeight),this.setOffsetBottom(h)),c?(s?this.stickyTopRowCtrls=u:this.stickyBottomRowCtrls=u,!0):!1}ensureRowHeightsValid(){let t=!1;const e=i=>{const s=i.getRowNode();if(s.rowHeightEstimated){const r=Rr(this.gos,s);s.setRowHeight(r.height),t=!0}};return this.stickyTopRowCtrls.forEach(e),this.stickyBottomRowCtrls.forEach(e),t}},gO=class extends W{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const t=()=>{this.getAllCellCtrls().forEach(n=>n.onCellSelectionChanged())},e=()=>{this.getAllCellCtrls().forEach(n=>n.updateRangeBordersIfRangeCount())},i=()=>{this.eventService.addEventListener("cellSelectionChanged",t),this.eventService.addEventListener("columnMoved",e),this.eventService.addEventListener("columnPinned",e),this.eventService.addEventListener("columnVisible",e)},s=()=>{this.eventService.removeEventListener("cellSelectionChanged",t),this.eventService.removeEventListener("columnMoved",e),this.eventService.removeEventListener("columnPinned",e),this.eventService.removeEventListener("columnVisible",e)};this.addDestroyFunc(()=>s()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{Ws(this.gos)?i():s()}),Ws(this.gos)&&i()}}wireBeans(t){this.animationFrameService=t.animationFrameService,this.paginationService=t.paginationService,this.pageBoundsService=t.pageBoundsService,this.columnModel=t.columnModel,this.visibleColsService=t.visibleColsService,this.pinnedRowModel=t.pinnedRowModel,this.rowModel=t.rowModel,this.focusService=t.focusService,this.beans=t,this.rowContainerHeightService=t.rowContainerHeightService,this.ctrlsService=t.ctrlsService,this.environment=t.environment}postConstruct(){this.ctrlsService.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",t=>this.onSuppressCellFocusChanged(t.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection","rowSelection"],()=>this.redrawRows()),Ih(this.gos)&&(Xe(this.gos)||xs(this.gos))&&(this.stickyRowFeature=this.createManagedBean(new dO(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this)))),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=Ft(this.gos,"print"),this.embedFullWidthRows=this.printLayout||this.gos.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const t=this.getKeepDetailRowsCount(),e=t??3;this.cachedRowCtrls=new pO(e)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyTopRowCtrls():[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyBottomRowCtrls():[]}updateAllRowCtrls(){const t=Xp(this.rowCtrlsByRowIndex),e=Xp(this.zombieRowCtrls),i=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];e.length>0||i.length>0?this.allRowCtrls=[...t,...e,...i]:this.allRowCtrls=t}onCellFocusChanged(t){this.getAllCellCtrls().forEach(e=>e.onCellFocused(t)),this.getFullWidthRowCtrls().forEach(e=>e.onFullWidthRowFocused(t))}onSuppressCellFocusChanged(t){this.getAllCellCtrls().forEach(e=>e.onSuppressCellFocusChanged(t)),this.getFullWidthRowCtrls().forEach(e=>e.onSuppressCellFocusChanged(t))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:t=>{this.onCellFocusChanged(t)},cellFocusCleared:()=>this.onCellFocusChanged(),flashCells:t=>{this.getAllCellCtrls().forEach(e=>e.onFlashCells(t))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(t=>t.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(t=>t.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(t=>t.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(t=>t()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.columnModel.getCols().forEach(e=>{const i=l=>{this.getAllCellCtrls().forEach(c=>{c.getColumn()===e&&l(c)})},s=()=>{i(l=>l.onLeftChanged())},r=()=>{i(l=>l.onWidthChanged())},n=()=>{i(l=>l.onFirstRightPinnedChanged())},o=()=>{i(l=>l.onLastLeftPinnedChanged())},a=()=>{i(l=>l.onColDefChanged())};e.addEventListener("leftChanged",s),e.addEventListener("widthChanged",r),e.addEventListener("firstRightPinnedChanged",n),e.addEventListener("lastLeftPinnedChanged",o),e.addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{e.removeEventListener("leftChanged",s),e.removeEventListener("widthChanged",r),e.removeEventListener("firstRightPinnedChanged",n),e.removeEventListener("lastLeftPinnedChanged",o),e.removeEventListener("colDefChanged",a)})})}onDomLayoutChanged(){const t=Ft(this.gos,"print"),e=t||this.gos.get("embedFullWidthRows"),i=e!==this.embedFullWidthRows||this.printLayout!==t;this.printLayout=t,this.embedFullWidthRows=e,i&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t)}onPageLoaded(t){const e={recycleRows:t.keepRenderedRows,animate:t.animate,newData:t.newData,newPage:t.newPage,onlyBody:!0};this.redrawAfterModelUpdate(e)}getAllCellsForColumn(t){const e=[];return this.getAllRowCtrls().forEach(i=>{const s=i.getCellElement(t);s&&e.push(s)}),e}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,"top"),this.refreshFloatingRows(this.bottomRowCtrls,"bottom")}getTopRowCtrls(){return this.topRowCtrls}getCentreRowCtrls(){return this.allRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(t,e){const{pinnedRowModel:i,beans:s,printLayout:r}=this,n=Object.fromEntries(t.map(a=>[a.getRowNode().id,a]));i.forEachPinnedRow(e,(a,l)=>{const c=t[l];c&&i.getPinnedRowById(c.getRowNode().id,e)===void 0&&(c.destroyFirstPass(),c.destroySecondPass()),a.id in n?(t[l]=n[a.id],delete n[a.id]):t[l]=new hn(a,s,!1,!1,r)});const o=e==="top"?i.getPinnedTopRowCount():i.getPinnedBottomRowCount();t.length=o}onPinnedRowDataChanged(){const t={recycleRows:!0};this.redrawAfterModelUpdate(t)}redrawRow(t,e=!1){var i;if(t.sticky)this.stickyRowFeature.refreshStickyNode(t);else if((i=this.cachedRowCtrls)!=null&&i.has(t)){this.cachedRowCtrls.removeRow(t);return}else{const s=r=>{const n=r[t.rowIndex];n&&n.getRowNode()===t&&(n.destroyFirstPass(),n.destroySecondPass(),r[t.rowIndex]=this.createRowCon(t,!1,!1))};switch(t.rowPinned){case"top":s(this.topRowCtrls);break;case"bottom":s(this.bottomRowCtrls);break;default:s(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}e||this.dispatchDisplayedRowsChanged(!1)}redrawRows(t){if(t!=null){t==null||t.forEach(i=>this.redrawRow(i,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(t){const e=t!=null&&t.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(e==null)return null;const i=Ze(this.gos),s=hl(this.gos,i,un.DOM_DATA_KEY_CELL_CTRL),r=hl(this.gos,i,hn.DOM_DATA_KEY_ROW_CTRL);return s||r?e:null}redrawAfterModelUpdate(t={}){this.getLockOnRefresh();const e=this.getCellToRestoreFocusToAfterRefresh(t);this.updateContainerHeights(),this.scrollToTopIfNewData(t);const i=!t.domLayoutChanged&&!!t.recycleRows,s=t.animate&&fo(this.gos),r=i?this.getRowsToRecycle():null;if(i||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature){this.stickyRowFeature.checkStickyRows();const n=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();n&&this.updateContainerHeights(n)}this.recycleRows(r,s),this.gridBodyCtrl.updateRowCount(),t.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),e!=null&&this.restoreFocusedCell(e),this.releaseLockOnRefresh()}scrollToTopIfNewData(t){var s;const e=t.newData||t.newPage,i=this.gos.get("suppressScrollOnNewData");e&&!i&&(this.gridBodyCtrl.getScrollFeature().scrollToTop(),(s=this.stickyRowFeature)==null||s.resetOffsets())}updateContainerHeights(t=0){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}let e=this.pageBoundsService.getCurrentPageHeight();e===0&&(e=1),this.rowContainerHeightService.setModelHeight(e+t)}getLockOnRefresh(){var t,e;if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0,(e=(t=this.frameworkOverrides).getLockOnRefresh)==null||e.call(t)}releaseLockOnRefresh(){var t,e;this.refreshInProgress=!1,(e=(t=this.frameworkOverrides).releaseLockOnRefresh)==null||e.call(t)}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(t){t&&this.focusService.restoreFocusedCell(t,()=>{this.onCellFocusChanged(this.gos.addGridCommonParams({rowIndex:t.rowIndex,column:t.column,rowPinned:t.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))})}stopEditing(t=!1){this.getAllRowCtrls().forEach(e=>{e.stopEditing(t)})}getAllCellCtrls(){const t=[],e=this.getAllRowCtrls(),i=e.length;for(let s=0;s<i;s++){const r=e[s].getAllCellCtrls(),n=r.length;for(let o=0;o<n;o++)t.push(r[o])}return t}getAllRowCtrls(){const t=this.stickyRowFeature&&this.stickyRowFeature.getStickyTopRowCtrls()||[],e=this.stickyRowFeature&&this.stickyRowFeature.getStickyBottomRowCtrls()||[],i=[...this.topRowCtrls,...this.bottomRowCtrls,...t,...e];for(const s in this.rowCtrlsByRowIndex)i.push(this.rowCtrlsByRowIndex[s]);return i}addRenderedRowListener(t,e,i){const s=this.rowCtrlsByRowIndex[e];s&&s.addEventListener(t,i)}flashCells(t={}){this.getCellCtrls(t.rowNodes,t.columns).forEach(e=>e.flashCell(t))}refreshCells(t={}){const e={forceRefresh:t.force,newData:!1,suppressFlash:t.suppressFlash};for(const i of this.getCellCtrls(t.rowNodes,t.columns))i.refreshOrDestroyCell(e);this.refreshFullWidth(t.rowNodes)}refreshFullWidth(t){if(!t)return;let e=null;this.stickyRowFeature&&Ky()&&(e=this.getCellToRestoreFocusToAfterRefresh()||null);for(const i of this.getRowCtrls(t)){if(!i.isFullWidth())continue;i.refreshFullWidth()||this.redrawRow(i.getRowNode(),!0)}this.dispatchDisplayedRowsChanged(!1),e&&this.restoreFocusedCell(e)}getCellRendererInstances(t){var r;const e=this.getCellCtrls(t.rowNodes,t.columns).map(n=>n.getCellRenderer()).filter(n=>n!=null);if((r=t.columns)!=null&&r.length)return e;const i=[],s=this.mapRowNodes(t.rowNodes);return this.getAllRowCtrls().forEach(n=>{if(s&&!this.isRowInMap(n.getRowNode(),s)||!n.isFullWidth())return;const o=n.getFullWidthCellRenderers();for(let a=0;a<o.length;a++){const l=o[a];l!=null&&i.push(l)}}),[...i,...e]}getCellEditorInstances(t){const e=[];return this.getCellCtrls(t.rowNodes,t.columns).forEach(i=>{const s=i.getCellEditor();s&&e.push(s)}),e}getEditingCells(){const t=[];return this.getAllCellCtrls().forEach(e=>{if(e.isEditing()){const i=e.getCellPosition();t.push(i)}}),t}mapRowNodes(t){if(!t)return;const e={top:{},bottom:{},normal:{}};return t.forEach(i=>{const s=i.id;switch(i.rowPinned){case"top":e.top[s]=i;break;case"bottom":e.bottom[s]=i;break;default:e.normal[s]=i;break}}),e}isRowInMap(t,e){const i=t.id;switch(t.rowPinned){case"top":return e.top[i]!=null;case"bottom":return e.bottom[i]!=null;default:return e.normal[i]!=null}}getRowCtrls(t){const e=this.mapRowNodes(t),i=this.getAllRowCtrls();return!t||!e?i:i.filter(s=>{const r=s.getRowNode();return this.isRowInMap(r,e)})}getCellCtrls(t,e){let i;K(e)&&(i={},e.forEach(r=>{const n=this.columnModel.getCol(r);K(n)&&(i[n.getId()]=!0)}));const s=[];return this.getRowCtrls(t).forEach(r=>{r.getAllCellCtrls().forEach(n=>{const o=n.getColumn().getId();i&&!i[o]||s.push(n)})}),s}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(t=!1){const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e,t),this.stickyRowFeature&&this.stickyRowFeature.destroyStickyCtrls()}getRowsToRecycle(){const t=[];Yi(this.rowCtrlsByRowIndex,(i,s)=>{s.getRowNode().id==null&&t.push(i)}),this.removeRowCtrls(t);const e={};return Yi(this.rowCtrlsByRowIndex,(i,s)=>{const r=s.getRowNode();e[r.id]=s}),this.rowCtrlsByRowIndex={},e}removeRowCtrls(t,e=!1){t.forEach(i=>{const s=this.rowCtrlsByRowIndex[i];s&&(s.destroyFirstPass(e),s.destroySecondPass()),delete this.rowCtrlsByRowIndex[i]})}onBodyScroll(t){t.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(t={}){const{afterScroll:e}=t;let i;this.stickyRowFeature&&Ky()&&(i=this.getCellToRestoreFocusToAfterRefresh()||void 0);const s=this.firstRenderedRow,r=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let n=!1;if(this.stickyRowFeature){n=this.stickyRowFeature.checkStickyRows();const a=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();a&&this.updateContainerHeights(a)}const o=this.firstRenderedRow!==s||this.lastRenderedRow!==r;if(!(e&&!n&&!o)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,e),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(e&&!n),i!=null)){const a=this.getCellToRestoreFocusToAfterRefresh();i!=null&&a==null&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(i))}}removeRowCompsNotToDraw(t,e){const i={};t.forEach(n=>i[n]=!0);const r=Object.keys(this.rowCtrlsByRowIndex).filter(n=>!i[n]);this.removeRowCtrls(r,e)}calculateIndexesToDraw(t){const e=CD(this.firstRenderedRow,this.lastRenderedRow),i=(r,n)=>{const o=n.getRowNode().rowIndex;o!=null&&(o<this.firstRenderedRow||o>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(n)&&e.push(o)};Yi(this.rowCtrlsByRowIndex,i),Yi(t,i),e.sort((r,n)=>r-n);const s=[];for(let r=0;r<e.length;r++){const n=e[r],o=this.rowModel.getRow(n);o&&!o.sticky&&s.push(n)}return s}recycleRows(t,e=!1,i=!1){const s=this.calculateIndexesToDraw(t);(this.printLayout||i)&&(e=!1),this.removeRowCompsNotToDraw(s,!e),s.forEach(r=>{this.createOrUpdateRowCtrl(r,t,e,i)}),t&&(i&&!this.gos.get("suppressAnimationFrame")&&!this.printLayout?this.beans.animationFrameService.addDestroyTask(()=>{this.destroyRowCtrls(t,e),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(t,e)),this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(t=!1){this.eventService.dispatchEvent({type:"displayedRowsChanged",afterScroll:t})}onDisplayedColumnsChanged(){const t=this.visibleColsService.isPinningLeft(),e=this.visibleColsService.isPinningRight();(this.pinningLeft!==t||e!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=e,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const t=[];this.getFullWidthRowCtrls().forEach(e=>{const i=e.getRowNode().rowIndex;t.push(i.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(t),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(t){const e=this.mapRowNodes(t);return this.getAllRowCtrls().filter(i=>{if(!i.isFullWidth())return!1;const s=i.getRowNode();return!(e!=null&&!this.isRowInMap(s,e))})}createOrUpdateRowCtrl(t,e,i,s){let r,n=this.rowCtrlsByRowIndex[t];if(n||(r=this.rowModel.getRow(t),K(r)&&K(e)&&e[r.id]&&r.alreadyRendered&&(n=e[r.id],e[r.id]=null)),!n)if(r||(r=this.rowModel.getRow(t)),K(r))n=this.createRowCon(r,i,s);else return;return r&&(r.alreadyRendered=!0),this.rowCtrlsByRowIndex[t]=n,n}destroyRowCtrls(t,e){const i=[];Yi(t,(s,r)=>{if(r){if(this.cachedRowCtrls&&r.isCacheable()){this.cachedRowCtrls.addRow(r);return}if(r.destroyFirstPass(!e),e){const n=r.instanceId;this.zombieRowCtrls[n]=r,i.push(()=>{r.destroySecondPass(),delete this.zombieRowCtrls[n]})}else r.destroySecondPass()}}),e&&(i.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),N1(i))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const t=this.getRowBuffer(),e=ln(this.gos);return t*e}workOutFirstAndLastRowsToRender(){this.rowContainerHeightService.updateOffset();let t,e;if(!this.rowModel.isRowsToRender())t=0,e=-1;else if(this.printLayout)this.environment.refreshRowHeightVariable(),t=this.pageBoundsService.getFirstRow(),e=this.pageBoundsService.getLastRow();else{const a=this.getRowBufferInPixels(),l=this.ctrlsService.getGridBodyCtrl(),c=this.gos.get("suppressRowVirtualisation");let u=!1,h,d;do{const m=this.pageBoundsService.getPixelOffset(),{pageFirstPixel:v,pageLastPixel:y}=this.pageBoundsService.getCurrentPagePixelRange(),w=this.rowContainerHeightService.getDivStretchOffset(),x=l.getScrollFeature().getVScrollPosition(),S=x.top,b=x.bottom;c?(h=v+w,d=y+w):(h=Math.max(S+m-a,v)+w,d=Math.min(b+m+a,y)+w),this.firstVisibleVPixel=Math.max(S+m,v)+w,this.lastVisibleVPixel=Math.min(b+m,y)+w,u=this.ensureAllRowsInRangeHaveHeightsCalculated(h,d)}while(u);let g=this.rowModel.getRowIndexAtPixel(h),p=this.rowModel.getRowIndexAtPixel(d);const f=this.pageBoundsService.getFirstRow(),C=this.pageBoundsService.getLastRow();g<f&&(g=f),p>C&&(p=C),t=g,e=p}const i=Ft(this.gos,"normal"),s=this.gos.get("suppressMaxRenderedRowRestriction"),r=Math.max(this.getRowBuffer(),500);i&&!s&&e-t>r&&(e=t+r);const n=t!==this.firstRenderedRow,o=e!==this.lastRenderedRow;(n||o)&&(this.firstRenderedRow=t,this.lastRenderedRow=e,this.eventService.dispatchEvent({type:"viewportChanged",firstRow:t,lastRow:e}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,window.requestAnimationFrame(()=>{this.beans.eventService.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(t,e){var n,o;const i=(n=this.pinnedRowModel)==null?void 0:n.ensureRowHeightsValid(),s=(o=this.stickyRowFeature)==null?void 0:o.ensureRowHeightsValid(),r=this.rowModel.ensureRowHeightsValid(t,e,this.pageBoundsService.getFirstRow(),this.pageBoundsService.getLastRow());return(r||s)&&this.eventService.dispatchEvent({type:"recalculateRowBounds"}),s||r||i?(this.updateContainerHeights(),!0):!1}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getLastVisibleVerticalPixel(){return this.lastVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(t){const s=t.getRowNode(),r=this.focusService.isRowNodeFocused(s),n=t.isEditing(),o=s.detail;return r||n||o?!!this.isRowPresent(s):!1}isRowPresent(t){return this.rowModel.isRowPresent(t)?this.paginationService?this.paginationService.isRowPresent(t):!0:!1}createRowCon(t,e,i){const s=this.cachedRowCtrls?this.cachedRowCtrls.getRow(t):null;if(s)return s;const r=this.gos.get("suppressAnimationFrame"),n=i&&!r&&!this.printLayout;return new hn(t,this.beans,e,n,this.printLayout)}getRenderedNodes(){const t=this.rowCtrlsByRowIndex;return Object.values(t).map(e=>e.getRowNode())}getRowByPosition(t){let e;const{rowIndex:i}=t;switch(t.rowPinned){case"top":e=this.topRowCtrls[i];break;case"bottom":e=this.bottomRowCtrls[i];break;default:e=this.rowCtrlsByRowIndex[i],e||(e=this.getStickyTopRowCtrls().find(s=>s.getRowNode().rowIndex===i)||null,e||(e=this.getStickyBottomRowCtrls().find(s=>s.getRowNode().rowIndex===i)||null));break}return e}isRangeInRenderedViewport(t,e){if(t==null||e==null)return!1;const s=t>this.lastRenderedRow;return!(e<this.firstRenderedRow)&&!s}},pO=class{constructor(t){this.entriesMap={},this.entriesList=[],this.maxCount=t}addRow(t){if(this.entriesMap[t.getRowNode().id]=t,this.entriesList.push(t),t.setCached(!0),this.entriesList.length>this.maxCount){const e=this.entriesList[0];e.destroyFirstPass(),e.destroySecondPass(),this.removeFromCache(e)}}getRow(t){if(t==null||t.id==null)return null;const e=this.entriesMap[t.id];return e?(this.removeFromCache(e),e.setCached(!1),e.getRowNode()!=t?null:e):null}has(t){return this.entriesMap[t.id]!=null}removeRow(t){const e=t.id,i=this.entriesMap[e];delete this.entriesMap[e],Xt(this.entriesList,i)}removeFromCache(t){const e=t.getRowNode().id;delete this.entriesMap[e],Xt(this.entriesList,t)}getEntries(){return this.entriesList}},fO=class extends W{constructor(){super(...arguments),this.beanName="pinnedRowModel",this.nextId=0,this.pinnedTopRows=new ow,this.pinnedBottomRows=new ow}wireBeans(t){this.beans=t}postConstruct(){this.setPinnedRowData(this.gos.get("pinnedTopRowData"),"top"),this.setPinnedRowData(this.gos.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",t=>this.setPinnedRowData(t.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",t=>this.setPinnedRowData(t.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}isEmpty(t){return(t==="top"?this.pinnedTopRows:this.pinnedBottomRows).isEmpty()}isRowsToRender(t){return!this.isEmpty(t)}onGridStylesChanges(t){if(t.rowHeightChanged){const e=i=>{i.setRowHeight(i.rowHeight,!0)};this.pinnedBottomRows.forEach(e),this.pinnedTopRows.forEach(e)}}ensureRowHeightsValid(){var s,r;let t=!1,e=0;const i=n=>{if(n.rowHeightEstimated){const o=Rr(this.gos,n);n.setRowTop(e),n.setRowHeight(o.height),e+=o.height,t=!0}};return(s=this.pinnedBottomRows)==null||s.forEach(i),e=0,(r=this.pinnedTopRows)==null||r.forEach(i),this.eventService.dispatchEvent({type:"pinnedHeightChanged"}),t}setPinnedRowData(t,e){this.updateNodesFromRowData(t,e),this.eventService.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(t,e){const i=e==="top"?this.pinnedTopRows:this.pinnedBottomRows;if(t===void 0){i.clear();return}const s=_o(this.gos),r=e==="top"?Os.ID_PREFIX_TOP_PINNED:Os.ID_PREFIX_BOTTOM_PINNED,n=i.getIds(),o=[],a=new Set;let l=0,c=-1;for(const u of t){const h=(s==null?void 0:s({data:u,level:0,rowPinned:e}))??r+this.nextId++;if(a.has(h)){_("Duplicate ID",h,"found for pinned row with data",u,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter.");continue}c++,a.add(h),o.push(h);const d=i.getById(h);if(d!==void 0)d.data!==u&&d.setData(u),l+=this.setRowTopAndRowIndex(d,l,c),n.delete(h);else{const g=new Os(this.beans);g.id=h,g.data=u,g.rowPinned=e,l+=this.setRowTopAndRowIndex(g,l,c),i.push(g)}}n.forEach(u=>{var h;(h=i.getById(u))==null||h.clearRowTopAndRowIndex()}),i.removeAllById(n),i.setOrder(o)}setRowTopAndRowIndex(t,e,i){return t.setRowTop(e),t.setRowHeight(Rr(this.gos,t).height),t.setRowIndex(i),t.rowHeight}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getPinnedTopRowCount(){return this.pinnedTopRows.getSize()}getPinnedBottomRowCount(){return this.pinnedBottomRows.getSize()}getPinnedTopRow(t){return this.pinnedTopRows.getByIndex(t)}getPinnedBottomRow(t){return this.pinnedBottomRows.getByIndex(t)}getPinnedRowById(t,e){return e==="top"?this.pinnedTopRows.getById(t):this.pinnedBottomRows.getById(t)}forEachPinnedRow(t,e){return t==="top"?this.pinnedTopRows.forEach(e):this.pinnedBottomRows.forEach(e)}getTotalHeight(t){const e=t.getSize();if(e===0)return 0;const i=t.getByIndex(e-1);return i===void 0?0:i.rowTop+i.rowHeight}},ow=class{constructor(){this.cache={},this.ordering=[]}getById(t){return this.cache[t]}getByIndex(t){const e=this.ordering[t];return this.cache[e]}push(t){this.cache[t.id]=t,this.ordering.push(t.id)}removeAllById(t){for(const e of t)delete this.cache[e];this.ordering=this.ordering.filter(e=>!t.has(e))}setOrder(t){this.ordering=t}forEach(t){this.ordering.forEach((e,i)=>{const s=this.cache[e];s&&t(s,i)})}clear(){this.ordering.length=0,this.cache={}}isEmpty(){return this.ordering.length===0}getSize(){return this.ordering.length}getIds(){return new Set(this.ordering)}},mO=class extends W{constructor(t){super(),this.state="needsLoading",this.version=0,this.id=t}getId(){return this.id}load(){this.state="loading",this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}getState(){return this.state}pageLoadFailed(t){this.isRequestMostRecentAndLive(t)&&(this.state="failed",this.processServerFail()),this.dispatchLoadCompleted(!1)}success(t,e){this.successCommon(t,e)}pageLoaded(t,e,i){this.successCommon(t,{rowData:e,rowCount:i})}isRequestMostRecentAndLive(t){const e=t===this.version,i=this.isAlive();return e&&i}successCommon(t,e){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(t)&&(this.state="loaded",this.processServerResult(e))}dispatchLoadCompleted(t=!0){const e={type:"loadComplete",success:t,block:this};this.dispatchLocalEvent(e)}},vO=class extends W{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}wireBeans(t){this.rowModel=t.rowModel}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();const t=this.gos.get("blockLoadDebounceMillis");t&&t>0&&(this.checkBlockToLoadDebounce=Ut(this.performCheckBlocksToLoad.bind(this),t))}getMaxConcurrentDatasourceRequests(){const t=this.gos.get("maxConcurrentDatasourceRequests");if(t==null)return 2;if(!(t<=0))return t}addBlock(t){this.blocks.push(t),t.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(t){Xt(this.blocks,t)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchLocalEvent({type:"blockLoaded"}),this.activeBlockLoadsCount==0&&this.dispatchLocalEvent({type:"blockLoaderFinished"})}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){this.gos.get("debug")&&$i("RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}const t=this.getAvailableLoadingCount(),e=this.blocks.filter(i=>i.getState()==="needsLoading").slice(0,t);this.registerLoads(e.length),e.forEach(i=>i.load()),this.printCacheStatus()}getBlockState(){if(xs(this.gos))return this.rowModel.getBlockStates();const t={};return this.blocks.forEach(e=>{const{id:i,state:s}=e.getBlockStateJson();t[i]=s}),t}printCacheStatus(){this.gos.get("debug")&&$i(`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(t){this.activeBlockLoadsCount+=t}getAvailableLoadingCount(){return this.maxConcurrentRequests!==void 0?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}},CO={version:ce,moduleName:"@ag-grid-community/row-node-block",beans:[vO]},yO=class{constructor(){this.root=null,this.end=null,this.cachedRange=[]}init(t){this.rowModel=t}reset(){this.root=null,this.end=null,this.cachedRange.length=0}setRoot(t){this.root=t,this.end=null,this.cachedRange.length=0}setEndRange(t){this.end=t,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const t=this.getRoot(),e=this.getEnd();if(t==null||e==null)return this.cachedRange;this.cachedRange=this.rowModel.getNodesInRangeForSelection(t,e)}return this.cachedRange}isInRange(t){return this.root===null?!1:this.getRange().some(e=>e.id===t.id)}getRoot(){var t;return this.root&&((t=this.root)==null?void 0:t.key)===null&&(this.root=this.rowModel.getRowNode(this.root.id)??null),this.root}getEnd(){var t;return this.end&&((t=this.end)==null?void 0:t.key)===null&&(this.end=this.rowModel.getRowNode(this.end.id)??null),this.end}truncate(t){const e=this.getRange();if(e.length===0)return{keep:[],discard:[]};const i=e[0].id===this.root.id,s=e.findIndex(r=>r.id===t.id);if(s>-1){const r=e.slice(0,s),n=e.slice(s+1);return this.setEndRange(t),i?{keep:r,discard:n}:{keep:n,discard:r}}else return{keep:e,discard:[]}}extend(t,e=!1){const i=this.getRoot();if(i==null){const r=this.getRange().slice();return e&&t.depthFirstSearch(n=>!n.group&&r.push(n)),r.push(t),this.setRoot(t),{keep:r,discard:[]}}if(this.rowModel.getNodesInRangeForSelection(i,t).find(r=>{var n;return r.id===((n=this.end)==null?void 0:n.id)}))return this.setEndRange(t),{keep:this.getRange(),discard:[]};{const r=this.getRange().slice();return this.setEndRange(t),{keep:this.getRange(),discard:r}}}},wO=class extends W{constructor(){super(...arguments),this.beanName="stylingService"}wireBeans(t){this.expressionService=t.expressionService}processAllCellClasses(t,e,i,s){this.processClassRules(void 0,t.cellClassRules,e,i,s),this.processStaticCellClasses(t,e,i)}processClassRules(t,e,i,s,r){if(e==null&&t==null)return;const n={},o={},a=(l,c)=>{l.split(" ").forEach(u=>{u.trim()!=""&&c(u)})};if(e){const l=Object.keys(e);for(let c=0;c<l.length;c++){const u=l[c],h=e[u];let d;typeof h=="string"?d=this.expressionService.evaluate(h,i):typeof h=="function"&&(d=h(i)),a(u,g=>{d?n[g]=!0:o[g]=!0})}}t&&r&&Object.keys(t).forEach(l=>a(l,c=>{n[c]||(o[c]=!0)})),r&&Object.keys(o).forEach(r),Object.keys(n).forEach(s)}getStaticCellClasses(t,e){const{cellClass:i}=t;if(!i)return[];let s;return typeof i=="function"?s=i(e):s=i,typeof s=="string"&&(s=[s]),s||[]}processStaticCellClasses(t,e,i){this.getStaticCellClasses(t,e).forEach(r=>{i(r)})}},tu=(t=>(t.TAB_GUARD="ag-tab-guard",t.TAB_GUARD_TOP="ag-tab-guard-top",t.TAB_GUARD_BOTTOM="ag-tab-guard-bottom",t))(tu||{}),GR=class extends W{constructor(t){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:e,eTopGuard:i,eBottomGuard:s,focusTrapActive:r,forceFocusOutWhenTabGuardsAreEmpty:n,isFocusableContainer:o,focusInnerElement:a,onFocusIn:l,onFocusOut:c,shouldStopEventPropagation:u,onTabKeyDown:h,handleKeyDown:d,eFocusableElement:g}=t;this.comp=e,this.eTopGuard=i,this.eBottomGuard=s,this.providedFocusInnerElement=a,this.eFocusableElement=g,this.focusTrapActive=!!r,this.forceFocusOutWhenTabGuardsAreEmpty=!!n,this.isFocusableContainer=!!o,this.providedFocusIn=l,this.providedFocusOut=c,this.providedShouldStopEventPropagation=u,this.providedOnTabKeyDown=h,this.providedHandleKeyDown=d}wireBeans(t){this.focusService=t.focusService}postConstruct(){this.createManagedBean(new Ln(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:t=>this.onTabKeyDown(t),handleKeyDown:t=>this.handleKeyDown(t),onFocusIn:t=>this.onFocusIn(t),onFocusOut:t=>this.onFocusOut(t)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(t=>this.addManagedElementListeners(t,{focus:this.onFocus.bind(this)}))}handleKeyDown(t){this.providedHandleKeyDown&&this.providedHandleKeyDown(t)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const t=this.gos.get("tabIndex");this.comp.setTabIndex(t.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(t){if(this.isFocusableContainer&&!this.eFocusableElement.contains(t.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(t.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length===0){this.findNextElementOutsideAndFocus(t.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(t.relatedTarget))return;const e=t.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(e):this.focusInnerElement(e)}findNextElementOutsideAndFocus(t){var l;const e=st(this.gos),i=this.focusService.findFocusableElements(e.body,null,!0),s=i.indexOf(t?this.eTopGuard:this.eBottomGuard);if(s===-1)return;let r,n;t?(r=0,n=s):(r=s+1,n=i.length);const o=i.slice(r,n),a=this.gos.get("tabIndex");o.sort((c,u)=>{const h=parseInt(c.getAttribute("tabindex")||"0"),d=parseInt(u.getAttribute("tabindex")||"0");return d===a?1:h===a?-1:h===0?1:d===0?-1:h-d}),(l=o[t?o.length-1:0])==null||l.focus()}onFocusIn(t){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(t),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(t){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(t),this.eFocusableElement.contains(t.relatedTarget)||this.activateTabGuards())}onTabKeyDown(t){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(t);return}if(this.focusTrapActive||t.defaultPrevented)return;const e=this.tabGuardsAreActive();e&&this.deactivateTabGuards();const i=this.getNextFocusableElement(t.shiftKey);e&&setTimeout(()=>this.activateTabGuards(),0),i&&(i.focus(),t.preventDefault())}focusInnerElement(t=!1){const e=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(e.splice(0,1),e.splice(e.length-1,1)),e.length&&e[t?e.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(t){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,t)}forceFocusOutOfContainer(t=!1){if(this.forcingFocusOut)return;const e=t?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,e.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(t,e){return t===this.eTopGuard&&!e||t===this.eBottomGuard&&(e??!0)}setAllowFocus(t){this.allowFocus=t}},xO=class extends W{constructor(t){super(),this.comp=t}initialiseTabGuard(t){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:e,eBottomGuard:i,eFocusableElement:s}=this,r=[e,i],n={setTabIndex:f=>{r.forEach(C=>f!=null?C.setAttribute("tabindex",f):C.removeAttribute("tabindex"))}};this.addTabGuards(e,i);const{focusTrapActive:o=!1,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:u,onTabKeyDown:h,shouldStopEventPropagation:d,forceFocusOutWhenTabGuardsAreEmpty:g,isFocusableContainer:p}=t;this.tabGuardCtrl=this.createManagedBean(new GR({comp:n,focusTrapActive:o,eTopGuard:e,eBottomGuard:i,eFocusableElement:s,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:u,onTabKeyDown:h,shouldStopEventPropagation:d,forceFocusOutWhenTabGuardsAreEmpty:g,isFocusableContainer:p}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(t){const e=st(this.gos).createElement("div"),i=t==="top"?"ag-tab-guard-top":"ag-tab-guard-bottom";return e.classList.add("ag-tab-guard",i),ns(e,"presentation"),e}addTabGuards(t,e){this.eFocusableElement.insertAdjacentElement("afterbegin",t),this.eFocusableElement.insertAdjacentElement("beforeend",e)}removeAllChildrenExceptTabGuards(){const t=[this.eTopGuard,this.eBottomGuard];mi(this.comp.getFocusableElement()),this.addTabGuards(...t)}forceFocusOutOfContainer(t=!1){this.tabGuardCtrl.forceFocusOutOfContainer(t)}appendChild(t,e,i){Sv(e)||(e=e.getGui());const{eBottomGuard:s}=this;s?s.insertAdjacentElement("beforebegin",e):t(e,i)}},bO=class extends ze{initialiseTabGuard(e){this.tabGuardFeature=this.createManagedBean(new xO(this)),this.tabGuardFeature.initialiseTabGuard(e)}forceFocusOutOfContainer(e=!1){this.tabGuardFeature.forceFocusOutOfContainer(e)}appendChild(e,i){this.tabGuardFeature.appendChild(super.appendChild.bind(this),e,i)}},SO=0,RO=200,FO=class extends W{constructor(){super(...arguments),this.beanName="popupService",this.popupList=[]}wireBeans(t){this.ctrlsService=t.ctrlsService,this.resizeObserverService=t.resizeObserverService,this.environment=t.environment}postConstruct(){this.ctrlsService.whenReady(this,t=>{this.gridCtrl=t.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const t=this.gos.get("popupParent");return t||this.gridCtrl.getGui()}positionPopupForMenu(t){const{eventSource:e,ePopup:i}=t,s=this.getPopupIndex(i);if(s!==-1){const g=this.popupList[s];g.alignedToElement=e}const r=e.getBoundingClientRect(),n=this.getParentRect(),o=this.keepXYWithinBounds(i,r.top-n.top,0),a=i.clientWidth>0?i.clientWidth:200;i.style.minWidth=`${a}px`;const c=n.right-n.left-a;let u;this.gos.get("enableRtl")?(u=d(),u<0&&(u=h(),this.setAlignedStyles(i,"left")),u>c&&(u=0,this.setAlignedStyles(i,"right"))):(u=h(),u>c&&(u=d(),this.setAlignedStyles(i,"right")),u<0&&(u=0,this.setAlignedStyles(i,"left"))),i.style.left=`${u}px`,i.style.top=`${o}px`;function h(){return r.right-n.left-2}function d(){return r.left-n.left-a}}positionPopupUnderMouseEvent(t){const{ePopup:e,nudgeX:i,nudgeY:s,skipObserver:r}=t;this.positionPopup({ePopup:e,nudgeX:i,nudgeY:s,keepWithinBounds:!0,skipObserver:r,updatePosition:()=>this.calculatePointerAlign(t.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(t.type,t.ePopup,null,t.mouseEvent,t.column,t.rowNode)})}calculatePointerAlign(t){const e=this.getParentRect();return{x:t.clientX-e.left,y:t.clientY-e.top}}positionPopupByComponent(t){const{ePopup:e,nudgeX:i,nudgeY:s,keepWithinBounds:r,eventSource:n,alignSide:o="left",position:a="over",column:l,rowNode:c,type:u}=t,h=n.getBoundingClientRect(),d=this.getParentRect(),g=this.getPopupIndex(e);if(g!==-1){const f=this.popupList[g];f.alignedToElement=n}const p=()=>{let f=h.left-d.left;o==="right"&&(f-=e.offsetWidth-h.width);let C;return a==="over"?(C=h.top-d.top,this.setAlignedStyles(e,"over")):(this.setAlignedStyles(e,"under"),this.shouldRenderUnderOrAbove(e,h,d,t.nudgeY||0)==="under"?C=h.top-d.top+h.height:C=h.top-e.offsetHeight-(s||0)*2-d.top),{x:f,y:C}};this.positionPopup({ePopup:e,nudgeX:i,nudgeY:s,keepWithinBounds:r,updatePosition:p,postProcessCallback:()=>this.callPostProcessPopup(u,e,n,null,l,c)})}shouldRenderUnderOrAbove(t,e,i,s){const r=i.bottom-e.bottom,n=e.top-i.top,o=t.offsetHeight+s;return r>o?"under":n>o||n>r?"above":"under"}setAlignedStyles(t,e){const i=this.getPopupIndex(t);if(i===-1)return;const s=this.popupList[i],{alignedToElement:r}=s;!r||(["right","left","over","above","under"].forEach(o=>{r.classList.remove(`ag-has-popup-positioned-${o}`),t.classList.remove(`ag-popup-positioned-${o}`)}),!e)||(r.classList.add(`ag-has-popup-positioned-${e}`),t.classList.add(`ag-popup-positioned-${e}`))}callPostProcessPopup(t,e,i,s,r,n){const o=this.gos.getCallback("postProcessPopup");o&&o({column:r,rowNode:n,ePopup:e,type:t,eventSource:i,mouseEvent:s})}positionPopup(t){const{ePopup:e,keepWithinBounds:i,nudgeX:s,nudgeY:r,skipObserver:n,updatePosition:o}=t,a={width:0,height:0},l=(c=!1)=>{let{x:u,y:h}=o();c&&e.clientWidth===a.width&&e.clientHeight===a.height||(a.width=e.clientWidth,a.height=e.clientHeight,s&&(u+=s),r&&(h+=r),i&&(u=this.keepXYWithinBounds(e,u,1),h=this.keepXYWithinBounds(e,h,0)),e.style.left=`${u}px`,e.style.top=`${h}px`,t.postProcessCallback&&t.postProcessCallback())};if(l(),!n){const c=this.resizeObserverService.observeResize(e,()=>l(!0));setTimeout(()=>c(),RO)}}getActivePopups(){return this.popupList.map(t=>t.element)}getPopupList(){return this.popupList}getParentRect(){const t=st(this.gos);let e=this.getPopupParent();return e===t.body?e=t.documentElement:getComputedStyle(e).position==="static"&&(e=e.offsetParent),G0(e)}keepXYWithinBounds(t,e,i){const s=i===0,r=s?"clientHeight":"clientWidth",n=s?"top":"left",o=s?"height":"width",a=s?"scrollTop":"scrollLeft",l=st(this.gos),c=l.documentElement,u=this.getPopupParent(),h=t.getBoundingClientRect(),d=u.getBoundingClientRect(),g=l.documentElement.getBoundingClientRect(),p=u===l.body,f=Math.ceil(h[o]);let m=p?(s?N0:qu)(c)+c[a]:u[r];p&&(m-=Math.abs(g[n]-d[n]));const v=m-f;return Math.min(Math.max(e,0),Math.abs(v))}addPopup(t){const e=st(this.gos),{eChild:i,ariaLabel:s,alwaysOnTop:r,positionCallback:n,anchorToElement:o}=t;if(!e)return _("could not find the document, document is empty"),{hideFunc:()=>{}};const a=this.getPopupIndex(i);if(a!==-1)return{hideFunc:this.popupList[a].hideFunc};this.initialisePopupPosition(i);const l=this.createPopupWrapper(i,s,!!r),c=this.addEventListenersToPopup({...t,wrapperEl:l});return n&&n(),this.addPopupToPopupList(i,l,c,o),{hideFunc:c}}initialisePopupPosition(t){const i=this.getPopupParent().getBoundingClientRect();K(t.style.top)||(t.style.top=`${i.top*-1}px`),K(t.style.left)||(t.style.left=`${i.left*-1}px`)}createPopupWrapper(t,e,i){const s=this.getPopupParent(),r=document.createElement("div");return this.environment.applyThemeClasses(r),r.classList.add("ag-popup"),t.classList.add(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),t.hasAttribute("role")||ns(t,"dialog"),Eo(t,e),r.appendChild(t),s.appendChild(r),i?this.setAlwaysOnTop(t,!0):this.bringPopupToFront(t),r}handleThemeChange(t){if(t.themeChanged)for(const e of this.popupList)this.environment.applyThemeClasses(e.wrapper)}addEventListenersToPopup(t){const e=st(this.gos),i=this.getPopupParent(),{wrapperEl:s,eChild:r,closedCallback:n,afterGuiAttached:o,closeOnEsc:a,modal:l}=t;let c=!1;const u=p=>{if(!s.contains(Ze(this.gos)))return;p.key===B.ESCAPE&&!Is(p)&&g({keyboardEvent:p})},h=p=>g({mouseEvent:p}),d=p=>g({touchEvent:p}),g=(p={})=>{const{mouseEvent:f,touchEvent:C,keyboardEvent:m,forceHide:v}=p;!v&&(this.isEventFromCurrentPopup({mouseEvent:f,touchEvent:C},r)||c)||(c=!0,i.removeChild(s),e.removeEventListener("keydown",u),e.removeEventListener("mousedown",h),e.removeEventListener("touchstart",d),e.removeEventListener("contextmenu",h),this.eventService.removeEventListener("dragStarted",h),n&&n(f||C||m),this.removePopupFromPopupList(r))};return o&&o({hidePopup:g}),window.setTimeout(()=>{a&&e.addEventListener("keydown",u),l&&(e.addEventListener("mousedown",h),this.eventService.addEventListener("dragStarted",h),e.addEventListener("touchstart",d),e.addEventListener("contextmenu",h))},0),g}addPopupToPopupList(t,e,i,s){this.popupList.push({element:t,wrapper:e,hideFunc:i,instanceId:SO++,isAnchored:!!s}),s&&this.setPopupPositionRelatedToElement(t,s)}getPopupIndex(t){return this.popupList.findIndex(e=>e.element===t)}setPopupPositionRelatedToElement(t,e){const i=this.getPopupIndex(t);if(i===-1)return;const s=this.popupList[i];if(s.stopAnchoringPromise&&s.stopAnchoringPromise.then(n=>n&&n()),s.stopAnchoringPromise=void 0,s.isAnchored=!1,!e)return;const r=this.keepPopupPositionedRelativeTo({element:e,ePopup:t,hidePopup:s.hideFunc});return s.stopAnchoringPromise=r,s.isAnchored=!0,r}removePopupFromPopupList(t){this.setAlignedStyles(t,null),this.setPopupPositionRelatedToElement(t,null),this.popupList=this.popupList.filter(e=>e.element!==t)}keepPopupPositionedRelativeTo(t){const e=this.getPopupParent(),i=e.getBoundingClientRect(),{element:s,ePopup:r}=t,n=s.getBoundingClientRect(),o=h=>parseInt(h.substring(0,h.length-1),10),a=(h,d)=>{const g=i[h]-n[h],p=o(r.style[h]);return{initialDiff:g,lastDiff:g,initial:p,last:p,direction:d}},l=a("top",0),c=a("left",1),u=this.getFrameworkOverrides();return new it(h=>{u.wrapIncoming(()=>{u.setInterval(()=>{const d=e.getBoundingClientRect(),g=s.getBoundingClientRect();if(g.top==0&&g.left==0&&g.height==0&&g.width==0){t.hidePopup();return}const f=(C,m)=>{const v=o(r.style[m]);C.last!==v&&(C.initial=v,C.last=v);const y=d[m]-g[m];if(y!=C.lastDiff){const w=this.keepXYWithinBounds(r,C.initial+C.initialDiff-y,C.direction);r.style[m]=`${w}px`,C.last=w}C.lastDiff=y};f(l,"top"),f(c,"left")},200).then(d=>{h(()=>{d!=null&&window.clearInterval(d)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(t=>t.isAnchored)}isEventFromCurrentPopup(t,e){const{mouseEvent:i,touchEvent:s}=t,r=i||s;if(!r)return!1;const n=this.getPopupIndex(e);if(n===-1)return!1;for(let o=n;o<this.popupList.length;o++){const a=this.popupList[o];if(iM(a.element,r))return!0}return this.isElementWithinCustomPopup(r.target)}isElementWithinCustomPopup(t){const e=st(this.gos);for(;t&&t!==e.body;){if(t.classList.contains("ag-custom-component-popup")||t.parentElement===null)return!0;t=t.parentElement}return!1}getWrapper(t){for(;!t.classList.contains("ag-popup")&&t.parentElement;)t=t.parentElement;return t.classList.contains("ag-popup")?t:null}setAlwaysOnTop(t,e){const i=this.getWrapper(t);i&&(i.classList.toggle("ag-always-on-top",!!e),e&&this.bringPopupToFront(i))}bringPopupToFront(t){const e=this.getPopupParent(),i=Array.prototype.slice.call(e.querySelectorAll(".ag-popup")),s=i.length,r=this.getWrapper(t);if(!r||s<=1||!e.contains(t))return;const n=[],o=[];for(const d of i)d!==r&&(d.classList.contains("ag-always-on-top")?o.push(d):n.push(d));const a=[],l=o.length,h=r.classList.contains("ag-always-on-top")||!l?[...n,...o,r]:[...n,r,...o];for(let d=0;d<=s;d++){const g=h[d];if(i[d]===h[d]||g===r)continue;g.querySelectorAll("div").forEach(f=>{f.scrollTop!==0&&a.push([f,f.scrollTop])}),d===0?e.insertAdjacentElement("afterbegin",g):h[d-1].insertAdjacentElement("afterend",g)}for(;a.length;){const d=a.pop();d[0].scrollTop=d[1]}}},AO=["touchstart","touchend","touchmove","touchcancel"],BR=class{constructor(t="javascript"){this.frameworkName=t,this.renderingEngine="vanilla",this.wrapIncoming=e=>e(),this.wrapOutgoing=e=>e()}setInterval(t,e){return new it(i=>{i(window.setInterval(t,e))})}addEventListener(t,e,i,s){const r=cn(AO,e);t.addEventListener(e,i,{capture:!!s,passive:r})}get shouldWrapOutgoing(){return!1}frameworkComponent(t){return null}isFrameworkComponent(t){return!1}getDocLink(t){return`https://www.ag-grid.com/${this.frameworkName==="solid"?"react":this.frameworkName}-data-grid${t?`/${t}`:""}`}},PO=class extends W{constructor(){super(...arguments),this.beanName="cellNavigationService"}wireBeans(t){this.visibleColsService=t.visibleColsService,this.rowModel=t.rowModel,this.rowRenderer=t.rowRenderer,this.pinnedRowModel=t.pinnedRowModel,this.paginationService=t.paginationService,this.pageBoundsService=t.pageBoundsService}getNextCellToFocus(t,e,i=!1){return i?this.getNextCellToFocusWithCtrlPressed(t,e):this.getNextCellToFocusWithoutCtrlPressed(t,e)}getNextCellToFocusWithCtrlPressed(t,e){const i=t===B.UP,s=t===B.DOWN,r=t===B.LEFT;let n,o;if(i||s)o=i?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow(),n=e.column;else{const a=this.visibleColsService.getAllCols(),l=this.gos.get("enableRtl");o=e.rowIndex,n=r!==l?a[0]:xe(a)}return{rowIndex:o,rowPinned:null,column:n}}getNextCellToFocusWithoutCtrlPressed(t,e){let i=e,s=!1;for(;!s;){switch(t){case B.UP:i=this.getCellAbove(i);break;case B.DOWN:i=this.getCellBelow(i);break;case B.RIGHT:this.gos.get("enableRtl")?i=this.getCellToLeft(i):i=this.getCellToRight(i);break;case B.LEFT:this.gos.get("enableRtl")?i=this.getCellToRight(i):i=this.getCellToLeft(i);break;default:i=null,_("unknown key for navigation ",t);break}i?s=this.isCellGoodToFocusOn(i):s=!0}return i}isCellGoodToFocusOn(t){const e=t.column;let i;switch(t.rowPinned){case"top":i=this.pinnedRowModel.getPinnedTopRow(t.rowIndex);break;case"bottom":i=this.pinnedRowModel.getPinnedBottomRow(t.rowIndex);break;default:i=this.rowModel.getRow(t.rowIndex);break}return i?!e.isSuppressNavigable(i):!1}getCellToLeft(t){if(!t)return null;const e=this.visibleColsService.getColBefore(t.column);return e?{rowIndex:t.rowIndex,column:e,rowPinned:t.rowPinned}:null}getCellToRight(t){if(!t)return null;const e=this.visibleColsService.getColAfter(t.column);return e?{rowIndex:t.rowIndex,column:e,rowPinned:t.rowPinned}:null}getRowBelow(t){const e=t.rowIndex,i=t.rowPinned;let s=!1;if(this.isLastRowInContainer(t))switch(i){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.pageBoundsService.getFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}else i&&(s=!0);const r=this.rowModel.getRow(t.rowIndex),n=s?void 0:this.getNextStickyPosition(r);return n||{rowIndex:e+1,rowPinned:i}}getNextStickyPosition(t,e){if(!Ih(this.gos)||!t||!t.sticky)return;const i=this.rowRenderer.getStickyTopRowCtrls().some(a=>a.getRowNode().rowIndex===t.rowIndex);let s=[];i?s=[...this.rowRenderer.getStickyTopRowCtrls()].sort((a,l)=>a.getRowNode().rowIndex-l.getRowNode().rowIndex):s=[...this.rowRenderer.getStickyBottomRowCtrls()].sort((a,l)=>l.getRowNode().rowIndex-a.getRowNode().rowIndex);const r=e?-1:1,n=s.findIndex(a=>a.getRowNode().rowIndex===t.rowIndex),o=s[n+r];if(o)return{rowIndex:o.getRowNode().rowIndex,rowPinned:null}}getCellBelow(t){if(!t)return null;const e=this.getRowBelow(t);return e?{rowIndex:e.rowIndex,column:t.column,rowPinned:e.rowPinned}:null}isLastRowInContainer(t){const e=t.rowPinned,i=t.rowIndex;return e==="top"?this.pinnedRowModel.getPinnedTopRowCount()-1<=i:e==="bottom"?this.pinnedRowModel.getPinnedBottomRowCount()-1<=i:this.pageBoundsService.getLastRow()<=i}getRowAbove(t){const e=t.rowIndex,i=t.rowPinned,s=i?e===0:e===this.pageBoundsService.getFirstRow();let r=!1;if(s)return i==="top"?null:i?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;i&&(r=!0);const n=this.rowModel.getRow(t.rowIndex),o=r?void 0:this.getNextStickyPosition(n,!0);return o||{rowIndex:e-1,rowPinned:i}}getCellAbove(t){if(!t)return null;const e=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});return e?{rowIndex:e.rowIndex,column:t.column,rowPinned:e.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.pageBoundsService.getLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowCount()-1,rowPinned:"top"}}getNextTabbedCell(t,e){return e?this.getNextTabbedCellBackwards(t):this.getNextTabbedCellForwards(t)}getNextTabbedCellForwards(t){var n;const e=this.visibleColsService.getAllCols();let i=t.rowIndex,s=t.rowPinned,r=this.visibleColsService.getColAfter(t.column);if(!r){r=e[0];const o=this.getRowBelow(t);if(be(o)||!o.rowPinned&&!(((n=this.paginationService)==null?void 0:n.isRowInPage(o))??!0))return null;i=o?o.rowIndex:null,s=o?o.rowPinned:null}return{rowIndex:i,column:r,rowPinned:s}}getNextTabbedCellBackwards(t){var n;const e=this.visibleColsService.getAllCols();let i=t.rowIndex,s=t.rowPinned,r=this.visibleColsService.getColBefore(t.column);if(!r){r=xe(e);const o=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});if(be(o)||!o.rowPinned&&!(((n=this.paginationService)==null?void 0:n.isRowInPage(o))??!0))return null;i=o?o.rowIndex:null,s=o?o.rowPinned:null}return{rowIndex:i,column:r,rowPinned:s}}},Gt=(t,e)=>{for(const i in e)e[i]=t;return e},aw={...Gt("@ag-grid-community/core",{dispatchEvent:0,destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,getState:0,setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0,redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRow:0,getFirstDisplayedRowIndex:0,getLastDisplayedRow:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0,getModel:0,getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0,getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0,addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0,expireValueCache:0,getValue:0,getCellValue:0,showColumnMenuAfterButtonClick:0,showColumnMenuAfterMouseClick:0,showColumnMenu:0,hidePopupMenu:0,onSortChanged:0,getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0,setGridAriaProperty:0,refreshCells:0,flashCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0,addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getColumnDef:0,getColumnDefs:0,sizeColumnsToFit:0,setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumn:0,getDisplayNameForColumnGroup:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnVisible:0,setColumnsVisible:0,setColumnPinned:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0,moveColumn:0,moveColumnByIndex:0,moveColumns:0,setColumnWidth:0,setColumnWidths:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0,autoSizeColumn:0,autoSizeColumns:0,autoSizeAllColumns:0,undoCellEditing:0,redoCellEditing:0,getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0,getCurrentUndoSize:0,getCurrentRedoSize:0,isAnyFilterPresent:0,onFilterChanged:0,isColumnFilterPresent:0,getFilterInstance:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0,paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0,expandAll:0,collapseAll:0,onRowHeightChanged:0,setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...Gt("@ag-grid-community/client-side-row-model",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...Gt("@ag-grid-community/csv-export",{getDataAsCsv:0,exportDataAsCsv:0}),...Gt("@ag-grid-community/infinite-row-model",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...Gt("@ag-grid-enterprise/advanced-filter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...Gt("@ag-grid-enterprise/charts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...Gt("@ag-grid-enterprise/clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...Gt("@ag-grid-enterprise/excel-export",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...Gt("@ag-grid-enterprise/master-detail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...Gt("@ag-grid-enterprise/menu",{showContextMenu:0,showColumnChooser:0,hideColumnChooser:0}),...Gt("@ag-grid-enterprise/range-selection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...Gt("@ag-grid-enterprise/row-grouping",{addAggFunc:0,addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0,isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumn:0,removeValueColumns:0,addValueColumn:0,addValueColumns:0,setRowGroupColumns:0,removeRowGroupColumn:0,removeRowGroupColumns:0,addRowGroupColumn:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0,setPivotColumns:0,removePivotColumn:0,removePivotColumns:0,addPivotColumn:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...Gt("@ag-grid-enterprise/server-side-row-model",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...Gt("@ag-grid-enterprise/side-bar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...Gt("@ag-grid-enterprise/status-bar",{getStatusPanel:0})},ng={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},EO=(t,e)=>t.eventService.dispatchEvent(e),WR=class{};Reflect.defineProperty(WR,"name",{value:"GridApi"});var kO=class extends W{constructor(){super(),this.beanName="apiFunctionService",this.api=new WR,this.fns={...ng,dispatchEvent:EO},this.beans=null,this.preDestroyLink="";const{api:t}=this;for(const e in aw)t[e]=this.makeApi(e)[e]}wireBeans(t){this.beans=t}postConstruct(){this.preDestroyLink=this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(t,e){var r;const{fns:i,beans:s}=this;i!==ng&&(i[t]=((r=s==null?void 0:s.validationService)==null?void 0:r.validateApiFunction(t,e))??e)}makeApi(t){return{[t]:(...e)=>{const{beans:i,fns:{[t]:s}}=this;return s?s(i,...e):this.apiNotFound(t)}}}apiNotFound(t){const{beans:e,gos:i,preDestroyLink:s}=this;if(!e)_(`Grid API function ${t}() cannot be called as the grid has been destroyed.
Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${s}`);else{const r=aw[t];i.assertModuleRegistered(r,`api.${t}`)&&_(`API function '${t}' not registered to module '${r}'`)}}destroy(){super.destroy(),this.fns=ng,this.beans=null}};function MO(t){return{beanName:"gridApi",bean:t.getBean("apiFunctionService").api}}var TO=class extends W{constructor(){super(...arguments),this.beanName="columnDefFactory"}buildColumnDefs(t,e,i){const s=[],r={};return t.forEach(n=>{const o=this.createDefFromColumn(n,e,i);let a=!0,l=o,c=n.getOriginalParent(),u=null;for(;c;){let h=null;if(c.isPadding()){c=c.getOriginalParent();continue}const d=r[c.getGroupId()];if(d){d.children.push(l),a=!1;break}if(h=this.createDefFromGroup(c),h&&(h.children=[l],r[h.groupId]=h,l=h,c=c.getOriginalParent()),c!=null&&u===c){a=!1;break}u=c}a&&s.push(l)}),s}createDefFromGroup(t){const e=Up(t.getColGroupDef(),["children"]);return e&&(e.groupId=t.getGroupId()),e}createDefFromColumn(t,e,i){const s=Up(t.getColDef());return s.colId=t.getColId(),s.width=t.getActualWidth(),s.rowGroup=t.isRowGroupActive(),s.rowGroupIndex=t.isRowGroupActive()?e.indexOf(t):null,s.pivot=t.isPivotActive(),s.pivotIndex=t.isPivotActive()?i.indexOf(t):null,s.aggFunc=t.isValueActive()?t.getAggFunc():null,s.hide=t.isVisible()?void 0:!0,s.pinned=t.isPinned()?t.getPinned():null,s.sort=t.getSort()?t.getSort():null,s.sortIndex=t.getSortIndex()!=null?t.getSortIndex():null,s}},DO=class extends W{constructor(){super(...arguments),this.beanName="columnEventDispatcher"}visibleCols(t){this.eventService.dispatchEvent({type:"displayedColumnsChanged",source:t})}gridColumns(){this.eventService.dispatchEvent({type:"gridColumnsChanged"})}headerHeight(t){this.eventService.dispatchEvent({type:"columnHeaderHeightChanged",column:t,columns:[t],source:"autosizeColumnHeaderHeight"})}groupHeaderHeight(t){this.eventService.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:t,source:"autosizeColumnGroupHeaderHeight"})}groupOpened(t){this.eventService.dispatchEvent({type:"columnGroupOpened",columnGroup:t.length===1?t[0]:void 0,columnGroups:t})}rowGroupChanged(t,e){this.eventService.dispatchEvent({type:"columnRowGroupChanged",columns:t,column:t.length===1?t[0]:null,source:e})}genericColumnEvent(t,e,i){this.eventService.dispatchEvent({type:t,columns:e,column:e.length===1?e[0]:null,source:i})}pivotModeChanged(){this.eventService.dispatchEvent({type:"columnPivotModeChanged"})}virtualColumnsChanged(t){this.eventService.dispatchEvent({type:"virtualColumnsChanged",afterScroll:t})}newColumnsLoaded(t){this.eventService.dispatchEvent({type:"newColumnsLoaded",source:t})}everythingChanged(t){this.eventService.dispatchEvent({type:"columnEverythingChanged",source:t})}columnMoved(t){const{movedColumns:e,source:i,toIndex:s,finished:r}=t;this.eventService.dispatchEvent({type:"columnMoved",columns:e,column:e&&e.length===1?e[0]:null,toIndex:s,finished:r,source:i})}columnPinned(t,e){if(!t.length)return;const i=t.length===1?t[0]:null,s=this.getCommonValue(t,r=>r.getPinned());this.eventService.dispatchEvent({type:"columnPinned",pinned:s??null,columns:t,column:i,source:e})}columnVisible(t,e){if(!t.length)return;const i=t.length===1?t[0]:null,s=this.getCommonValue(t,r=>r.isVisible());this.eventService.dispatchEvent({type:"columnVisible",visible:s,columns:t,column:i,source:e})}getCommonValue(t,e){if(!t||t.length==0)return;const i=e(t[0]);for(let s=1;s<t.length;s++)if(i!==e(t[s]))return;return i}columnChanged(t,e,i){this.eventService.dispatchEvent({type:t,columns:e,column:e&&e.length==1?e[0]:null,source:i})}columnResized(t,e,i,s=null){t&&t.length&&this.eventService.dispatchEvent({type:"columnResized",columns:t,column:t.length===1?t[0]:null,flexColumns:s,finished:e,source:i})}},LO=class extends W{constructor(){super(...arguments),this.beanName="columnGetStateService"}wireBeans(t){this.columnModel=t.columnModel,this.funcColsService=t.funcColsService}getColumnState(){const t=this.columnModel.getColDefCols();if(be(t)||!this.columnModel.isAlive())return[];const i=this.columnModel.getAllCols().map(s=>this.createStateItemFromColumn(s));return this.orderColumnStateList(i),i}createStateItemFromColumn(t){const e=this.funcColsService.getRowGroupColumns(),i=this.funcColsService.getPivotColumns(),s=t.isRowGroupActive()?e.indexOf(t):null,r=t.isPivotActive()?i.indexOf(t):null,n=t.isValueActive()?t.getAggFunc():null,o=t.getSort()!=null?t.getSort():null,a=t.getSortIndex()!=null?t.getSortIndex():null,l=t.getFlex()!=null&&t.getFlex()>0?t.getFlex():null;return{colId:t.getColId(),width:t.getActualWidth(),hide:!t.isVisible(),pinned:t.getPinned(),sort:o,sortIndex:a,aggFunc:n,rowGroup:t.isRowGroupActive(),rowGroupIndex:s,pivot:t.isPivotActive(),pivotIndex:r,flex:l}}orderColumnStateList(t){const e=this.columnModel.getCols(),i=new Map(e.map((s,r)=>[s.getColId(),r]));t.sort((s,r)=>{const n=i.has(s.colId)?i.get(s.colId):-1,o=i.has(r.colId)?i.get(r.colId):-1;return n-o})}},IO=class extends W{constructor(){super(...arguments),this.beanName="columnGroupStateService"}wireBeans(t){this.columnModel=t.columnModel,this.columnAnimationService=t.columnAnimationService,this.eventDispatcher=t.columnEventDispatcher,this.visibleColsService=t.visibleColsService}getColumnGroupState(){const t=[],e=this.columnModel.getColTree();return zs(null,e,i=>{zt(i)&&t.push({groupId:i.getGroupId(),open:i.isExpanded()})}),t}resetColumnGroupState(t){const e=this.columnModel.getColDefColTree();if(!e)return;const i=[];zs(null,e,s=>{if(zt(s)){const r=s.getColGroupDef(),n={groupId:s.getGroupId(),open:r?r.openByDefault:void 0};i.push(n)}}),this.setColumnGroupState(i,t)}setColumnGroupState(t,e){if(!this.columnModel.getColTree())return;this.columnAnimationService.start();const s=[];t.forEach(r=>{const n=r.groupId,o=r.open,a=this.columnModel.getProvidedColGroup(n);a&&a.isExpanded()!==o&&(a.setExpanded(o),s.push(a))}),this.visibleColsService.refresh(e,!0),s.length&&this.eventDispatcher.groupOpened(s),this.columnAnimationService.finish()}},OO=class extends W{constructor(){super(...arguments),this.beanName="columnViewportService",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(t){this.visibleColsService=t.visibleColsService,this.columnModel=t.columnModel,this.eventDispatcher=t.columnEventDispatcher}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(t,e,i=!1){const s=this.visibleColsService.isBodyWidthDirty();if(!(t===this.scrollWidth&&e===this.scrollPosition&&!s)){if(this.scrollWidth=t,this.scrollPosition=e,this.visibleColsService.setBodyWidthDirty(),this.gos.get("enableRtl")){const n=this.visibleColsService.getBodyContainerWidth();this.viewportLeft=n-this.scrollPosition-this.scrollWidth,this.viewportRight=n-this.scrollPosition}else this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition;this.columnModel.isReady()&&this.checkViewportColumns(i)}}getHeadersToRender(t,e){let i;switch(t){case"left":i=this.rowsOfHeadersToRenderLeft[e];break;case"right":i=this.rowsOfHeadersToRenderRight[e];break;default:i=this.rowsOfHeadersToRenderCenter[e];break}return i||[]}extractViewportColumns(){const t=this.visibleColsService.getCenterCols();this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=t,this.headerColsWithinViewport=t):(this.colsWithinViewport=t.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=t.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(t){return t.isAutoHeaderHeight()||this.isAnyParentAutoHeaderHeight(t)?!0:this.isColumnInRowViewport(t)}isAnyParentAutoHeaderHeight(t){for(;t;){if(t.isAutoHeaderHeight())return!0;t=t.getParent()}return!1}isColumnInRowViewport(t){if(t.isAutoHeight())return!0;const e=t.getLeft()||0,i=e+t.getActualWidth(),s=this.viewportLeft-200,r=this.viewportRight+200,n=e<s&&i<s,o=e>r&&i>r;return!n&&!o}getViewportColumns(){const t=this.visibleColsService.getLeftCols(),e=this.visibleColsService.getRightCols();return this.colsWithinViewport.concat(t).concat(e)}getColsWithinViewport(t){if(!this.columnModel.isColSpanActive())return this.colsWithinViewport;const e=r=>{const n=r.getLeft();return K(n)&&n>this.viewportLeft},i=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),s=this.visibleColsService.getColsCenter();return this.visibleColsService.getColsForRow(t,s,i,e)}checkViewportColumns(t=!1){this.extractViewport()&&this.eventDispatcher.virtualColumnsChanged(t)}calculateHeaderRows(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={};const t={},e=this.visibleColsService.getLeftCols(),i=this.visibleColsService.getRightCols();this.headerColsWithinViewport.concat(e).concat(i).forEach(n=>t[n.getId()]=!0);const r=(n,o,a)=>{let l=!1;for(let c=0;c<n.length;c++){const u=n[c];let h=!1;if(Fr(u))h=t[u.getId()]===!0;else{const g=u.getDisplayedChildren();g&&(h=r(g,o,a+1))}h&&(l=!0,o[a]||(o[a]=[]),o[a].push(u))}return l};r(this.visibleColsService.getTreeLeft(),this.rowsOfHeadersToRenderLeft,0),r(this.visibleColsService.getTreeRight(),this.rowsOfHeadersToRenderRight,0),r(this.visibleColsService.getTreeCenter(),this.rowsOfHeadersToRenderCenter,0)}extractViewport(){const t=s=>`${s.getId()}-${s.getPinned()||"normal"}`;this.extractViewportColumns();const e=this.getViewportColumns().map(t).join("#"),i=this.colsWithinViewportHash!==e;return i&&(this.colsWithinViewportHash=e,this.calculateHeaderRows()),i}},HO=class extends W{constructor(){super(...arguments),this.beanName="agComponentUtils"}wireBeans(t){this.componentMetadataProvider=t.componentMetadataProvider}adaptFunction(t,e){const i=this.componentMetadataProvider.retrieve(t);return i&&i.functionAdapter?i.functionAdapter(e):null}adaptCellRendererFunction(t){class e{refresh(){return!1}getGui(){return this.eGui}init(s){const r=t(s),n=typeof r;if(n==="string"||n==="number"||n==="boolean"){this.eGui=vl("<span>"+r+"</span>");return}if(r==null){this.eGui=vl("<span></span>");return}this.eGui=r}}return e}doesImplementIComponent(t){return t?t.prototype&&"getGui"in t.prototype:!1}},NO=class extends W{constructor(){super(...arguments),this.beanName="componentMetadataProvider"}wireBeans(t){this.agComponentUtils=t.agComponentUtils}postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},dragAndDropImageComponent:{mandatoryMethodList:["setIcon","setLabel"],optionalMethodList:[]},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}}retrieve(t){return this.componentMetaData[t]}},GO=["rowPositionUtils","cellPositionUtils","headerPositionUtils","paginationAutoPageSizeService","apiFunctionService","gridApi","userComponentRegistry","agComponentUtils","componentMetadataProvider","resizeObserverService","userComponentFactory","rowContainerHeightService","horizontalResizeService","localeService","validationService","pinnedRowModel","dragService","visibleColsService","eventService","gos","popupService","selectionService","columnFilterService","quickFilterService","filterManager","columnModel","headerNavigationService","pageBoundsService","paginationService","pageBoundsListener","rowRenderer","expressionService","columnFactory","alignedGridsService","navigationService","valueCache","valueService","loggerFactory","autoWidthCalculator","filterMenuFactory","dragAndDropService","focusService","mouseEventService","environment","cellNavigationService","stylingService","scrollVisibleService","sortController","columnHoverService","columnAnimationService","selectableService","autoColService","controlsColService","changeDetectionService","animationFrameService","undoRedoService","columnDefFactory","rowCssClassCalculator","rowNodeBlockLoader","rowNodeSorter","ctrlsService","pinnedWidthService","rowNodeEventThrottle","ctrlsFactory","dataTypeService","syncService","overlayService","stateService","expansionService","apiEventService","ariaAnnouncementService","menuService","columnApplyStateService","columnEventDispatcher","columnMoveService","columnAutosizeService","columnGetStateService","columnGroupStateService","columnSizeService","funcColsService","columnNameService","columnViewportService","pivotResultColsService","showRowGroupColsService"],lw=Object.fromEntries(GO.map((t,e)=>[t,e]));function BO(t,e){const i=(t.beanName?lw[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER,s=(e.beanName?lw[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return i-s}function WO(t,e){return(t==null?void 0:t.beanName)==="gridDestroyService"?-1:0}var zO=class extends W{constructor(){super(...arguments),this.beanName="ctrlsFactory",this.registry={}}register(t){this.registry[t.name]=t.classImp}getInstance(t,...e){const i=this.registry[t];if(i!=null)return new i(...e)}},VO=class extends W{constructor(){super(...arguments),this.beanName="ctrlsService",this.params={gridCtrl:void 0,gridBodyCtrl:void 0,center:void 0,left:void 0,right:void 0,bottomCenter:void 0,bottomLeft:void 0,bottomRight:void 0,topCenter:void 0,topLeft:void 0,topRight:void 0,stickyTopCenter:void 0,stickyTopLeft:void 0,stickyTopRight:void 0,stickyBottomCenter:void 0,stickyBottomLeft:void 0,stickyBottomRight:void 0,fakeHScrollComp:void 0,fakeVScrollComp:void 0,gridHeaderCtrl:void 0,centerHeader:void 0,leftHeader:void 0,rightHeader:void 0},this.ready=!1,this.readyCallbacks=[],this.runReadyCallbacksAsync=!1}wireBeans(t){var e,i;this.runReadyCallbacksAsync=((i=(e=t.frameworkOverrides).runWhenReadyAsync)==null?void 0:i.call(e))??!1}postConstruct(){this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(t=>t(this.params)),this.readyCallbacks.length=0)},this.runReadyCallbacksAsync)}updateReady(){this.ready=Object.values(this.params).every(t=>(t==null?void 0:t.isAlive())??!1)}whenReady(t,e){this.ready?e(this.params):this.readyCallbacks.push(e),t.addDestroyFunc(()=>{const i=this.readyCallbacks.indexOf(e);i>=0&&this.readyCallbacks.splice(i,1)})}register(t,e){this.params[t]=e,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),e.addDestroyFunc(()=>{this.updateReady()})}get(t){return this.params[t]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:t,centerHeader:e,rightHeader:i}=this.params;return[t,i,e]}getHeaderRowContainerCtrl(t){const e=this.params;switch(t){case"left":return e.leftHeader;case"right":return e.rightHeader;default:return e.centerHeader}}},_O=class extends W{constructor(){super(...arguments),this.beanName="cellPositionUtils"}createId(t){const{rowIndex:e,rowPinned:i,column:s}=t;return this.createIdFromValues({rowIndex:e,column:s,rowPinned:i})}createIdFromValues(t){const{rowIndex:e,rowPinned:i,column:s}=t;return`${e}.${i??"null"}.${s.getId()}`}equals(t,e){const i=t.column===e.column,s=t.rowPinned===e.rowPinned,r=t.rowIndex===e.rowIndex;return i&&s&&r}},UO=class extends W{constructor(){super(...arguments),this.beanName="rowNodeEventThrottle",this.events=[]}wireBeans(t){this.animationFrameService=t.animationFrameService,this.rowModel=t.rowModel}postConstruct(){Xe(this.gos)&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(t,e){if(this.clientSideRowModel==null){this.eventService.dispatchEvent(t);return}this.events.push(t);const i=()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach(s=>this.eventService.dispatchEvent(s)),this.events=[]};e?i():(this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(i)),this.dispatchExpandedDebounced())}},XO=class extends W{constructor(){super(...arguments),this.beanName="rowPositionUtils"}wireBeans(t){this.rowModel=t.rowModel,this.pinnedRowModel=t.pinnedRowModel,this.pageBoundsService=t.pageBoundsService}getFirstRow(){let t=0,e;return this.pinnedRowModel.getPinnedTopRowCount()?e="top":this.rowModel.getRowCount()?(e=null,t=this.pageBoundsService.getFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(e="bottom"),e===void 0?null:{rowIndex:t,rowPinned:e}}getLastRow(){let t,e=null;const i=this.pinnedRowModel.getPinnedBottomRowCount(),s=this.pinnedRowModel.getPinnedTopRowCount();return i?(e="bottom",t=i-1):this.rowModel.getRowCount()?(e=null,t=this.pageBoundsService.getLastRow()):s&&(e="top",t=s-1),t===void 0?null:{rowIndex:t,rowPinned:e}}getRowNode(t){switch(t.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRow(t.rowIndex);case"bottom":return this.pinnedRowModel.getPinnedBottomRow(t.rowIndex);default:return this.rowModel.getRow(t.rowIndex)}}sameRow(t,e){return!t&&!e?!0:t&&!e||!t&&e?!1:t.rowIndex===e.rowIndex&&t.rowPinned==e.rowPinned}before(t,e){switch(t.rowPinned){case"top":if(e.rowPinned!=="top")return!0;break;case"bottom":if(e.rowPinned!=="bottom")return!1;break;default:if(K(e.rowPinned))return e.rowPinned!=="top";break}return t.rowIndex<e.rowIndex}},cw={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},uw={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},hw={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},jO=class extends W{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.ancestorThemeClasses=[],this.sizesMeasured=!1,this.gridTheme=null}wireBeans(t){this.resizeObserverService=t.resizeObserverService,this.eGridDiv=t.eGridDiv}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addDestroyFunc(()=>this.stopUsingTheme()),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.ancestorThemeClasses=this.readAncestorThemeClasses(),this.setUpThemeClassObservers(),this.getSizeEl(cw),this.getSizeEl(uw),this.getSizeEl(hw)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(cw)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(uw)}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(hw)}hasMeasuredSizes(){return this.sizesMeasured}getGridThemeClass(){var t;return((t=this.gridTheme)==null?void 0:t.getCssClass())||null}getThemeClasses(){return this.gridTheme?[this.gridTheme.getCssClass()]:this.ancestorThemeClasses}applyThemeClasses(t){const e=this.getThemeClasses();for(const i of Array.from(t.classList))i.startsWith("ag-theme-")&&!e.includes(i)&&t.classList.remove(i);t.classList.add(...e)}refreshRowHeightVariable(){const t=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),e=this.gos.get("rowHeight");if(e==null||isNaN(e)||!isFinite(e))return t!==null&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;const i=`${e}px`;return t!=i?(this.eGridDiv.style.setProperty("--ag-line-height",i),e):t!=""?parseFloat(t):-1}getCSSVariablePixelValue(t){const e=this.lastKnownValues.get(t);if(e!=null)return e;const i=this.measureSizeEl(t);return i==="detached"||i==="no-styles"?t.defaultValue:(this.lastKnownValues.set(t,i),i)}measureSizeEl(t){const e=this.getSizeEl(t);if(e.offsetParent==null)return"detached";const i=e.offsetWidth;return i===dw?"no-styles":(this.sizesMeasured=!0,i)}getSizeEl(t){let e=this.sizeEls.get(t);if(e)return e;let i=this.eMeasurementContainer;i||(i=this.eMeasurementContainer=document.createElement("div"),i.className="ag-measurement-container",this.gos.get("theme")&&this.applyThemeClasses(i),this.eGridDiv.appendChild(i)),e=document.createElement("div"),e.style.width=`var(${t.cssName}, ${dw}px)`,i.appendChild(e),this.sizeEls.set(t,e);let s=this.measureSizeEl(t);s==="no-styles"&&_(`no value for ${t.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${t.defaultValue} will be used and updated when styles load.`);const r=this.resizeObserverService.observeResize(e,()=>{const n=this.measureSizeEl(t);n==="detached"||n==="no-styles"||(this.lastKnownValues.set(t,n),n!==s&&(s=n,this.fireGridStylesChangedEvent(t.changeKey)))});return this.addDestroyFunc(()=>r()),e}fireGridStylesChangedEvent(t){this.eventService.dispatchEvent({type:"gridStylesChanged",[t]:!0})}setUpThemeClassObservers(){const t=new MutationObserver(()=>{const i=this.readAncestorThemeClasses();YO(i,this.ancestorThemeClasses)||(this.ancestorThemeClasses=i,this.fireGridStylesChangedEvent("themeChanged"))});let e=this.eGridDiv;for(;e;)t.observe(e||this.eGridDiv,{attributes:!0,attributeFilter:["class"]}),e=e.parentElement;this.addDestroyFunc(()=>t.disconnect())}readAncestorThemeClasses(){let t=this.eGridDiv;const e=[];for(;t;){const i=Array.from(t.classList).filter(s=>s.startsWith("ag-theme-"));for(const s of i)e.includes(s)||e.unshift(s);t=t.parentElement}return Object.freeze(e)}handleThemeGridOptionChange(){const{gos:t,eMeasurementContainer:e,gridTheme:i}=this,s=t.get("theme")||null;s!==i&&(i==null||i.stopUse(),this.gridTheme=s,s==null||s.startUse({loadThemeGoogleFonts:t.get("loadThemeGoogleFonts"),container:this.eGridDiv}),e&&this.applyThemeClasses(e),this.fireGridStylesChangedEvent("themeChanged"))}stopUsingTheme(){var t;(t=this.gridTheme)==null||t.stopUse(),this.gridTheme=null}},YO=(t,e)=>t.length===e.length&&t.findIndex((i,s)=>t[s]!==e[s])===-1,dw=15538,$O=class extends W{constructor(){super(...arguments),this.beanName="eventService",this.globalEventService=new Vo}wireBeans(t){this.globalEventListener=t.globalEventListener,this.globalSyncEventListener=t.globalSyncEventListener}postConstruct(){if(this.globalEventListener){const t=Uu(this.gos);this.addGlobalListener(this.globalEventListener,t)}this.globalSyncEventListener&&this.addGlobalListener(this.globalSyncEventListener,!1)}addEventListener(t,e,i){this.globalEventService.addEventListener(t,e,i)}removeEventListener(t,e,i){this.globalEventService.removeEventListener(t,e,i)}addGlobalListener(t,e=!1){this.globalEventService.addGlobalListener(t,e)}removeGlobalListener(t,e=!1){this.globalEventService.removeGlobalListener(t,e)}dispatchLocalEvent(){}dispatchEvent(t){this.globalEventService.dispatchEvent(this.gos.addGridCommonParams(t))}dispatchEventOnce(t){this.globalEventService.dispatchEventOnce(this.gos.addGridCommonParams(t))}},Bv=class Si extends W{constructor(){super(...arguments),this.beanName="focusService"}wireBeans(e){this.eGridDiv=e.eGridDiv,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.headerNavigationService=e.headerNavigationService,this.headerPositionUtils=e.headerPositionUtils,this.rowRenderer=e.rowRenderer,this.rowPositionUtils=e.rowPositionUtils,this.cellPositionUtils=e.cellPositionUtils,this.navigationService=e.navigationService,this.ctrlsService=e.ctrlsService,this.filterManager=e.filterManager,this.rangeService=e.rangeService,this.advancedFilterService=e.advancedFilterService,this.overlayService=e.overlayService}static addKeyboardModeEvents(e){this.instanceCount>0||(e.addEventListener("keydown",Si.toggleKeyboardMode),e.addEventListener("mousedown",Si.toggleKeyboardMode))}static removeKeyboardModeEvents(e){this.instanceCount>0||(e.removeEventListener("keydown",Si.toggleKeyboardMode),e.removeEventListener("mousedown",Si.toggleKeyboardMode))}static toggleKeyboardMode(e){const i=Si.keyboardModeActive,s=e.type==="keydown";s&&(e.ctrlKey||e.metaKey||e.altKey)||i!==s&&(Si.keyboardModeActive=s)}postConstruct(){const e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(this,i=>{this.gridCtrl=i.gridCtrl})}registerKeyboardFocusEvents(){const e=st(this.gos);Si.addKeyboardModeEvents(e),Si.instanceCount++,this.addDestroyFunc(()=>{Si.instanceCount--,Si.removeKeyboardModeEvents(e)})}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;const e=this.focusedCellPosition.column,i=this.columnModel.getCol(e.getId());e!==i&&this.clearFocusedCell()}isKeyboardMode(){return Si.keyboardModeActive}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(Ze(this.gos),hn.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(Ze(this.gos),Bh.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(e,i){let s=e;for(;s;){if(hl(this.gos,s,i))return!1;s=s.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(e){return this.isCellRestoreFocused(e)?(setTimeout(()=>{this.restoredFocusedCellPosition=null},0),!0):!1}clearRestoreFocus(){this.restoredFocusedCellPosition=null,this.awaitRestoreFocusedCell=!1}restoreFocusedCell(e,i){this.awaitRestoreFocusedCell=!0,setTimeout(()=>{this.awaitRestoreFocusedCell&&(this.setRestoreFocusedCell(e),i())})}isCellRestoreFocused(e){return this.restoredFocusedCellPosition==null?!1:this.cellPositionUtils.equals(e,this.restoredFocusedCellPosition)}setRestoreFocusedCell(e){this.getFrameworkOverrides().renderingEngine==="react"&&(this.restoredFocusedCellPosition=e)}getFocusEventParams(e){const{rowIndex:i,rowPinned:s,column:r}=e,n={rowIndex:i,rowPinned:s,column:r,isFullWidthCell:!1},o=this.rowRenderer.getRowByPosition({rowIndex:i,rowPinned:s});return o&&(n.isFullWidthCell=o.isFullWidth()),n}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,this.focusedCellPosition==null)return;const e=this.getFocusEventParams(this.focusedCellPosition);this.focusedCellPosition=null,this.eventService.dispatchEvent({type:"cellFocusCleared",...e})}setFocusedCell(e){const{column:i,rowIndex:s,rowPinned:r,forceBrowserFocus:n=!1,preventScrollOnBrowserFocus:o=!1}=e,a=this.columnModel.getCol(i);if(!a){this.focusedCellPosition=null;return}this.focusedCellPosition={rowIndex:s,rowPinned:Ls(r),column:a},this.eventService.dispatchEvent({type:"cellFocused",...this.getFocusEventParams(this.focusedCellPosition),forceBrowserFocus:n,preventScrollOnBrowserFocus:o})}isCellFocused(e){return this.focusedCellPosition==null?!1:this.cellPositionUtils.equals(e,this.focusedCellPosition)}isRowNodeFocused(e){return this.isRowFocused(e.rowIndex,e.rowPinned)}isHeaderWrapperFocused(e){if(this.focusedHeaderPosition==null)return!1;const i=e.getColumnGroupChild(),s=e.getRowIndex(),r=e.getPinned(),{column:n,headerRowIndex:o}=this.focusedHeaderPosition;return i===n&&s===o&&r==n.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(e,i){this.focusedHeaderPosition={headerRowIndex:e,column:i}}isHeaderFocusSuppressed(){return this.gos.get("suppressHeaderFocus")||this.overlayService.isExclusive()}isCellFocusSuppressed(){return this.gos.get("suppressCellFocus")||this.overlayService.isExclusive()}focusHeaderPosition(e){var c;if(this.isHeaderFocusSuppressed())return!1;const{direction:i,fromTab:s,allowUserOverride:r,event:n,fromCell:o,rowWithoutSpanValue:a}=e;let{headerPosition:l}=e;if(o&&((c=this.filterManager)!=null&&c.isAdvancedFilterHeaderActive()))return this.focusAdvancedFilter(l);if(r){const u=this.getFocusedHeader(),h=this.headerNavigationService.getHeaderRowCount();if(s){const d=this.gos.getCallback("tabToNextHeader");d&&(l=this.getHeaderPositionFromUserFunc({userFunc:d,direction:i,currentPosition:u,headerPosition:l,headerRowCount:h}))}else{const d=this.gos.getCallback("navigateToNextHeader");if(d&&n){const g={key:n.key,previousHeaderPosition:u,nextHeaderPosition:l,headerRowCount:h,event:n};l=d(g)}}}return l?this.focusProvidedHeaderPosition({headerPosition:l,direction:i,event:n,fromCell:o,rowWithoutSpanValue:a}):!1}focusHeaderPositionFromUserFunc(e){if(this.isHeaderFocusSuppressed())return!1;const{userFunc:i,headerPosition:s,direction:r,event:n}=e,o=this.getFocusedHeader(),a=this.headerNavigationService.getHeaderRowCount(),l=this.getHeaderPositionFromUserFunc({userFunc:i,direction:r,currentPosition:o,headerPosition:s,headerRowCount:a});return!!l&&this.focusProvidedHeaderPosition({headerPosition:l,direction:r,event:n})}getHeaderPositionFromUserFunc(e){const{userFunc:i,direction:s,currentPosition:r,headerPosition:n,headerRowCount:o}=e,l=i({backwards:s==="Before",previousHeaderPosition:r,nextHeaderPosition:n,headerRowCount:o});return l===!0||l===null?(l===null&&_("Since v31.3 Returning `null` from tabToNextHeader is deprecated. Return `true` to stay on the current header, or `false` to let the browser handle the tab behaviour."),r):l===!1?null:l}focusProvidedHeaderPosition(e){var h;const{headerPosition:i,direction:s,fromCell:r,rowWithoutSpanValue:n,event:o}=e,{column:a,headerRowIndex:l}=i;if(l===-1)return(h=this.filterManager)!=null&&h.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(i):this.focusGridView(a);this.headerNavigationService.scrollToColumn(a,s);const c=this.ctrlsService.getHeaderRowContainerCtrl(a.getPinned()),u=(c==null?void 0:c.focusHeader(i.headerRowIndex,a,o))||!1;return u&&(n!=null||r)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(n??-1),u}focusFirstHeader(){if(this.overlayService.isExclusive()&&this.focusOverlay())return!0;let e=this.visibleColsService.getAllCols()[0];if(!e)return!1;e.getParent()&&(e=this.visibleColsService.getColGroupAtLevel(e,0));const i=this.headerPositionUtils.getHeaderIndexToFocus(e,0);return this.focusHeaderPosition({headerPosition:i,rowWithoutSpanValue:0})}focusLastHeader(e){if(this.overlayService.isExclusive()&&this.focusOverlay(!0))return!0;const i=this.headerNavigationService.getHeaderRowCount()-1,s=xe(this.visibleColsService.getAllCols());return this.focusHeaderPosition({headerPosition:{headerRowIndex:i,column:s},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){var i;return(i=this.filterManager)!=null&&i.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(e,i){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===e&&this.focusedCellPosition.rowPinned===Ls(i)}findFocusableElements(e,i,s=!1){const r=YM;let n=H0;i&&(n+=", "+i),s&&(n+=', [tabindex="-1"]');const o=Array.prototype.slice.apply(e.querySelectorAll(r)).filter(c=>ws(c)),a=Array.prototype.slice.apply(e.querySelectorAll(n));return a.length?((c,u)=>c.filter(h=>u.indexOf(h)===-1))(o,a):o}focusInto(e,i=!1,s=!1){const r=this.findFocusableElements(e,null,s),n=i?xe(r):r[0];return n?(n.focus({preventScroll:!0}),!0):!1}findFocusableElementBeforeTabGuard(e,i){if(!i)return null;const s=this.findFocusableElements(e),r=s.indexOf(i);if(r===-1)return null;let n=-1;for(let o=r-1;o>=0;o--)if(s[o].classList.contains("ag-tab-guard-top")){n=o;break}return n<=0?null:s[n-1]}findNextFocusableElement(e=this.eGridDiv,i,s){const r=this.findFocusableElements(e,i?':not([tabindex="-1"])':null),n=Ze(this.gos);let o;i?o=r.findIndex(l=>l.contains(n)):o=r.indexOf(n);const a=o+(s?-1:1);return a<0||a>=r.length?null:r[a]}isTargetUnderManagedComponent(e,i){if(!i)return!1;const s=e.querySelectorAll(`.${Ln.FOCUS_MANAGED_CLASS}`);if(!s.length)return!1;for(let r=0;r<s.length;r++)if(s[r].contains(i))return!0;return!1}findTabbableParent(e,i=5){let s=0;for(;e&&Kp(e)===null&&++s<=i;)e=e.parentElement;return Kp(e)===null?null:e}focusOverlay(e){var s;const i=this.overlayService.isVisible()&&((s=this.overlayService.getOverlayWrapper())==null?void 0:s.getGui());return!!i&&this.focusInto(i,e)}focusGridViewFailed(e,i){return i&&this.focusOverlay(e)||e&&this.focusLastHeader()}focusGridView(e,i=!1,s=!0){var n,o;if(this.overlayService.isExclusive())return s&&this.focusOverlay(i);if(this.isCellFocusSuppressed())return i&&!this.isHeaderFocusSuppressed()?this.focusLastHeader():s&&this.focusOverlay(i)?!0:this.focusNextGridCoreContainer(!1);const r=i?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(r){const{rowIndex:a,rowPinned:l}=r;if(e??(e=(n=this.getFocusedHeader())==null?void 0:n.column),e&&a!==void 0&&a!==null){if(this.navigationService.ensureCellVisible({rowIndex:a,column:e,rowPinned:l}),i){const c=this.rowRenderer.getRowByPosition(r);if(c!=null&&c.isFullWidth()&&this.navigationService.tryToFocusFullWidthRow(r,i))return!0}return this.setFocusedCell({rowIndex:a,column:e,rowPinned:Ls(l),forceBrowserFocus:!0}),(o=this.rangeService)==null||o.setRangeToCell({rowIndex:a,rowPinned:l,column:e}),!0}}return!!(s&&this.focusOverlay(i)||i&&this.focusLastHeader())}isGridFocused(){const e=Ze(this.gos);return!!e&&this.eGridDiv.contains(e)}focusNextGridCoreContainer(e,i=!1){return!i&&this.gridCtrl.focusNextInnerContainer(e)?!0:((i||!e&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(e),!1)}focusAdvancedFilter(e){var i;return this.advancedFilterFocusColumn=e==null?void 0:e.column,((i=this.advancedFilterService)==null?void 0:i.getCtrl().focusHeaderComp())??!1}focusNextFromAdvancedFilter(e,i){var r;const s=(i?void 0:this.advancedFilterFocusColumn)??((r=this.visibleColsService.getAllCols())==null?void 0:r[0]);return e?this.focusHeaderPosition({headerPosition:{column:s,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(s)}clearAdvancedFilterColumn(){this.advancedFilterFocusColumn=void 0}addFocusableContainer(e){this.gridCtrl.addFocusableContainer(e)}removeFocusableContainer(e){this.gridCtrl.removeFocusableContainer(e)}focusGridInnerElement(e){return this.gridCtrl.focusInnerElement(e)}allowFocusForNextGridCoreContainer(e){this.gridCtrl.allowFocusForNextCoreContainer(e)}};Bv.keyboardModeActive=!1;Bv.instanceCount=0;var KO=Bv,qO=class extends W{constructor(){super(...arguments),this.beanName="pinnedWidthService"}wireBeans(t){this.visibleColsService=t.visibleColsService}postConstruct(){const t=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:t,displayedColumnsWidthChanged:t}),this.addManagedPropertyListener("domLayout",t)}checkContainerWidths(){const t=Ft(this.gos,"print"),e=t?0:this.visibleColsService.getColsLeftWidth(),i=t?0:this.visibleColsService.getDisplayedColumnsRightWidth();e!=this.leftWidth&&(this.leftWidth=e,this.eventService.dispatchEvent({type:"leftPinnedWidthChanged"})),i!=this.rightWidth&&(this.rightWidth=i,this.eventService.dispatchEvent({type:"rightPinnedWidthChanged"}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}},QO=class extends W{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}wireBeans(t){this.beans=t,this.focusService=t.focusService,this.visibleColsService=t.visibleColsService}setComp(t,e,i){this.view=t,this.eGridHostDiv=e,this.eGui=i,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());const{dragAndDropService:s,mouseEventService:r,ctrlsService:n,resizeObserverService:o}=this.beans,a={getContainer:()=>this.eGui,isInterestedIn:c=>c===1||c===0,getIconName:()=>"notAllowed"};s.addDropTarget(a),this.addDestroyFunc(()=>s.removeDropTarget(a)),r.stampTopLevelGridCompWithGridInstance(e),this.createManagedBean(new Gv(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr"),this.updateGridThemeClass(),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)});const l=o.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>l()),n.register("gridCtrl",this)}isDetailGrid(){var e;const t=this.focusService.findTabbableParent(this.getGui());return((e=t==null?void 0:t.getAttribute("row-id"))==null?void 0:e.startsWith("detail"))||!1}getOptionalSelectors(){var e,i,s,r,n;const t=this.beans;return{paginationSelector:(e=t.paginationService)==null?void 0:e.getPaginationSelector(),gridHeaderDropZonesSelector:(i=t.columnDropZonesService)==null?void 0:i.getDropZoneSelector(),sideBarSelector:(s=t.sideBarService)==null?void 0:s.getSideBarSelector(),statusBarSelector:(r=t.statusBarService)==null?void 0:r.getStatusPanelSelector(),watermarkSelector:(n=t.licenseManager)==null?void 0:n.getWatermarkSelector()}}onGridSizeChanged(){this.eventService.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(t){this.view.setCursor(t?"ew-resize":null)}disableUserSelect(t){this.view.setUserSelect(t?"none":null)}focusNextInnerContainer(t){const e=this.getFocusableContainers(),{indexWithFocus:i,nextIndex:s}=this.getNextFocusableIndex(e,t);if(s<0||s>=e.length)return!1;if(s===0){if(i>0){const r=this.visibleColsService.getAllCols(),n=xe(r);if(this.focusService.focusGridView(n,!0))return!0}return!1}return this.focusContainer(e[s],t)}focusInnerElement(t){const e=this.gos.getCallback("focusGridInnerElement");if(e&&e({fromBottom:!!t}))return!0;const i=this.getFocusableContainers(),s=this.visibleColsService.getAllCols();if(t){if(i.length>1)return this.focusContainer(xe(i),!0);const r=xe(s);if(this.focusService.focusGridView(r,!0))return!0}if(this.gos.get("headerHeight")===0||this.focusService.isHeaderFocusSuppressed()){if(this.focusService.focusGridView(s[0]))return!0;for(let r=1;r<i.length;r++)if(this.focusService.focusInto(i[r].getGui()))return!0;return!1}return this.focusService.focusFirstHeader()}forceFocusOutOfContainer(t=!1){this.view.forceFocusOutOfContainer(t)}addFocusableContainer(t){this.additionalFocusableContainers.add(t)}removeFocusableContainer(t){this.additionalFocusableContainers.delete(t)}allowFocusForNextCoreContainer(t){var n;const e=this.view.getFocusableContainers(),{nextIndex:i,indexWithFocus:s}=this.getNextFocusableIndex(e,t);if(s===-1||i<0||i>=e.length)return;const r=e[i];(n=r.setAllowFocus)==null||n.call(r,!0),setTimeout(()=>{var o;(o=r.setAllowFocus)==null||o.call(r,!1)})}getNextFocusableIndex(t,e){const i=Ze(this.gos),s=t.findIndex(n=>n.getGui().contains(i)),r=s+(e?-1:1);return{indexWithFocus:s,nextIndex:r}}focusContainer(t,e){var s,r;(s=t.setAllowFocus)==null||s.call(t,!0);const i=this.focusService.focusInto(t.getGui(),e);return(r=t.setAllowFocus)==null||r.call(t,!1),i}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}updateGridThemeClass(){const t=this.beans.environment.getGridThemeClass();t&&this.view.setGridThemeClass(t)}handleThemeChange(t){t.themeChanged&&this.updateGridThemeClass()}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},ZO=class extends W{constructor(){super(...arguments),this.beanName="alignedGridsService",this.consuming=!1}wireBeans(t){this.columnModel=t.columnModel,this.columnSizeService=t.columnSizeService,this.ctrlsService=t.ctrlsService,this.columnApplyStateService=t.columnApplyStateService}getAlignedGridApis(){let t=this.gos.get("alignedGrids")??[];const e=typeof t=="function";typeof t=="function"&&(t=t());const i=()=>`See ${this.getFrameworkOverrides().getDocLink("aligned-grids")}`;return t.map(r=>{var o;if(!r){ke("alignedGrids contains an undefined option."),e||ke(`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`),ke(i());return}if(this.isGridApi(r))return r;const n=r;return"current"in n?(o=n.current)==null?void 0:o.api:(n.api||ke(`alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ${i()}`),n.api)}).filter(r=>!!r&&!r.isDestroyed())}isGridApi(t){return!!t&&!!t.dispatchEvent}postConstruct(){const t=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:t,columnVisible:t,columnPinned:t,columnGroupOpened:t,columnResized:t,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:e})=>this.onColumnEvent(e),alignedGridScroll:({event:e})=>this.onScrollEvent(e)})}fireEvent(t){this.consuming||this.getAlignedGridApis().forEach(e=>{e.isDestroyed()||e.dispatchEvent(t)})}onEvent(t){this.consuming=!0,t(),this.consuming=!1}fireColumnEvent(t){this.fireEvent({type:"alignedGridColumn",event:t})}fireScrollEvent(t){t.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:t})}onScrollEvent(t){this.onEvent(()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(t.left,!0)})}extractDataFromEvent(t,e){const i=[];return t.columns?t.columns.forEach(s=>{i.push(e(s))}):t.column&&i.push(e(t.column)),i}getMasterColumns(t){return this.extractDataFromEvent(t,e=>e)}getColumnIds(t){return this.extractDataFromEvent(t,e=>e.getColId())}onColumnEvent(t){this.onEvent(()=>{switch(t.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(t);break}case"columnGroupOpened":{this.processGroupOpenedEvent(t);break}case"columnPivotChanged":_("pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})}processGroupOpenedEvent(t){const{columnModel:e}=this;t.columnGroups.forEach(i=>{let s=null;i&&(s=e.getProvidedColGroup(i.getGroupId())),!(i&&!s)&&e.setColumnGroupOpened(s,i.isExpanded(),"alignedGridChanged")})}processColumnEvent(t){var c;const e=t.column;let i=null;if(e&&(i=this.columnModel.getColDefCol(e.getColId())),e&&!i)return;const s=this.getMasterColumns(t),{columnApplyStateService:r,columnSizeService:n,ctrlsService:o}=this;switch(t.type){case"columnMoved":{const h=t.api.getColumnState().map(d=>({colId:d.colId}));r.applyColumnState({state:h,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const h=t.api.getColumnState().map(d=>({colId:d.colId,hide:d.hide}));r.applyColumnState({state:h},"alignedGridChanged")}break;case"columnPinned":{const h=t.api.getColumnState().map(d=>({colId:d.colId,pinned:d.pinned}));r.applyColumnState({state:h},"alignedGridChanged")}break;case"columnResized":{const u=t,h={};s.forEach(d=>{h[d.getId()]={key:d.getColId(),newWidth:d.getActualWidth()}}),(c=u.flexColumns)==null||c.forEach(d=>{h[d.getId()]&&delete h[d.getId()]}),n.setColumnWidths(Object.values(h),!1,u.finished,"alignedGridChanged");break}}const l=o.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(u=>{u.setGridOption("alwaysShowVerticalScroll",l)})}},JO={version:ce,moduleName:"@ag-grid-community/aligned-grid",beans:[ZO]};function eH(t,e){const i=t.columnModel.getColDefCol(e);return i?i.getColDef():null}function tH(t){return t.columnModel.getColumnDefs()}function iH(t,e){typeof e=="number"?t.columnSizeService.sizeColumnsToFit(e,"api"):t.ctrlsService.getGridBodyCtrl().sizeColumnsToFit(e)}function sH(t,e,i){t.columnModel.setColumnGroupOpened(e,i,"api")}function rH(t,e,i){return t.visibleColsService.getColumnGroup(e,i)}function nH(t,e){return t.columnModel.getProvidedColGroup(e)}function oH(t,e,i){return t.columnNameService.getDisplayNameForColumn(e,i)||""}function aH(t,e,i){return t.columnNameService.getDisplayNameForColumnGroup(e,i)||""}function lH(t,e){return t.columnModel.getColDefCol(e)}function cH(t){return t.columnModel.getColDefCols()}function uH(t,e){return t.columnApplyStateService.applyColumnState(e,"api")}function hH(t){return t.columnGetStateService.getColumnState()}function dH(t){t.columnApplyStateService.resetColumnState("api")}function gH(t){return t.columnGroupStateService.getColumnGroupState()}function pH(t,e){t.columnGroupStateService.setColumnGroupState(e,"api")}function fH(t){t.columnGroupStateService.resetColumnGroupState("api")}function mH(t){return t.visibleColsService.isPinningLeft()||t.visibleColsService.isPinningRight()}function vH(t){return t.visibleColsService.isPinningLeft()}function CH(t){return t.visibleColsService.isPinningRight()}function yH(t,e){return t.visibleColsService.getColAfter(e)}function wH(t,e){return t.visibleColsService.getColBefore(e)}function xH(t,e,i){t.columnModel.setColsVisible([e],i,"api")}function bH(t,e,i){t.columnModel.setColsVisible(e,i,"api")}function SH(t,e,i){t.columnModel.setColsPinned([e],i,"api")}function RH(t,e,i){t.columnModel.setColsPinned(e,i,"api")}function FH(t){return t.columnModel.getCols()}function AH(t){return t.visibleColsService.getLeftCols()}function PH(t){return t.visibleColsService.getCenterCols()}function EH(t){return t.visibleColsService.getRightCols()}function kH(t){return t.visibleColsService.getAllCols()}function MH(t){return t.columnViewportService.getViewportColumns()}function TH(t,e,i){t.columnMoveService.moveColumns([e],i,"api")}function DH(t,e,i){t.columnMoveService.moveColumnByIndex(e,i,"api")}function LH(t,e,i){t.columnMoveService.moveColumns(e,i,"api")}function IH(t,e,i,s=!0,r="api"){t.columnSizeService.setColumnWidths([{key:e,newWidth:i}],!1,s,r)}function OH(t,e,i=!0,s="api"){t.columnSizeService.setColumnWidths(e,!1,i,s)}function HH(t){return t.visibleColsService.getTreeLeft()}function NH(t){return t.visibleColsService.getTreeCenter()}function GH(t){return t.visibleColsService.getTreeRight()}function BH(t){return t.visibleColsService.getAllTrees()}function WH(t,e,i){return t.columnAutosizeService.autoSizeCols({colKeys:[e],skipHeader:i,source:"api"})}function zH(t,e,i){t.columnAutosizeService.autoSizeCols({colKeys:e,skipHeader:i,source:"api"})}function VH(t,e){t.columnAutosizeService.autoSizeAllColumns("api",e)}var _H=class extends W{constructor(){super(...arguments),this.beanName="dataTypeService",this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(t){this.rowModel=t.rowModel,this.columnModel=t.columnModel,this.funcColsService=t.funcColsService,this.valueService=t.valueService,this.columnApplyStateService=t.columnApplyStateService,this.filterManager=t.filterManager}postConstruct(){this.groupHideOpenParents=this.gos.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",()=>{this.groupHideOpenParents=this.gos.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",t=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs(Ur(t.source))})}processDataTypeDefinitions(){const t=this.getDefaultDataTypes();this.dataTypeDefinitions={},this.formatValueFuncs={};const e=s=>r=>{const{column:n,node:o,value:a}=r;let l=n.getColDef().valueFormatter;return l===s.groupSafeValueFormatter&&(l=s.valueFormatter),this.valueService.formatValue(n,o,a,l)};Object.entries(t).forEach(([s,r])=>{const n={...r,groupSafeValueFormatter:this.createGroupSafeValueFormatter(r)};this.dataTypeDefinitions[s]=n,this.formatValueFuncs[s]=e(n)});const i=this.gos.get("dataTypeDefinitions")??{};this.dataTypeMatchers={},Object.entries(i).forEach(([s,r])=>{const n=this.processDataTypeDefinition(r,i,[s],t);n&&(this.dataTypeDefinitions[s]=n,r.dataTypeMatcher&&(this.dataTypeMatchers[s]=r.dataTypeMatcher),this.formatValueFuncs[s]=e(n))}),this.checkObjectValueHandlers(t),["dateString","text","number","boolean","date"].forEach(s=>{const r=this.dataTypeMatchers[s];r&&delete this.dataTypeMatchers[s],this.dataTypeMatchers[s]=r??t[s].dataTypeMatcher})}mergeDataTypeDefinitions(t,e){const i={...t,...e};return t.columnTypes&&e.columnTypes&&e.appendColumnTypes&&(i.columnTypes=[...eu(t.columnTypes),...eu(e.columnTypes)]),i}processDataTypeDefinition(t,e,i,s){let r;const n=t.extendsDataType;if(t.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),t.extendsDataType===t.baseDataType){let o=s[n];const a=e[n];if(o&&a&&(o=a),!this.validateDataTypeDefinition(t,o,n))return;r=this.mergeDataTypeDefinitions(o,t)}else{if(i.includes(n)){_('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');return}const o=e[n];if(!this.validateDataTypeDefinition(t,o,n))return;const a=this.processDataTypeDefinition(o,e,[...i,n],s);if(!a)return;r=this.mergeDataTypeDefinitions(a,t)}return{...r,groupSafeValueFormatter:this.createGroupSafeValueFormatter(r)}}validateDataTypeDefinition(t,e,i){return e?e.baseDataType!==t.baseDataType?(_('The "baseDataType" property of a data type definition must match that of its parent.'),!1):!0:(_(`The data type definition ${i} does not exist.`),!1)}createGroupSafeValueFormatter(t){if(t.valueFormatter)return e=>{var i,s;if((i=e.node)!=null&&i.group){const r=(e.colDef.pivotValueColumn??e.column).getAggFunc();if(r){if(r==="first"||r==="last")return t.valueFormatter(e);if(t.baseDataType==="number"&&r!=="count"){if(typeof e.value=="number")return t.valueFormatter(e);if(typeof e.value=="object"){if(!e.value)return;if("toNumber"in e.value)return t.valueFormatter({...e,value:e.value.toNumber()});if("value"in e.value)return t.valueFormatter({...e,value:e.value.value})}}return}if((this.gos.get("suppressGroupMaintainValueType")||this.gos.get("groupDisplayType")==="groupRows")&&!this.gos.get("treeData"))return}else if(this.groupHideOpenParents&&e.column.isRowGroupActive()&&typeof e.value=="string"&&!((s=t.dataTypeMatcher)!=null&&s.call(t,e.value)))return;return t.valueFormatter(e)}}updateColDefAndGetColumnType(t,e,i){let{cellDataType:s}=e;const{field:r}=e;if(s===void 0&&(s=t.cellDataType),(s==null||s===!0)&&(s=this.canInferCellDataType(t,e)?this.inferCellDataType(r,i):!1),!s){t.cellDataType=!1;return}const n=this.dataTypeDefinitions[s];if(!n){_(`Missing data type definition - "${s}"`);return}return t.cellDataType=s,n.groupSafeValueFormatter&&(t.valueFormatter=n.groupSafeValueFormatter),n.valueParser&&(t.valueParser=n.valueParser),n.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(t,s,n,i),n.columnTypes}addColumnListeners(t){if(!this.isWaitingForRowData)return;const e=this.columnStateUpdatesPendingInference[t.getColId()];if(!e)return;const i=s=>{e.add(s.key)};t.addEventListener("columnStateUpdated",i),this.columnStateUpdateListenerDestroyFuncs.push(()=>t.removeEventListener("columnStateUpdated",i))}canInferCellDataType(t,e){if(!Xe(this.gos))return!1;const i={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(e,i))return!1;const s=e.type===null?t.type:e.type;if(s){const r=this.gos.get("columnTypes")??{};if(eu(s).some(o=>{const a=r[o.trim()];return a&&this.doColDefPropsPreventInference(a,i)}))return!1}return!this.doColDefPropsPreventInference(t,i)}doColDefPropsPreventInference(t,e){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([i,s])=>this.doesColDefPropPreventInference(t,e,i,s))}doesColDefPropPreventInference(t,e,i,s){if(!e[i])return!1;const r=t[i];return r===null?(e[i]=!1,!1):s===void 0?!!r:r===s}inferCellDataType(t,e){if(!t)return;let i;const s=this.getInitialData();if(s){const n=t.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");i=Ba(s,t,n)}else this.initWaitForRowData(e);if(i==null)return;const[r]=Object.entries(this.dataTypeMatchers).find(([n,o])=>o(i))??["object"];return r}getInitialData(){const t=this.gos.get("rowData");if(t!=null&&t.length)return t[0];if(this.initialData)return this.initialData;{const e=this.rowModel.getRootNode().allLeafChildren;if(e!=null&&e.length)return e[0].data}return null}initWaitForRowData(t){if(this.columnStateUpdatesPendingInference[t]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;const e=this.isColumnTypeOverrideInDataTypeDefinitions;e&&this.columnModel.queueResizeOperations();const[i]=this.addManagedEventListeners({rowDataUpdateStarted:s=>{const{firstRowData:r}=s;r&&(i==null||i(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(r,e),this.columnStateUpdatesPendingInference={},e&&this.columnModel.processResizeOperations(),this.eventService.dispatchEvent({type:"dataTypesInferred"}))}})}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(t,e){this.initialData=t;const i=[];this.destroyColumnStateUpdateListeners();const s={},r={};Object.entries(this.columnStateUpdatesPendingInference).forEach(([n,o])=>{const a=this.columnModel.getCol(n);if(!a)return;const l=a.getColDef();if(!this.columnModel.resetColDefIntoCol(a,"cellDataTypeInferred"))return;const c=a.getColDef();if(e&&c.type&&c.type!==l.type){const u=this.getUpdatedColumnState(a,o);u.rowGroup&&u.rowGroupIndex==null&&(s[n]=u),u.pivot&&u.pivotIndex==null&&(r[n]=u),i.push(u)}}),e&&i.push(...this.funcColsService.generateColumnStateForRowGroupAndPivotIndexes(s,r)),i.length&&this.columnApplyStateService.applyColumnState({state:i},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(t,e){const i=this.columnApplyStateService.getColumnStateFromColDef(t);return e.forEach(s=>{delete i[s],s==="rowGroup"?delete i.rowGroupIndex:s==="pivot"&&delete i.pivotIndex}),i}checkObjectValueHandlers(t){const e=this.dataTypeDefinitions.object,i=t.object;this.hasObjectValueParser=e.valueParser!==i.valueParser,this.hasObjectValueFormatter=e.valueFormatter!==i.valueFormatter}getDateStringTypeDefinition(t){return t?this.getDataTypeDefinition(t)??this.dataTypeDefinitions.dateString:this.dataTypeDefinitions.dateString}getDateParserFunction(t){return this.getDateStringTypeDefinition(t).dateParser}getDateFormatterFunction(t){return this.getDateStringTypeDefinition(t).dateFormatter}getDataTypeDefinition(t){const e=t.getColDef();if(e.cellDataType)return this.dataTypeDefinitions[e.cellDataType]}getBaseDataType(t){var e;return(e=this.getDataTypeDefinition(t))==null?void 0:e.baseDataType}checkType(t,e){var s;if(e==null)return!0;const i=(s=this.getDataTypeDefinition(t))==null?void 0:s.dataTypeMatcher;return i?i(e):!0}validateColDef(t){const e=i=>_(`Cell data type is "object" but no Value ${i} has been provided. Please either provide an object data type definition with a Value ${i}, or set "colDef.value${i}"`);t.cellDataType==="object"&&(t.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&e("Formatter"),t.editable&&t.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&e("Parser"))}getFormatValue(t){return this.formatValueFuncs[t]}setColDefPropertiesForBaseDataType(t,e,i,s){var n;const r=this.formatValueFuncs[e];switch(i.baseDataType){case"number":{t.cellEditor="agNumberCellEditor";break}case"boolean":{t.cellEditor="agCheckboxCellEditor",t.cellRenderer="agCheckboxCellRenderer",t.suppressKeyboardEvent=o=>!!o.colDef.editable&&o.event.key===B.SPACE;break}case"date":{t.cellEditor="agDateCellEditor",t.keyCreator=r;break}case"dateString":{t.cellEditor="agDateStringCellEditor",t.keyCreator=r;break}case"object":{t.cellEditorParams={useFormatter:!0},t.comparator=(o,a)=>{const l=this.columnModel.getColDefCol(s),c=l==null?void 0:l.getColDef();if(!l||!c)return 0;const u=o==null?"":r({column:l,node:null,value:o}),h=a==null?"":r({column:l,node:null,value:a});return u===h?0:u>h?1:-1},t.keyCreator=r;break}}(n=this.filterManager)==null||n.setColDefPropertiesForDataType(t,i,r)}getDefaultDataTypes(){const t=i=>!!i.match("^\\d{4}-\\d{2}-\\d{2}$"),e=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:i=>{var s,r;return((r=(s=i.newValue)==null?void 0:s.trim)==null?void 0:r.call(s))===""?null:Number(i.newValue)},valueFormatter:i=>i.value==null?"":typeof i.value!="number"||isNaN(i.value)?e("invalidNumber","Invalid Number"):String(i.value),dataTypeMatcher:i=>typeof i=="number"},text:{baseDataType:"text",valueParser:i=>i.newValue===""?null:Np(i.newValue),dataTypeMatcher:i=>typeof i=="string"},boolean:{baseDataType:"boolean",valueParser:i=>{var s,r;return i.newValue==null?i.newValue:((r=(s=i.newValue)==null?void 0:s.trim)==null?void 0:r.call(s))===""?null:String(i.newValue).toLowerCase()==="true"},valueFormatter:i=>i.value==null?"":String(i.value),dataTypeMatcher:i=>typeof i=="boolean"},date:{baseDataType:"date",valueParser:i=>ei(i.newValue==null?null:String(i.newValue)),valueFormatter:i=>i.value==null?"":!(i.value instanceof Date)||isNaN(i.value.getTime())?e("invalidDate","Invalid Date"):Li(i.value,!1)??"",dataTypeMatcher:i=>i instanceof Date},dateString:{baseDataType:"dateString",dateParser:i=>ei(i)??void 0,dateFormatter:i=>Li(i??null,!1)??void 0,valueParser:i=>t(String(i.newValue))?i.newValue:null,valueFormatter:i=>t(String(i.value))?i.value:"",dataTypeMatcher:i=>typeof i=="string"&&t(i)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:i=>Np(i.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(t=>t()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}},UH={version:ce,moduleName:"@ag-grid-community/data-type",beans:[_H]},XH={version:ce,moduleName:"@ag-grid-community/column-api",apiFunctions:{getColumnDef:eH,getColumnDefs:tH,sizeColumnsToFit:iH,setColumnGroupOpened:sH,getColumnGroup:rH,getProvidedColumnGroup:nH,getDisplayNameForColumn:oH,getDisplayNameForColumnGroup:aH,getColumn:lH,getColumns:cH,applyColumnState:uH,getColumnState:hH,resetColumnState:dH,getColumnGroupState:gH,setColumnGroupState:pH,resetColumnGroupState:fH,isPinning:mH,isPinningLeft:vH,isPinningRight:CH,getDisplayedColAfter:yH,getDisplayedColBefore:wH,setColumnVisible:xH,setColumnsVisible:bH,setColumnPinned:SH,setColumnsPinned:RH,getAllGridColumns:FH,getDisplayedLeftColumns:AH,getDisplayedCenterColumns:PH,getDisplayedRightColumns:EH,getAllDisplayedColumns:kH,getAllDisplayedVirtualColumns:MH,moveColumn:TH,moveColumnByIndex:DH,moveColumns:LH,setColumnWidth:IH,setColumnWidths:OH,getLeftDisplayedColumnGroups:HH,getCenterDisplayedColumnGroups:NH,getRightDisplayedColumnGroups:GH,getAllDisplayedColumnGroups:BH,autoSizeColumn:WH,autoSizeColumns:zH,autoSizeAllColumns:VH}};function jH(t,e){t.ctrlsService.getGridBodyCtrl().getRowDragFeature().addRowDropZone(e)}function YH(t,e){const i=t.dragAndDropService.findExternalZone(e);i&&t.dragAndDropService.removeDropTarget(i)}function $H(t,e){return t.ctrlsService.getGridBodyCtrl().getRowDragFeature().getRowDropZone(e)}var KH={version:ce,moduleName:"@ag-grid-community/drag-api",apiFunctions:{addRowDropZone:jH,removeRowDropZone:YH,getRowDropZoneParams:$H}};function qH(t){return t.pinnedRowModel.getPinnedTopRowCount()}function QH(t){return t.pinnedRowModel.getPinnedBottomRowCount()}function ZH(t,e){return t.pinnedRowModel.getPinnedTopRow(e)}function JH(t,e){return t.pinnedRowModel.getPinnedBottomRow(e)}var eN={version:ce,moduleName:"@ag-grid-community/pinned-row-api",apiFunctions:{getPinnedTopRowCount:qH,getPinnedBottomRowCount:QH,getPinnedTopRow:ZH,getPinnedBottomRow:JH}};function tN(t){t.overlayService.showLoadingOverlay()}function iN(t){t.overlayService.showNoRowsOverlay()}function sN(t){t.overlayService.hideOverlay()}var rN={version:ce,moduleName:"@ag-grid-community/overlay-api",apiFunctions:{showLoadingOverlay:tN,showNoRowsOverlay:iN,hideOverlay:sN}};function nN(t,e,i){if(!e)return;const s=t.ctrlsService.getGridBodyCtrl().getGui(),r=`aria-${e}`;i===null?s.removeAttribute(r):s.setAttribute(r,i)}function oN(t,e={}){t.frameworkOverrides.wrapIncoming(()=>t.rowRenderer.refreshCells(e))}function aN(t,e={}){const i=s=>_(`Since v31.1 api.flashCells parameter '${s}Delay' is deprecated. Please use '${s}Duration' instead.`);K(e.fadeDelay)&&i("fade"),K(e.flashDelay)&&i("flash"),t.frameworkOverrides.wrapIncoming(()=>t.rowRenderer.flashCells(e))}function lN(t){t.frameworkOverrides.wrapIncoming(()=>t.ctrlsService.getHeaderRowContainerCtrls().forEach(e=>e.refresh()))}function cN(t){return t.animationFrameService.isQueueEmpty()}function uN(t){t.animationFrameService.flushAllFrames()}function hN(t){return{rowHeight:ln(t.gos),headerHeight:t.columnModel.getHeaderHeight()}}function dN(t,e={}){return t.rowRenderer.getCellRendererInstances(e).map(za)}var gN={version:ce,moduleName:"@ag-grid-community/render-api",apiFunctions:{setGridAriaProperty:nN,refreshCells:oN,flashCells:aN,refreshHeader:lN,isAnimationFrameQueueEmpty:cN,flushAllAnimationFrames:uN,getSizesForCurrentTheme:hN,getCellRendererInstances:dN}};function pN(t){t.valueCache.expire()}function fN(t,e,i){return zR(t,{colKey:e,rowNode:i})}function zR(t,e){const{colKey:i,rowNode:s,useFormatter:r}=e,n=t.columnModel.getColDefCol(i)??t.columnModel.getCol(i);if(be(n))return null;const o=t.valueService.getValueForDisplay(n,s);return r?t.valueService.formatValue(n,s,o)??Cs(o,!0):o}function mN(t){return t.context.getGridId()}function vN(t){t.gridDestroyService.destroy()}function CN(t){return t.gridDestroyService.isDestroyCalled()}function yN(t,e){return t.gos.get(e)}function wN(t,e,i){VR(t,{[e]:i})}function VR(t,e){t.gos.updateGridOptions({options:e})}function xN(t,e,i){t.apiEventService.addEventListener(e,i)}function bN(t,e,i){t.apiEventService.removeEventListener(e,i)}function SN(t,e){t.apiEventService.addGlobalListener(e)}function RN(t,e){t.apiEventService.removeGlobalListener(e)}function FN(t){return t.focusService.getFocusedCell()}function AN(t){return t.focusService.clearFocusedCell()}function PN(t,e,i,s){t.focusService.setFocusedCell({rowIndex:e,column:i,rowPinned:s,forceBrowserFocus:!0})}function EN(t,e){return t.navigationService.tabToNextCell(!1,e)}function kN(t,e){return t.navigationService.tabToNextCell(!0,e)}function MN(t,e,i=!1){const s=t.headerNavigationService.getHeaderPositionForColumn(e,i);s&&t.focusService.focusHeaderPosition({headerPosition:s})}function TN(t,e,i){const s=t.columnModel.getCol(e);t.menuService.showColumnMenu({column:s,buttonElement:i,positionBy:"button"})}function DN(t,e,i){let s=t.columnModel.getCol(e);if(s||(s=t.columnModel.getColDefCol(e)),!s){ke(`column '${e}' not found`);return}t.menuService.showColumnMenu({column:s,mouseEvent:i,positionBy:"mouse"})}function LN(t,e){const i=t.columnModel.getCol(e);if(!i){ke(`column '${e}' not found`);return}t.menuService.showColumnMenu({column:i,positionBy:"auto"})}function IN(t){t.menuService.hidePopupMenu()}function ON(t,e={}){const i=e?e.rowNodes:void 0;t.frameworkOverrides.wrapIncoming(()=>t.rowRenderer.redrawRows(i))}function HN(t,e,i,s,r){t.expansionService.setRowNodeExpanded(e,i,s,r)}function NN(t,e){return t.rowModel.getRowNode(e)}function GN(t,e,i,s){t.rowRenderer.addRenderedRowListener(e,i,s)}function BN(t){return t.rowRenderer.getRenderedNodes()}function WN(t,e,i){t.rowModel.forEachNode(e,i)}function zN(t){return _R(t)}function _R(t){return t.rowRenderer.getFirstVirtualRenderedRow()}function VN(t){return UR(t)}function UR(t){return t.rowRenderer.getLastVirtualRenderedRow()}function _N(t,e){return t.rowModel.getRow(e)}function UN(t){return t.rowModel.getRowCount()}function XN(t){return t.rowModel}function jN(t,e){if(!e.nodes.every(a=>a.rowPinned?(_("cannot select pinned rows"),!1):a.id===void 0?(_("cannot select node until id for node is known"),!1):!0))return;const{nodes:s,source:r,newValue:n}=e,o=s;t.selectionService.setNodesSelected({nodes:o,source:r??"api",newValue:n})}function YN(t,e="apiSelectAll"){t.selectionService.selectAllRowNodes({source:e})}function $N(t,e="apiSelectAll"){t.selectionService.deselectAllRowNodes({source:e})}function KN(t,e="apiSelectAllFiltered"){t.selectionService.selectAllRowNodes({source:e,justFiltered:!0})}function qN(t,e="apiSelectAllFiltered"){t.selectionService.deselectAllRowNodes({source:e,justFiltered:!0})}function QN(t,e="apiSelectAllCurrentPage"){t.selectionService.selectAllRowNodes({source:e,justCurrentPage:!0})}function ZN(t,e="apiSelectAllCurrentPage"){t.selectionService.deselectAllRowNodes({source:e,justCurrentPage:!0})}function JN(t){return t.selectionService.getSelectedNodes()}function eG(t){return t.selectionService.getSelectedRows()}function tG(t){t.sortController.onSortChanged("api")}var iG={version:ce,moduleName:"@ag-grid-community/core-api",apiFunctions:{getGridId:mN,destroy:vN,isDestroyed:CN,getGridOption:yN,setGridOption:wN,updateGridOptions:VR}},sG={version:ce,moduleName:"@ag-grid-community/row-selection-api",apiFunctions:{setNodesSelected:jN,selectAll:YN,deselectAll:$N,selectAllFiltered:KN,deselectAllFiltered:qN,selectAllOnCurrentPage:QN,deselectAllOnCurrentPage:ZN,getSelectedNodes:JN,getSelectedRows:eG}},rG={version:ce,moduleName:"@ag-grid-community/row-api",apiFunctions:{redrawRows:ON,setRowNodeExpanded:HN,getRowNode:NN,addRenderedRowListener:GN,getRenderedNodes:BN,forEachNode:WN,getFirstDisplayedRow:zN,getFirstDisplayedRowIndex:_R,getLastDisplayedRow:VN,getLastDisplayedRowIndex:UR,getDisplayedRowAtIndex:_N,getDisplayedRowCount:UN,getModel:XN}},nG={version:ce,moduleName:"@ag-grid-community/scroll-api",apiFunctions:{getVerticalPixelRange:UI,getHorizontalPixelRange:XI,ensureColumnVisible:OR,ensureIndexVisible:HR,ensureNodeVisible:jI}},oG={version:ce,moduleName:"@ag-grid-community/keyboard-navigation-api",apiFunctions:{getFocusedCell:FN,clearFocusedCell:AN,setFocusedCell:PN,setFocusedHeader:MN,tabToNextCell:EN,tabToPreviousCell:kN}},aG={version:ce,moduleName:"@ag-grid-community/event-api",apiFunctions:{addEventListener:xN,addGlobalListener:SN,removeEventListener:bN,removeGlobalListener:RN}},lG={version:ce,moduleName:"@ag-grid-community/cell-api",apiFunctions:{expireValueCache:pN,getValue:fN,getCellValue:zR}},cG={version:ce,moduleName:"@ag-grid-community/menu-api",apiFunctions:{showColumnMenuAfterButtonClick:TN,showColumnMenuAfterMouseClick:DN,showColumnMenu:LN,hidePopupMenu:IN}},uG={version:ce,moduleName:"@ag-grid-community/sort-api",apiFunctions:{onSortChanged:tG}},hG={version:ce,moduleName:"@ag-grid-community/api",dependantModules:[iG,eN,sG,XH,rG,KH,nG,rN,oG,aG,gN,lG,cG,uG]};function dG(t){var e;return((e=t.stateService)==null?void 0:e.getState())??{}}function gG(t){switch(t={...t},t.version||(t.version="32.1.0"),t.version){case"32.1.0":t=pG(t)}return t}function pG(t){return t.cellSelection=fG(t,"rangeSelection"),t}function fG(t,e){if(t&&typeof t=="object")return t[e]}var mG=class extends W{constructor(){super(...arguments),this.beanName="stateService",this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=Ut(()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=Ut(()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),0),this.onRowSelectedDebounced=Ut(()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}wireBeans(t){this.filterManager=t.filterManager,this.ctrlsService=t.ctrlsService,this.pivotResultColsService=t.pivotResultColsService,this.focusService=t.focusService,this.columnModel=t.columnModel,this.visibleColsService=t.visibleColsService,this.columnGroupStateService=t.columnGroupStateService,this.columnGetStateService=t.columnGetStateService,this.paginationService=t.paginationService,this.selectionService=t.selectionService,this.expansionService=t.expansionService,this.columnAnimationService=t.columnAnimationService,this.columnApplyStateService=t.columnApplyStateService,this.sideBarService=t.sideBarService,this.rangeService=t.rangeService}postConstruct(){this.isClientSideRowModel=Xe(this.gos),this.cachedState=this.getInitialState(),this.setCachedStateValue("version",ce),this.ctrlsService.whenReady(this,()=>this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnGridReady()));const[t,e,i]=this.addManagedEventListeners({newColumnsLoaded:({source:s})=>{s==="gridInitializing"&&(t(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnColumnsInitialised()))},rowCountReady:()=>{e==null||e(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnRowCountReady())},firstDataRendered:()=>{i==null||i(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnFirstDataRendered())}})}getInitialState(){return gG(this.gos.get("initialState")??{})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){this.updateCachedState("sideBar",this.getSideBarState());const t=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:t,sideBarUpdated:t})}setupStateOnColumnsInitialised(){const t=this.getInitialState();this.setColumnState(t),this.setColumnGroupState(t),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState());const e=i=>()=>this.updateColumnState([i]);this.addManagedEventListeners({columnValueChanged:e("aggregation"),columnMoved:e("columnOrder"),columnPinned:e("columnPinning"),columnResized:e("columnSizing"),columnVisible:e("columnVisibility"),columnPivotChanged:e("pivot"),columnPivotModeChanged:e("pivot"),columnRowGroupChanged:e("rowGroup"),sortChanged:e("sort"),newColumnsLoaded:()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setupStateOnRowCountReady(){const{filter:t,rowGroupExpansion:e,rowSelection:i,pagination:s}=this.getInitialState(),r=this.gos.get("advancedFilterModel");(t||r)&&this.setFilterState(t,r),e&&this.setRowGroupExpansionState(e),i&&this.setRowSelectionState(i),s&&this.setPaginationState(s),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState());const n=()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState());this.addManagedEventListeners({filterChanged:()=>this.updateCachedState("filter",this.getFilterState()),rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:n,columnRowGroupChanged:n,rowDataUpdated:()=>{this.gos.get("groupDefaultExpanded")!==0&&setTimeout(()=>{n()})},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:o=>{(o.newPage||o.newPageSize)&&this.updateCachedState("pagination",this.getPaginationState())}})}setupStateOnFirstDataRendered(){const{scroll:t,cellSelection:e,focusedCell:i,columnOrder:s}=this.getInitialState();i&&this.setFocusedCellState(i),e&&this.setCellSelectionState(e),t&&this.setScrollState(t),this.setColumnPivotState(!!(s!=null&&s.orderedColIds)),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState());const r=this.getRangeSelectionState();this.updateCachedState("rangeSelection",r),this.updateCachedState("cellSelection",r),this.updateCachedState("scroll",this.getScrollState()),this.addManagedEventListeners({cellFocused:()=>this.updateCachedState("focusedCell",this.getFocusedCellState()),cellSelectionChanged:n=>{if(n.finished){const o=this.getRangeSelectionState();this.updateCachedState("rangeSelection",o),this.updateCachedState("cellSelection",o)}},bodyScrollEnd:()=>this.updateCachedState("scroll",this.getScrollState())})}getColumnState(){const t=this.columnModel.isPivotMode(),e=[],i=[],s=[],r=[],n=[],o=[],a=[],l=[],c=[];let u=0;const h=this.columnGetStateService.getColumnState();for(let d=0;d<h.length;d++){const{colId:g,sort:p,sortIndex:f,rowGroup:C,rowGroupIndex:m,aggFunc:v,pivot:y,pivotIndex:w,pinned:x,hide:S,width:b,flex:R}=h[d];c.push(g),p&&(e[f??u++]={colId:g,sort:p}),C&&(i[m??0]=g),typeof v=="string"&&s.push({colId:g,aggFunc:v}),y&&(r[w??0]=g),x&&(x==="right"?o:n).push(g),S&&a.push(g),(R||b)&&l.push({colId:g,flex:R??void 0,width:b})}return{sort:e.length?{sortModel:e}:void 0,rowGroup:i.length?{groupColIds:i}:void 0,aggregation:s.length?{aggregationModel:s}:void 0,pivot:r.length||t?{pivotMode:t,pivotColIds:r}:void 0,columnPinning:n.length||o.length?{leftColIds:n,rightColIds:o}:void 0,columnVisibility:a.length?{hiddenColIds:a}:void 0,columnSizing:l.length?{columnSizingModel:l}:void 0,columnOrder:c.length?{orderedColIds:c}:void 0}}setColumnState(t){const{sort:e,rowGroup:i,aggregation:s,pivot:r,columnPinning:n,columnVisibility:o,columnSizing:a,columnOrder:l,partialColumnState:c}=t,u={},h=C=>{let m=u[C];return m||(m={colId:C},u[C]=m,m)},d=c?{}:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};e&&(e.sortModel.forEach(({colId:C,sort:m},v)=>{const y=h(C);y.sort=m,y.sortIndex=v}),d.sort=null,d.sortIndex=null),i&&(i.groupColIds.forEach((C,m)=>{const v=h(C);v.rowGroup=!0,v.rowGroupIndex=m}),d.rowGroup=null,d.rowGroupIndex=null),s&&(s.aggregationModel.forEach(({colId:C,aggFunc:m})=>{h(C).aggFunc=m}),d.aggFunc=null),r&&(r.pivotColIds.forEach((C,m)=>{const v=h(C);v.pivot=!0,v.pivotIndex=m}),this.gos.updateGridOptions({options:{pivotMode:r.pivotMode},source:"gridInitializing"}),d.pivot=null,d.pivotIndex=null),n&&(n.leftColIds.forEach(C=>{h(C).pinned="left"}),n.rightColIds.forEach(C=>{h(C).pinned="right"}),d.pinned=null),o&&(o.hiddenColIds.forEach(C=>{h(C).hide=!0}),d.hide=null),a&&(a.columnSizingModel.forEach(({colId:C,flex:m,width:v})=>{const y=h(C);y.flex=m??null,y.width=v}),d.flex=null);const g=l==null?void 0:l.orderedColIds,p=!!(g!=null&&g.length),f=p?g.map(C=>h(C)):Object.values(u);f.length&&(this.columnStates=f,this.columnApplyStateService.applyColumnState({state:f,applyOrder:p,defaultState:d},"gridInitializing"))}setColumnPivotState(t){const e=this.columnStates;this.columnStates=void 0;const i=this.columnGroupStates;if(this.columnGroupStates=void 0,!!this.pivotResultColsService.isPivotResultColsPresent()){if(e){const s=[];for(const r of e)this.pivotResultColsService.getPivotResultCol(r.colId)&&s.push(r);this.columnApplyStateService.applyColumnState({state:s,applyOrder:t},"gridInitializing")}i&&this.columnGroupStateService.setColumnGroupState(i,"gridInitializing")}}getColumnGroupState(){const t=this.columnGroupStateService.getColumnGroupState(),e=[];return t.forEach(({groupId:i,open:s})=>{s&&e.push(i)}),e.length?{openColumnGroupIds:e}:void 0}setColumnGroupState(t){var r;if(!Object.prototype.hasOwnProperty.call(t,"columnGroup"))return;const e=new Set((r=t.columnGroup)==null?void 0:r.openColumnGroupIds),s=this.columnGroupStateService.getColumnGroupState().map(({groupId:n})=>{const o=e.has(n);return o&&e.delete(n),{groupId:n,open:o}});e.forEach(n=>{s.push({groupId:n,open:!0})}),s.length&&(this.columnGroupStates=s),this.columnGroupStateService.setColumnGroupState(s,"gridInitializing")}getFilterState(){var i,s;let t=(i=this.filterManager)==null?void 0:i.getFilterModel();t&&Object.keys(t).length===0&&(t=void 0);const e=((s=this.filterManager)==null?void 0:s.getAdvancedFilterModel())??void 0;return t||e?{filterModel:t,advancedFilterModel:e}:void 0}setFilterState(t,e){var r,n;const{filterModel:i,advancedFilterModel:s}=t??{advancedFilterModel:e};i&&((r=this.filterManager)==null||r.setFilterModel(i,"columnFilter")),s&&((n=this.filterManager)==null||n.setAdvancedFilterModel(s))}getRangeSelectionState(){var e;const t=(e=this.rangeService)==null?void 0:e.getCellRanges().map(i=>{const{id:s,type:r,startRow:n,endRow:o,columns:a,startColumn:l}=i;return{id:s,type:r,startRow:n,endRow:o,colIds:a.map(c=>c.getColId()),startColId:l.getColId()}});return t!=null&&t.length?{cellRanges:t}:void 0}setCellSelectionState(t){const{gos:e,rangeService:i,columnModel:s,visibleColsService:r}=this;if(!Ws(e)||!i)return;const n=[];if(t.cellRanges.forEach(o=>{const a=[];if(o.colIds.forEach(c=>{const u=s.getCol(c);u&&a.push(u)}),!a.length)return;let l=s.getCol(o.startColId);if(!l){const c=r.getAllCols(),u=new Set(a);l=c.find(h=>u.has(h))}n.push({...o,columns:a,startColumn:l})}),j1(e)&&Y1(e)&&n.length>1)return _("cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`");i.setCellRanges(n)}getScrollState(){var s;if(!this.isClientSideRowModel)return;const t=(s=this.ctrlsService.getGridBodyCtrl())==null?void 0:s.getScrollFeature(),{left:e}=(t==null?void 0:t.getHScrollPosition())??{left:0},{top:i}=(t==null?void 0:t.getVScrollPosition())??{top:0};return i||e?{top:i,left:e}:void 0}setScrollState(t){var s;if(!this.isClientSideRowModel)return;const{top:e,left:i}=t;(s=this.ctrlsService.getGridBodyCtrl())==null||s.getScrollFeature().setScrollPosition(e,i)}getSideBarState(){var t,e;return(e=(t=this.sideBarService)==null?void 0:t.getSideBarComp())==null?void 0:e.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const t=this.focusService.getFocusedCell();if(t){const{column:e,rowIndex:i,rowPinned:s}=t;return{colId:e.getColId(),rowIndex:i,rowPinned:s}}}setFocusedCellState(t){if(!this.isClientSideRowModel)return;const{colId:e,rowIndex:i,rowPinned:s}=t;this.focusService.setFocusedCell({column:this.columnModel.getCol(e),rowIndex:i,rowPinned:s,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){if(!this.paginationService)return;const t=this.paginationService.getCurrentPage(),e=this.gos.get("paginationAutoPageSize")?void 0:this.paginationService.getPageSize();if(!(!t&&!e))return{page:t,pageSize:e}}setPaginationState(t){this.paginationService&&(t.pageSize&&!this.gos.get("paginationAutoPageSize")&&this.paginationService.setPageSize(t.pageSize,"initialState"),typeof t.page=="number"&&this.paginationService.setPage(t.page))}getRowSelectionState(){var i;const t=this.selectionService.getSelectionState();return!t||!Array.isArray(t)&&(t.selectAll===!1||t.selectAllChildren===!1)&&!((i=t==null?void 0:t.toggledNodes)!=null&&i.length)?void 0:t}setRowSelectionState(t){this.selectionService.setSelectionState(t,"gridInitializing")}getRowGroupExpansionState(){const t=this.expansionService.getExpandedRows();return t.length?{expandedRowGroupIds:t}:void 0}setRowGroupExpansionState(t){this.expansionService.expandRows(t.expandedRowGroupIds)}updateColumnState(t){const e=this.getColumnState();let i=!1;Object.entries(e).forEach(([s,r])=>{ul(r,this.cachedState[s])||(i=!0)}),this.cachedState={...this.cachedState,...e},i&&this.dispatchStateUpdateEvent(t)}updateCachedState(t,e){const i=this.cachedState[t];this.setCachedStateValue(t,e),ul(e,i)||this.dispatchStateUpdateEvent([t])}setCachedStateValue(t,e){this.cachedState={...this.cachedState,[t]:e}}refreshStaleState(){this.staleStateKeys.forEach(t=>{switch(t){case"rowSelection":this.setCachedStateValue(t,this.getRowSelectionState());break}}),this.staleStateKeys.clear()}dispatchStateUpdateEvent(t){this.suppressEvents||(t.forEach(e=>this.queuedUpdateSources.add(e)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const t=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear(),this.eventService.dispatchEvent({type:"stateUpdated",sources:t,state:this.cachedState})}suppressEventsAndDispatchInitEvent(t){this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),t(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.columnAnimationService.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}},XR={version:ce,moduleName:"@ag-grid-community/state-core",beans:[mG]},vG={version:ce,moduleName:"@ag-grid-community/state-api",apiFunctions:{getState:dG},dependantModules:[XR]},CG={version:ce,moduleName:"@ag-grid-community/state",dependantModules:[XR,vG]};function yG(t){return t.rowModel.isLastRowIndexKnown()}function wG(t){var e;return((e=t.paginationService)==null?void 0:e.getPageSize())??100}function xG(t){var e;return((e=t.paginationService)==null?void 0:e.getCurrentPage())??0}function bG(t){var e;return((e=t.paginationService)==null?void 0:e.getTotalPages())??1}function SG(t){return t.paginationService?t.paginationService.getMasterRowCount():t.rowModel.getRowCount()}function RG(t){var e;(e=t.paginationService)==null||e.goToNextPage()}function FG(t){var e;(e=t.paginationService)==null||e.goToPreviousPage()}function AG(t){var e;(e=t.paginationService)==null||e.goToFirstPage()}function PG(t){var e;(e=t.paginationService)==null||e.goToLastPage()}function EG(t,e){var i;(i=t.paginationService)==null||i.goToPage(e)}var kG=class extends W{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeService"}wireBeans(t){this.ctrlsService=t.ctrlsService,this.paginationService=t.paginationService}postConstruct(){this.ctrlsService.whenReady(this,t=>{this.centerRowsCtrl=t.center;const e=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:e,scrollVisibilityChanged:e}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.paginationService.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const t=this.centerRowsCtrl.getViewportSizeFeature().getBodyHeight();if(t>0){const e=()=>{const i=Math.max(ln(this.gos),1),s=Math.floor(t/i);this.paginationService.setPageSize(s,"autoCalculated")};this.isBodyRendered?Ut(()=>e(),50)():(e(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}};function MG(t,e,i){t.addManagedElementListeners(e,{keydown:s=>{if(!s.defaultPrevented&&s.key===B.TAB){const r=s.shiftKey;i.findNextFocusableElement(e,!1,r)||i.focusNextGridCoreContainer(r)&&s.preventDefault()}}})}var Ca="paginationPageSizeSelector",TG=class extends ze{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const t=this.selectPageSizeComp.getValue();if(!t)return;const e=Number(t);isNaN(e)||e<1||e===this.paginationService.getPageSize()||(this.paginationService.setPageSize(e,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(t){this.paginationService=t.paginationService}postConstruct(){this.addManagedPropertyListener(Ca,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:t=>this.handlePaginationChanged(t)})}handlePaginationChanged(t){if(!this.selectPageSizeComp||!(t!=null&&t.newPageSize))return;const e=this.paginationService.getPageSize();this.getPageSizeSelectorValues().includes(e)?this.selectPageSizeComp.setValue(e.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(t){this.selectPageSizeComp&&!t&&this.reset(),t&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){mi(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(Ca)!==!1}reloadPageSizesSelector(){const t=this.getPageSizeSelectorValues(),e=this.paginationService.getPageSize(),i=!e||!t.includes(e);if(i){const r=this.gos.exists("paginationPageSize"),n=this.gos.get(Ca)!==!0;_(`'paginationPageSize=${e}'${r?"":" (default value)"}, but ${e} is not included in${n?"":" the default"} paginationPageSizeSelector=[${t.join(", ")}].`),n||_(`Either set '${Ca}' to an array that includes ${e} or to 'false' to disable the page size selector.`),t.unshift("")}const s=String(i?"":e);this.selectPageSizeComp?(Lr(this.pageSizeOptions,t)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(t)),this.pageSizeOptions=t),this.selectPageSizeComp.setValue(s,!0)):this.createPageSizeSelectorComp(t,s),this.hasEmptyOption=i}createPageSizeSelectOptions(t){return t.map(e=>({value:String(e)}))}createPageSizeSelectorComp(t,e){const i=this.localeService.getLocaleTextFunc(),s=i("pageSizeSelectorLabel","Page Size:"),r=i("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new kv).addOptions(this.createPageSizeSelectOptions(t)).setValue(e).setAriaLabel(r).setLabel(s).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const t=[20,50,100],e=this.gos.get(Ca);return!Array.isArray(e)||di(e)?t:[...e].sort((i,s)=>i-s)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},DG={selector:"AG-PAGE-SIZE-SELECTOR",component:TG},LG=class extends bO{constructor(){super(),this.btFirst=oe,this.btPrevious=oe,this.btNext=oe,this.btLast=oe,this.lbRecordCount=oe,this.lbFirstRowOnPage=oe,this.lbLastRowOnPage=oe,this.lbCurrent=oe,this.lbTotal=oe,this.pageSizeComp=oe,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1}wireBeans(t){this.rowModel=t.rowModel,this.paginationService=t.paginationService,this.focusService=t.focusService,this.ariaAnnouncementService=t.ariaAnnouncementService}postConstruct(){const t=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[DG]);const{btFirst:e,btPrevious:i,btNext:s,btLast:r}=this;this.activateTabIndex([e,i,s,r]),e.insertAdjacentElement("afterbegin",ui(t?"last":"first",this.gos)),i.insertAdjacentElement("afterbegin",ui(t?"next":"previous",this.gos)),s.insertAdjacentElement("afterbegin",ui(t?"previous":"next",this.gos)),r.insertAdjacentElement("afterbegin",ui(t?"first":"last",this.gos)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:n=>{this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(n):this.focusService.focusGridInnerElement(n)},forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(t){this.allowFocusInnerElement=t}onPaginationChanged(){const e=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(e),e&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(t=>{const{el:e,fn:i}=t;this.addManagedListeners(e,{click:i,keydown:s=>{(s.key===B.ENTER||s.key===B.SPACE)&&(s.preventDefault(),i())}})}),MG(this,this.getGui(),this.focusService),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationService.goToFirstPage()}formatNumber(t){const e=this.gos.getCallback("paginationNumberFormatter");if(e)return e({value:t});const i=this.localeService.getLocaleTextFunc(),s=i("thousandSeparator",","),r=i("decimalSeparator",".");return yD(t,s,r)}getTemplate(){const t=this.localeService.getLocaleTextFunc(),e=t("page","Page"),i=t("to","to"),s=t("of","of"),r=t("firstPage","First Page"),n=t("previousPage","Previous Page"),o=t("nextPage","Next Page"),a=t("lastPage","Last Page"),l=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${l}">
                <ag-page-size-selector data-ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel">
                    <span id="ag-${l}-first-row" data-ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-to">${i}</span>
                    <span id="ag-${l}-last-row" data-ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${l}-of">${s}</span>
                    <span id="ag-${l}-row-count" data-ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div data-ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${r}"></div>
                    <div data-ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${n}"></div>
                    <span class="ag-paging-description">
                        <span id="ag-${l}-start-page">${e}</span>
                        <span id="ag-${l}-start-page-number" data-ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-${l}-of-page">${s}</span>
                        <span id="ag-${l}-of-page-number" data-ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div data-ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${o}"></div>
                    <div data-ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${a}"></div>
                </span>
            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationService.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationService.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationService.goToLastPage()}enableOrDisableButtons(){const t=this.paginationService.getCurrentPage(),e=this.rowModel.isLastRowIndexKnown(),i=this.paginationService.getTotalPages();this.previousAndFirstButtonsDisabled=t===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const s=this.isZeroPagesToDisplay(),r=t===i-1;this.nextButtonDisabled=r||s,this.lastButtonDisabled=!e||s||t===i-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(t,e){LM(t,e),t.classList.toggle("ag-disabled",e)}isZeroPagesToDisplay(){const t=this.rowModel.isLastRowIndexKnown(),e=this.paginationService.getTotalPages();return t&&e===0}updateLabels(){const t=this.rowModel.isLastRowIndexKnown(),e=this.paginationService.getTotalPages(),i=this.paginationService.getMasterRowCount(),s=t?i:null;if(s===1){const v=this.rowModel.getRow(0);if(v&&v.group&&!(v.groupData||v.aggData)){this.setTotalLabelsToZero();return}}const r=this.paginationService.getCurrentPage(),n=this.paginationService.getPageSize();let o,a;this.isZeroPagesToDisplay()?o=a=0:(o=n*r+1,a=o+n-1,t&&a>s&&(a=s));const l=o+n-1,c=!t&&i<l,u=this.formatNumber(o);this.lbFirstRowOnPage.textContent=u;let h;const d=this.localeService.getLocaleTextFunc();c?h=d("pageLastRowUnknown","?"):h=this.formatNumber(a),this.lbLastRowOnPage.textContent=h;const p=e>0?r+1:0,f=this.formatNumber(p);this.lbCurrent.textContent=f;let C,m;if(t)C=this.formatNumber(e),m=this.formatNumber(s);else{const v=d("more","more");C=v,m=v}this.lbTotal.textContent=C,this.lbRecordCount.textContent=m,this.announceAriaStatus(u,h,m,f,C)}announceAriaStatus(t,e,i,s,r){const n=this.localeService.getLocaleTextFunc(),o=n("page","Page"),a=n("to","to"),l=n("of","of"),c=`${t} ${a} ${e} ${l} ${i}`,u=`${o} ${s} ${l} ${r}`;c!==this.ariaRowStatus&&(this.ariaRowStatus=c,this.ariaAnnouncementService.announceValue(c,"paginationRow")),u!==this.ariaPageStatus&&(this.ariaPageStatus=u,this.ariaAnnouncementService.announceValue(u,"paginationPage"))}setTotalLabelsToZero(){const t=this.formatNumber(0);this.lbFirstRowOnPage.textContent=t,this.lbCurrent.textContent=t,this.lbLastRowOnPage.textContent=t,this.lbTotal.textContent=t,this.lbRecordCount.textContent=t,this.announceAriaStatus(t,t,t,t,t)}},IG={selector:"AG-PAGINATION",component:LG},OG=class extends W{constructor(){super(...arguments),this.beanName="paginationService",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}wireBeans(t){this.rowModel=t.rowModel,this.pageBoundsService=t.pageBoundsService}postConstruct(){this.active=this.gos.get("pagination"),this.pageSizeFromGridOptions=this.gos.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return IG}isPaginateChildRows(){return this.gos.get("groupRemoveSingleChildren")||this.gos.get("groupRemoveLowestSingleChildren")?!0:this.gos.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(t){!this.active||this.currentPage===t||typeof this.currentPage!="number"||(this.currentPage=t,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0}))}isRowPresent(t){return t.rowIndex>=this.topDisplayedRowIndex&&t.rowIndex<=this.bottomDisplayedRowIndex}getPageForIndex(t){return Math.floor(t/this.pageSize)}goToPageWithIndex(t){if(!this.active)return;const e=this.getPageForIndex(t);this.goToPage(e)}isRowInPage(t){return this.active?this.getPageForIndex(t.rowIndex)===this.currentPage:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const t=this.rowModel.getRowCount(),e=Math.floor(t/this.pageSize);this.goToPage(e)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(t){this.currentPage=t}get pageSize(){return K(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:K(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:K(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:K(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.pageBoundsService.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const t=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==t&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(t,e){const i=this.pageSize;switch(e){case"autoCalculated":this.pageSizeAutoCalculated=t;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=t,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=t;break;case"gridOptions":this.pageSizeFromGridOptions=t,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}i!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}const t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.adjustCurrentPageIfInvalid();const e=this.pageSize*this.currentPage;let i=this.pageSize*(this.currentPage+1)-1;if(i>t&&(i=t),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(e),i===t)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{const s=this.rowModel.getTopLevelRowDisplayedIndex(i+1);this.bottomDisplayedRowIndex=s-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}const t=this.masterRowCount-1;this.totalPages=Math.floor(t/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>t&&(this.bottomDisplayedRowIndex=t)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(t){const{keepRenderedRows:e=!1,newPage:i=!1,newPageSize:s=!1}=t;this.eventService.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:i,newPageSize:s,keepRenderedRows:e})}},jR={version:ce,moduleName:"@ag-grid-community/pagination-core",beans:[OG,kG]},HG={version:ce,moduleName:"@ag-grid-community/pagination-api",dependantModules:[jR],apiFunctions:{paginationIsLastPageFound:yG,paginationGetPageSize:wG,paginationGetCurrentPage:xG,paginationGetTotalPages:bG,paginationGetRowCount:SG,paginationGoToNextPage:RG,paginationGoToPreviousPage:FG,paginationGoToFirstPage:AG,paginationGoToLastPage:PG,paginationGoToPage:EG}},NG={version:ce,moduleName:"@ag-grid-community/pagination",dependantModules:[jR,HG]},qt="clientSide",Bt="serverSide",Wn="infinite",GG={onGroupExpandedOrCollapsed:[qt],refreshClientSideRowModel:[qt],isRowDataEmpty:[qt],forEachLeafNode:[qt],forEachNodeAfterFilter:[qt],forEachNodeAfterFilterAndSort:[qt],resetRowHeights:[qt],applyTransaction:[qt],applyTransactionAsync:[qt],flushAsyncTransactions:[qt],getBestCostNodeSelection:[qt],getServerSideSelectionState:[Bt],setServerSideSelectionState:[Bt],applyServerSideTransaction:[Bt],applyServerSideTransactionAsync:[Bt],applyServerSideRowData:[Bt],retryServerSideLoads:[Bt],flushServerSideAsyncTransactions:[Bt],refreshServerSide:[Bt],getServerSideGroupLevelState:[Bt],refreshInfiniteCache:[Wn],purgeInfiniteCache:[Wn],getInfiniteRowCount:[Wn],isLastRowIndexKnown:[Wn,Bt],expandAll:[qt,Bt],collapseAll:[qt,Bt],onRowHeightChanged:[qt,Bt],setRowCount:[Wn,Bt],getCacheBlockState:[Wn,Bt]},BG={getValue:{version:"v31.3",new:"getCellValue"},getFirstDisplayedRow:{version:"v31.1",new:"getFirstDisplayedRowIndex"},getLastDisplayedRow:{version:"v31.1",new:"getLastDisplayedRowIndex"},getModel:{version:"v31.1",message:"Please use the appropriate grid API methods instead."},setColumnVisible:{version:"v31.1",old:"setColumnVisible(key,visible)",new:"setColumnsVisible([key],visible)"},setColumnPinned:{version:"v31.1",old:"setColumnPinned(key,pinned)",new:"setColumnsPinned([key],pinned)"},moveColumn:{version:"v31.1",old:"moveColumn(key, toIndex)",new:"moveColumns([key], toIndex)"},setColumnWidth:{version:"v31.1",old:"setColumnWidth(col, width)",new:"setColumnWidths([{key: col, newWidth: width}])"},autoSizeColumn:{version:"v31.1",old:"autoSizeColumn(key, skipHeader)",new:"autoSizeColumns([key], skipHeader)"},addAggFunc:{version:"v31.1",old:"addAggFunc(key, func)",new:"addAggFuncs({ key: func })"},removeValueColumn:{version:"v31.1",old:"removeValueColumn(colKey)",new:"removeValueColumns([colKey])"},addValueColumn:{version:"v31.1",old:"addValueColumn(colKey)",new:"addValueColumns([colKey])"},removeRowGroupColumn:{version:"v31.1",old:"removeRowGroupColumn(colKey)",new:"removeRowGroupColumns([colKey])"},addRowGroupColumn:{version:"v31.1",old:"addRowGroupColumn(colKey)",new:"addRowGroupColumns([colKey])"},removePivotColumn:{version:"v31.1",old:"removePivotColumn(colKey)",new:"removePivotColumns([colKey])"},addPivotColumn:{version:"v31.1",old:"addPivotColumn(colKey)",new:"addPivotColumns([colKey])"},showColumnMenuAfterButtonClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere."},showColumnMenuAfterMouseClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere."},getFilterInstance:{version:"v31.1",message:"'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."},showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"}};function WG(t,e,i){const s=BG[t];if(s){const{version:n,new:o,old:a,message:l}=s,c=a??t;return(...u)=>{const h=o?`Please use ${o} instead. `:"";return _(`Since ${n} api.${c} is deprecated. ${h}${l??""}`),e.apply(e,u)}}const r=GG[t];return r?(...n)=>{const o=i.rowModel.getType();if(!r.includes(o)){ke(`api.${t} can only be called when gridOptions.rowModelType is ${r.join(" or ")}`);return}return e.apply(e,n)}:e}var zG={columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."},suppressCellFlash:{version:"31.2",message:"Use `enableCellChangeFlash={false}` in the ColDef"},checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}},Qs=(t,e)=>{const i=e.rowModelType??"clientSide";return i==="clientSide"||i==="serverSide"?{module:"@ag-grid-enterprise/row-grouping"}:null},VG={enableRowGroup:Qs,rowGroup:Qs,rowGroupIndex:Qs,enablePivot:Qs,enableValue:Qs,pivot:Qs,pivotIndex:Qs,aggFunc:Qs,cellEditor:t=>t.cellEditor==="agRichSelect"||t.cellEditor==="agRichSelectCellEditor"?{module:"@ag-grid-enterprise/rich-select"}:null,menuTabs:t=>{var i;const e=["columnsMenuTab","generalMenuTab"];return(i=t.menuTabs)!=null&&i.some(s=>e.includes(s))?{module:"@ag-grid-enterprise/menu"}:null},columnsMenuParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},columnChooserParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(t,{rowSelection:e})=>e==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:e})=>e==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:e})=>e==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},children:()=>Un},_G={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0},UG=Object.keys(_G),Un={objectName:"colDef",allProperties:UG,docsUrl:"column-properties/",deprecations:zG,validations:VG},XG=()=>({advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"},enableCellChangeFlash:{version:"31.2",message:"Use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns."},groupIncludeFooter:{version:"31.3",message:"Use `groupTotalRow` instead."},groupIncludeTotalFooter:{version:"31.3",message:"Use `grandTotalRow` instead."},suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."}}),jG={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1},YG=()=>({sideBar:{module:"@ag-grid-enterprise/side-bar"},statusBar:{module:"@ag-grid-enterprise/status-bar"},enableCharts:{module:"@ag-grid-enterprise/charts"},getMainMenuItems:{module:"@ag-grid-enterprise/menu"},getContextMenuItems:{module:"@ag-grid-enterprise/menu"},allowContextMenuWithControlKey:{module:"@ag-grid-enterprise/menu"},enableAdvancedFilter:{module:"@ag-grid-enterprise/advanced-filter"},treeData:{supportedRowModels:["clientSide","serverSide"],module:"@ag-grid-enterprise/row-grouping",validate:t=>{const e=t.rowModelType??"clientSide";switch(e){case"clientSide":{const i=`treeData requires 'getDataPath' in the ${e} row model.`;return t.getDataPath?null:i}case"serverSide":{const i=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${e} row model.`;return t.isServerSideGroup&&t.getServerSideGroupKey?null:i}}return null}},masterDetail:{module:"@ag-grid-enterprise/master-detail"},enableRangeSelection:{module:"@ag-grid-enterprise/range-selection"},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],validate:t=>{switch(t.rowModelType??"clientSide"){case"clientSide":return null;case"serverSide":return t.suppressServerSideInfiniteScroll?"groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll":null}return null}},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:[void 0,"bottom"]}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},viewportDatasource:{supportedRowModels:["viewport"],module:"@ag-grid-enterprise/viewport-row-model"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"@ag-grid-enterprise/server-side-row-model"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:"@ag-grid-community/infinite-row-model"},rowData:{supportedRowModels:["clientSide"],module:"@ag-grid-community/client-side-row-model"},paginationPageSizeSelector:{validate:t=>{const e=t.paginationPageSizeSelector;return typeof e=="boolean"||e==null||e.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},rowSelection:{validate({rowSelection:t}){return t&&typeof t=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':t&&typeof t!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":null}},cellSelection:{module:"@ag-grid-enterprise/range-selection"},columnDefs:()=>Un,defaultColDef:()=>Un,defaultColGroupDef:()=>Un,autoGroupColumnDef:()=>Un,selectionColumnDef:()=>Un}),$G=()=>({objectName:"gridOptions",allProperties:[...gl.ALL_PROPERTIES,...pl.EVENT_CALLBACKS],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:XG(),validations:YG()}),KG=class extends W{constructor(){super(...arguments),this.beanName="validationService"}wireBeans(t){this.beans=t,this.gridOptions=t.gridOptions}postConstruct(){this.processGridOptions(this.gridOptions)}processGridOptions(t){this.processOptions(t,$G())}validateApiFunction(t,e){return WG(t,e,this.beans)}processOptions(t,e){const{validations:i,deprecations:s,allProperties:r,propertyExceptions:n,objectName:o,docsUrl:a}=e;r&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(t,[...n??[],...Object.keys(s)],r,o,a);const l=new Set;Object.keys(t).forEach(u=>{const h=s[u];if(h)if("renamed"in h){const{renamed:y,version:w}=h;l.add(`As of v${w}, ${String(u)} is deprecated. Please use ${String(y)} instead.`),t[y]=t[u]}else{const{message:y,version:w}=h;l.add(`As of v${w}, ${String(u)} is deprecated. ${y??""}`)}const d=t[u];if(d==null||d===!1)return;const g=i[u];let p;if(g)if(typeof g=="function"){const y=g(t,this.gridOptions);if(!y)return;if("objectName"in y){const w=t[u];if(Array.isArray(w)){w.forEach(x=>{this.processOptions(x,y)});return}this.processOptions(t[u],y);return}p=y}else p=g;else return;const{module:f,dependencies:C,validate:m,supportedRowModels:v}=p;if(v){const y=this.gridOptions.rowModelType??"clientSide";if(!v.includes(y)){l.add(`${String(u)} is not supported with the '${y}' row model.`);return}}if(f){const y=Array.isArray(f)?f:[f];let w=!0;if(y.forEach(x=>{this.gos.assertModuleRegistered(x,String(u))||(w=!1,l.add(`${String(u)} is only available when ${x} is loaded.`))}),!w)return}if(C){const y=this.checkForRequiredDependencies(u,C,t);if(y){l.add(y);return}}if(m){const y=m(t,this.gridOptions);if(y){l.add(y);return}}}),l.size>0&&l.forEach(u=>{_(u)})}checkForRequiredDependencies(t,e,i){const r=Object.entries(e).find(([a,l])=>{const c=i[a];return!l.includes(c)});if(!r)return null;const[n,o]=r;return o.length>1?`'${String(t)}' requires '${n}' to be one of [${o.join(", ")}].`:`'${String(t)}' requires '${n}' to be ${o[0]}.`}checkProperties(t,e,i,s,r){const n=["__ob__","__v_skip","__metadata__"],o=qG(Object.getOwnPropertyNames(t),[...n,...e,...i],i);if(Yi(o,(a,l)=>{let c=`invalid ${s} property '${a}' did you mean any of these: ${l.slice(0,8).join(", ")}.`;i.includes("context")&&(c+=`
If you are trying to annotate ${s} with application data, use the '${s}.context' property instead.`),_(c)}),Object.keys(o).length>0&&r){const a=this.getFrameworkOverrides().getDocLink(r);_(`to see all the valid ${s} properties please check: ${a}`)}}};function qG(t,e,i){const s={},r=t.filter(n=>!e.some(o=>o===n));return r.length>0&&r.forEach(n=>s[n]=Y0({inputValue:n,allSuggestions:i}).values),s}var QG={version:ce,moduleName:"@ag-grid-community/core"},ZG={version:ce,moduleName:"@ag-grid-community/core-validations",beans:[KG]},YR={version:ce,moduleName:"@ag-grid-community/core-community-features",dependantModules:[QG,ZG,uO,sL,CG,UH,JO,NG,hG]},JG=class extends W{constructor(){super(...arguments),this.beanName="gridDestroyService",this.destroyCalled=!1}wireBeans(t){this.beans=t}destroy(){var t,e;this.destroyCalled||(this.eventService.dispatchEvent({type:"gridPreDestroyed",state:((t=this.beans.stateService)==null?void 0:t.getState())??{}}),this.destroyCalled=!0,(e=this.beans.ctrlsService.get("gridCtrl"))==null||e.destroyGridUi(),this.beans.context.destroy(),super.destroy())}isDestroyCalled(){return this.destroyCalled}},iu=new Set(["gridPreDestroyed","fillStart","pasteStart"]),eB=t=>t==="checkboxSelected"||t==="rowClicked"||t==="spaceKey"||t==="uiSelectAll"||t==="uiSelectAllCurrentPage"||t==="uiSelectAllFiltered",tB=new Map([...gl.BOOLEAN_PROPERTIES.map(t=>[t,Bp]),...gl.NUMBER_PROPERTIES.map(t=>[t,hR]),["groupAggFiltering",t=>typeof t=="function"?t:Bp(t)],["pageSize",us(1)],["autoSizePadding",us(0)],["keepDetailRowsCount",us(1)],["rowBuffer",us(0)],["infiniteInitialRowCount",us(1)],["cacheOverflowSize",us(1)],["cacheBlockSize",us(1)],["serverSideInitialRowCount",us(1)],["viewportRowModelPageSize",us(1)],["viewportRowModelBufferSize",us(0)]]);function $R(t,e){const i=tB.get(t);return i?i(e):e}function iB(t){const e={};return Object.entries(t).forEach(([i,s])=>{const r=$R(i,s);e[i]=r}),e}var KR=class qR extends W{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new Vo,this.globalEventHandlerFactory=e=>(i,s)=>{if(!this.isAlive())return;const r=iu.has(i);if(r&&!e||!r&&e)return;const n=pl.getCallbackForEvent(i),o=this.gridOptions[n];typeof o=="function"&&this.frameworkOverrides.wrapOutgoing(()=>{o(s)})}}wireBeans(e){this.gridOptions=e.gridOptions,this.eGridDiv=e.eGridDiv,this.validationService=e.validationService,this.environment=e.environment,this.api=e.gridApi,this.gridId=e.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){const e=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),e),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:i})=>{this.updateGridOptions({options:i,force:!0,source:"gridOptionsUpdated"})}})}get(e){return this.gridOptions[e]??jG[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return K(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(s=>{const r=s;return r.api=this.api,r.context=this.gridOptionsContext,e(r)})}updateGridOptions({options:e,force:i,source:s="api"}){var o;const r={id:qR.changeSetId++,properties:[]},n=[];Object.entries(e).forEach(([a,l])=>{s==="api"&&AM[a]&&_(`${a} is an initial property and cannot be updated.`);const c=$R(a,l),u=i||typeof c=="object"&&s==="api",h=this.gridOptions[a];if(u||h!==c){this.gridOptions[a]=c;const d={type:a,currentValue:c,previousValue:h,changeSet:r,source:s};n.push(d)}}),(o=this.validationService)==null||o.processGridOptions(this.gridOptions),r.properties=n.map(a=>a.type),n.forEach(a=>{this.gridOptions.debug&&$i(`Updated property ${a.type} from`,a.previousValue," to ",a.currentValue),this.propertyEventService.dispatchEvent(a)})}addPropertyEventListener(e,i){this.propertyEventService.addEventListener(e,i)}removePropertyEventListener(e,i){this.propertyEventService.removeEventListener(e,i)}getDomDataKey(){return this.domDataKey}getGridCommonParams(){return{api:this.api,context:this.gridOptionsContext}}addGridCommonParams(e){const i=e;return i.api=this.api,i.context=this.gridOptionsContext,i}assertModuleRegistered(e,i){return fs.__assertRegistered(e,i,this.gridId)}isModuleRegistered(e){return fs.__isRegistered(e,this.gridId)}};KR.changeSetId=0;var sB=KR,rB=class extends W{constructor(){super(...arguments),this.beanName="headerPositionUtils"}wireBeans(t){this.visibleColsService=t.visibleColsService,this.ctrlsService=t.ctrlsService}findHeader(t,e){let i,s;if(nt(t.column)?i=this.visibleColsService.getGroupAtDirection(t.column,e):(s=`getCol${e}`,i=this.visibleColsService[s](t.column)),!i)return;const{headerRowIndex:r}=t;if(this.getHeaderRowType(r)!=="filter"){const a=[i];for(;i.getParent();)i=i.getParent(),a.push(i);i=a[a.length-1-r]}const{column:n,headerRowIndex:o}=this.getHeaderIndexToFocus(i,r);return{column:n,headerRowIndex:o}}getHeaderIndexToFocus(t,e){let i;if(nt(t)&&this.isAnyChildSpanningHeaderHeight(t)&&t.isPadding()){const s=t;i=s.getLeafColumns()[0];let r=i;for(;r!==s;)e++,r=r.getParent()}return{column:i||t,headerRowIndex:e}}isAnyChildSpanningHeaderHeight(t){return t?t.getLeafColumns().some(e=>e.isSpanHeaderHeight()):!1}getColumnVisibleParent(t,e){const i=this.getHeaderRowType(e),s=i==="filter",r=i==="column";let n=s?t:t.getParent(),o=e-1,a=o;if(r&&this.isAnyChildSpanningHeaderHeight(t.getParent())){for(;n&&n.isPadding();)n=n.getParent(),o--;a=o,o<0&&(n=t,o=e,a=void 0)}return{column:n,headerRowIndex:o,headerRowIndexWithoutSpan:a}}getColumnVisibleChild(t,e,i="After"){const s=this.getHeaderRowType(e);let r=t,n=e+1;const o=n;if(s==="group"){const a=t.getDisplayedLeafColumns(),l=i==="After"?a[0]:xe(a),c=[];let u=l;for(;u.getParent()!==t;)u=u.getParent(),c.push(u);if(r=l,l.isSpanHeaderHeight())for(let h=c.length-1;h>=0;h--){const d=c[h];if(!d.isPadding()){r=d;break}n++}else r=xe(c),r||(r=l)}return{column:r,headerRowIndex:n,headerRowIndexWithoutSpan:o}}getHeaderRowType(t){const e=this.ctrlsService.getHeaderRowContainerCtrl();if(e)return e.getRowType(t)}findColAtEdgeForHeaderRow(t,e){const i=this.visibleColsService.getAllCols(),s=i[e==="start"?0:i.length-1];if(!s)return;const r=this.ctrlsService.getHeaderRowContainerCtrl(s.getPinned()),n=r==null?void 0:r.getRowType(t);if(n=="group"){const o=this.visibleColsService.getColGroupAtLevel(s,t);return{headerRowIndex:t,column:o}}return{headerRowIndex:n==null?-1:t,column:s}}},nB=class extends W{constructor(){super(...arguments),this.beanName="localeService"}getLocaleTextFunc(){const t=this.gos.getCallback("getLocaleText");if(t)return(i,s,r)=>t({key:i,defaultValue:s,variableValues:r});const e=this.gos.get("localeText");return(i,s,r)=>{let n=e&&e[i];if(n&&r&&r.length){let o=0;for(;!(o>=r.length||n.indexOf("${variable}")===-1);)n=n.replace("${variable}",r[o++])}return n??s}}},oB=class extends W{constructor(){super(...arguments),this.beanName="apiEventService",this.syncEventListeners=new Map,this.asyncEventListeners=new Map,this.syncGlobalEventListeners=new Set,this.globalEventListenerPairs=new Map}postConstruct(){this.frameworkEventWrappingService=new pv(this.getFrameworkOverrides())}addEventListener(t,e){const i=this.frameworkEventWrappingService.wrap(e),s=Uu(this.gos)&&!iu.has(t),r=s?this.asyncEventListeners:this.syncEventListeners;r.has(t)||r.set(t,new Set),r.get(t).add(i),this.eventService.addEventListener(t,i,s)}removeEventListener(t,e){var n;const i=this.frameworkEventWrappingService.unwrap(e),s=this.asyncEventListeners.get(t),r=!!(s!=null&&s.delete(i));r||(n=this.syncEventListeners.get(t))==null||n.delete(i),this.eventService.removeEventListener(t,i,r)}addGlobalListener(t){const e=this.frameworkEventWrappingService.wrapGlobal(t);if(Uu(this.gos)){const s=(n,o)=>{iu.has(n)&&e(n,o)},r=(n,o)=>{iu.has(n)||e(n,o)};this.globalEventListenerPairs.set(t,{syncListener:s,asyncListener:r}),this.eventService.addGlobalListener(s,!1),this.eventService.addGlobalListener(r,!0)}else this.syncGlobalEventListeners.add(e),this.eventService.addGlobalListener(e,!1)}removeGlobalListener(t){const e=this.frameworkEventWrappingService.unwrapGlobal(t);if(this.globalEventListenerPairs.has(e)){const{syncListener:s,asyncListener:r}=this.globalEventListenerPairs.get(e);this.eventService.removeGlobalListener(s,!1),this.eventService.removeGlobalListener(r,!0),this.globalEventListenerPairs.delete(t)}else this.syncGlobalEventListeners.delete(e),this.eventService.removeGlobalListener(e,!1)}destroyEventListeners(t,e){t.forEach((i,s)=>{i.forEach(r=>this.eventService.removeEventListener(s,r,e)),i.clear()}),t.clear()}destroyGlobalListeners(t,e){t.forEach(i=>this.eventService.removeGlobalListener(i,e)),t.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.globalEventListenerPairs.forEach(({syncListener:t,asyncListener:e})=>{this.eventService.removeGlobalListener(t,!1),this.eventService.removeGlobalListener(e,!0)}),this.globalEventListenerPairs.clear()}},aB=class extends W{constructor(){super(...arguments),this.beanName="pageBoundsListener"}wireBeans(t){this.rowModel=t.rowModel,this.paginationService=t.paginationService,this.pageBoundsService=t.pageBoundsService}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(t){this.calculatePages(),this.eventService.dispatchEvent({type:"paginationChanged",animate:(t==null?void 0:t.animate)??!1,newData:(t==null?void 0:t.newData)??!1,newPage:(t==null?void 0:t.newPage)??!1,newPageSize:(t==null?void 0:t.newPageSize)??!1,keepRenderedRows:(t==null?void 0:t.keepRenderedRows)??!1})}calculatePages(){this.paginationService?this.paginationService.calculatePages():this.pageBoundsService.calculateBounds(0,this.rowModel.getRowCount()-1)}},lB=class extends W{constructor(){super(...arguments),this.beanName="pageBoundsService",this.pixelOffset=0}wireBeans(t){this.rowModel=t.rowModel}getFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getCurrentPageHeight(){return be(this.topRowBounds)||be(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){const t=this.topRowBounds?this.topRowBounds.rowTop:0,e=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:t,pageLastPixel:e}}calculateBounds(t,e){this.topRowBounds=this.rowModel.getRowBounds(t),this.topRowBounds&&(this.topRowBounds.rowIndex=t),this.bottomRowBounds=this.rowModel.getRowBounds(e),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=e),this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){const t=K(this.topRowBounds)?this.topRowBounds.rowTop:0;this.pixelOffset!==t&&(this.pixelOffset=t,this.eventService.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},cB=class extends W{constructor(){super(),this.beanName="ariaAnnouncementService",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.updateAnnouncement=Ut(this.updateAnnouncement.bind(this),200)}wireBeans(t){this.eGridDiv=t.eGridDiv}postConstruct(){const t=st(this.gos),e=this.descriptionContainer=t.createElement("div");e.classList.add("ag-aria-description-container"),k0(e,"polite"),DM(e,"additions text"),TM(e,!0),this.eGridDiv.appendChild(e)}announceValue(t,e){this.pendingAnnouncements.set(e,t),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const t=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.isAlive()&&this.descriptionContainer&&(this.descriptionContainer.textContent=t)},50)}destroy(){super.destroy();const{descriptionContainer:t}=this;t&&(mi(t),t.parentElement&&t.parentElement.removeChild(t)),this.descriptionContainer=null,this.eGridDiv=null,this.pendingAnnouncements.clear()}},uB=class extends W{constructor(){super(...arguments),this.beanName="columnAnimationService",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}wireBeans(t){this.ctrlsService=t.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,t=>this.gridBodyCtrl=t.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(t){this.suppressAnimation=t}start(){this.active||this.gos.get("suppressColumnMoveAnimation")||this.gos.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(t){this.activeNext?this.executeNextFuncs.push(t):t()}executeLaterVMTurn(t){this.active?this.executeLaterFuncs.push(t):t()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const t=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===t&&this.gridBodyCtrl.setColumnMovingCss(!1)})}flush(t,e){if(this.executeNextFuncs.length===0&&this.executeLaterFuncs.length===0){t(),e();return}const i=s=>{for(;s.length;){const r=s.pop();r&&r()}};this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{t(),i(this.executeNextFuncs)},0),window.setTimeout(()=>{e(),i(this.executeLaterFuncs)},200)})}},hB=class extends W{constructor(){super(...arguments),this.beanName="columnHoverService"}setMouseOver(t){this.updateState(t)}clearMouseOver(){this.updateState(null)}isHovered(t){return!!this.selectedColumns&&this.selectedColumns.indexOf(t)>=0}updateState(t){this.selectedColumns=t,this.eventService.dispatchEvent({type:"columnHoverChanged"})}},dB=class extends W{constructor(){super(...arguments),this.beanName="overlayService",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}wireBeans(t){this.userComponentFactory=t.userComponentFactory,this.rowModel=t.rowModel,this.columnModel=t.columnModel,this.ctrlsService=t.ctrlsService}postConstruct(){this.isClientSide=Xe(this.gos);const t=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:t,rowDataUpdated:t,gridSizeChanged:this.onGridSizeChanged.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",t)}setOverlayWrapperComp(t){this.overlayWrapperComp=t,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.overlayWrapperComp}isExclusive(){return this.state===1&&!!this.overlayWrapperComp}getOverlayWrapper(){return this.overlayWrapperComp}showLoadingOverlay(){this.showInitialOverlay=!1;const t=this.gos.get("loading");!t&&(t!==void 0||this.gos.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1,!(this.gos.get("loading")||this.gos.get("suppressNoRowsOverlay"))&&this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){_("Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.");return}this.doHideOverlay()}updateOverlayVisibility(){if(!this.overlayWrapperComp){this.state=0;return}let t=this.gos.get("loading");this.showInitialOverlay&&t===void 0&&!this.gos.get("suppressLoadingOverlay")&&(t=!this.gos.get("columnDefs")||!this.columnModel.isReady()||!this.gos.get("rowData")&&this.isClientSide),t?this.state!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,this.rowModel.isEmpty()&&!this.gos.get("suppressNoRowsOverlay")&&this.isClientSide?this.state!==2&&this.doShowNoRowsOverlay():this.state!==0&&this.doHideOverlay())}doShowLoadingOverlay(){this.overlayWrapperComp&&(this.state=1,this.showOverlay(this.userComponentFactory.getLoadingOverlayCompDetails({}),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.overlayWrapperComp&&(this.state=2,this.showOverlay(this.userComponentFactory.getNoRowsOverlayCompDetails({}),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.overlayWrapperComp&&(this.state=0,this.overlayWrapperComp.hideOverlay(),this.updateExclusive())}showOverlay(t,e,i){var r;const s=t.newAgStackInstance();(r=this.overlayWrapperComp)==null||r.showOverlay(s,e,this.isExclusive(),i),this.refreshWrapperPadding()}updateExclusive(){const t=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==t&&this.eventService.dispatchEvent({type:"overlayExclusiveChanged"})}onGridSizeChanged(){this.refreshWrapperPadding()}refreshWrapperPadding(){if(!this.overlayWrapperComp)return;let t=0;if(this.state===2){const e=this.ctrlsService.get("gridHeaderCtrl");t=(e==null?void 0:e.getHeaderHeight())||0}else this.wrapperPadding!==0&&(t=0);this.wrapperPadding!==t&&(this.wrapperPadding=t,this.overlayWrapperComp.updateOverlayWrapperPaddingTop(t))}},gB=class extends W{constructor(){super(...arguments),this.beanName="rowCssClassCalculator"}wireBeans(t){this.stylingService=t.stylingService}getInitialRowClasses(t){const e=[];return K(t.extraCssClass)&&e.push(t.extraCssClass),e.push("ag-row"),e.push(t.rowFocused?"ag-row-focus":"ag-row-no-focus"),t.fadeRowIn&&e.push("ag-opacity-zero"),e.push(t.rowIsEven?"ag-row-even":"ag-row-odd"),t.rowNode.isRowPinned()&&e.push("ag-row-pinned"),t.rowNode.isSelected()&&e.push("ag-row-selected"),t.rowNode.footer&&e.push("ag-row-footer"),e.push("ag-row-level-"+t.rowLevel),t.rowNode.stub&&e.push("ag-row-loading"),t.fullWidthRow&&e.push("ag-full-width-row"),t.expandable&&(e.push("ag-row-group"),e.push(t.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),t.rowNode.dragging&&e.push("ag-row-dragging"),Uy(e,this.processClassesFromGridOptions(t.rowNode)),Uy(e,this.preProcessRowClassRules(t.rowNode)),e.push(t.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),t.firstRowOnPage&&e.push("ag-row-first"),t.lastRowOnPage&&e.push("ag-row-last"),t.fullWidthRow&&(t.pinned==="left"&&e.push("ag-cell-last-left-pinned"),t.pinned==="right"&&e.push("ag-cell-first-right-pinned")),e}processClassesFromGridOptions(t){const e=[],i=n=>{typeof n=="string"?e.push(n):Array.isArray(n)&&n.forEach(o=>e.push(o))},s=this.gos.get("rowClass");if(s){if(typeof s=="function")return _("rowClass should not be a function, please use getRowClass instead"),[];i(s)}const r=this.gos.getCallback("getRowClass");if(r){const n={data:t.data,node:t,rowIndex:t.rowIndex},o=r(n);i(o)}return e}preProcessRowClassRules(t){const e=[];return this.processRowClassRules(t,i=>{e.push(i)},()=>{}),e}processRowClassRules(t,e,i){const s=this.gos.addGridCommonParams({data:t.data,node:t,rowIndex:t.rowIndex});this.stylingService.processClassRules(void 0,this.gos.get("rowClassRules"),s,e,i)}calculateRowLevel(t){return t.group?t.level:t.parent?t.parent.level+1:0}},pB=class extends W{constructor(){super(...arguments),this.beanName="rowContainerHeightService",this.scrollY=0,this.uiBodyHeight=0}wireBeans(t){this.ctrlsService=t.ctrlsService}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=_M(),this.gos.get("debug")&&$i("RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;const e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,i=this.getUiBodyHeight();(e!==this.scrollY||i!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=i,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const t=this.scrollY/this.maxScrollY,e=t*this.pixelsToShave;this.gos.get("debug")&&$i(`RowContainerHeightService - Div Stretch Offset = ${e} (${this.pixelsToShave} * ${t})`),this.setDivStretchOffset(e)}setUiContainerHeight(t){t!==this.uiContainerHeight&&(this.uiContainerHeight=t,this.eventService.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(t){const e=typeof t=="number"?Math.floor(t):null;this.divStretchOffset!==e&&(this.divStretchOffset=e,this.eventService.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(t){this.modelHeight=t,this.stretching=t!=null&&this.maxDivHeight>0&&t>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(t){return t-this.divStretchOffset}getUiBodyHeight(){const e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(t){if(this.pixelsToShave<=0)return t;const e=this.modelHeight-this.getUiBodyHeight(),i=t/e;return this.maxScrollY*i}},fB=class extends W{constructor(){super(...arguments),this.beanName="rowNodeSorter"}wireBeans(t){this.valueService=t.valueService,this.columnModel=t.columnModel,this.showRowGroupColsService=t.showRowGroupColsService}postConstruct(){this.isAccentedSort=this.gos.get("accentedSort"),this.primaryColumnsSortGroups=ps(this.gos),this.addManagedPropertyListener("accentedSort",t=>this.isAccentedSort=t.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=ps(this.gos))}doFullSort(t,e){const i=(r,n)=>({currentPos:n,rowNode:r}),s=t.map(i);return s.sort(this.compareRowNodes.bind(this,e)),s.map(r=>r.rowNode)}compareRowNodes(t,e,i){const s=e.rowNode,r=i.rowNode;for(let n=0,o=t.length;n<o;n++){const a=t[n],l=a.sort==="desc",c=this.getValue(s,a.column),u=this.getValue(r,a.column);let h;const d=this.getComparator(a,s);if(d?h=d(c,u,s,r,l):h=z1(c,u,this.isAccentedSort),!isNaN(h)&&h!==0)return a.sort==="asc"?h:h*-1}return e.currentPos-i.currentPos}getComparator(t,e){const i=t.column,s=i.getColDef().comparator;if(s!=null)return s;if(!i.getColDef().showRowGroup)return;const r=!e.group&&i.getColDef().field;if(!r)return;const n=this.columnModel.getColDefCol(r);if(n)return n.getColDef().comparator}getValue(t,e){var s,r,n;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(e,t,!1,!1);if(t.rowGroupColumn===e){if(Oh(this.gos,this.columnModel.isPivotActive())){const l=(s=t.allLeafChildren)==null?void 0:s[0];return l?this.valueService.getValue(e,l,!1,!1):void 0}const a=(r=this.showRowGroupColsService)==null?void 0:r.getShowRowGroupCol(e.getId());return a?(n=t.groupData)==null?void 0:n[a.getId()]:void 0}if(!(t.group&&e.getColDef().showRowGroup))return this.valueService.getValue(e,t,!1,!1)}},zh=class{constructor(t,e){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=t,this.pathRoot={rowNode:e,children:null},this.mapToItems[e.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(t,e){if(t.children)for(let i=0;i<t.children.length;i++)this.depthFirstSearchChangedPath(t.children[i],e);e(t.rowNode)}depthFirstSearchEverything(t,e,i){if(t.childrenAfterGroup)for(let s=0;s<t.childrenAfterGroup.length;s++){const r=t.childrenAfterGroup[s];r.childrenAfterGroup?this.depthFirstSearchEverything(t.childrenAfterGroup[s],e,i):i&&e(r)}e(t)}forEachChangedNodeDepthFirst(t,e=!1,i=!1){this.active&&!i?this.depthFirstSearchChangedPath(this.pathRoot,t):this.depthFirstSearchEverything(this.pathRoot.rowNode,t,e)}executeFromRootNode(t){t(this.pathRoot.rowNode)}createPathItems(t){let e=t,i=0;for(;!this.mapToItems[e.id];){const s={rowNode:e,children:null};this.mapToItems[e.id]=s,i++,e=e.parent}return i}populateColumnsMap(t,e){if(!this.keepingColumns||!e)return;let i=t;for(;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),e.forEach(s=>this.nodeIdsToColumns[i.id][s.getId()]=!0),i=i.parent}linkPathItems(t,e){let i=t;for(let s=0;s<e;s++){const r=this.mapToItems[i.id],n=this.mapToItems[i.parent.id];n.children||(n.children=[]),n.children.push(r),i=i.parent}}addParentNode(t,e){if(!t||t.isRowPinned())return;const i=this.createPathItems(t);this.linkPathItems(t,i),this.populateColumnsMap(t,e)}canSkip(t){return this.active&&!this.mapToItems[t.id]}getValueColumnsForNode(t,e){if(!this.keepingColumns)return e;const i=this.nodeIdsToColumns[t.id];return e.filter(r=>i[r.getId()])}getNotValueColumnsForNode(t,e){if(!this.keepingColumns)return null;const i=this.nodeIdsToColumns[t.id];return e.filter(r=>!i[r.getId()])}},QR=class extends W{constructor(){super(...arguments),this.beanName="selectionService",this.selectedNodes=new Map,this.selectionCtx=new yO,this.rowSelectionMode=void 0}wireBeans(t){this.rowModel=t.rowModel,this.pageBoundsService=t.pageBoundsService}postConstruct(){const{gos:t,rowModel:e,onRowSelected:i}=this;this.selectionCtx.init(e),this.rowSelectionMode=ju(t),this.groupSelectsChildren=Sn(t),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],()=>{const s=Sn(t),r=ju(t);(s!==this.groupSelectsChildren||r!==this.rowSelectionMode)&&(this.groupSelectsChildren=s,this.rowSelectionMode=r,this.deselectAllRowNodes({source:"api"}))}),this.addManagedEventListeners({rowSelected:i.bind(this)})}destroy(){super.destroy(),this.resetNodes(),this.selectionCtx.reset()}isMultiSelect(){return this.rowSelectionMode==="multiRow"}overrideSelectionValue(t,e){if(!eB(e))return t;const i=this.selectionCtx.getRoot();return i?i.isSelected()??!1:!0}setNodesSelected(t){var h;const{newValue:e,clearSelection:i,suppressFinishActions:s,rangeSelect:r,nodes:n,event:o,source:a}=t;if(n.length===0)return 0;if(n.length>1&&!this.isMultiSelect())return _("cannot multi select unless selection mode is 'multiRow'"),0;const l=this.groupSelectsChildren&&t.groupSelectsFiltered===!0,c=n.map(d=>d.footer?d.sibling:d);if(r){if(c.length>1)return _("cannot range select while selecting multiple rows"),0;const d=c[0],g=this.overrideSelectionValue(e,a);if(this.isMultiSelect()){if(this.selectionCtx.isInRange(d)){const p=this.selectionCtx.truncate(d);return g&&this.selectRange(p.discard,!1,a),this.selectRange(p.keep,g,a)}else if(this.selectionCtx.getRoot()!==d){const C=this.selectionCtx.extend(d,this.groupSelectsChildren);return g&&this.selectRange(C.discard,!1,a),this.selectRange(C.keep,g,a)}}}s||this.selectionCtx.setRoot(c[0]);let u=0;for(let d=0;d<c.length;d++){const g=c[d];l&&g.group||g.selectThisNode(e,o,a)&&u++,this.groupSelectsChildren&&((h=g.childrenAfterGroup)!=null&&h.length)&&(u+=this.selectChildren(g,e,l,a))}return s||(e&&(i||!this.isMultiSelect())&&(u+=this.clearOtherNodes(c[0],a)),u>0&&(this.updateGroupsFromChildrenSelections(a),this.dispatchSelectionChanged(a))),u}selectRange(t,e,i){let s=0;return t.forEach(r=>{if(r.group&&this.groupSelectsChildren)return;r.selectThisNode(e,void 0,i)&&s++}),s>0&&(this.updateGroupsFromChildrenSelections(i),this.dispatchSelectionChanged(i)),s}selectChildren(t,e,i,s){const r=i?t.childrenAfterAggFilter:t.childrenAfterGroup;return be(r)?0:this.setNodesSelected({newValue:e,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:i,source:s,nodes:r})}getSelectedNodes(){const t=[];return this.selectedNodes.forEach(e=>{e&&t.push(e)}),t}getSelectedRows(){const t=[];return this.selectedNodes.forEach(e=>{e&&e.data&&t.push(e.data)}),t}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(t){const e=new Map;this.selectedNodes.forEach((i,s)=>{i&&t(i)&&e.set(s,i)}),this.selectedNodes=e}updateGroupsFromChildrenSelections(t,e){if(!this.groupSelectsChildren||!Xe(this.gos))return!1;const s=this.rowModel.getRootNode();e||(e=new zh(!0,s),e.setInactive());let r=!1;return e.forEachChangedNodeDepthFirst(n=>{if(n!==s){const o=n.calculateSelectedFromChildren();r=n.selectThisNode(o===null?!1:o,void 0,t)||r}}),r}clearOtherNodes(t,e){const i=new Map;let s=0;return this.selectedNodes.forEach(r=>{if(r&&r.id!==t.id){const n=this.selectedNodes.get(r.id);s+=n.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:e}),this.groupSelectsChildren&&r.parent&&i.set(r.parent.id,r.parent)}}),i.forEach(r=>{const n=r.calculateSelectedFromChildren();r.selectThisNode(n===null?!1:n,void 0,e)}),s}onRowSelected(t){const e=t.node;this.groupSelectsChildren&&e.group||(e.isSelected()?this.selectedNodes.set(e.id,e):this.selectedNodes.delete(e.id))}syncInRowNode(t,e){this.syncInOldRowNode(t,e),this.syncInNewRowNode(t)}syncInOldRowNode(t,e){if(K(e)&&t.id!==e.id&&e){const s=e.id;this.selectedNodes.get(s)==t&&this.selectedNodes.set(e.id,e)}}syncInNewRowNode(t){this.selectedNodes.has(t.id)?(t.setSelectedInitialValue(!0),this.selectedNodes.set(t.id,t)):t.setSelectedInitialValue(!1)}reset(t){const e=this.getSelectionCount();this.resetNodes(),e&&this.dispatchSelectionChanged(t)}resetNodes(){var t;(t=this.selectedNodes)==null||t.clear()}getBestCostNodeSelection(){if(!Xe(this.gos))return;const e=this.rowModel.getTopLevelNodes();if(e===null)return;const i=[];function s(r){for(let n=0,o=r.length;n<o;n++){const a=r[n];if(a.isSelected())i.push(a);else{const l=a;l.group&&l.children&&s(l.children)}}}return s(e),i}isEmpty(){let t=0;return this.selectedNodes.forEach(e=>{e&&t++}),t===0}deselectAllRowNodes(t){const e=o=>o.selectThisNode(!1,void 0,s),i=Xe(this.gos),{source:s,justFiltered:r,justCurrentPage:n}=t;if(n||r){if(!i){ke("selecting just filtered only works when gridOptions.rowModelType='clientSide'");return}this.getNodesToSelect(r,n).forEach(e)}else this.selectedNodes.forEach(o=>{o&&e(o)}),this.reset(s);this.selectionCtx.reset(),i&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(s),this.dispatchSelectionChanged(s)}getSelectedCounts(t,e){let i=0,s=0;const r=n=>{this.groupSelectsChildren&&n.group||(n.isSelected()?i++:n.selectable&&s++)};return this.getNodesToSelect(t,e).forEach(r),{selectedCount:i,notSelectedCount:s}}getSelectAllState(t,e){const{selectedCount:i,notSelectedCount:s}=this.getSelectedCounts(t,e);return i===0&&s===0?!1:i>0&&s>0?null:i>0}hasNodesToSelect(t=!1,e=!1){return this.getNodesToSelect(t,e).filter(i=>i.selectable).length>0}getNodesToSelect(t=!1,e=!1){this.validateSelectAllType();const i=[];if(e)return this.forEachNodeOnPage(r=>{if(!r.group){i.push(r);return}if(!r.expanded){const n=o=>{var a;i.push(o),(a=o.childrenAfterFilter)!=null&&a.length&&o.childrenAfterFilter.forEach(n)};n(r);return}this.groupSelectsChildren||i.push(r)}),i;const s=this.rowModel;return t?(s.forEachNodeAfterFilter(r=>{i.push(r)}),i):(s.forEachNode(r=>{i.push(r)}),i)}forEachNodeOnPage(t){const e=this.pageBoundsService.getFirstRow(),i=this.pageBoundsService.getLastRow();for(let s=e;s<=i;s++){const r=this.rowModel.getRow(s);r&&t(r)}}selectAllRowNodes(t){if(X1(this.gos)&&!f0(this.gos))return _("cannot multi select unless selection mode is 'multiRow'");this.validateSelectAllType();const{source:e,justFiltered:i,justCurrentPage:s}=t,r=this.getNodesToSelect(i,s);r.forEach(n=>n.selectThisNode(!0,void 0,e)),this.selectionCtx.setRoot(r[0]??null),this.selectionCtx.setEndRange(xe(r)??null),Xe(this.gos)&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(e),this.dispatchSelectionChanged(e)}getSelectionState(){const t=[];return this.selectedNodes.forEach(e=>{e!=null&&e.id&&t.push(e.id)}),t.length?t:null}setSelectionState(t,e){if(!Array.isArray(t))return ke("Invalid selection state. When using client-side row model, the state must conform to `string[]`.");const i=new Set(t),s=[];this.rowModel.forEachNode(r=>{i.has(r.id)&&s.push(r)}),this.setNodesSelected({newValue:!0,nodes:s,source:e})}dispatchSelectionChanged(t){this.eventService.dispatchEvent({type:"selectionChanged",source:t})}validateSelectAllType(){if(!Xe(this.gos))throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`)}},mB=class extends W{constructor(){super(...arguments),this.beanName="selectableService"}wireBeans(t){this.rowModel=t.rowModel,this.selectionService=t.selectionService}postConstruct(){this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>this.updateSelectable())}updateSelectableAfterGrouping(){this.updateSelectable(!0)}updateSelectable(t=!1){const{gos:e}=this,i=_u(e),s=hv(e);if(!i||!s)return;const r=Sn(e),n=Xe(e)&&r,o=[],a=l=>{if(t&&!l.group)return;if(n&&l.group){const u=l.childrenAfterGroup.some(h=>h.selectable===!0);l.setRowSelectable(u,!0);return}const c=(s==null?void 0:s(l))??!0;l.setRowSelectable(c,!0),!c&&l.isSelected()&&o.push(l)};if(n){const l=this.rowModel;new zh(!1,l.getRootNode()).forEachChangedNodeDepthFirst(a,!0,!0)}else this.rowModel.forEachNode(a);o.length&&this.selectionService.setNodesSelected({nodes:o,newValue:!1,source:"selectableChanged"}),n&&this.selectionService instanceof QR&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}},gw=["asc","desc",null],vB=class extends W{constructor(){super(...arguments),this.beanName="sortController"}wireBeans(t){this.columnModel=t.columnModel,this.funcColsService=t.funcColsService,this.showRowGroupColsService=t.showRowGroupColsService}progressSort(t,e,i){const s=this.getNextSortDirection(t);this.setSortForColumn(t,s,e,i)}setSortForColumn(t,e,i,s){e!=="asc"&&e!=="desc"&&(e=null);const r=ps(this.gos);let n=[t];if(r&&t.getColDef().showRowGroup){const l=this.funcColsService.getSourceColumnsForGroupColumn(t),c=l==null?void 0:l.filter(u=>u.isSortable());c&&(n=[t,...c])}n.forEach(l=>l.setSort(e,s));const o=(i||this.gos.get("alwaysMultiSort"))&&!this.gos.get("suppressMultiSort"),a=[];if(!o){const l=this.clearSortBarTheseColumns(n,s);a.push(...l)}this.updateSortIndex(t),a.push(...n),this.dispatchSortChangedEvents(s,a)}updateSortIndex(t){var a;const e=ps(this.gos),i=(a=this.showRowGroupColsService)==null?void 0:a.getShowRowGroupCol(t.getId()),s=e&&i||t,r=this.getColumnsWithSortingOrdered();this.columnModel.getAllCols().forEach(l=>l.setSortIndex(null));const n=r.filter(l=>e&&l.getColDef().showRowGroup?!1:l!==s);(s.getSort()?[...n,s]:n).forEach((l,c)=>{l.setSortIndex(c)})}onSortChanged(t,e){this.dispatchSortChangedEvents(t,e)}isSortActive(){const e=this.columnModel.getAllCols().filter(i=>!!i.getSort());return e&&e.length>0}dispatchSortChangedEvents(t,e){const i={type:"sortChanged",source:t};e&&(i.columns=e),this.eventService.dispatchEvent(i)}clearSortBarTheseColumns(t,e){const i=[];return this.columnModel.getAllCols().forEach(s=>{t.includes(s)||(s.getSort()&&i.push(s),s.setSort(void 0,e))}),i}getNextSortDirection(t){let e;if(t.getColDef().sortingOrder?e=t.getColDef().sortingOrder:this.gos.get("sortingOrder")?e=this.gos.get("sortingOrder"):e=gw,!Array.isArray(e)||e.length<=0)return _(`sortingOrder must be an array with at least one element, currently it's ${e}`),null;const i=e.indexOf(t.getSort()),s=i<0,r=i==e.length-1;let n;return s||r?n=e[0]:n=e[i+1],gw.indexOf(n)<0?(_("invalid sort type ",n),null):n}getIndexedSortMap(){let t=this.columnModel.getAllCols().filter(n=>!!n.getSort());if(this.columnModel.isPivotMode()){const n=ps(this.gos);t=t.filter(o=>{var u;const a=!!o.getAggFunc(),l=!o.isPrimary(),c=n?(u=this.showRowGroupColsService)==null?void 0:u.getShowRowGroupCol(o.getId()):o.getColDef().showRowGroup;return a||l||c})}const e=this.funcColsService.getRowGroupColumns().filter(n=>!!n.getSort()),i={};t.forEach((n,o)=>i[n.getId()]=o),t.sort((n,o)=>{const a=n.getSortIndex(),l=o.getSortIndex();if(a!=null&&l!=null)return a-l;if(a==null&&l==null){const c=i[n.getId()],u=i[o.getId()];return c>u?1:-1}else return l==null?-1:1});const s=ps(this.gos)&&!!e.length;s&&(t=[...new Set(t.map(n=>{var o;return((o=this.showRowGroupColsService)==null?void 0:o.getShowRowGroupCol(n.getId()))??n}))]);const r=new Map;return t.forEach((n,o)=>r.set(n,o)),s&&e.forEach(n=>{const o=this.showRowGroupColsService.getShowRowGroupCol(n.getId());r.set(n,r.get(o))}),r}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([t,e],[i,s])=>e-s).map(([t])=>t)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(t=>t.getSort()).map(t=>({sort:t.getSort(),colId:t.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(t=>t.getSort()).map(t=>({sort:t.getSort(),column:t}))}canColumnDisplayMixedSort(t){const e=ps(this.gos),i=!!t.getColDef().showRowGroup;return e&&i}getDisplaySortForColumn(t){const e=this.funcColsService.getSourceColumnsForGroupColumn(t);if(!this.canColumnDisplayMixedSort(t)||!(e!=null&&e.length))return t.getSort();const s=t.getColDef().field!=null||!!t.getColDef().valueGetter?[t,...e]:e,r=s[0].getSort();return s.every(o=>o.getSort()==r)?r:"mixed"}getDisplaySortIndexForColumn(t){return this.getIndexedSortMap().get(t)}},CB=class extends W{constructor(){super(...arguments),this.beanName="syncService",this.waitingForColumns=!1}wireBeans(t){this.ctrlsService=t.ctrlsService,this.columnModel=t.columnModel,this.rowModel=t.rowModel}postConstruct(){this.addManagedPropertyListener("columnDefs",t=>this.setColumnDefs(t))}start(){this.ctrlsService.whenReady(this,()=>{const t=this.gos.get("columnDefs");t?this.setColumnsAndData(t):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(t){this.columnModel.setColumnDefs(t??[],"gridInitializing"),this.rowModel.start()}gridReady(){this.eventService.dispatchEvent({type:"gridReady"});const t=this.gos.isModuleRegistered("@ag-grid-enterprise/core");this.gos.get("debug")&&$i(`initialised successfully, enterprise = ${t}`)}setColumnDefs(t){const e=this.gos.get("columnDefs");if(e){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(e);return}this.columnModel.setColumnDefs(e,Ur(t.source))}}},yB="paste",wB=class extends W{constructor(){super(...arguments),this.beanName="changeDetectionService"}wireBeans(t){this.rowModel=t.rowModel,this.rowRenderer=t.rowRenderer}postConstruct(){Xe(this.gos)&&(this.clientSideRowModel=this.rowModel),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(t){t.source!==yB&&this.doChangeDetection(t.node,t.column)}doChangeDetection(t,e){if(this.gos.get("suppressChangeDetection"))return;const i=[t];if(this.clientSideRowModel&&!t.isRowPinned()){const s=this.gos.get("aggregateOnlyChangedColumns"),r=new zh(s,this.clientSideRowModel.getRootNode());r.addParentNode(t.parent,[e]),this.clientSideRowModel.doAggregate(r),r.forEachChangedNodeDepthFirst(n=>{i.push(n)})}this.rowRenderer.refreshCells({rowNodes:i})}},xB=class extends W{constructor(){super(...arguments),this.beanName="expressionService",this.expressionToFunctionCache={}}evaluate(t,e){if(typeof t=="string")return this.evaluateExpression(t,e);ke("value should be either a string or a function",t)}evaluateExpression(t,e){try{return this.createExpressionFunction(t)(e.value,e.context,e.oldValue,e.newValue,e.value,e.node,e.data,e.colDef,e.rowIndex,e.api,e.getValue,e.column,e.columnGroup)}catch(i){return $i("Processing of the expression failed"),$i("Expression = ",t),$i("Params = ",e),$i("Exception = ",i),null}}createExpressionFunction(t){if(this.expressionToFunctionCache[t])return this.expressionToFunctionCache[t];const e=this.createFunctionBody(t),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",e);return this.expressionToFunctionCache[t]=i,i}createFunctionBody(t){return t.indexOf("return")>=0?t:"return "+t+";"}},bB=class extends W{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){this.active=this.gos.get("valueCache"),this.neverExpires=this.gos.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(t,e,i){this.active&&(t.__cacheVersion!==this.cacheVersion&&(t.__cacheVersion=this.cacheVersion,t.__cacheData={}),t.__cacheData[e]=i)}getValue(t,e){if(!(!this.active||t.__cacheVersion!==this.cacheVersion))return t.__cacheData[e]}},SB=class extends W{constructor(){super(...arguments),this.beanName="valueService",this.initialised=!1,this.isSsrm=!1}wireBeans(t){this.expressionService=t.expressionService,this.columnModel=t.columnModel,this.valueCache=t.valueCache,this.dataTypeService=t.dataTypeService}postConstruct(){this.initialised||this.init()}init(){this.isSsrm=xs(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const t=i=>this.callColumnCellValueChangedHandler(i),e=Uu(this.gos);this.eventService.addEventListener("cellValueChanged",t,e),this.addDestroyFunc(()=>this.eventService.removeEventListener("cellValueChanged",t,e)),this.addManagedPropertyListener("treeData",i=>this.isTreeData=i.currentValue)}getValueForDisplay(t,e){const i=e.leafGroup&&this.columnModel.isPivotMode(),s=e.group&&e.expanded&&!e.footer&&!i,r=this.gos.get("groupSuppressBlankHeader");if(!s||r)return this.getValue(t,e);let n=!1;const o=this.gos.get("groupTotalRow")??this.gos.get("groupIncludeFooter");typeof o!="function"?n=!!o:n=!!(this.gos.getCallback("groupTotalRow")??this.gos.getCallback("groupIncludeFooter"))({node:this});const a=s&&n;return this.getValue(t,e,!1,a)}getValue(t,e,i=!1,s=!1){if(this.initialised||this.init(),!e)return;const r=t.getColDef(),n=r.field,o=t.getColId(),a=e.data;let l;const c=e.groupData&&e.groupData[o]!==void 0,u=!s&&e.aggData&&e.aggData[o]!==void 0,h=this.isSsrm&&s&&!!t.getColDef().aggFunc,d=this.isSsrm&&e.footer&&e.field&&(t.getColDef().showRowGroup===!0||t.getColDef().showRowGroup===e.field);if(i&&r.filterValueGetter?l=this.executeFilterValueGetter(r.filterValueGetter,a,t,e):this.isTreeData&&u?l=e.aggData[o]:this.isTreeData&&r.valueGetter?l=this.executeValueGetter(r.valueGetter,a,t,e):this.isTreeData&&n&&a?l=Ba(a,n,t.isFieldContainsDots()):c?l=e.groupData[o]:u?l=e.aggData[o]:r.valueGetter?l=this.executeValueGetter(r.valueGetter,a,t,e):d?l=Ba(a,e.field,t.isFieldContainsDots()):n&&a&&!h&&(l=Ba(a,n,t.isFieldContainsDots())),this.cellExpressions&&typeof l=="string"&&l.indexOf("=")===0){const g=l.substring(1);l=this.executeValueGetter(g,a,t,e)}if(l==null){const g=this.getOpenedGroup(e,t);if(g!=null)return g}return l}parseValue(t,e,i,s){const r=t.getColDef(),n=r.valueParser;if(K(n)){const o=this.gos.addGridCommonParams({node:e,data:e==null?void 0:e.data,oldValue:s,newValue:i,colDef:r,column:t});return typeof n=="function"?n(o):this.expressionService.evaluate(n,o)}return i}getDeleteValue(t,e){return K(t.getColDef().valueParser)?this.parseValue(t,e,"",this.getValueForDisplay(t,e))??null:null}formatValue(t,e,i,s,r=!0){let n=null,o;const a=t.getColDef();if(s?o=s:r&&(o=a.valueFormatter),o){const l=this.gos.addGridCommonParams({value:i,node:e,data:e?e.data:null,colDef:a,column:t});typeof o=="function"?n=o(l):n=this.expressionService.evaluate(o,l)}else if(a.refData)return a.refData[i]||"";return n==null&&Array.isArray(i)&&(n=i.join(", ")),n}getOpenedGroup(t,e){if(!this.gos.get("showOpenedGroup")||!e.getColDef().showRowGroup)return;const s=e.getColDef().showRowGroup;let r=t.parent;for(;r!=null;){if(r.rowGroupColumn&&(s===!0||s===r.rowGroupColumn.getColId()))return r.key;r=r.parent}}setValue(t,e,i,s){const r=this.columnModel.getColDefCol(e);if(!t||!r)return!1;be(t.data)&&(t.data={});const{field:n,valueSetter:o}=r.getColDef();if(be(n)&&be(o))return _("you need either field or valueSetter set on colDef for editing to work"),!1;if(this.dataTypeService&&!this.dataTypeService.checkType(r,i))return _("Data type of the new value does not match the cell data type of the column"),!1;const a=this.gos.addGridCommonParams({node:t,data:t.data,oldValue:this.getValue(r,t),newValue:i,colDef:r.getColDef(),column:r});a.newValue=i;let l;if(K(o)?typeof o=="function"?l=o(a):l=this.expressionService.evaluate(o,a):l=this.setValueUsingField(t.data,n,i,r.isFieldContainsDots()),l===void 0&&(l=!0),!l)return!1;t.resetQuickFilterAggregateText(),this.valueCache.onDataChanged();const c=this.getValue(r,t);return this.eventService.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:a.column,colDef:a.colDef,data:t.data,node:t,oldValue:a.oldValue,newValue:c,value:c,source:s}),!0}callColumnCellValueChangedHandler(t){const e=t.colDef.onCellValueChanged;typeof e=="function"&&this.getFrameworkOverrides().wrapOutgoing(()=>{e({node:t.node,data:t.data,oldValue:t.oldValue,newValue:t.newValue,colDef:t.colDef,column:t.column,api:t.api,context:t.context})})}setValueUsingField(t,e,i,s){if(!e)return!1;let r=!1;if(!s)r=t[e]===i,r||(t[e]=i);else{const n=e.split(".");let o=t;for(;n.length>0&&o;){const a=n.shift();n.length===0?(r=o[a]===i,r||(o[a]=i)):o=o[a]}}return!r}executeFilterValueGetter(t,e,i,s){const r=this.gos.addGridCommonParams({data:e,node:s,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,s)});return typeof t=="function"?t(r):this.expressionService.evaluate(t,r)}executeValueGetter(t,e,i,s){const r=i.getColId(),n=this.valueCache.getValue(s,r);if(n!==void 0)return n;const o=this.gos.addGridCommonParams({data:e,node:s,column:i,colDef:i.getColDef(),getValue:this.getValueCallback.bind(this,s)});let a;return typeof t=="function"?a=t(o):a=this.expressionService.evaluate(t,o),this.valueCache.setValue(s,r,a),a}getValueCallback(t,e){const i=this.columnModel.getColDefCol(e);return i?this.getValue(i,t):null}getKeyForNode(t,e){const i=this.getValue(t,e),s=t.getColDef().keyCreator;let r=i;if(s){const n=this.gos.addGridCommonParams({value:i,colDef:t.getColDef(),column:t,node:e,data:e.data});r=s(n)}return typeof r=="string"||r==null||(r=String(r),r==="[object Object]"&&_("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),r}},Wv=class zr{static applyGlobalGridOptions(e){if(!zr.gridOptions)return e;let i={};return Vt(i,zr.gridOptions,!0,!0),zr.mergeStrategy==="deep"?Vt(i,e,!0,!0):i={...i,...e},zr.gridOptions.context&&(i.context=zr.gridOptions.context),e.context&&(zr.mergeStrategy==="deep"&&i.context&&Vt(e.context,i.context,!0,!0),i.context=e.context),i}};Wv.gridOptions=void 0;Wv.mergeStrategy="shallow";var ZR=Wv;function RB(t){var e;return(e=ZR.gridOptions)==null?void 0:e[t]}var FB=1,AB=class{create(t,e,i,s,r){const n=ZR.applyGlobalGridOptions(e),o=iB(n),a=o.gridId??String(FB++),l=this.getRegisteredModules(r,a),c=this.createBeansList(o.rowModelType,l,a),u=this.createProvidedBeans(t,o,r);if(!c){ke("Failed to create grid.");return}const h={providedBeanInstances:u,beanClasses:c,gridId:a,beanInitComparator:BO,beanDestroyComparator:WO,derivedBeans:[MO]},d=new _T(h);return this.registerModuleUserComponents(d,l),this.registerControllers(d,l),this.registerModuleApiFunctions(d,l),i(d),d.getBean("syncService").start(),s&&s(d),d.getBean("gridApi")}registerControllers(t,e){const i=t.getBean("ctrlsFactory");e.forEach(s=>{s.controllers&&s.controllers.forEach(r=>i.register(r))})}getRegisteredModules(t,e){const i=t?t.modules:null,s=fs.__getRegisteredModules(e),r=[],n={},o=(a,l,c)=>{(h=>{n[h.moduleName]||(n[h.moduleName]=!0,r.push(h),fs.__register(h,a,c))})(l),l.dependantModules&&l.dependantModules.forEach(h=>o(a,h,c))};return o(!!(i!=null&&i.length)||!fs.__isPackageBased(),YR,void 0),i&&i.forEach(a=>o(!0,a,e)),s&&s.forEach(a=>o(!fs.__isPackageBased(),a,void 0)),r}registerModuleUserComponents(t,e){const i=this.extractModuleEntity(e,r=>r.userComponents?r.userComponents:[]),s=t.getBean("userComponentRegistry");i.forEach(({name:r,classImp:n,params:o})=>{s.registerDefaultComponent(r,n,o)})}registerModuleApiFunctions(t,e){const i=t.getBean("apiFunctionService");e.forEach(s=>{const r=s.apiFunctions;r&&Object.keys(r).forEach(o=>{i==null||i.addFunction(o,r[o])})})}createProvidedBeans(t,e,i){let s=i?i.frameworkOverrides:null;be(s)&&(s=new BR);const r={gridOptions:e,eGridDiv:t,globalEventListener:i?i.globalEventListener:null,globalSyncEventListener:i?i.globalSyncEventListener:null,frameworkOverrides:s};return i&&i.providedBeanInstances&&Object.assign(r,i.providedBeanInstances),r}createBeansList(t="clientSide",e,i){const s=e.filter(l=>!l.rowModel||l.rowModel===t),r={clientSide:"@ag-grid-community/client-side-row-model",infinite:"@ag-grid-community/infinite-row-model",serverSide:"@ag-grid-enterprise/server-side-row-model",viewport:"@ag-grid-enterprise/viewport-row-model"};if(!r[t]){ke("Could not find row model for rowModelType = ",t);return}if(!fs.__assertRegistered(r[t],`rowModelType = '${t}'`,i))return;const n=[XO,_O,rB,JG,kO,ST,HO,NO,RI,$0,pB,bI,nB,fO,YT,SM,$O,sB,FO,QR,dM,rL,lB,aB,gO,xB,hM,xI,bB,SB,hO,SI,UT,KO,wI,jO,PO,wO,yI,vB,hB,uB,mB,wB,FI,TO,gB,fB,VO,qO,UO,zO,CB,dB,AI,oB,cB,PI,fM,DO,mM,gM,LO,IO,bM,pM,wM,OO,xM,oM],o=this.extractModuleEntity(s,l=>l.beans?l.beans:[]);n.push(...o);const a=[];return n.forEach(l=>{a.indexOf(l)<0&&a.push(l)}),a}extractModuleEntity(t,e){return[].concat(...t.map(e))}},JR=class extends W{constructor(){super(...arguments),this.beanName="rowModelHelperService"}wireBeans(t){this.rowModel=t.rowModel}postConstruct(){const t=this.rowModel;switch(t.getType()){case"clientSide":this.clientSideRowModel=t;break;case"infinite":this.infiniteRowModel=t;break;case"serverSide":this.serverSideRowModel=t;break}}getClientSideRowModel(){return this.clientSideRowModel}getInfiniteRowModel(){return this.infiniteRowModel}getServerSideRowModel(){return this.serverSideRowModel}};function PB(t){t.expansionService.expandAll(!0)}function EB(t){t.expansionService.expandAll(!1)}function kB(t){var s,r;const e=(s=t.rowModelHelperService)==null?void 0:s.getClientSideRowModel(),i=(r=t.rowModelHelperService)==null?void 0:r.getServerSideRowModel();e?e.onRowHeightChanged():i&&i.onRowHeightChanged()}function MB(t,e,i){var n,o;const s=(n=t.rowModelHelperService)==null?void 0:n.getServerSideRowModel();if(s){if(t.funcColsService.isRowGroupEmpty()){s.setRowCount(e,i);return}ke("setRowCount cannot be used while using row grouping.");return}const r=(o=t.rowModelHelperService)==null?void 0:o.getInfiniteRowModel();if(r){r.setRowCount(e,i);return}}function TB(t){var e;return((e=t.rowNodeBlockLoader)==null?void 0:e.getBlockState())??{}}function DB(t){return t.rowModel.isLastRowIndexKnown()}var LB={version:ce,moduleName:"@ag-grid-community/csrm-ssrm-shared-api",apiFunctions:{expandAll:PB,collapseAll:EB,onRowHeightChanged:kB}},IB={version:ce,moduleName:"@ag-grid-community/ssrm-infinite-shared-api",apiFunctions:{setRowCount:MB,getCacheBlockState:TB,isLastRowIndexKnown:DB}},OB=class{wrap(t,e,i=[],s){const r=this.createWrapper(t,s);return e.forEach(n=>{this.createMethod(r,n,!0)}),i.forEach(n=>{this.createMethod(r,n,!1)}),r}createMethod(t,e,i){t.addMethod(e,this.createMethodProxy(t,e,i))}createMethodProxy(t,e,i){return function(){return t.hasMethod(e)?t.callMethod(e,arguments):(i&&_("Framework component is missing the method "+e+"()"),null)}}},Yo=typeof global>"u"?{}:global;Yo.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement;Yo.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement;Yo.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement;Yo.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement;Yo.Node=typeof Node>"u"?{}:Node;Yo.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var HB="ROOT_NODE_ID",og=0,NB=class{constructor(t,e,i,s,r,n){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=t,this.gos=e,this.eventService=i,this.funcColsService=s,this.beans=n,this.selectionService=r,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=HB,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}getCopyOfNodesMap(){return x0(this.allNodesMap)}getRowNode(t){return this.allNodesMap[t]}setRowData(t){if(typeof t=="string"){_("rowData must be an array.");return}this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(t);const e=this.rootNode,i=this.rootNode.sibling;e.childrenAfterFilter=null,e.childrenAfterGroup=null,e.childrenAfterAggFilter=null,e.childrenAfterSort=null,e.childrenMapped=null,e.updateHasChildren(),this.nextId=0,this.allNodesMap={},t?e.allLeafChildren=t.map((s,r)=>this.createNode(s,this.rootNode,og,r)):(e.allLeafChildren=[],e.childrenAfterGroup=[]),i&&(i.childrenAfterFilter=e.childrenAfterFilter,i.childrenAfterGroup=e.childrenAfterGroup,i.childrenAfterAggFilter=e.childrenAfterAggFilter,i.childrenAfterSort=e.childrenAfterSort,i.childrenMapped=e.childrenMapped,i.allLeafChildren=e.allLeafChildren)}updateRowData(t){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(t.add);const e={rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},i=[];return this.executeRemove(t,e,i),this.executeUpdate(t,e,i),this.executeAdd(t,e),this.updateSelection(i,"rowDataChanged"),e}updateRowOrderFromRowData(t){const e=this.rootNode.allLeafChildren,i=(e==null?void 0:e.length)??0,s=new Map;let r=-1,n=-1;for(let o=0;o<i;++o){const a=e[o],l=a.data;l!==t[o]&&(n<0&&(r=o),n=o,s.set(l,a))}if(r<0)return!1;for(let o=r;o<=n;++o){const a=s.get(t[o]);a!==void 0&&(e[o]=a,a.sourceRowIndex=o)}return!0}isRowCountReady(){return this.rowCountReady}dispatchRowDataUpdateStartedEvent(t){this.eventService.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:t!=null&&t.length?t[0]:null})}updateSelection(t,e){const i=t.length>0;i&&this.selectionService.setNodesSelected({newValue:!1,nodes:t,suppressFinishActions:!0,source:e}),this.selectionService.updateGroupsFromChildrenSelections(e),i&&this.eventService.dispatchEvent({type:"selectionChanged",source:e})}executeAdd(t,e){const i=t.add;if(di(i))return;const s=this.rootNode.allLeafChildren;let r=s.length;if(typeof t.addIndex=="number"&&(r=this.sanitizeAddIndex(t.addIndex),r>0&&this.gos.get("treeData")))for(let l=0;l<s.length;l++){const c=s[l];if((c==null?void 0:c.rowIndex)==r-1){r=l+1;break}}const n=i.map((a,l)=>this.createNode(a,this.rootNode,og,r+l));if(r<s.length){const a=s.slice(0,r),l=s.slice(r,s.length),c=a.length+n.length;for(let u=0,h=l.length;u<h;++u)l[u].sourceRowIndex=c+u;this.rootNode.allLeafChildren=[...a,...n,...l],e.rowsInserted=!0}else this.rootNode.allLeafChildren=s.concat(n);const o=this.rootNode.sibling;o&&(o.allLeafChildren=s),e.rowNodeTransaction.add=n}sanitizeAddIndex(t){var i;const e=((i=this.rootNode.allLeafChildren)==null?void 0:i.length)??0;return t<0||t>=e||Number.isNaN(t)?e:Math.ceil(t)}executeRemove(t,{rowNodeTransaction:e},i){var o,a;const{remove:s}=t;if(di(s))return;const r={};s.forEach(l=>{const c=this.lookupRowNode(l);c&&(c.isSelected()&&i.push(c),c.clearRowTopAndRowIndex(),r[c.id]=!0,delete this.allNodesMap[c.id],e.remove.push(c))}),this.rootNode.allLeafChildren=((o=this.rootNode.allLeafChildren)==null?void 0:o.filter(l=>!r[l.id]))??null,(a=this.rootNode.allLeafChildren)==null||a.forEach((l,c)=>{l.sourceRowIndex=c});const n=this.rootNode.sibling;n&&(n.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(t,{rowNodeTransaction:e},i){const{update:s}=t;di(s)||s.forEach(r=>{const n=this.lookupRowNode(r);n&&(n.updateData(r),!n.selectable&&n.isSelected()&&i.push(n),this.setMasterForRow(n,r,og,!1),e.update.push(n))})}lookupRowNode(t){var s;const e=_o(this.gos);let i;if(e){const r=e({data:t,level:0});if(i=this.allNodesMap[r],!i)return ke(`could not find row id=${r}, data item was not found for this id`),null}else if(i=(s=this.rootNode.allLeafChildren)==null?void 0:s.find(r=>r.data===t),!i)return ke("could not find data item as object was not found",t),ke("Consider using getRowId to help the Grid find matching row data"),null;return i||null}createNode(t,e,i,s){const r=new Os(this.beans);return r.sourceRowIndex=s,r.group=!1,this.setMasterForRow(r,t,i,!0),e&&(r.parent=e),r.level=i,r.setDataAndId(t,this.nextId.toString()),this.allNodesMap[r.id]&&_(`duplicate node id '${r.id}' detected from getRowId callback, this could cause issues in your grid.`),this.allNodesMap[r.id]=r,this.nextId++,r}setMasterForRow(t,e,i,s){if(this.gos.get("treeData"))t.setMaster(!1),s&&(t.expanded=!1);else{if(this.gos.get("masterDetail")){const o=this.gos.get("isRowMaster");o?t.setMaster(o(e)):t.setMaster(!0)}else t.setMaster(!1);if(s){const o=this.funcColsService.getRowGroupColumns(),a=o?o.length:0,l=i+a;t.expanded=t.master?this.isExpanded(l):!1}}}isExpanded(t){const e=this.gos.get("groupDefaultExpanded");return e===-1?!0:t<e}},GB=class extends W{constructor(){super(...arguments),this.beanName="rowModel",this.onRowHeightChanged_debounced=Ut(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[],this.hasStarted=!1,this.shouldSkipSettingDataOnStart=!1,this.isRefreshingModel=!1,this.rowCountReady=!1}wireBeans(t){this.beans=t,this.columnModel=t.columnModel,this.funcColsService=t.funcColsService,this.selectionService=t.selectionService,this.valueCache=t.valueCache,this.environment=t.environment,this.filterStage=t.filterStage,this.sortStage=t.sortStage,this.flattenStage=t.flattenStage,this.groupStage=t.groupStage,this.aggregationStage=t.aggregationStage,this.pivotStage=t.pivotStage,this.filterAggregatesStage=t.filterAggregatesStage}postConstruct(){const t=this.refreshModel.bind(this,{step:"group"}),e=!this.gos.get("suppressAnimationFrame"),i=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:e});this.addManagedEventListeners({newColumnsLoaded:i,columnRowGroupChanged:t,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:t,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new Os(this.beans),this.nodeManager=new NB(this.rootNode,this.gos,this.eventService,this.funcColsService,this.selectionService,this.beans)}addPropertyListeners(){const t=new Set(["treeData","masterDetail"]),e=new Set(["groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),i=new Set(["excludeChildrenWhenTreeDataFiltering"]),s=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),r=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly","grandTotalRow"]),n=new Set(["postSortRows","groupDisplayType","accentedSort"]),o=new Set([]),a=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter","groupTotalRow"]),l=[...t,...e,...i,...s,...s,...r,...n,...o,...a];this.addManagedPropertyListeners(l,c=>{var d;const u=(d=c.changeSet)==null?void 0:d.properties;if(!u)return;const h=g=>u.some(p=>g.has(p));if(h(t)){this.setRowData(this.rootNode.allLeafChildren.map(g=>g.data));return}if(h(e)){this.refreshModel({step:"group"});return}if(h(i)){this.refreshModel({step:"filter"});return}if(h(s)){this.refreshModel({step:"pivot"});return}if(h(r)){this.refreshModel({step:"aggregate"});return}if(h(n)){this.refreshModel({step:"sort"});return}if(h(o)){this.refreshModel({step:"filter_aggregates"});return}h(a)&&this.refreshModel({step:"map"})}),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()}setInitialData(){const t=this.gos.get("rowData");t&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(t))}ensureRowHeightsValid(t,e,i,s){let r,n=!1;do{r=!1;const o=this.getRowIndexAtPixel(t),a=this.getRowIndexAtPixel(e),l=Math.max(o,i),c=Math.min(a,s);for(let u=l;u<=c;u++){const h=this.getRow(u);if(h.rowHeightEstimated){const d=Rr(this.gos,h);h.setRowHeight(d.height),r=!0,n=!0}}r&&this.setRowTopAndRowIndex()}while(r);return n}setRowTopAndRowIndex(){const t=this.environment.getDefaultRowHeight();let e=0;const i=new Set,s=Ft(this.gos,"normal");for(let r=0;r<this.rowsToDisplay.length;r++){const n=this.rowsToDisplay[r];if(n.id!=null&&i.add(n.id),n.rowHeight==null){const o=Rr(this.gos,n,s,t);n.setRowHeight(o.height,o.estimated)}n.setRowTop(e),n.setRowIndex(r),e+=n.rowHeight}return i}clearRowTopAndRowIndex(t,e){const i=t.isActive(),s=n=>{n&&n.id!=null&&!e.has(n.id)&&n.clearRowTopAndRowIndex()},r=n=>{if(s(n),s(n.detailNode),s(n.sibling),n.hasChildren()&&n.childrenAfterGroup){const o=n.level==-1;i&&!o&&!n.expanded||n.childrenAfterGroup.forEach(r)}};r(this.rootNode)}ensureRowsAtPixel(t,e,i=0){const s=this.getRowIndexAtPixel(e),r=this.getRow(s),n=!this.gos.get("suppressAnimationFrame");if(r===t[0])return!1;const o=this.rootNode.allLeafChildren;return t.forEach(a=>{Xt(o,a)}),t.forEach((a,l)=>{Yu(o,a,Math.max(s+i,0)+l)}),t.forEach((a,l)=>{a.sourceRowIndex=l}),this.refreshModel({step:"group",keepRenderedRows:!0,keepEditingRows:!0,animate:n,rowNodesOrderChanged:!0}),!0}highlightRowAtPixel(t,e){const i=e!=null?this.getRowIndexAtPixel(e):null,s=i!=null?this.getRow(i):null;if(!s||!t||e==null){this.clearHighlightedRow();return}const r=this.getHighlightPosition(e,s),n=this.isHighlightingCurrentPosition(t,s,r),o=this.lastHighlightedRow!=null&&this.lastHighlightedRow!==s;(n||o)&&(this.clearHighlightedRow(),n)||(s.setHighlighted(r),this.lastHighlightedRow=s)}getHighlightPosition(t,e){if(!e){const r=this.getRowIndexAtPixel(t);if(e=this.getRow(r||0),!e)return 1}const{rowTop:i,rowHeight:s}=e;return t-i<s/2?0:1}getLastHighlightedRowNode(){return this.lastHighlightedRow}isHighlightingCurrentPosition(t,e,i){if(t===e)return!0;const s=i===0?-1:1;return this.getRow(e.rowIndex+s)===t}clearHighlightedRow(){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;const e=this.rootNode.childrenAfterAggFilter,i=this.rootNode.sibling?1:0;return(e?e.length:0)+i}getTopLevelRowDisplayedIndex(t){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return t;let i=t;if(this.rowsToDisplay[0].footer){if(t===0)return 0;i-=1}const s=this.rowsToDisplay[this.rowsToDisplay.length-1],r=i>=this.rootNode.childrenAfterSort.length;if(s.footer&&r)return s.rowIndex;let n=this.rootNode.childrenAfterSort[i];if(this.gos.get("groupHideOpenParents"))for(;n.expanded&&n.childrenAfterSort&&n.childrenAfterSort.length>0;)n=n.childrenAfterSort[0];return n.rowIndex}getRowBounds(t){if(be(this.rowsToDisplay))return null;const e=this.rowsToDisplay[t];return e?{rowTop:e.rowTop,rowHeight:e.rowHeight}:null}onRowGroupOpened(){const t=fo(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:t})}onFilterChanged(t){if(t.afterDataChange)return;const e=fo(this.gos),s=t.columns.length===0||t.columns.some(r=>r.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:s,keepRenderedRows:!0,animate:e})}onSortChanged(){const t=fo(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:t,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:"pivot"}):this.refreshModel({step:"aggregate"})}createChangePath(t){const e=di(t),i=new zh(!1,this.rootNode);return e&&i.setInactive(),i}isSuppressModelUpdateAfterUpdateTransaction(t){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction")||t.rowNodeTransactions==null)return!1;const e=t.rowNodeTransactions.filter(s=>s.add!=null&&s.add.length>0||s.remove!=null&&s.remove.length>0);return e==null||e.length==0}buildRefreshModelParams(t){let e="group";const i={everything:"group",group:"group",filter:"filter",map:"map",aggregate:"aggregate",filter_aggregates:"filter_aggregates",sort:"sort",pivot:"pivot",nothing:"nothing"};if(K(t)&&(e=i[t]),be(e)){ke(`invalid step ${t}, available steps are ${Object.keys(i).join(", ")}`);return}const s=!this.gos.get("suppressAnimationFrame");return{step:e,keepRenderedRows:!0,keepEditingRows:!0,animate:s}}refreshModel(t){if(!this.hasStarted||this.isRefreshingModel||this.columnModel.isChangeEventsDispatching())return;const e=typeof t=="object"&&"step"in t?t:this.buildRefreshModelParams(t);if(!e||this.isSuppressModelUpdateAfterUpdateTransaction(e))return;const i=this.createChangePath(e.rowNodeTransactions);switch(this.isRefreshingModel=!0,e.step){case"group":this.doRowGrouping(e.rowNodeTransactions,i,!!e.rowNodesOrderChanged,!!e.afterColumnsChanged);case"filter":this.doFilter(i);case"pivot":this.doPivot(i);case"aggregate":this.doAggregate(i);case"filter_aggregates":this.doFilterAggregates(i);case"sort":this.doSort(e.rowNodeTransactions,i);case"map":this.doRowsToDisplay()}const s=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(i,s),this.isRefreshingModel=!1,this.eventService.dispatchEvent({type:"modelUpdated",animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}isEmpty(){const t=be(this.rootNode.allLeafChildren)||this.rootNode.allLeafChildren.length===0;return be(this.rootNode)||t||!this.columnModel.isReady()}isRowsToRender(){return K(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(t,e){let i=!1,s=!1;const r=[],n=Sn(this.gos);return this.forEachNodeAfterFilterAndSort(o=>{if(s)return;if(i&&(o===e||o===t)&&(s=!0,o.group&&n)){r.push(...o.allLeafChildren);return}if(!i){if(o!==e&&o!==t)return;i=!0}if(!o.group||!n){r.push(o);return}}),r}setDatasource(t){ke("should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(t){return this.rowsToDisplay[t]}isRowPresent(t){return this.rowsToDisplay.indexOf(t)>=0}getRowIndexAtPixel(t){if(this.isEmpty()||this.rowsToDisplay.length===0)return-1;let e=0,i=this.rowsToDisplay.length-1;if(t<=0)return 0;if(xe(this.rowsToDisplay).rowTop<=t)return this.rowsToDisplay.length-1;let r=-1,n=-1;for(;;){const o=Math.floor((e+i)/2),a=this.rowsToDisplay[o];if(this.isRowInPixel(a,t)||(a.rowTop<t?e=o+1:a.rowTop>t&&(i=o-1),r===e&&n===i))return o;r=e,n=i}}isRowInPixel(t,e){const i=t.rowTop,s=t.rowTop+t.rowHeight;return i<=e&&s>e}forEachLeafNode(t){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((e,i)=>t(e,i))}forEachNode(t,e=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback:t,recursionType:0,index:0,includeFooterNodes:e})}forEachNodeAfterFilter(t,e=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback:t,recursionType:1,index:0,includeFooterNodes:e})}forEachNodeAfterFilterAndSort(t,e=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback:t,recursionType:2,index:0,includeFooterNodes:e})}forEachPivotNode(t,e=!1){this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:t,recursionType:3,index:0,includeFooterNodes:e})}recursivelyWalkNodesAndCallback(t){const{nodes:e,callback:i,recursionType:s,includeFooterNodes:r}=t;let{index:n}=t;const o=a=>{var g;const l=(g=e[0])==null?void 0:g.parent;if(!l)return;const c=r&&h0(this.gos),u=d0(this.gos),h=r&&u({node:l});if(l===this.rootNode){c===a&&(l.createFooter(),i(l.sibling,n++));return}h===a&&(l.createFooter(),i(l.sibling,n++))};o("top");for(let a=0;a<e.length;a++){const l=e[a];if(i(l,n++),l.hasChildren()&&!l.footer){let c=null;switch(s){case 0:c=l.childrenAfterGroup;break;case 1:c=l.childrenAfterAggFilter;break;case 2:c=l.childrenAfterSort;break;case 3:c=l.leafGroup?null:l.childrenAfterSort;break}c&&(n=this.recursivelyWalkNodesAndCallback({nodes:[...c],callback:i,recursionType:s,index:n,includeFooterNodes:r}))}}return o("bottom"),n}doAggregate(t){var e;(e=this.aggregationStage)==null||e.execute({rowNode:this.rootNode,changedPath:t})}doFilterAggregates(t){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:t}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(t){const e=this.gos.get("treeData"),i=this.columnModel.isPivotActive(),s=r=>{r&&r.forEach(n=>{const o=()=>{n.expanded=t,s(n.childrenAfterGroup)};if(e){K(n.childrenAfterGroup)&&o();return}if(i){!n.leafGroup&&o();return}n.group&&o()})};this.rootNode&&s(this.rootNode.childrenAfterGroup),this.refreshModel({step:"map"}),this.eventService.dispatchEvent({type:"expandOrCollapseAll",source:t?"expandAll":"collapseAll"})}doSort(t,e){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,changedPath:e})}doRowGrouping(t,e,i,s){if(this.groupStage)t?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,rowNodesOrderChanged:i,changedPath:e}):this.groupStage.execute({rowNode:this.rootNode,changedPath:e,afterColumnsChanged:s}),Sn(this.gos)&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",e)&&this.eventService.dispatchEvent({type:"selectionChanged",source:"rowGroupChanged"});else{const r=this.rootNode,n=r.sibling;r.childrenAfterGroup=r.allLeafChildren,n&&(n.childrenAfterGroup=r.childrenAfterGroup),this.rootNode.updateHasChildren()}this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:"rowCountReady"}))}doFilter(t){this.filterStage.execute({rowNode:this.rootNode,changedPath:t})}doPivot(t){var e;(e=this.pivotStage)==null||e.execute({rowNode:this.rootNode,changedPath:t})}getNodeManager(){return this.nodeManager}getRowNode(t){if(typeof t=="string"&&t.indexOf(Os.ID_PREFIX_ROW_GROUP)==0){let i;return this.forEachNode(s=>{s.id===t&&(i=s)}),i}return this.nodeManager.getRowNode(t)}setRowData(t){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(t),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()}dispatchUpdateEventsAndRefresh(){this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",newData:!0})}batchUpdateRowData(t,e){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const i=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},i)}this.rowDataTransactionBatch.push({rowDataTransaction:t,callback:e})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){var s;this.valueCache.onDataChanged();const t=[],e=[];let i=!1;(s=this.rowDataTransactionBatch)==null||s.forEach(r=>{const{rowNodeTransaction:n,rowsInserted:o}=this.nodeManager.updateRowData(r.rowDataTransaction);o&&(i=!0),e.push(n),r.callback&&t.push(r.callback.bind(null,n))}),this.commonUpdateRowData(e,i),t.length>0&&window.setTimeout(()=>{t.forEach(r=>r())},0),e.length>0&&this.eventService.dispatchEvent({type:"asyncTransactionsFlushed",results:e}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(t){this.valueCache.onDataChanged();const{rowNodeTransaction:e,rowsInserted:i}=this.nodeManager.updateRowData(t);return this.commonUpdateRowData([e],i),e}afterImmutableDataChange(t,e){this.commonUpdateRowData([t],e)}commonUpdateRowData(t,e){if(!this.hasStarted)return;const i=!this.gos.get("suppressAnimationFrame");this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",rowNodeTransactions:t,rowNodesOrderChanged:e,keepRenderedRows:!0,keepEditingRows:!0,animate:i})}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){const t=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let t=!1;return this.forEachNode(e=>{e.setRowHeight(e.rowHeight,!0);const i=e.detailNode;i&&i.setRowHeight(i.rowHeight,!0),e.sibling&&e.sibling.setRowHeight(e.sibling.rowHeight,!0),t=!0}),t}onGridStylesChanges(t){if(t.rowHeightChanged){if(this.columnModel.isAutoRowHeightActive())return;this.resetRowHeights()}}onGridReady(){this.hasStarted||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.clearHighlightedRow()}};function BB(t){t.expansionService.onGroupExpandedOrCollapsed()}function WB(t,e){var i,s;(s=(i=t.rowModelHelperService)==null?void 0:i.getClientSideRowModel())==null||s.refreshModel(e)}function zB(t){var e,i;return((i=(e=t.rowModelHelperService)==null?void 0:e.getClientSideRowModel())==null?void 0:i.isEmpty())??!0}function VB(t,e){var i,s;(s=(i=t.rowModelHelperService)==null?void 0:i.getClientSideRowModel())==null||s.forEachLeafNode(e)}function _B(t,e){var i,s;(s=(i=t.rowModelHelperService)==null?void 0:i.getClientSideRowModel())==null||s.forEachNodeAfterFilter(e)}function UB(t,e){var i,s;(s=(i=t.rowModelHelperService)==null?void 0:i.getClientSideRowModel())==null||s.forEachNodeAfterFilterAndSort(e)}function XB(t){var e,i;if(t.columnModel.isAutoRowHeightActive()){_("calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}(i=(e=t.rowModelHelperService)==null?void 0:e.getClientSideRowModel())==null||i.resetRowHeights()}function jB(t,e){return t.frameworkOverrides.wrapIncoming(()=>{var i,s;return(s=(i=t.rowModelHelperService)==null?void 0:i.getClientSideRowModel())==null?void 0:s.updateRowData(e)})}function YB(t,e,i){t.frameworkOverrides.wrapIncoming(()=>{var s,r;return(r=(s=t.rowModelHelperService)==null?void 0:s.getClientSideRowModel())==null?void 0:r.batchUpdateRowData(e,i)})}function $B(t){t.frameworkOverrides.wrapIncoming(()=>{var e,i;return(i=(e=t.rowModelHelperService)==null?void 0:e.getClientSideRowModel())==null?void 0:i.flushAsyncTransactions()})}function KB(t){return t.selectionService.getBestCostNodeSelection()}var qB=class extends W{constructor(){super(...arguments),this.beanName="filterStage"}wireBeans(t){this.filterManager=t.filterManager}execute(t){const{changedPath:e}=t;this.filter(e)}filter(t){var i;const e=!!((i=this.filterManager)!=null&&i.isChildFilterPresent());this.filterNodes(e,t)}filterNodes(t,e){const i=(s,r)=>{s.hasChildren()&&t&&!r?s.childrenAfterFilter=s.childrenAfterGroup.filter(n=>{const o=n.childrenAfterFilter&&n.childrenAfterFilter.length>0,a=n.data&&this.filterManager.doesRowPassFilter({rowNode:n});return o||a}):s.childrenAfterFilter=s.childrenAfterGroup,s.sibling&&(s.sibling.childrenAfterFilter=s.childrenAfterFilter)};if(this.doingTreeDataFiltering()){const s=(n,o)=>{if(n.childrenAfterGroup)for(let a=0;a<n.childrenAfterGroup.length;a++){const l=n.childrenAfterGroup[a],c=o||this.filterManager.doesRowPassFilter({rowNode:l});l.childrenAfterGroup?s(n.childrenAfterGroup[a],c):i(l,c)}i(n,o)},r=n=>s(n,!1);e.executeFromRootNode(r)}else{const s=r=>i(r,!1);e.forEachChangedNodeDepthFirst(s,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},QB=class extends W{constructor(){super(...arguments),this.beanName="flattenStage"}wireBeans(t){this.beans=t,this.columnModel=t.columnModel}execute(t){const e=t.rowNode,i=[],s=this.columnModel.isPivotMode(),r=s&&e.leafGroup,n=r?[e]:e.childrenAfterSort,o=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(o,n,i,s,0);const a=i.length>0;if(!r&&a&&o.grandTotalRow){e.createFooter();const c=o.grandTotalRow==="top";this.addRowNodeToRowsToDisplay(o,e.sibling,i,0,c)}return i}getFlattenDetails(){const t=this.gos.get("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!t&&this.gos.get("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:t,isGroupMultiAutoColumn:g0(this.gos),hideOpenParents:this.gos.get("groupHideOpenParents"),grandTotalRow:h0(this.gos),groupTotalRow:d0(this.gos)}}recursivelyAddToRowsToDisplay(t,e,i,s,r){if(!di(e))for(let n=0;n<e.length;n++){const o=e[n],a=o.hasChildren(),l=s&&!a,c=t.groupRemoveSingleChildren&&a&&o.childrenAfterGroup.length===1,u=t.groupRemoveLowestSingleChildren&&a&&o.leafGroup&&o.childrenAfterGroup.length===1,h=s&&o.leafGroup,d=t.hideOpenParents&&o.expanded&&!o.master&&!h;if(!l&&!d&&!c&&!u&&this.addRowNodeToRowsToDisplay(t,o,i,r),!(s&&o.leafGroup)){if(a){const p=c||u;if(o.expanded||p){const f=t.groupTotalRow({node:o});f||o.destroyFooter();const C=p?r:r+1;f==="top"&&(o.createFooter(),this.addRowNodeToRowsToDisplay(t,o.sibling,i,C)),this.recursivelyAddToRowsToDisplay(t,o.childrenAfterSort,i,s,C),f==="bottom"&&(o.createFooter(),this.addRowNodeToRowsToDisplay(t,o.sibling,i,C))}}else if(o.master&&o.expanded){const p=this.createDetailNode(o);this.addRowNodeToRowsToDisplay(t,p,i,r)}}}}addRowNodeToRowsToDisplay(t,e,i,s,r){r?i.unshift(e):i.push(e),e.setUiLevel(t.isGroupMultiAutoColumn?0:s)}createDetailNode(t){if(K(t.detailNode))return t.detailNode;const e=new Os(this.beans);return e.detail=!0,e.selectable=!1,e.parent=t,K(t.id)&&(e.id="detail_"+t.id),e.data=t.data,e.level=t.level+1,t.detailNode=e,e}},ZB=class extends W{constructor(){super(...arguments),this.beanName="immutableService"}wireBeans(t){this.rowModel=t.rowModel,this.selectionService=t.selectionService}postConstruct(){Xe(this.gos)&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",()=>this.onRowDataUpdated()))}isActive(){const t=this.gos.exists("getRowId");return this.gos.get("resetRowDataOnUpdate")?!1:t}setRowData(t){const e=this.createTransactionForRowData(t);if(!e)return;const i=this.clientSideRowModel.getNodeManager(),{rowNodeTransaction:s,rowsInserted:r}=i.updateRowData(e);let n=!1;this.gos.get("suppressMaintainUnsortedOrder")||(n=i.updateRowOrderFromRowData(t)),this.clientSideRowModel.afterImmutableDataChange(s,n||r)}createTransactionForRowData(t){if(!Xe(this.gos))return ke("ImmutableService only works with ClientSideRowModel"),null;const e=_o(this.gos);if(e==null)return ke("ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!"),null;const i=this.clientSideRowModel.getNodeManager().getCopyOfNodesMap(),s=[],r=[],n=[];return K(t)&&t.forEach(o=>{const a=e({data:o,level:0}),l=i[a];l?(l.data!==o&&r.push(o),i[a]=void 0):n.push(o)}),Yi(i,(o,a)=>{a&&s.push(a.data)}),{remove:s,update:r,add:n}}onRowDataUpdated(){const t=this.gos.get("rowData");t&&(this.isActive()?this.setRowData(t):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(t)))}},JB=class extends W{constructor(){super(...arguments),this.beanName="sortService"}wireBeans(t){this.columnModel=t.columnModel,this.funcColsService=t.funcColsService,this.rowNodeSorter=t.rowNodeSorter,this.showRowGroupColsService=t.showRowGroupColsService}sort(t,e,i,s,r,n){const o=this.gos.get("groupMaintainOrder"),a=this.columnModel.getCols().some(d=>d.isRowGroupActive());let l={};i&&s&&(l=this.calculateDirtyNodes(s));const c=this.columnModel.isPivotMode(),u=this.gos.getCallback("postSortRows"),h=d=>{var f;this.pullDownGroupDataForHideOpenParents(d.childrenAfterAggFilter,!0);const g=c&&d.leafGroup;if(o&&a&&!d.leafGroup&&!n){const C=(f=this.funcColsService.getRowGroupColumns())==null?void 0:f[d.level+1],m=(C==null?void 0:C.getSort())===null,v=d.childrenAfterAggFilter.slice(0);if(d.childrenAfterSort&&!m){const y={};d.childrenAfterSort.forEach((w,x)=>{y[w.id]=x}),v.sort((w,x)=>(y[w.id]??0)-(y[x.id]??0))}d.childrenAfterSort=v}else!e||g?d.childrenAfterSort=d.childrenAfterAggFilter.slice(0):i?d.childrenAfterSort=this.doDeltaSort(d,l,r,t):d.childrenAfterSort=this.rowNodeSorter.doFullSort(d.childrenAfterAggFilter,t);if(d.sibling&&(d.sibling.childrenAfterSort=d.childrenAfterSort),this.updateChildIndexes(d),u){const C={nodes:d.childrenAfterSort};u(C)}};r&&r.forEachChangedNodeDepthFirst(h),this.updateGroupDataForHideOpenParents(r)}calculateDirtyNodes(t){const e={},i=s=>{s&&s.forEach(r=>e[r.id]=!0)};return t&&t.forEach(s=>{i(s.add),i(s.update),i(s.remove)}),e}doDeltaSort(t,e,i,s){const r=t.childrenAfterAggFilter,n=t.childrenAfterSort;if(!n)return this.rowNodeSorter.doFullSort(r,s);const o={},a=[];r.forEach(h=>{e[h.id]||!i.canSkip(h)?a.push(h):o[h.id]=!0});const l=n.filter(h=>o[h.id]),c=(h,d)=>({currentPos:d,rowNode:h}),u=a.map(c).sort((h,d)=>this.rowNodeSorter.compareRowNodes(s,h,d));return this.mergeSortedArrays(s,u,l.map(c)).map(({rowNode:h})=>h)}mergeSortedArrays(t,e,i){const s=[];let r=0,n=0;for(;r<e.length&&n<i.length;)this.rowNodeSorter.compareRowNodes(t,e[r],i[n])<0?s.push(e[r++]):s.push(i[n++]);for(;r<e.length;)s.push(e[r++]);for(;n<i.length;)s.push(i[n++]);return s}updateChildIndexes(t){if(be(t.childrenAfterSort))return;const e=t.childrenAfterSort;for(let i=0;i<e.length;i++){const s=e[i],r=i===0,n=i===t.childrenAfterSort.length-1;s.setFirstChild(r),s.setLastChild(n),s.setChildIndex(i)}}updateGroupDataForHideOpenParents(t){if(!this.gos.get("groupHideOpenParents"))return;if(this.gos.get("treeData"))return _("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;const e=i=>{this.pullDownGroupDataForHideOpenParents(i.childrenAfterSort,!1),i.childrenAfterSort.forEach(s=>{s.hasChildren()&&e(s)})};t&&t.executeFromRootNode(i=>e(i))}pullDownGroupDataForHideOpenParents(t,e){!this.gos.get("groupHideOpenParents")||be(t)||t.forEach(i=>{var r;(((r=this.showRowGroupColsService)==null?void 0:r.getShowRowGroupCols())??[]).forEach(n=>{const o=n.getColDef().showRowGroup;if(typeof o!="string"){ke("groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");return}const a=o,l=this.columnModel.getColDefCol(a);if(l!==i.rowGroupColumn)if(e)i.setGroupValue(n.getId(),void 0);else{const u=this.getFirstChildOfFirstChild(i,l);u&&i.setGroupValue(n.getId(),u.key)}})})}getFirstChildOfFirstChild(t,e){let i=t;for(;i;){const s=i.parent;if(s&&i.firstChild){if(s.rowGroupColumn===e)return s}else return null;i=s}return null}},e2=class extends W{constructor(){super(...arguments),this.beanName="sortStage"}wireBeans(t){this.sortService=t.sortService,this.sortController=t.sortController}execute(t){const e=this.sortController.getSortOptions(),i=K(e)&&e.length>0,s=i&&K(t.rowNodeTransactions)&&this.gos.get("deltaSort"),r=e.some(n=>ps(this.gos)?n.column.isPrimary()&&n.column.isRowGroupActive():!!n.column.getColDef().showRowGroup);this.sortService.sort(e,i,s,t.rowNodeTransactions,t.changedPath,r)}},zv="32.3.3",eF={version:zv,moduleName:"@ag-grid-community/client-side-row-model-core",rowModel:"clientSide",beans:[GB,qB,e2,QB,JB,ZB]},t2={version:zv,moduleName:"@ag-grid-community/client-side-row-model-api",beans:[JR],apiFunctions:{onGroupExpandedOrCollapsed:BB,refreshClientSideRowModel:WB,isRowDataEmpty:zB,forEachLeafNode:VB,forEachNodeAfterFilter:_B,forEachNodeAfterFilterAndSort:UB,resetRowHeights:XB,applyTransaction:jB,applyTransactionAsync:YB,flushAsyncTransactions:$B,getBestCostNodeSelection:KB},dependantModules:[eF,LB]},i2={version:zv,moduleName:"@ag-grid-community/client-side-row-model",dependantModules:[eF,t2]},s2=class extends W{setBeans(t){this.beans=t}getFileName(t){const e=this.getDefaultFileExtension();return(t==null||!t.length)&&(t=this.getDefaultFileName()),t.indexOf(".")===-1?`${t}.${e}`:t}getData(t){const e=this.createSerializingSession(t);return this.beans.gridSerializer.serialize(e,t)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},r2=class{constructor(t){this.groupColumns=[];const{columnModel:e,funcColsService:i,columnNameService:s,valueService:r,gos:n,processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c}=t;this.columnModel=e,this.funcColsService=i,this.columnNameService=s,this.valueService=r,this.gos=n,this.processCellCallback=o,this.processHeaderCallback=a,this.processGroupHeaderCallback=l,this.processRowGroupCallback=c}prepare(t){this.groupColumns=t.filter(e=>!!e.getColDef().showRowGroup)}extractHeaderValue(t){return this.getHeaderName(this.processHeaderCallback,t)??""}extractRowCellValue(t,e,i,s,r){const o=(!this.gos.get("groupHideOpenParents")||r.footer)&&this.shouldRenderGroupSummaryCell(r,t,e)?this.createValueForGroupNode(t,r):this.valueService.getValue(t,r);return this.processCell({accumulatedRowIndex:i,rowNode:r,column:t,value:o,processCellCallback:this.processCellCallback,type:s})}shouldRenderGroupSummaryCell(t,e,i){var o;if(!(t&&t.group))return!1;if(this.groupColumns.indexOf(e)!==-1){const a=(o=t.groupData)==null?void 0:o[e.getId()],l=this.gos.get("suppressGroupMaintainValueType");if(l&&a!=null||!l&&a!==void 0||xs(this.gos)&&t.group)return!0;if(t.footer&&t.level===-1){const c=e.getColDef();return c==null||c.showRowGroup===!0||c.showRowGroup===this.funcColsService.getRowGroupColumns()[0].getId()}}const n=Oh(this.gos,this.columnModel.isPivotMode());return i===0&&n}getHeaderName(t,e){return t?t(this.gos.addGridCommonParams({column:e})):this.columnNameService.getDisplayNameForColumn(e,"csv",!0)}createValueForGroupNode(t,e){if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gos.addGridCommonParams({column:t,node:e}));const i=this.gos.get("treeData"),s=this.gos.get("suppressGroupMaintainValueType"),r=l=>{var u;if(i||s)return l.key;const c=(u=l.groupData)==null?void 0:u[t.getId()];return!c||!l.rowGroupColumn||l.rowGroupColumn.getColDef().useValueFormatterForExport===!1?c:this.valueService.formatValue(l.rowGroupColumn,l,c)??c},n=e.footer,o=[r(e)];if(!g0(this.gos))for(;e.parent;)e=e.parent,o.push(r(e));const a=o.reverse().join(" -> ");return n?`Total ${a}`:a}processCell(t){const{accumulatedRowIndex:e,rowNode:i,column:s,value:r,processCellCallback:n,type:o}=t;return n?{value:n(this.gos.addGridCommonParams({accumulatedRowIndex:e,column:s,node:i,value:r,type:o,parseValue:a=>this.valueService.parseValue(s,i,a,this.valueService.getValue(s,i)),formatValue:a=>this.valueService.formatValue(s,i,a)??a}))??""}:s.getColDef().useValueFormatterForExport!==!1?{value:r??"",valueFormatted:this.valueService.formatValue(s,i,r)}:{value:r??""}}},n2=class{static download(t,e){const i=document.defaultView||window;if(!i){_("There is no `window` associated with the current `document`");return}const s=document.createElement("a"),r=i.URL.createObjectURL(e);s.setAttribute("href",r),s.setAttribute("download",t),s.style.display="none",document.body.appendChild(s),s.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:i})),document.body.removeChild(s),i.setTimeout(()=>{i.URL.revokeObjectURL(r)},0)}},pw=`\r
`,o2=class extends r2{constructor(t){super(t),this.isFirstLine=!0,this.result="";const{suppressQuotes:e,columnSeparator:i}=t;this.suppressQuotes=e,this.columnSeparator=i}addCustomContent(t){t&&(typeof t=="string"?(/^\s*\n/.test(t)||this.beginNewLine(),t=t.replace(/\r?\n/g,pw),this.result+=t):t.forEach(e=>{this.beginNewLine(),e.forEach((i,s)=>{s!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(i.data.value||""),i.mergeAcross&&this.appendEmptyCells(i.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(t,e,i,s){i!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(e),this.appendEmptyCells(s)}appendEmptyCells(t){for(let e=1;e<=t;e++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(t,e){e!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(t))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(t,e,i){e!=0&&(this.result+=this.columnSeparator);const s=this.extractRowCellValue(t,e,e,"csv",i);this.result+=this.putInQuotes(s.valueFormatted??s.value)}putInQuotes(t){if(this.suppressQuotes)return t;if(t==null)return'""';let e;return typeof t=="string"?e=t:typeof t.toString=="function"?e=t.toString():(_("unknown value type during csv conversion"),e=""),'"'+e.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=pw),this.isFirstLine=!1}},a2=class extends s2{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(t){this.columnModel=t.columnModel,this.columnNameService=t.columnNameService,this.funcColsService=t.funcColsService,this.valueService=t.valueService,this.gridSerializer=t.gridSerializer}postConstruct(){this.setBeans({gridSerializer:this.gridSerializer,gos:this.gos})}getMergedParams(t){const e=this.gos.get("defaultCsvExportParams");return Object.assign({},e,t)}export(t){if(this.isExportSuppressed()){_("Export cancelled. Export is not allowed as per your configuration.");return}const e=this.getMergedParams(t),i=this.getData(e),s=new Blob(["\uFEFF",i],{type:"text/plain"}),r=typeof e.fileName=="function"?e.fileName(this.gos.getGridCommonParams()):e.fileName;n2.download(this.getFileName(r),s)}exportDataAsCsv(t){this.export(t)}getDataAsCsv(t,e=!1){const i=e?Object.assign({},t):this.getMergedParams(t);return this.getData(i)}getDefaultFileExtension(){return"csv"}createSerializingSession(t){const{columnModel:e,columnNameService:i,funcColsService:s,valueService:r,gos:n}=this,{processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c,suppressQuotes:u,columnSeparator:h}=t;return new o2({columnModel:e,columnNameService:i,funcColsService:s,valueService:r,gos:n,processCellCallback:o||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:c||void 0,suppressQuotes:u||!1,columnSeparator:h||","})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function l2(t,e){var i;return(i=t.csvCreator)==null?void 0:i.getDataAsCsv(e)}function c2(t,e){var i;(i=t.csvCreator)==null||i.exportDataAsCsv(e)}var u2=class extends W{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(t){this.visibleColsService=t.visibleColsService,this.columnModel=t.columnModel,this.columnNameService=t.columnNameService,this.rowModel=t.rowModel,this.pinnedRowModel=t.pinnedRowModel,this.selectionService=t.selectionService,this.rowNodeSorter=t.rowNodeSorter,this.sortController=t.sortController}serialize(t,e={}){const{allColumns:i,columnKeys:s,skipRowGroups:r}=e,n=this.getColumnsToExport(i,r,s);return W1(this.prepareSession(n),this.prependContent(e),this.exportColumnGroups(e,n),this.exportHeaders(e,n),this.processPinnedTopRows(e,n),this.processRows(e,n),this.processPinnedBottomRows(e,n),this.appendContent(e))(t).parse()}processRow(t,e,i,s){var m;const r=e.shouldRowBeSkipped||(()=>!1),n=this.gos.get("groupRemoveSingleChildren"),o=this.gos.get("groupRemoveLowestSingleChildren"),l=e.rowPositions!=null||!!e.onlySelected,c=this.gos.get("groupHideOpenParents")&&!l,u=this.columnModel.isPivotMode()?s.leafGroup:!s.group,h=!!s.footer,d=o&&s.leafGroup,g=s.allChildrenCount===1&&((m=s.childrenAfterGroup)==null?void 0:m.length)===1&&(n||d);if(!u&&!h&&(e.skipRowGroups||g||c)||e.onlySelected&&!s.isSelected()||e.skipPinnedTop&&s.rowPinned==="top"||e.skipPinnedBottom&&s.rowPinned==="bottom"||s.level===-1&&!u&&!h||r(this.gos.addGridCommonParams({node:s})))return;const C=t.onNewBodyRow(s);if(i.forEach((v,y)=>{C.onColumn(v,y,s)}),e.getCustomContentBelowRow){const v=e.getCustomContentBelowRow(this.gos.addGridCommonParams({node:s}));v&&t.addCustomContent(v)}}appendContent(t){return e=>{const i=t.appendContent;return i&&e.addCustomContent(i),e}}prependContent(t){return e=>{const i=t.prependContent;return i&&e.addCustomContent(i),e}}prepareSession(t){return e=>(e.prepare(t),e)}exportColumnGroups(t,e){return i=>{if(!t.skipColumnGroupHeaders){const s=new F0,r=this.visibleColsService.createGroups({columns:e,idCreator:s,pinned:null,isStandaloneStructure:!0});this.recursivelyAddHeaderGroups(r,i,t.processGroupHeaderCallback)}return i}}exportHeaders(t,e){return i=>{if(!t.skipColumnHeaders){const s=i.onNewHeaderRow();e.forEach((r,n)=>{s.onColumn(r,n,void 0)})}return i}}processPinnedTopRows(t,e){return i=>{const s=this.processRow.bind(this,i,t,e);return t.rowPositions?t.rowPositions.filter(r=>r.rowPinned==="top").sort((r,n)=>r.rowIndex-n.rowIndex).map(r=>this.pinnedRowModel.getPinnedTopRow(r.rowIndex)).forEach(s):this.pinnedRowModel.forEachPinnedRow("top",s),i}}processRows(t,e){return i=>{const s=this.rowModel,r=Xe(this.gos),n=xs(this.gos),o=!r&&t.onlySelected,a=this.processRow.bind(this,i,t,e),{exportedRows:l="filteredAndSorted"}=t;if(t.rowPositions)t.rowPositions.filter(c=>c.rowPinned==null).sort((c,u)=>c.rowIndex-u.rowIndex).map(c=>s.getRow(c.rowIndex)).forEach(a);else if(this.columnModel.isPivotMode())r?s.forEachPivotNode(a,!0):n?s.forEachNodeAfterFilterAndSort(a,!0):s.forEachNode(a);else if(t.onlySelectedAllPages||o){const c=this.selectionService.getSelectedNodes();this.replicateSortedOrder(c),c.forEach(a)}else l==="all"?s.forEachNode(a):r||n?s.forEachNodeAfterFilterAndSort(a,!0):s.forEachNode(a);return i}}replicateSortedOrder(t){const e=this.sortController.getSortOptions(),i=(s,r)=>{var n,o;return s.rowIndex!=null&&r.rowIndex!=null?s.rowIndex-r.rowIndex:s.level===r.level?((n=s.parent)==null?void 0:n.id)===((o=r.parent)==null?void 0:o.id)?this.rowNodeSorter.compareRowNodes(e,{rowNode:s,currentPos:s.rowIndex??-1},{rowNode:r,currentPos:r.rowIndex??-1}):i(s.parent,r.parent):s.level>r.level?i(s.parent,r):i(s,r.parent)};t.sort(i)}processPinnedBottomRows(t,e){return i=>{const s=this.processRow.bind(this,i,t,e);return t.rowPositions?t.rowPositions.filter(r=>r.rowPinned==="bottom").sort((r,n)=>r.rowIndex-n.rowIndex).map(r=>this.pinnedRowModel.getPinnedBottomRow(r.rowIndex)).forEach(s):this.pinnedRowModel.forEachPinnedRow("bottom",s),i}}getColumnsToExport(t=!1,e=!1,i){const s=this.columnModel.isPivotMode();if(i&&i.length)return this.columnModel.getColsForKeys(i);const r=this.gos.get("treeData");let n=[];return t&&!s?n=this.columnModel.getCols():n=this.visibleColsService.getAllCols(),e&&!r&&(n=n.filter(o=>_p(o)||Gl(o))),n}recursivelyAddHeaderGroups(t,e,i){const s=[];t.forEach(r=>{const n=r;n.getChildren&&n.getChildren().forEach(o=>s.push(o))}),t.length>0&&nt(t[0])&&this.doAddHeaderHeader(e,t,i),s&&s.length>0&&this.recursivelyAddHeaderGroups(s,e,i)}doAddHeaderHeader(t,e,i){const s=t.onNewHeaderGroupingRow();let r=0;e.forEach(n=>{const o=n;let a;i?a=i(this.gos.addGridCommonParams({columnGroup:o})):a=this.columnNameService.getDisplayNameForColumnGroup(o,"header");const l=o.getLeafColumns().reduce((c,u,h,d)=>{let g=xe(c);return u.getColumnGroupShow()==="open"?(!g||g[1]!=null)&&(g=[h],c.push(g)):g&&g[1]==null&&(g[1]=h-1),h===d.length-1&&g&&g[1]==null&&(g[1]=h),c},[]);s.onColumn(o,a||"",r++,o.getLeafColumns().length-1,l)})}},Vv="32.3.3",tF={version:Vv,moduleName:"@ag-grid-community/csv-export-core",beans:[a2,u2]},h2={version:Vv,moduleName:"@ag-grid-community/csv-export-api",apiFunctions:{getDataAsCsv:l2,exportDataAsCsv:c2},dependantModules:[tF]},d2={version:Vv,moduleName:"@ag-grid-community/csv-export",dependantModules:[tF,h2]},g2=class extends mO{wireBeans(t){this.beans=t}constructor(t,e,i){super(t),this.parentCache=e,this.params=i,this.startRow=t*i.blockSize,this.endRow=this.startRow+i.blockSize}postConstruct(){this.createRowNodes()}getBlockStateJson(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}}setDataAndId(t,e,i){K(e)?t.setDataAndId(e,i.toString()):t.setDataAndId(void 0,void 0)}loadFromDatasource(){const t=this.createLoadParams();if(be(this.params.datasource.getRows)){_("datasource is missing getRows method");return}window.setTimeout(()=>{this.params.datasource.getRows(t)},0)}processServerFail(){}createLoadParams(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gos.getGridCommonParams().context}}forEachNode(t,e,i){this.rowNodes.forEach((s,r)=>{this.startRow+r<i&&t(s,e.next())})}getLastAccessed(){return this.lastAccessed}getRow(t,e=!1){e||(this.lastAccessed=this.params.lastAccessedSequence.next());const i=t-this.startRow;return this.rowNodes[i]}getStartRow(){return this.startRow}getEndRow(){return this.endRow}createRowNodes(){this.rowNodes=[];for(let t=0;t<this.params.blockSize;t++){const e=this.startRow+t,i=new Os(this.beans);i.setRowHeight(this.params.rowHeight),i.uiLevel=0,i.setRowIndex(e),i.setRowTop(this.params.rowHeight*e),this.rowNodes.push(i)}}processServerResult(t){this.rowNodes.forEach((i,s)=>{const r=t.rowData?t.rowData[s]:void 0;!i.id&&i.alreadyRendered&&r&&(this.rowNodes[s]=new Os(this.beans),this.rowNodes[s].setRowIndex(i.rowIndex),this.rowNodes[s].setRowTop(i.rowTop),this.rowNodes[s].setRowHeight(i.rowHeight),i.clearRowTopAndRowIndex()),this.setDataAndId(this.rowNodes[s],r,this.startRow+s)});const e=t.rowCount!=null&&t.rowCount>=0?t.rowCount:void 0;this.parentCache.pageLoaded(this,e)}destroy(){this.rowNodes.forEach(t=>{t.clearRowTopAndRowIndex()}),super.destroy()}},p2=2,f2=class extends W{constructor(t){super(),this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=t.initialRowCount,this.params=t}wireBeans(t){this.rowRenderer=t.rowRenderer,this.focusService=t.focusService}getRow(t,e=!1){const i=Math.floor(t/this.params.blockSize);let s=this.blocks[i];if(!s){if(e)return;s=this.createBlock(i)}return s.getRow(t)}createBlock(t){const e=this.createBean(new g2(t,this,this.params));return this.blocks[e.getId()]=e,this.blockCount++,this.purgeBlocksIfNeeded(e),this.params.rowNodeBlockLoader.addBlock(e),e}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(e=>e.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){this.getBlocksInOrder().forEach(t=>this.destroyBlock(t)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(t,e){this.isAlive()&&(this.gos.get("debug")&&$i(`InfiniteCache - onPageLoaded: page = ${t.getId()}, lastRow = ${e}`),this.checkRowCount(t,e),this.onCacheUpdated())}purgeBlocksIfNeeded(t){const e=this.getBlocksInOrder().filter(o=>o!=t),i=(o,a)=>a.getLastAccessed()-o.getLastAccessed();e.sort(i);const s=this.params.maxBlocksInCache>0,r=s?this.params.maxBlocksInCache-1:null,n=p2-1;e.forEach((o,a)=>{const l=o.getState()==="needsLoading"&&a>=n,c=s?a>=r:!1;if(l||c){if(this.isBlockCurrentlyDisplayed(o)||this.isBlockFocused(o))return;this.removeBlockFromCache(o)}})}isBlockFocused(t){const e=this.focusService.getFocusCellToUseAfterRefresh();if(!e||e.rowPinned!=null)return!1;const i=t.getStartRow(),s=t.getEndRow();return e.rowIndex>=i&&e.rowIndex<s}isBlockCurrentlyDisplayed(t){const e=t.getStartRow(),i=t.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(e,i)}removeBlockFromCache(t){t&&this.destroyBlock(t)}checkRowCount(t,e){if(typeof e=="number"&&e>=0)this.rowCount=e,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const s=(t.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<s&&(this.rowCount=s)}}setRowCount(t,e){this.rowCount=t,K(e)&&(this.lastRowIndexKnown=e),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(t){const e=new ko;this.getBlocksInOrder().forEach(i=>i.forEachNode(t,e,this.rowCount))}getBlocksInOrder(){const t=(i,s)=>i.getId()-s.getId();return Xp(this.blocks).sort(t)}destroyBlock(t){delete this.blocks[t.getId()],this.destroyBean(t),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(t)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const t=[];this.getBlocksInOrder().forEach(e=>{e.getId()*this.params.blockSize>=this.rowCount&&t.push(e)}),t.length>0&&t.forEach(e=>this.destroyBlock(e))}purgeCache(){this.getBlocksInOrder().forEach(t=>this.removeBlockFromCache(t)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(t,e){const i=[];let s=-1,r=!1;const n=new ko;let o=!1;return this.getBlocksInOrder().forEach(l=>{if(!o){if(r&&s+1!==l.getId()){o=!0;return}s=l.getId(),l.forEachNode(c=>{const u=c===t||c===e;(r||u)&&i.push(c),u&&(r=!r)},n,this.rowCount)}}),o||r?[]:i}},m2=class extends W{constructor(){super(...arguments),this.beanName="rowModel"}wireBeans(t){this.filterManager=t.filterManager,this.sortController=t.sortController,this.selectionService=t.selectionService,this.rowRenderer=t.rowRenderer,this.rowNodeBlockLoader=t.rowNodeBlockLoader}getRowBounds(t){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*t}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.get("rowModelType")==="infinite"&&(this.rowHeight=ln(this.gos),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()),this.verifyProps())}verifyProps(){this.gos.exists("initialGroupOrderComparator")&&_("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.onCacheUpdated.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=ln(this.gos),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onFilterChanged(){this.reset()}onSortChanged(){this.reset()}onColumnEverything(){let t;this.cacheParams?t=this.isSortModelDifferent():t=!0,t&&this.reset()}isSortModelDifferent(){return!ul(this.cacheParams.sortModel,this.sortController.getSortModel())}getType(){return"infinite"}setDatasource(t){this.destroyDatasource(),this.datasource=t,t&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(t,e){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(t,e):[]}reset(){if(!this.datasource)return;_o(this.gos)!=null||this.selectionService.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventService.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){var t;this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:((t=this.filterManager)==null?void 0:t.getFilterModel())??{},sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gos.get("infiniteInitialRowCount"),maxBlocksInCache:this.gos.get("maxBlocksInCache"),rowHeight:ln(this.gos),overflowSize:this.gos.get("cacheOverflowSize"),blockSize:this.gos.get("cacheBlockSize"),lastAccessedSequence:new ko},this.infiniteCache=this.createBean(new f2(this.cacheParams)),this.eventService.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(t=>{t.setRowHeight(this.rowHeight),t.setRowTop(this.rowHeight*t.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))}onCacheUpdated(){this.dispatchModelUpdatedEvent()}getRow(t){if(this.infiniteCache&&!(t>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(t)}getRowNode(t){let e;return this.forEachNode(i=>{i.id===t&&(e=i)}),e}forEachNode(t){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(t)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(t){return t}getRowIndexAtPixel(t){if(this.rowHeight!==0){const e=Math.floor(t/this.rowHeight),i=this.getRowCount()-1;return e>i?i:e}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(t){return!!this.getRowNode(t.id)}refreshCache(){this.infiniteCache&&this.infiniteCache.refreshCache()}purgeCache(){this.infiniteCache&&this.infiniteCache.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?this.infiniteCache.isLastRowIndexKnown():!1}setRowCount(t,e){this.infiniteCache&&this.infiniteCache.setRowCount(t,e)}};function v2(t){var e,i;(i=(e=t.rowModelHelperService)==null?void 0:e.getInfiniteRowModel())==null||i.refreshCache()}function C2(t){var e,i;(i=(e=t.rowModelHelperService)==null?void 0:e.getInfiniteRowModel())==null||i.purgeCache()}function y2(t){var e,i;return(i=(e=t.rowModelHelperService)==null?void 0:e.getInfiniteRowModel())==null?void 0:i.getRowCount()}var _v="32.3.3",iF={version:_v,moduleName:"@ag-grid-community/infinite-row-model-core",rowModel:"infinite",beans:[m2],dependantModules:[CO]},w2={version:_v,moduleName:"@ag-grid-community/infinite-row-model-api",beans:[JR],apiFunctions:{refreshInfiniteCache:v2,purgeInfiniteCache:C2,getInfiniteRowCount:y2},dependantModules:[iF,IB]},x2={version:_v,moduleName:"@ag-grid-community/infinite-row-model",dependantModules:[iF,w2]};fs.__registerModules([YR,i2,x2,d2],!1,void 0);var Ht=X.createContext({}),_l=(t,e,i,s)=>{if(!t||t.componentFromFramework||e.isDestroyed())return;const n=t.newAgStackInstance();if(n==null)return;let o,a,l=!1;return n.then(c=>{if(l){e.destroyBean(c);return}o=c,a=o.getGui(),i.appendChild(a),fw(s,o)}),()=>{var c;l=!0,o&&((c=a==null?void 0:a.parentElement)==null||c.removeChild(a),e.destroyBean(o),s&&fw(s,void 0))}},fw=(t,e)=>{if(t)if(t instanceof Function)t(e);else{const i=t;i.current=e}},Ui=(...t)=>t.filter(i=>i!=null&&i!=="").join(" "),Ei=class sF{constructor(...e){this.classesMap={},e.forEach(i=>{this.classesMap[i]=!0})}setClass(e,i){if(!!this.classesMap[e]==i)return this;const r=new sF;return r.classesMap={...this.classesMap},r.classesMap[e]=i,r}toString(){return Object.keys(this.classesMap).filter(i=>this.classesMap[i]).join(" ")}},$o=t=>{const e=()=>typeof Symbol=="function"&&Symbol.for,i=()=>e()?Symbol.for("react.memo"):60115;return typeof t=="function"&&!(t.prototype&&t.prototype.isReactComponent)||typeof t=="object"&&t.$$typeof===i()},Xx,of=(Xx=X.version)==null?void 0:Xx.split(".")[0],b2=of==="16"||of==="17";function S2(){return of==="19"}var su=!1;function R2(t){return su||setTimeout(()=>su=!1,0),su=!0,t()}var Uv=(t,e)=>{!b2&&t&&!su?Vu.flushSync(e):e()};function Xv(t,e,i){if(e==null||t==null)return e;if(t===e||e.length===0&&t.length===0)return t;if(i||t.length===0&&e.length>0||t.length>0&&e.length===0)return e;const s=[],r=[],n=new Map,o=new Map;for(let a=0;a<e.length;a++){const l=e[a];o.set(l.instanceId,l)}for(let a=0;a<t.length;a++){const l=t[a];n.set(l.instanceId,l),o.has(l.instanceId)&&s.push(l)}for(let a=0;a<e.length;a++){const l=e[a],c=l.instanceId;n.has(c)||r.push(l)}return s.length===t.length&&r.length===0?t:s.length===0&&r.length===e.length?e:s.length===0?r:r.length===0?s:[...s,...r]}var rF=F.forwardRef((t,e)=>{var T;const{ctrlsFactory:i,context:s}=F.useContext(Ht),r=F.useRef(null),n=F.useRef(null),o=F.useRef(null),a=F.useRef(null),l=F.useRef(null),c=F.useRef(),[u,h]=F.useState(),[d,g]=F.useState(),[p,f]=F.useState(),[C,m]=F.useState(()=>new Ei),[v,y]=F.useState(()=>new Ei("ag-hidden")),[w,x]=F.useState(()=>new Ei("ag-hidden")),[S,b]=F.useState(()=>new Ei("ag-invisible"));F.useImperativeHandle(e,()=>({refresh(){return!1}})),F.useLayoutEffect(()=>_l(u,s,n.current),[u]);const R=F.useCallback(k=>{if(r.current=k,!k){c.current=s.destroyBean(c.current);return}const H={setInnerRenderer:(G,U)=>{h(G),f(U)},setChildCount:G=>g(G),addOrRemoveCssClass:(G,U)=>m(te=>te.setClass(G,U)),setContractedDisplayed:G=>x(U=>U.setClass("ag-hidden",!G)),setExpandedDisplayed:G=>y(U=>U.setClass("ag-hidden",!G)),setCheckboxVisible:G=>b(U=>U.setClass("ag-invisible",!G))},N=i.getInstance("groupCellRendererCtrl");N&&(c.current=s.createBean(N),c.current.init(H,k,o.current,a.current,l.current,rF,t))},[]),A=F.useMemo(()=>`ag-cell-wrapper ${C.toString()}`,[C]),P=F.useMemo(()=>`ag-group-expanded ${v.toString()}`,[v]),E=F.useMemo(()=>`ag-group-contracted ${w.toString()}`,[w]),L=F.useMemo(()=>`ag-group-checkbox ${S.toString()}`,[S]),M=u&&u.componentFromFramework,I=M?u.componentClass:void 0,z=u==null&&p!=null,D=Cs(p,!0);return X.createElement("span",{className:A,ref:R,...t.colDef?{}:{role:(T=c.current)==null?void 0:T.getCellAriaRole()}},X.createElement("span",{className:P,ref:a}),X.createElement("span",{className:E,ref:l}),X.createElement("span",{className:L,ref:o}),X.createElement("span",{className:"ag-group-value",ref:n},z&&X.createElement(X.Fragment,null,D),M&&X.createElement(I,{...u.params})),X.createElement("span",{className:"ag-group-child-count"},d))}),mw=rF,jv=F.createContext({setMethods:()=>{}}),F2=t=>{const{initialProps:e,addUpdateCallback:i,CustomComponentClass:s,setMethods:r}=t,[{key:n,...o},a]=F.useState(e);return F.useEffect(()=>{i(l=>a(l))},[]),X.createElement(jv.Provider,{value:{setMethods:r}},X.createElement(s,{key:n,...o}))},A2=F.memo(F2),P2=0;function vw(){return`agPortalKey_${++P2}`}var nF=class{constructor(t,e,i,s){this.portal=null,this.oldPortal=null,this.reactComponent=t,this.portalManager=e,this.componentType=i,this.suppressFallbackMethods=!!s,this.statelessComponent=this.isStateless(this.reactComponent),this.key=vw(),this.portalKey=vw(),this.instanceCreated=this.isStatelessComponent()?it.resolve(!1):new it(r=>{this.resolveInstanceCreated=r})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const t=this.portal;t&&this.portalManager.destroyPortal(t)}createParentElement(t){const e=this.portalManager.getComponentWrappingElement(),i=document.createElement(e||"div");return i.classList.add("ag-react-container"),t.reactContainer=i,i}addParentContainerStyleAndClasses(){this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&(_('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses()&&(_('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),this.componentInstance.getReactContainerClasses().forEach(e=>this.eParentElement.classList.add(e))))}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(t){return typeof t=="function"&&!(t.prototype&&t.prototype.isReactComponent)||typeof t=="object"&&t.$$typeof===this.getMemoType()}hasMethod(t){const e=this.getFrameworkComponentInstance();return!!e&&e[t]!=null||this.fallbackMethodAvailable(t)}callMethod(t,e){const i=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(t,e&&e[0]?e[0]:{});if(!i){setTimeout(()=>this.callMethod(t,e));return}const s=i[t];if(s)return s.apply(i,e);if(this.fallbackMethodAvailable(t))return this.fallbackMethod(t,e&&e[0]?e[0]:{})}addMethod(t,e){this[t]=e}init(t){return this.eParentElement=this.createParentElement(t),this.createOrUpdatePortal(t),new it(e=>this.createReactComponent(e))}createOrUpdatePortal(t){this.isStatelessComponent()||(this.ref=e=>{var i;this.componentInstance=e,this.addParentContainerStyleAndClasses(),(i=this.resolveInstanceCreated)==null||i.call(this,!0),this.resolveInstanceCreated=void 0},t.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...t,key:this.key}),this.portal=Nl.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(t,e){return F.createElement(t,e)}createReactComponent(t){this.portalManager.mountReactPortal(this.portal,this,t)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(t){this.oldPortal=this.portal,this.createOrUpdatePortal(t),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(t,e){const i=this[`${t}Component`];if(!this.suppressFallbackMethods&&i)return i.bind(this)(e)}fallbackMethodAvailable(t){return this.suppressFallbackMethods?!1:!!this[`${t}Component`]}};function Yv(t,e,i){t.forEach(s=>{const r=e[s];r&&(i[s]=r)})}var Ss=class extends nF{constructor(){super(...arguments),this.awaitUpdateCallback=new it(t=>{this.resolveUpdateCallback=t}),this.wrapperComponent=A2}init(t){return this.sourceParams=t,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(t,e){return super.createElement(this.wrapperComponent,{initialProps:e,CustomComponentClass:t,setMethods:i=>this.setMethods(i),addUpdateCallback:i=>{this.updateCallback=()=>(i(this.getProps()),new it(s=>{setTimeout(()=>{s()})})),this.resolveUpdateCallback()}})}setMethods(t){this.providedMethods=t,Yv(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new it(t=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>t())}))}},E2=class extends Ss{refresh(t){return this.sourceParams=t,this.refreshProps(),!0}},k2=class extends Ss{constructor(){super(...arguments),this.date=null,this.onDateChange=t=>this.updateDate(t)}getDate(){return this.date}setDate(t){this.date=t,this.refreshProps()}refresh(t){this.sourceParams=t,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(t){this.setDate(t),this.sourceParams.onDateChanged()}getProps(){const t=super.getProps();return t.date=this.date,t.onDateChange=this.onDateChange,delete t.onDateChanged,t}},M2=class extends Ss{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(t,e){this.icon=t,this.shake=e,this.refreshProps()}setLabel(t){this.label=t,this.refreshProps()}getProps(){const t=super.getProps(),{label:e,icon:i,shake:s}=this;return t.label=e,t.icon=i,t.shake=s,t}},T2=class extends Ss{constructor(){super(...arguments),this.model=null,this.onModelChange=t=>this.updateModel(t),this.onUiChange=()=>this.sourceParams.filterChangedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1}isFilterActive(){return this.model!=null}doesFilterPass(t){return this.providedMethods.doesFilterPass(t)}getModel(){return this.model}setModel(t){return this.expectingNewMethods=!0,this.model=t,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(t){return this.sourceParams=t,this.refreshProps(),!0}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(t){var e;this.expectingNewMethods===!1&&this.hasBeenActive&&((e=this.providedMethods)==null?void 0:e.doesFilterPass)!==(t==null?void 0:t.doesFilterPass)&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(t)}updateModel(t){this.setModel(t).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const t=super.getProps();return t.model=this.model,t.onModelChange=this.onModelChange,t.onUiChange=this.onUiChange,delete t.filterChangedCallback,delete t.filterModifiedCallback,delete t.valueGetter,t}};function oF(t,e){t.parentFilterInstance(i=>{(i.setModel(e)||it.resolve()).then(()=>{t.filterParams.filterChangedCallback()})})}var D2=class{constructor(t,e){this.floatingFilterParams=t,this.refreshProps=e,this.model=null,this.onModelChange=i=>this.updateModel(i)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(t){this.model=t,this.refreshProps()}refresh(t){this.floatingFilterParams=t,this.refreshProps()}setMethods(t){Yv(this.getOptionalMethods(),t,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(t){this.model=t,this.refreshProps(),oF(this.floatingFilterParams,t)}},L2=class extends Ss{constructor(){super(...arguments),this.model=null,this.onModelChange=t=>this.updateModel(t)}onParentModelChanged(t){this.model=t,this.refreshProps()}refresh(t){this.sourceParams=t,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(t){this.model=t,this.refreshProps(),oF(this.sourceParams,t)}getProps(){const t=super.getProps();return t.model=this.model,t.onModelChange=this.onModelChange,t}},I2=class extends Ss{refresh(t){this.sourceParams=t,this.refreshProps()}},O2=class extends Ss{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=t=>this.updateActive(t)}setActive(t){this.awaitSetActive(t)}setExpanded(t){this.expanded=t,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(t){return this.active=t,this.refreshProps()}updateActive(t){const e=this.awaitSetActive(t);t&&e.then(()=>this.sourceParams.onItemActivated())}getProps(){const t=super.getProps();return t.active=this.active,t.expanded=this.expanded,t.onActiveChange=this.onActiveChange,delete t.onItemActivated,t}},H2=class extends Ss{refresh(t){this.sourceParams=t,this.refreshProps()}},N2=class extends Ss{refresh(t){return this.sourceParams=t,this.refreshProps(),!0}},G2=class extends Ss{constructor(){super(...arguments),this.onStateChange=t=>this.updateState(t)}refresh(t){return this.sourceParams=t,this.refreshProps(),!0}getState(){return this.state}updateState(t){this.state=t,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const t=super.getProps();return t.state=this.state,t.onStateChange=this.onStateChange,t}};function $v(){_("As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.")}var B2=1e3,W2=class{constructor(t,e,i){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=e||"div",this.refresher=t,this.maxComponentCreationTimeMs=i||B2}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(t){this.portals=this.portals.filter(e=>e!==t),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(t,e,i){this.portals=[...this.portals,t],this.waitForInstance(e,i),this.batchUpdate()}updateReactPortal(t,e){this.portals[this.portals.indexOf(t)]=e,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(t,e,i=Date.now()){if(this.destroyed){e(null);return}if(t.rendered())e(t);else{if(Date.now()-i>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout(()=>{this.waitForInstance(t,e,i)})}}},z2=({ctrl:t})=>{const e=t.isAlive(),{context:i}=F.useContext(Ht),s=e?t.getColId():void 0,[r,n]=F.useState(),o=F.useRef(),a=F.useRef(null),l=F.useRef(null),c=F.useRef(null),u=F.useRef(),h=F.useRef();e&&!h.current&&(h.current=new Wl(()=>a.current));const d=F.useCallback(C=>{var y;if(a.current=C,o.current=C?i.createBean(new Uo):i.destroyBean(o.current),!C||!e)return;const m={setWidth:w=>{a.current&&(a.current.style.width=w)},addOrRemoveCssClass:(w,x)=>h.current.addOrRemoveCssClass(w,x),setAriaSort:w=>{a.current&&(w?WM(a.current,w):zM(a.current))},setUserCompDetails:w=>n(w),getUserCompInstance:()=>u.current||void 0};t.setComp(m,C,l.current,c.current,o.current);const v=t.getSelectAllGui();(y=l.current)==null||y.insertAdjacentElement("afterend",v),o.current.addDestroyFunc(()=>v.remove())},[]);F.useLayoutEffect(()=>_l(r,i,c.current,u),[r]),F.useEffect(()=>{t.setDragSource(a.current)},[r]);const g=F.useMemo(()=>!!((r==null?void 0:r.componentFromFramework)&&$o(r.componentClass)),[r]),p=r&&r.componentFromFramework,f=r&&r.componentClass;return X.createElement("div",{ref:d,className:"ag-header-cell","col-id":s,role:"columnheader"},X.createElement("div",{ref:l,className:"ag-header-cell-resize",role:"presentation"}),X.createElement("div",{ref:c,className:"ag-header-cell-comp-wrapper",role:"presentation"},p&&g&&X.createElement(f,{...r.params}),p&&!g&&X.createElement(f,{...r.params,ref:u})))},V2=F.memo(z2),_2=({ctrl:t})=>{const{context:e,gos:i}=F.useContext(Ht),[s,r]=F.useState(()=>new Ei("ag-header-cell","ag-floating-filter")),[n,o]=F.useState(()=>new Ei),[a,l]=F.useState(()=>new Ei("ag-floating-filter-button","ag-hidden")),[c,u]=F.useState("false"),[h,d]=F.useState(),[,g]=F.useState(1),p=F.useRef(),f=F.useRef(null),C=F.useRef(null),m=F.useRef(null),v=F.useRef(null),y=F.useRef(),w=F.useRef(),x=D=>{D!=null&&y.current&&y.current(D)},S=F.useCallback(D=>{if(f.current=D,p.current=D?e.createBean(new Uo):e.destroyBean(p.current),!D)return;w.current=new it(k=>{y.current=k});const T={addOrRemoveCssClass:(k,H)=>r(N=>N.setClass(k,H)),addOrRemoveBodyCssClass:(k,H)=>o(N=>N.setClass(k,H)),setButtonWrapperDisplayed:k=>{l(H=>H.setClass("ag-hidden",!k)),u(k?"false":"true")},setWidth:k=>{f.current&&(f.current.style.width=k)},setCompDetails:k=>d(k),getFloatingFilterComp:()=>w.current?w.current:null,setMenuIcon:k=>{var H;return(H=v.current)==null?void 0:H.appendChild(k)}};t.setComp(T,D,v.current,C.current,p.current)},[]);F.useLayoutEffect(()=>_l(h,e,C.current,x),[h]);const b=F.useMemo(()=>s.toString(),[s]),R=F.useMemo(()=>n.toString(),[n]),A=F.useMemo(()=>a.toString(),[a]),P=F.useMemo(()=>!!(h&&h.componentFromFramework&&$o(h.componentClass)),[h]),E=F.useMemo(()=>i.get("reactiveCustomComponents"),[]),L=F.useMemo(()=>{if(h)if(E){const D=new D2(h.params,()=>g(T=>T+1));return x(D),D}else h.componentFromFramework&&$v()},[h]),M=L==null?void 0:L.getProps(),I=h&&h.componentFromFramework,z=h&&h.componentClass;return X.createElement("div",{ref:S,className:b,role:"gridcell"},X.createElement("div",{ref:C,className:R,role:"presentation"},I&&!E&&X.createElement(z,{...h.params,ref:P?()=>{}:x}),I&&E&&X.createElement(jv.Provider,{value:{setMethods:D=>L.setMethods(D)}},X.createElement(z,{...M}))),X.createElement("div",{ref:m,"aria-hidden":c,className:A,role:"presentation"},X.createElement("button",{ref:v,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},U2=F.memo(_2),X2=({ctrl:t})=>{const{context:e}=F.useContext(Ht),[i,s]=F.useState(()=>new Ei),[r,n]=F.useState(()=>new Ei),[o,a]=F.useState("false"),[l,c]=F.useState(),[u,h]=F.useState(),d=F.useMemo(()=>t.getColId(),[]),g=F.useRef(),p=F.useRef(null),f=F.useRef(null),C=F.useRef(null),m=F.useRef(),v=F.useCallback(R=>{if(p.current=R,g.current=R?e.createBean(new Uo):e.destroyBean(g.current),!R)return;const A={setWidth:P=>{p.current&&(p.current.style.width=P)},addOrRemoveCssClass:(P,E)=>s(L=>L.setClass(P,E)),setHeaderWrapperHidden:P=>{const E=C.current;E&&(P?E.style.setProperty("display","none"):E.style.removeProperty("display"))},setHeaderWrapperMaxHeight:P=>{const E=C.current;E&&(P!=null?E.style.setProperty("max-height",`${P}px`):E.style.removeProperty("max-height"),E.classList.toggle("ag-header-cell-comp-wrapper-limited-height",P!=null))},setUserCompDetails:P=>h(P),setResizableDisplayed:P=>{n(E=>E.setClass("ag-hidden",!P)),a(P?"false":"true")},setAriaExpanded:P=>c(P),getUserCompInstance:()=>m.current||void 0};t.setComp(A,R,f.current,C.current,g.current)},[]);F.useLayoutEffect(()=>_l(u,e,C.current),[u]),F.useEffect(()=>{p.current&&t.setDragSource(p.current)},[u]);const y=F.useMemo(()=>!!((u==null?void 0:u.componentFromFramework)&&$o(u.componentClass)),[u]),w=F.useMemo(()=>"ag-header-group-cell "+i.toString(),[i]),x=F.useMemo(()=>"ag-header-cell-resize "+r.toString(),[r]),S=u&&u.componentFromFramework,b=u&&u.componentClass;return X.createElement("div",{ref:v,className:w,"col-id":d,role:"columnheader","aria-expanded":l},X.createElement("div",{ref:C,className:"ag-header-cell-comp-wrapper",role:"presentation"},S&&y&&X.createElement(b,{...u.params}),S&&!y&&X.createElement(b,{...u.params,ref:m})),X.createElement("div",{ref:f,"aria-hidden":o,className:x}))},j2=F.memo(X2),Y2=({ctrl:t})=>{const{context:e}=F.useContext(Ht),{topOffset:i,rowHeight:s}=F.useMemo(()=>t.getTopAndHeight(),[]),r=t.getAriaRowIndex(),n=t.getHeaderRowClass(),[o,a]=F.useState(()=>s+"px"),[l,c]=F.useState(()=>i+"px"),u=F.useRef(null),h=F.useRef(null),[d,g]=F.useState(()=>t.getHeaderCtrls()),p=F.useRef(),f=F.useRef(null),C=F.useCallback(y=>{if(f.current=y,p.current=y?e.createBean(new Uo):e.destroyBean(p.current),!y)return;const w={setHeight:x=>a(x),setTop:x=>c(x),setHeaderCtrls:(x,S,b)=>{h.current=u.current,u.current=x;const R=Xv(h.current,x,S);R!==h.current&&Uv(b,()=>g(R))},setWidth:x=>{f.current&&(f.current.style.width=x)}};t.setComp(w,p.current,!1)},[]),m=F.useMemo(()=>({height:o,top:l}),[o,l]),v=F.useCallback(y=>{switch(t.getType()){case ef.COLUMN_GROUP:return X.createElement(j2,{ctrl:y,key:y.instanceId});case ef.FLOATING_FILTER:return X.createElement(U2,{ctrl:y,key:y.instanceId});default:return X.createElement(V2,{ctrl:y,key:y.instanceId})}},[]);return X.createElement("div",{ref:C,className:n,role:"row",style:m,"aria-rowindex":r},d.map(v))},$2=F.memo(Y2),K2=({pinned:t})=>{const[e,i]=F.useState(!0),[s,r]=F.useState([]),{context:n}=F.useContext(Ht),o=F.useRef(null),a=F.useRef(null),l=F.useRef(),c=t==="left",u=t==="right",h=!c&&!u,d=F.useCallback(f=>{if(o.current=f,l.current=f?n.createBean(new bL(t)):n.destroyBean(l.current),!f)return;const C={setDisplayed:i,setCtrls:m=>r(m),setCenterWidth:m=>{a.current&&(a.current.style.width=m)},setViewportScrollLeft:m=>{o.current&&(o.current.scrollLeft=m)},setPinnedContainerWidth:m=>{o.current&&(o.current.style.width=m,o.current.style.minWidth=m,o.current.style.maxWidth=m)}};l.current.setComp(C,o.current)},[]),g=e?"":"ag-hidden",p=()=>s.map(f=>X.createElement($2,{ctrl:f,key:f.instanceId}));return X.createElement(X.Fragment,null,c&&X.createElement("div",{ref:d,className:"ag-pinned-left-header "+g,"aria-hidden":!e,role:"rowgroup"},p()),u&&X.createElement("div",{ref:d,className:"ag-pinned-right-header "+g,"aria-hidden":!e,role:"rowgroup"},p()),h&&X.createElement("div",{ref:d,className:"ag-header-viewport "+g,role:"presentation"},X.createElement("div",{ref:a,className:"ag-header-container",role:"rowgroup"},p())))},ag=F.memo(K2),q2=()=>{const[t,e]=F.useState(()=>new Ei),[i,s]=F.useState(),{context:r}=F.useContext(Ht),n=F.useRef(null),o=F.useRef(),a=F.useCallback(u=>{if(n.current=u,o.current=u?r.createBean(new nL):r.destroyBean(o.current),!u)return;const h={addOrRemoveCssClass:(d,g)=>e(p=>p.setClass(d,g)),setHeightAndMinHeight:d=>s(d)};o.current.setComp(h,u,u)},[]),l=F.useMemo(()=>"ag-header "+t.toString(),[t]),c=F.useMemo(()=>({height:i,minHeight:i}),[i]);return X.createElement("div",{ref:a,className:l,style:c,role:"presentation"},X.createElement(ag,{pinned:"left"}),X.createElement(ag,{pinned:null}),X.createElement(ag,{pinned:"right"}))},Q2=F.memo(q2),Z2=(t,e)=>{F.useEffect(()=>{const i=e.current;if(i){const s=i.parentElement;if(s){const r=document.createComment(t);return s.insertBefore(r,i),()=>{s.removeChild(r)}}}},[t])},jr=Z2,J2=class{constructor(t,e){this.cellEditorParams=t,this.refreshProps=e,this.instanceCreated=new it(i=>{this.resolveInstanceCreated=i}),this.onValueChange=i=>this.updateValue(i),this.value=t.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(t){this.cellEditorParams=t,this.refreshProps()}setMethods(t){Yv(this.getOptionalMethods(),t,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(t){var e;this.componentInstance=t,(e=this.resolveInstanceCreated)==null||e.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(t){this.value=t,this.refreshProps()}},eW=t=>{const e=F.useRef(t),i=F.useRef(),s=F.useRef(!1),r=F.useRef(!1),[,n]=F.useState(0);s.current&&(r.current=!0),F.useEffect(()=>(s.current||(i.current=e.current(),s.current=!0),n(o=>o+1),()=>{var o;r.current&&((o=i.current)==null||o.call(i))}),[])},tW=t=>{const[e,i]=F.useState(),{context:s,popupService:r,localeService:n,gos:o,editService:a}=F.useContext(Ht);return eW(()=>{var w,x;const{editDetails:l,cellCtrl:c,eParentCell:u}=t,{compDetails:h}=l,d=o.get("stopEditingWhenCellsLoseFocus"),g=s.createBean(a.createPopupEditorWrapper(h.params)),p=g.getGui();if(t.jsChildComp){const S=t.jsChildComp.getGui();S&&p.appendChild(S)}const f={column:c.getColumn(),rowNode:c.getRowNode(),type:"popupCellEditor",eventSource:u,ePopup:p,position:l.popupPosition,keepWithinBounds:!0},C=r.positionPopupByComponent.bind(r,f),m=n.getLocaleTextFunc(),v=r.addPopup({modal:d,eChild:p,closeOnEsc:!0,closedCallback:()=>{c.onPopupEditorClosed()},anchorToElement:u,positionCallback:C,ariaLabel:m("ariaLabelCellEditor","Cell Editor")}),y=v?v.hideFunc:void 0;return i(g),(x=(w=t.jsChildComp)==null?void 0:w.afterGuiAttached)==null||x.call(w),()=>{y==null||y(),s.destroyBean(g)}}),X.createElement(X.Fragment,null,e&&t.wrappedContent&&Nl.createPortal(t.wrappedContent,e.getGui()))},Cw=F.memo(tW),iW=(t,e,i,s,r,n)=>{const{context:o}=F.useContext(Ht),a=F.useCallback(()=>{const l=r.current;if(!l)return;const c=l.getGui();c&&c.parentElement&&c.parentElement.removeChild(c),o.destroyBean(l),r.current=void 0},[]);F.useEffect(()=>{const l=t!=null,c=(t==null?void 0:t.compDetails)&&!t.compDetails.componentFromFramework,u=e&&i==null;if(!(l&&c&&!u)){a();return}const d=t.compDetails;if(r.current){const p=r.current,C=p.refresh!=null&&t.force==!1?p.refresh(d.params):!1;if(C===!0||C===void 0)return;a()}const g=d.newAgStackInstance();g!=null&&g.then(p=>{if(!p)return;const f=p.getGui();if(!f)return;(e?i:n.current).appendChild(f),r.current=p})},[t,e,s]),F.useEffect(()=>a,[])},sW=iW,rW=(t,e,i)=>{const{compProxy:s}=t;i(s);const r=s.getProps(),n=$o(e);return X.createElement(jv.Provider,{value:{setMethods:o=>s.setMethods(o)}},n?X.createElement(e,{...r}):X.createElement(e,{...r,ref:o=>s.setRef(o)}))},yw=(t,e,i)=>{const s=t.compProxy;return X.createElement(X.Fragment,null,s?rW(t,e,i):X.createElement(e,{...t.compDetails.params,ref:i}))},nW=(t,e,i,s,r)=>{const n=t.compDetails,o=n.componentClass,a=n.componentFromFramework&&!t.popup,l=n.componentFromFramework&&t.popup,c=!n.componentFromFramework&&t.popup;return X.createElement(X.Fragment,null,a&&yw(t,o,e),l&&X.createElement(Cw,{editDetails:t,cellCtrl:s,eParentCell:i,wrappedContent:yw(t,o,e)}),c&&r&&X.createElement(Cw,{editDetails:t,cellCtrl:s,eParentCell:i,jsChildComp:r}))},oW=(t,e,i,s,r,n,o)=>{const{compDetails:a,value:l}=t,c=!a,u=a&&a.componentFromFramework,h=a&&a.componentClass,d=l!=null&&l.toString?l.toString():l,g=()=>X.createElement(X.Fragment,null,c&&X.createElement(X.Fragment,null,d),u&&!n&&X.createElement(h,{...a.params,key:e,ref:s}),u&&n&&X.createElement(h,{...a.params,key:e}));return X.createElement(X.Fragment,null,r?X.createElement("span",{role:"presentation",id:`cell-${i}`,className:"ag-cell-value",ref:o},g()):g())},aW=({cellCtrl:t,printLayout:e,editingRow:i})=>{const{context:s}=F.useContext(Ht),{colIdSanitised:r,instanceId:n}=t,o=F.useRef(),[a,l]=F.useState(()=>t.isCellRenderer()?void 0:{compDetails:void 0,value:t.getValueToDisplay(),force:!1}),[c,u]=F.useState(),[h,d]=F.useState(1),[g,p]=F.useState(),[f,C]=F.useState(!1),[m,v]=F.useState(!1),[y,w]=F.useState(!1),[x,S]=F.useState(),b=F.useMemo(()=>t.isForceWrapper(),[t]),R=F.useMemo(()=>t.getCellAriaRole(),[t]),A=F.useRef(null),P=F.useRef(null),E=F.useRef(),L=F.useRef(),M=F.useRef(),I=F.useRef([]),z=F.useRef(),[D,T]=F.useState(0),k=F.useCallback(ue=>{z.current=ue,T(ge=>ge+1)},[]),H=a!=null&&(f||y||m),N=b||H,G=F.useCallback(ue=>{if(L.current=ue,ue){const ge=ue.isCancelBeforeStart&&ue.isCancelBeforeStart();setTimeout(()=>{ge?(t.stopEditing(!0),t.focusCell(!0)):t.cellEditorAttached()})}},[t]),U=F.useRef();U.current||(U.current=new Wl(()=>A.current)),sW(a,N,z.current,D,E,A);const te=F.useRef();F.useLayoutEffect(()=>{var Me;const ue=te.current,ge=a;if(te.current=a,ue==null||ue.compDetails==null||ge==null||ge.compDetails==null)return;const Re=ue.compDetails,pe=ge.compDetails;if(Re.componentClass!=pe.componentClass||((Me=P.current)==null?void 0:Me.refresh)==null)return;P.current.refresh(pe.params)!=!0&&d(Le=>Le+1)},[a]),F.useLayoutEffect(()=>{if(!(c&&!c.compDetails.componentFromFramework))return;const ge=c.compDetails,Re=c.popup===!0,pe=ge.newAgStackInstance();return pe.then(me=>{if(!me)return;const Me=me.getGui();if(G(me),!Re){const Le=(b?M:A).current;Le==null||Le.appendChild(Me),me.afterGuiAttached&&me.afterGuiAttached()}S(me)}),()=>{pe.then(me=>{var Le;const Me=me.getGui();s.destroyBean(me),G(void 0),S(void 0),(Le=Me==null?void 0:Me.parentElement)==null||Le.removeChild(Me)})}},[c]);const $=F.useCallback(ue=>{if(M.current=ue,!ue){I.current.forEach(Re=>Re()),I.current=[];return}const ge=Re=>{if(Re){const pe=Re.getGui();ue.insertAdjacentElement("afterbegin",pe),I.current.push(()=>{s.destroyBean(Re),Rn(pe)})}return Re};if(f){const Re=t.createSelectionCheckbox();ge(Re)}y&&ge(t.createDndSource()),m&&ge(t.createRowDragComp())},[t,s,y,m,f]),re=F.useCallback(ue=>{if(A.current=ue,o.current=ue?s.createBean(new Uo):s.destroyBean(o.current),!ue||!t)return;const ge={addOrRemoveCssClass:(pe,me)=>U.current.addOrRemoveCssClass(pe,me),setUserStyles:pe=>p(pe),getFocusableElement:()=>A.current,setIncludeSelection:pe=>C(pe),setIncludeRowDrag:pe=>v(pe),setIncludeDndSource:pe=>w(pe),getCellEditor:()=>L.current||null,getCellRenderer:()=>P.current??E.current,getParentOfValue:()=>z.current??M.current??A.current,setRenderDetails:(pe,me,Me)=>{l(Le=>(Le==null?void 0:Le.compDetails)!==pe||(Le==null?void 0:Le.value)!==me||(Le==null?void 0:Le.force)!==Me?{value:me,compDetails:pe,force:Me}:Le)},setEditDetails:(pe,me,Me,Le)=>{if(pe){let ft;Le?ft=new J2(pe.params,()=>d(Hr=>Hr+1)):pe.componentFromFramework&&$v(),u({compDetails:pe,popup:me,popupPosition:Me,compProxy:ft}),me||l(void 0)}else u(ft=>{ft!=null&&ft.compProxy&&(L.current=void 0)})}},Re=M.current||void 0;t.setComp(ge,ue,Re,e,i,o.current)},[]),Z=F.useMemo(()=>{var ge;return!!(((ge=a==null?void 0:a.compDetails)==null?void 0:ge.componentFromFramework)&&$o(a.compDetails.componentClass))},[a]);F.useLayoutEffect(()=>{var ue;A.current&&(U.current.addOrRemoveCssClass("ag-cell-value",!N),U.current.addOrRemoveCssClass("ag-cell-inline-editing",!!c&&!c.popup),U.current.addOrRemoveCssClass("ag-cell-popup-editing",!!c&&!!c.popup),U.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!c||!!c.popup),(ue=t.getRowCtrl())==null||ue.setInlineEditingCss(),t.shouldRestoreFocus()&&!t.isEditing()&&A.current.focus({preventScroll:!0}))});const ie=()=>X.createElement(X.Fragment,null,a!=null&&oW(a,h,n,P,N,Z,k),c!=null&&nW(c,G,A.current,t,x)),ve=F.useCallback(()=>t.onFocusOut(),[]);return X.createElement("div",{ref:re,style:g,role:R,"col-id":r,onBlur:ve},N?X.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:$},ie()):ie())},lW=F.memo(aW),cW=({rowCtrl:t,containerType:e})=>{const{context:i,gos:s}=F.useContext(Ht),r=F.useRef(),n=F.useRef(t.getDomOrder()),o=t.isFullWidth(),a=t.getRowNode().displayed,[l,c]=F.useState(()=>a?t.getRowIndex():null),[u,h]=F.useState(()=>t.getRowId()),[d,g]=F.useState(()=>t.getBusinessKey()),[p,f]=F.useState(()=>t.getRowStyles()),C=F.useRef(null),m=F.useRef(null),[v,y]=F.useState(()=>null),[w,x]=F.useState(),[S,b]=F.useState(()=>a?t.getInitialRowTop(e):void 0),[R,A]=F.useState(()=>a?t.getInitialTransform(e):void 0),P=F.useRef(null),E=F.useRef(),L=F.useRef(!1),[M,I]=F.useState(0);F.useEffect(()=>{var re;if(L.current||!w||M>10)return;const $=(re=P.current)==null?void 0:re.firstChild;$?(t.setupDetailRowAutoHeight($),L.current=!0):I(Z=>Z+1)},[w,M]);const z=F.useRef();z.current||(z.current=new Wl(()=>P.current));const D=F.useCallback($=>{if(P.current=$,r.current=$?i.createBean(new Uo):i.destroyBean(r.current),!$){t.unsetComp(e);return}if(!t.isAlive())return;const re={setTop:b,setTransform:A,addOrRemoveCssClass:(Z,ie)=>z.current.addOrRemoveCssClass(Z,ie),setDomOrder:Z=>n.current=Z,setRowIndex:c,setRowId:h,setRowBusinessKey:g,setUserStyles:f,setCellCtrls:(Z,ie)=>{m.current=C.current,C.current=Z;const ve=Xv(m.current,Z,n.current);ve!==m.current&&Uv(ie,()=>y(ve))},showFullWidth:Z=>x(Z),getFullWidthCellRenderer:()=>E.current,refreshFullWidth:Z=>G.current?(x(ie=>({...ie,params:Z()})),!0):!E.current||!E.current.refresh?!1:E.current.refresh(Z())};t.setComp(re,$,e,r.current)},[]);F.useLayoutEffect(()=>_l(w,i,P.current,E),[w]);const T=F.useMemo(()=>{const $={top:S,transform:R};return Object.assign($,p),$},[S,R,p]),k=o&&(w==null?void 0:w.componentFromFramework),H=!o&&v!=null,N=F.useMemo(()=>!!((w==null?void 0:w.componentFromFramework)&&$o(w.componentClass)),[w]),G=F.useRef(!1);F.useEffect(()=>{G.current=N&&!!w&&!!s.get("reactiveCustomComponents")},[N,w]);const U=()=>v==null?void 0:v.map($=>X.createElement(lW,{cellCtrl:$,editingRow:t.isEditing(),printLayout:t.isPrintLayout(),key:$.instanceId})),te=()=>{const $=w.componentClass;return X.createElement(X.Fragment,null,N?X.createElement($,{...w.params}):X.createElement($,{...w.params,ref:E}))};return X.createElement("div",{ref:D,role:"row",style:T,"row-index":l,"row-id":u,"row-business-key":d},H&&U(),k&&te())},uW=F.memo(cW),hW=({name:t})=>{const{context:e}=F.useContext(Ht),i=F.useMemo(()=>ro(t),[t]),s=F.useRef(null),r=F.useRef(null),n=F.useRef([]),o=F.useRef([]),[a,l]=F.useState(()=>[]),c=F.useRef(!1),u=F.useRef(),h=F.useMemo(()=>Ui(i.viewport),[i]),d=F.useMemo(()=>Ui(i.container),[i]),g=i.type==="center",p=g?s:r;jr(" AG Row Container "+t+" ",p);const f=F.useCallback(()=>g?s.current!=null&&r.current!=null:r.current!=null,[]),C=F.useCallback(()=>g?s.current==null&&r.current==null:r.current==null,[]),m=F.useCallback(()=>{if(C()&&(u.current=e.destroyBean(u.current)),f()){const x=b=>{const R=Xv(o.current,n.current,c.current);R!==o.current&&(o.current=R,Uv(b,()=>l(R)))},S={setHorizontalScroll:b=>{s.current&&(s.current.scrollLeft=b)},setViewportHeight:b=>{s.current&&(s.current.style.height=b)},setRowCtrls:({rowCtrls:b,useFlushSync:R})=>{const A=!!R&&n.current.length>0&&b.length>0;n.current=b,x(A)},setDomOrder:b=>{c.current!=b&&(c.current=b,x(!1))},setContainerWidth:b=>{r.current&&(r.current.style.width=b)},setOffsetTop:b=>{r.current&&(r.current.style.transform=`translateY(${b})`)}};u.current=e.createBean(new pI(t)),u.current.setComp(S,r.current,s.current)}},[f,C]),v=F.useCallback(x=>{r.current=x,m()},[m]),y=F.useCallback(x=>{s.current=x,m()},[m]),w=()=>X.createElement("div",{className:d,ref:v,role:"rowgroup"},a.map(x=>X.createElement(uW,{rowCtrl:x,containerType:i.type,key:x.instanceId})));return X.createElement(X.Fragment,null,g?X.createElement("div",{className:h,ref:y,role:"presentation"},w()):w())},dW=F.memo(hW),gW=()=>{const{context:t,resizeObserverService:e}=F.useContext(Ht),[i,s]=F.useState(""),[r,n]=F.useState(0),[o,a]=F.useState(0),[l,c]=F.useState("0px"),[u,h]=F.useState("0px"),[d,g]=F.useState("100%"),[p,f]=F.useState("0px"),[C,m]=F.useState("0px"),[v,y]=F.useState("100%"),[w,x]=F.useState(""),[S,b]=F.useState(""),[R,A]=F.useState(null),[P,E]=F.useState(""),[L,M]=F.useState(null),[I,z]=F.useState("ag-layout-normal"),D=F.useRef();D.current||(D.current=new Wl(()=>T.current));const T=F.useRef(null),k=F.useRef(null),H=F.useRef(null),N=F.useRef(null),G=F.useRef(null),U=F.useRef(null),te=F.useRef(null),$=F.useRef([]),re=F.useRef([]);jr(" AG Grid Body ",T),jr(" AG Pinned Top ",k),jr(" AG Sticky Top ",H),jr(" AG Middle ",U),jr(" AG Pinned Bottom ",te);const Z=F.useCallback(We=>{if(T.current=We,!We){$.current=t.destroyBeans($.current),re.current.forEach(Ke=>Ke()),re.current=[];return}if(!t)return;const $e=(Ke,Nt)=>{Ke.appendChild(Nt),re.current.push(()=>Ke.removeChild(Nt))},kt=Ke=>{const Nt=t.createBean(new Ke);return $.current.push(Nt),Nt},wi=(Ke,Nt,fd)=>{$e(Ke,document.createComment(fd)),$e(Ke,kt(Nt).getGui())};wi(We,RL," AG Fake Horizontal Scroll "),wi(We,SL," AG Overlay Wrapper "),G.current&&wi(G.current,FL," AG Fake Vertical Scroll ");const $s={setRowAnimationCssOnBodyViewport:s,setColumnCount:Ke=>{T.current&&GM(T.current,Ke)},setRowCount:Ke=>{T.current&&HM(T.current,Ke)},setTopHeight:n,setBottomHeight:a,setStickyTopHeight:c,setStickyTopTop:h,setStickyTopWidth:g,setTopDisplay:x,setBottomDisplay:b,setColumnMovingCss:(Ke,Nt)=>D.current.addOrRemoveCssClass(Ke,Nt),updateLayoutClasses:z,setAlwaysVerticalScrollClass:A,setPinnedTopBottomOverflowY:E,setCellSelectableCss:(Ke,Nt)=>M(Nt?Ke:null),setBodyViewportWidth:Ke=>{U.current&&(U.current.style.width=Ke)},registerBodyViewportResizeListener:Ke=>{if(U.current){const Nt=e.observeResize(U.current,Ke);re.current.push(()=>Nt())}},setStickyBottomHeight:f,setStickyBottomBottom:m,setStickyBottomWidth:y},tc=t.createBean(new CI);$.current.push(tc),tc.setComp($s,We,U.current,k.current,te.current,H.current,N.current)},[]),ie=F.useMemo(()=>Ui("ag-root","ag-unselectable",I),[I]),ve=F.useMemo(()=>Ui("ag-body-viewport",i,I,R,L),[i,I,R,L]),ue=F.useMemo(()=>Ui("ag-body",I),[I]),ge=F.useMemo(()=>Ui("ag-floating-top",L),[L]),Re=F.useMemo(()=>Ui("ag-sticky-top",L),[L]),pe=F.useMemo(()=>Ui("ag-sticky-bottom",p==="0px"?"ag-hidden":null,L),[L,p]),me=F.useMemo(()=>Ui("ag-floating-bottom",L),[L]),Me=F.useMemo(()=>({height:r,minHeight:r,display:w,overflowY:P}),[r,w,P]),Le=F.useMemo(()=>({height:l,top:u,width:d}),[l,u,d]),ft=F.useMemo(()=>({height:p,bottom:C,width:v}),[p,C,v]),Hr=F.useMemo(()=>({height:o,minHeight:o,display:S,overflowY:P}),[o,S,P]),Nr=We=>X.createElement(dW,{name:We,key:`${We}-container`}),Bi=({section:We,children:$e,className:kt,style:wi})=>X.createElement("div",{ref:We,className:kt,role:"presentation",style:wi},$e.map(Nr));return X.createElement("div",{ref:Z,className:ie,role:"treegrid"},X.createElement(Q2,null),Bi({section:k,className:ge,style:Me,children:["topLeft","topCenter","topRight","topFullWidth"]}),X.createElement("div",{className:ue,ref:G,role:"presentation"},Bi({section:U,className:ve,children:["left","center","right","fullWidth"]})),Bi({section:H,className:Re,style:Le,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),Bi({section:N,className:pe,style:ft,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),Bi({section:te,className:me,style:Hr,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},pW=F.memo(gW),fW=(t,e)=>{const{children:i,eFocusableElement:s,onTabKeyDown:r,gridCtrl:n,forceFocusOutWhenTabGuardsAreEmpty:o}=t,{context:a}=F.useContext(Ht),l=F.useRef(null),c=F.useRef(null),u=F.useRef(),h=C=>{const m=C==null?void 0:parseInt(C,10).toString();[l,c].forEach(v=>{var y,w;m===void 0?(y=v.current)==null||y.removeAttribute("tabindex"):(w=v.current)==null||w.setAttribute("tabindex",m)})};F.useImperativeHandle(e,()=>({forceFocusOutOfContainer(C){var m;(m=u.current)==null||m.forceFocusOutOfContainer(C)}}));const d=F.useCallback(()=>{const C=l.current,m=c.current;if(!C&&!m){u.current=a.destroyBean(u.current);return}if(C&&m){const v={setTabIndex:h};u.current=a.createBean(new GR({comp:v,eTopGuard:C,eBottomGuard:m,eFocusableElement:s,onTabKeyDown:r,forceFocusOutWhenTabGuardsAreEmpty:o,focusInnerElement:y=>n.focusInnerElement(y)}))}},[]),g=F.useCallback(C=>{l.current=C,d()},[d]),p=F.useCallback(C=>{c.current=C,d()},[d]),f=C=>{const m=C==="top"?tu.TAB_GUARD_TOP:tu.TAB_GUARD_BOTTOM;return X.createElement("div",{className:`${tu.TAB_GUARD} ${m}`,role:"presentation",ref:C==="top"?g:p})};return X.createElement(X.Fragment,null,f("top"),i,f("bottom"))},mW=F.forwardRef(fW),vW=F.memo(mW),CW=({context:t})=>{const[e,i]=F.useState(""),[s,r]=F.useState(""),[n,o]=F.useState(""),[a,l]=F.useState(null),[c,u]=F.useState(null),[h,d]=F.useState(!1),[g,p]=F.useState(),f=F.useRef(),C=F.useRef(null),m=F.useRef(),[v,y]=F.useState(null),w=F.useRef(()=>{}),x=F.useRef(),S=F.useRef([]),b=F.useCallback(()=>{},[]),R=F.useMemo(()=>t.isDestroyed()?null:t.getBeans(),[t]);jr(" AG Grid ",C);const A=F.useCallback(I=>{if(C.current=I,f.current=I?t.createBean(new QO):t.destroyBean(f.current),!I||t.isDestroyed())return;const z=f.current;w.current=z.focusInnerElement.bind(z);const D={destroyGridUi:()=>{},setRtlClass:i,setGridThemeClass:r,forceFocusOutOfContainer:T=>{var k,H;if(!T&&((k=x.current)!=null&&k.isDisplayed())){x.current.forceFocusOutOfContainer(T);return}(H=m.current)==null||H.forceFocusOutOfContainer(T)},updateLayoutClasses:o,getFocusableContainers:()=>{var H;const T=[],k=(H=C.current)==null?void 0:H.querySelector(".ag-root");return k&&T.push({getGui:()=>k}),S.current.forEach(N=>{N.isDisplayed()&&T.push(N)}),T},setCursor:l,setUserSelect:u};z.setComp(D,I,I),d(!0)},[]);F.useEffect(()=>{const I=f.current,z=C.current;if(!g||!R||!I||!v||!z)return;const D=[],{watermarkSelector:T,paginationSelector:k,sideBarSelector:H,statusBarSelector:N,gridHeaderDropZonesSelector:G}=I.getOptionalSelectors(),U=[];if(G){const $=t.createBean(new G.component),re=$.getGui();z.insertAdjacentElement("afterbegin",re),U.push(re),D.push($)}if(H){const $=t.createBean(new H.component),re=$.getGui(),Z=v.querySelector(".ag-tab-guard-bottom");Z&&(Z.insertAdjacentElement("beforebegin",re),U.push(re)),D.push($),S.current.push($)}const te=$=>{const re=t.createBean(new $),Z=re.getGui();return z.insertAdjacentElement("beforeend",Z),U.push(Z),D.push(re),re};if(N&&te(N.component),k){const $=te(k.component);x.current=$,S.current.push($)}return T&&te(T.component),()=>{t.destroyBeans(D),U.forEach($=>{var re;(re=$.parentElement)==null||re.removeChild($)})}},[g,v,R]);const P=F.useMemo(()=>Ui("ag-root-wrapper",e,s,n),[e,s,n]),E=F.useMemo(()=>Ui("ag-root-wrapper-body","ag-focus-managed",n),[n]),L=F.useMemo(()=>({userSelect:c??"",WebkitUserSelect:c??"",cursor:a??""}),[c,a]),M=F.useCallback(I=>{m.current=I,p(I!==null)},[]);return X.createElement("div",{ref:A,className:P,style:L,role:"presentation"},X.createElement("div",{className:E,ref:y,role:"presentation"},h&&v&&R&&X.createElement(Ht.Provider,{value:R},X.createElement(vW,{ref:M,eFocusableElement:v,onTabKeyDown:b,gridCtrl:f.current,forceFocusOutWhenTabGuardsAreEmpty:!0},X.createElement(pW,null)))))},yW=F.memo(CW),wW=class extends W{wireBeans(t){this.ctrlsService=t.ctrlsService}areHeaderCellsRendered(){return this.ctrlsService.getHeaderRowContainerCtrls().every(t=>t.getAllCtrls().every(e=>e.areCellsRendered()))}},aF=t=>{var C;const e=F.useRef(),i=F.useRef(null),s=F.useRef(null),r=F.useRef([]),n=F.useRef([]),o=F.useRef(t),a=F.useRef(),l=F.useRef(),c=F.useRef(!1),[u,h]=F.useState(void 0),[,d]=F.useState(0),g=F.useCallback(m=>{if(i.current=m,!m){r.current.forEach(E=>E()),r.current.length=0;return}const v=t.modules||[];s.current||(s.current=new W2(()=>d(E=>E+1),t.componentWrappingElement,t.maxComponentCreationTimeMs),r.current.push(()=>{var E;(E=s.current)==null||E.destroy(),s.current=null}));const y=PM(t.gridOptions,t),w=()=>{if(c.current){const E=()=>{var M;return(M=a.current)!=null&&M.shouldQueueUpdates()?void 0:n.current.shift()};let L=E();for(;L;)L(),L=E()}},x=new RW(w);a.current=x;const S=new wW,b={providedBeanInstances:{frameworkComponentWrapper:new bW(s.current,y.reactiveCustomComponents??RB("reactiveCustomComponents")??!0),renderStatusService:S},modules:v,frameworkOverrides:x},R=E=>{h(E),E.createBean(S),r.current.push(()=>{E.destroy()}),E.getBean("ctrlsService").whenReady({addDestroyFunc:L=>{r.current.push(L)}},()=>{var M;if(E.isDestroyed())return;const L=e.current;L&&((M=t.setGridApi)==null||M.call(t,L))})},A=E=>{E.getBean("ctrlsService").whenReady({addDestroyFunc:L=>{r.current.push(L)}},()=>{n.current.forEach(L=>L()),n.current.length=0,c.current=!0})},P=new AB;y.gridId??(y.gridId=l.current),e.current=P.create(m,y,R,A,b),r.current.push(()=>{e.current=void 0}),e.current&&(l.current=e.current.getGridId())},[]),p=F.useMemo(()=>({height:"100%",...t.containerStyle||{}}),[t.containerStyle]),f=F.useCallback(m=>{var v;c.current&&!((v=a.current)!=null&&v.shouldQueueUpdates())?m():n.current.push(m)},[]);return F.useEffect(()=>{const m=xW(o.current,t);o.current=t,f(()=>{e.current&&EM(m,e.current)})},[t]),X.createElement("div",{style:p,className:t.className,ref:g},u&&!u.isDestroyed()?X.createElement(yW,{context:u}):null,((C=s.current)==null?void 0:C.getPortals())??null)};function xW(t,e){const i={};return Object.keys(e).forEach(s=>{const r=e[s];t[s]!==r&&(i[s]=r)}),i}var bW=class extends OB{constructor(t,e){super(),this.parent=t,this.reactiveCustomComponents=e}createWrapper(t,e){if(this.reactiveCustomComponents){const r=(n=>{switch(n){case"filter":return T2;case"floatingFilterComponent":return L2;case"dateComponent":return k2;case"dragAndDropImageComponent":return M2;case"loadingOverlayComponent":return I2;case"noRowsOverlayComponent":return H2;case"statusPanel":return N2;case"toolPanel":return G2;case"menuItem":return O2;case"cellRenderer":return E2}})(e.propertyName);if(r)return new r(t,this.parent,e)}else switch(e.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":$v();break}const i=!e.cellRenderer&&e.propertyName!=="toolPanel";return new nF(t,this.parent,e,i)}},SW=F.forwardRef((t,e)=>{const{ctrlsFactory:i,context:s,gos:r,resizeObserverService:n,rowModel:o}=F.useContext(Ht),[a,l]=F.useState(()=>new Ei),[c,u]=F.useState(()=>new Ei),[h,d]=F.useState(),[g,p]=F.useState(),f=F.useRef(),C=F.useRef(null),m=F.useRef(),v=F.useMemo(()=>fs.__getGridRegisteredModules(t.api.getGridId()),[t]),y=F.useMemo(()=>a.toString()+" ag-details-row",[a]),w=F.useMemo(()=>c.toString()+" ag-details-grid",[c]);e&&F.useImperativeHandle(e,()=>({refresh(){var b;return((b=f.current)==null?void 0:b.refresh())??!1}})),t.template&&_("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/");const x=F.useCallback(b=>{var P;if(C.current=b,!b){f.current=s.destroyBean(f.current),(P=m.current)==null||P.call(m);return}const R={addOrRemoveCssClass:(E,L)=>l(M=>M.setClass(E,L)),addOrRemoveDetailGridCssClass:(E,L)=>u(M=>M.setClass(E,L)),setDetailGrid:E=>d(E),setRowData:E=>p(E),getGui:()=>C.current},A=i.getInstance("detailCellRenderer");if(A&&(s.createBean(A),A.init(R,t),f.current=A,r.get("detailRowAutoHeight"))){const E=()=>{if(C.current==null)return;const L=C.current.clientHeight;L!=null&&L>0&&setTimeout(()=>{t.node.setRowHeight(L),(Xe(r)||xs(r))&&o.onRowHeightChanged()},0)};m.current=n.observeResize(b,E),E()}},[]),S=F.useCallback(b=>{var R;(R=f.current)==null||R.registerDetailWithMaster(b)},[]);return X.createElement("div",{className:y,ref:x},h&&X.createElement(aF,{className:w,...h,modules:v,rowData:g,setGridApi:S}))}),RW=class extends BR{constructor(t){super("react"),this.processQueuedUpdates=t,this.queueUpdates=!1,this.frameworkComponents={agGroupCellRenderer:mw,agGroupRowRenderer:mw,agDetailCellRenderer:SW},this.wrapIncoming=(e,i)=>i==="ensureVisible"?R2(e):e(),this.renderingEngine="react"}frameworkComponent(t){return this.frameworkComponents[t]}isFrameworkComponent(t){if(!t)return!1;const e=t.prototype;return!(e&&"getGui"in e)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return S2()}},FW=class extends F.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=t=>{this.api=t,this.apiListeners.forEach(e=>e(t))}}registerApiListener(t){this.apiListeners.push(t)}componentWillUnmount(){this.apiListeners.length=0}render(){return X.createElement(aF,{...this.props,setGridApi:this.setGridApi})}},lF={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function i(){for(var n="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(n=r(n,s(a)))}return n}function s(n){if(typeof n=="string"||typeof n=="number")return n;if(typeof n!="object")return"";if(Array.isArray(n))return i.apply(null,n);if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]"))return n.toString();var o="";for(var a in n)e.call(n,a)&&n[a]&&(o=r(o,a));return o}function r(n,o){return o?n?n+" "+o:n+o:n}t.exports?(i.default=i,t.exports=i):window.classNames=i})()})(lF);var AW=lF.exports;const Ko=vh(AW);function Fn(){return Fn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},Fn.apply(null,arguments)}var cF={exports:{}},Ne={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv=Symbol.for("react.element"),qv=Symbol.for("react.portal"),Vh=Symbol.for("react.fragment"),_h=Symbol.for("react.strict_mode"),Uh=Symbol.for("react.profiler"),Xh=Symbol.for("react.provider"),jh=Symbol.for("react.context"),PW=Symbol.for("react.server_context"),Yh=Symbol.for("react.forward_ref"),$h=Symbol.for("react.suspense"),Kh=Symbol.for("react.suspense_list"),qh=Symbol.for("react.memo"),Qh=Symbol.for("react.lazy"),EW=Symbol.for("react.offscreen"),uF;uF=Symbol.for("react.module.reference");function Gi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Kv:switch(t=t.type,t){case Vh:case Uh:case _h:case $h:case Kh:return t;default:switch(t=t&&t.$$typeof,t){case PW:case jh:case Yh:case Qh:case qh:case Xh:return t;default:return e}}case qv:return e}}}Ne.ContextConsumer=jh;Ne.ContextProvider=Xh;Ne.Element=Kv;Ne.ForwardRef=Yh;Ne.Fragment=Vh;Ne.Lazy=Qh;Ne.Memo=qh;Ne.Portal=qv;Ne.Profiler=Uh;Ne.StrictMode=_h;Ne.Suspense=$h;Ne.SuspenseList=Kh;Ne.isAsyncMode=function(){return!1};Ne.isConcurrentMode=function(){return!1};Ne.isContextConsumer=function(t){return Gi(t)===jh};Ne.isContextProvider=function(t){return Gi(t)===Xh};Ne.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Kv};Ne.isForwardRef=function(t){return Gi(t)===Yh};Ne.isFragment=function(t){return Gi(t)===Vh};Ne.isLazy=function(t){return Gi(t)===Qh};Ne.isMemo=function(t){return Gi(t)===qh};Ne.isPortal=function(t){return Gi(t)===qv};Ne.isProfiler=function(t){return Gi(t)===Uh};Ne.isStrictMode=function(t){return Gi(t)===_h};Ne.isSuspense=function(t){return Gi(t)===$h};Ne.isSuspenseList=function(t){return Gi(t)===Kh};Ne.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Vh||t===Uh||t===_h||t===$h||t===Kh||t===EW||typeof t=="object"&&t!==null&&(t.$$typeof===Qh||t.$$typeof===qh||t.$$typeof===Xh||t.$$typeof===jh||t.$$typeof===Yh||t.$$typeof===uF||t.getModuleId!==void 0)};Ne.typeOf=Gi;cF.exports=Ne;var ru=cF.exports,af={},kW=function(e){};function MW(t,e){}function TW(t,e){}function DW(){af={}}function hF(t,e,i){!e&&!af[i]&&(t(!1,i),af[i]=!0)}function Ul(t,e){hF(MW,t,e)}function LW(t,e){hF(TW,t,e)}Ul.preMessage=kW;Ul.resetWarned=DW;Ul.noteOnce=LW;function He(t){"@babel/helpers - typeof";return He=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},He(t)}function IW(t,e){if(He(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var s=i.call(t,e||"default");if(He(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dF(t){var e=IW(t,"string");return He(e)=="symbol"?e:e+""}function de(t,e,i){return(e=dF(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function ww(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,s)}return i}function ne(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?ww(Object(i),!0).forEach(function(s){de(t,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ww(Object(i)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(i,s))})}return t}function xw(t){return t instanceof HTMLElement||t instanceof SVGElement}function OW(t){return t&&He(t)==="object"&&xw(t.nativeElement)?t.nativeElement:xw(t)?t:null}function HW(t){var e=OW(t);if(e)return e;if(t instanceof X.Component){var i;return(i=Vu.findDOMNode)===null||i===void 0?void 0:i.call(Vu,t)}return null}function gF(t,e,i){var s=F.useRef({});return(!("value"in s.current)||i(s.current.condition,e))&&(s.current.value=t(),s.current.condition=e),s.current.value}var pF=function(e,i){typeof e=="function"?e(i):He(e)==="object"&&e&&"current"in e&&(e.current=i)},fF=function(){for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];var r=i.filter(Boolean);return r.length<=1?r[0]:function(n){i.forEach(function(o){pF(o,n)})}},mF=function(e){var i,s,r=ru.isMemo(e)?e.type.type:e.type;return!(typeof r=="function"&&!((i=r.prototype)!==null&&i!==void 0&&i.render)&&r.$$typeof!==ru.ForwardRef||typeof e=="function"&&!((s=e.prototype)!==null&&s!==void 0&&s.render)&&e.$$typeof!==ru.ForwardRef)};function bw(t){return F.isValidElement(t)&&!ru.isFragment(t)}Number(F.version.split(".")[0])>=19;function Us(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sw(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,dF(s.key),s)}}function Xs(t,e,i){return e&&Sw(t.prototype,e),i&&Sw(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function lf(t,e){return lf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},lf(t,e)}function Zh(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lf(t,e)}function sh(t){return sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sh(t)}function vF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vF=function(){return!!t})()}function dn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NW(t,e){if(e&&(He(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dn(t)}function Jh(t){var e=vF();return function(){var i,s=sh(t);if(e){var r=sh(this).constructor;i=Reflect.construct(s,arguments,r)}else i=s.apply(this,arguments);return NW(this,i)}}function cf(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,s=Array(e);i<e;i++)s[i]=t[i];return s}function GW(t){if(Array.isArray(t))return cf(t)}function CF(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qv(t,e){if(t){if(typeof t=="string")return cf(t,e);var i={}.toString.call(t).slice(8,-1);return i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set"?Array.from(t):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?cf(t,e):void 0}}function BW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Or(t){return GW(t)||CF(t)||Qv(t)||BW()}var yF=function(e){return+setTimeout(e,16)},wF=function(e){return clearTimeout(e)};typeof window<"u"&&"requestAnimationFrame"in window&&(yF=function(e){return window.requestAnimationFrame(e)},wF=function(e){return window.cancelAnimationFrame(e)});var Rw=0,Zv=new Map;function xF(t){Zv.delete(t)}var An=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;Rw+=1;var s=Rw;function r(n){if(n===0)xF(s),e();else{var o=yF(function(){r(n-1)});Zv.set(s,o)}}return r(i),s};An.cancel=function(t){var e=Zv.get(t);return xF(t),wF(e)};function bF(t){if(Array.isArray(t))return t}function WW(t,e){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var s,r,n,o,a=[],l=!0,c=!1;try{if(n=(i=i.call(t)).next,e===0){if(Object(i)!==i)return;l=!1}else for(;!(l=(s=n.call(i)).done)&&(a.push(s.value),a.length!==e);l=!0);}catch(u){c=!0,r=u}finally{try{if(!l&&i.return!=null&&(o=i.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}function SF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ye(t,e){return bF(t)||WW(t,e)||Qv(t,e)||SF()}function Cl(t){for(var e=0,i,s=0,r=t.length;r>=4;++s,r-=4)i=t.charCodeAt(s)&255|(t.charCodeAt(++s)&255)<<8|(t.charCodeAt(++s)&255)<<16|(t.charCodeAt(++s)&255)<<24,i=(i&65535)*1540483477+((i>>>16)*59797<<16),i^=i>>>24,e=(i&65535)*1540483477+((i>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(t.charCodeAt(s+2)&255)<<16;case 2:e^=(t.charCodeAt(s+1)&255)<<8;case 1:e^=t.charCodeAt(s)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}function js(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function zW(t,e){if(!t)return!1;if(t.contains)return t.contains(e);for(var i=e;i;){if(i===t)return!0;i=i.parentNode}return!1}var Fw="data-rc-order",Aw="data-rc-priority",VW="rc-util-key",uf=new Map;function RF(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.mark;return e?e.startsWith("data-")?e:"data-".concat(e):VW}function ed(t){if(t.attachTo)return t.attachTo;var e=document.querySelector("head");return e||document.body}function _W(t){return t==="queue"?"prependQueue":t?"prepend":"append"}function Jv(t){return Array.from((uf.get(t)||t).children).filter(function(e){return e.tagName==="STYLE"})}function FF(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!js())return null;var i=e.csp,s=e.prepend,r=e.priority,n=r===void 0?0:r,o=_W(s),a=o==="prependQueue",l=document.createElement("style");l.setAttribute(Fw,o),a&&n&&l.setAttribute(Aw,"".concat(n)),i!=null&&i.nonce&&(l.nonce=i==null?void 0:i.nonce),l.innerHTML=t;var c=ed(e),u=c.firstChild;if(s){if(a){var h=(e.styles||Jv(c)).filter(function(d){if(!["prepend","prependQueue"].includes(d.getAttribute(Fw)))return!1;var g=Number(d.getAttribute(Aw)||0);return n>=g});if(h.length)return c.insertBefore(l,h[h.length-1].nextSibling),l}c.insertBefore(l,u)}else c.appendChild(l);return l}function AF(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=ed(e);return(e.styles||Jv(i)).find(function(s){return s.getAttribute(RF(e))===t})}function PF(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=AF(t,e);if(i){var s=ed(e);s.removeChild(i)}}function UW(t,e){var i=uf.get(t);if(!i||!zW(document,i)){var s=FF("",e),r=s.parentNode;uf.set(t,r),t.removeChild(s)}}function gn(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=ed(i),r=Jv(s),n=ne(ne({},i),{},{styles:r});UW(s,n);var o=AF(e,n);if(o){var a,l;if((a=n.csp)!==null&&a!==void 0&&a.nonce&&o.nonce!==((l=n.csp)===null||l===void 0?void 0:l.nonce)){var c;o.nonce=(c=n.csp)===null||c===void 0?void 0:c.nonce}return o.innerHTML!==t&&(o.innerHTML=t),o}var u=FF(t,n);return u.setAttribute(RF(n),e),u}function XW(t,e){if(t==null)return{};var i={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(e.includes(s))continue;i[s]=t[s]}return i}function Mo(t,e){if(t==null)return{};var i,s,r=XW(t,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(s=0;s<n.length;s++)i=n[s],e.includes(i)||{}.propertyIsEnumerable.call(t,i)&&(r[i]=t[i])}return r}function jW(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=new Set;function r(n,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,l=s.has(n);if(Ul(!l,"Warning: There may be circular references"),l)return!1;if(n===o)return!0;if(i&&a>1)return!1;s.add(n);var c=a+1;if(Array.isArray(n)){if(!Array.isArray(o)||n.length!==o.length)return!1;for(var u=0;u<n.length;u++)if(!r(n[u],o[u],c))return!1;return!0}if(n&&o&&He(n)==="object"&&He(o)==="object"){var h=Object.keys(n);return h.length!==Object.keys(o).length?!1:h.every(function(d){return r(n[d],o[d],c)})}return!1}return r(t,e)}var YW="%";function hf(t){return t.join(YW)}var $W=function(){function t(e){Us(this,t),de(this,"instanceId",void 0),de(this,"cache",new Map),this.instanceId=e}return Xs(t,[{key:"get",value:function(i){return this.opGet(hf(i))}},{key:"opGet",value:function(i){return this.cache.get(i)||null}},{key:"update",value:function(i,s){return this.opUpdate(hf(i),s)}},{key:"opUpdate",value:function(i,s){var r=this.cache.get(i),n=s(r);n===null?this.cache.delete(i):this.cache.set(i,n)}}]),t}(),To="data-token-hash",ts="data-css-hash",cr="__cssinjs_instance__";function KW(){var t=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(ts,"]"))||[],i=document.head.firstChild;Array.from(e).forEach(function(r){r[cr]=r[cr]||t,r[cr]===t&&document.head.insertBefore(r,i)});var s={};Array.from(document.querySelectorAll("style[".concat(ts,"]"))).forEach(function(r){var n=r.getAttribute(ts);if(s[n]){if(r[cr]===t){var o;(o=r.parentNode)===null||o===void 0||o.removeChild(r)}}else s[n]=!0})}return new $W(t)}var td=F.createContext({hashPriority:"low",cache:KW(),defaultCache:!0});function qW(t,e){if(t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}var eC=function(){function t(){Us(this,t),de(this,"cache",void 0),de(this,"keys",void 0),de(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return Xs(t,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(i){var s,r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o={map:this.cache};return i.forEach(function(a){if(!o)o=void 0;else{var l;o=(l=o)===null||l===void 0||(l=l.map)===null||l===void 0?void 0:l.get(a)}}),(s=o)!==null&&s!==void 0&&s.value&&n&&(o.value[1]=this.cacheCallTimes++),(r=o)===null||r===void 0?void 0:r.value}},{key:"get",value:function(i){var s;return(s=this.internalGet(i,!0))===null||s===void 0?void 0:s[0]}},{key:"has",value:function(i){return!!this.internalGet(i)}},{key:"set",value:function(i,s){var r=this;if(!this.has(i)){if(this.size()+1>t.MAX_CACHE_SIZE+t.MAX_CACHE_OFFSET){var n=this.keys.reduce(function(c,u){var h=ye(c,2),d=h[1];return r.internalGet(u)[1]<d?[u,r.internalGet(u)[1]]:c},[this.keys[0],this.cacheCallTimes]),o=ye(n,1),a=o[0];this.delete(a)}this.keys.push(i)}var l=this.cache;i.forEach(function(c,u){if(u===i.length-1)l.set(c,{value:[s,r.cacheCallTimes++]});else{var h=l.get(c);h?h.map||(h.map=new Map):l.set(c,{map:new Map}),l=l.get(c).map}})}},{key:"deleteByPath",value:function(i,s){var r=i.get(s[0]);if(s.length===1){var n;return r.map?i.set(s[0],{map:r.map}):i.delete(s[0]),(n=r.value)===null||n===void 0?void 0:n[0]}var o=this.deleteByPath(r.map,s.slice(1));return(!r.map||r.map.size===0)&&!r.value&&i.delete(s[0]),o}},{key:"delete",value:function(i){if(this.has(i))return this.keys=this.keys.filter(function(s){return!qW(s,i)}),this.deleteByPath(this.cache,i)}}]),t}();de(eC,"MAX_CACHE_SIZE",20);de(eC,"MAX_CACHE_OFFSET",5);var Pw=0,EF=function(){function t(e){Us(this,t),de(this,"derivatives",void 0),de(this,"id",void 0),this.derivatives=Array.isArray(e)?e:[e],this.id=Pw,e.length===0&&(e.length>0,void 0),Pw+=1}return Xs(t,[{key:"getDerivativeToken",value:function(i){return this.derivatives.reduce(function(s,r){return r(i,s)},void 0)}}]),t}(),lg=new eC;function df(t){var e=Array.isArray(t)?t:[t];return lg.has(e)||lg.set(e,new EF(e)),lg.get(e)}var QW=new WeakMap,cg={};function ZW(t,e){for(var i=QW,s=0;s<e.length;s+=1){var r=e[s];i.has(r)||i.set(r,new WeakMap),i=i.get(r)}return i.has(cg)||i.set(cg,t()),i.get(cg)}var Ew=new WeakMap;function Ua(t){var e=Ew.get(t)||"";return e||(Object.keys(t).forEach(function(i){var s=t[i];e+=i,s instanceof EF?e+=s.id:s&&He(s)==="object"?e+=Ua(s):e+=s}),e=Cl(e),Ew.set(t,e)),e}function kw(t,e){return Cl("".concat(e,"_").concat(Ua(t)))}var gf=js();function Ki(t){return typeof t=="number"?"".concat(t,"px"):t}function rh(t,e,i){var s,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(n)return t;var o=ne(ne({},r),{},(s={},de(s,To,e),de(s,ts,i),s)),a=Object.keys(o).map(function(l){var c=o[l];return c?"".concat(l,'="').concat(c,'"'):null}).filter(function(l){return l}).join(" ");return"<style ".concat(a,">").concat(t,"</style>")}var nu=function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(i?"".concat(i,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},JW=function(e,i,s){return Object.keys(e).length?".".concat(i).concat(s!=null&&s.scope?".".concat(s.scope):"","{").concat(Object.entries(e).map(function(r){var n=ye(r,2),o=n[0],a=n[1];return"".concat(o,":").concat(a,";")}).join(""),"}"):""},kF=function(e,i,s){var r={},n={};return Object.entries(e).forEach(function(o){var a,l,c=ye(o,2),u=c[0],h=c[1];if(s!=null&&(a=s.preserve)!==null&&a!==void 0&&a[u])n[u]=h;else if((typeof h=="string"||typeof h=="number")&&!(s!=null&&(l=s.ignore)!==null&&l!==void 0&&l[u])){var d,g=nu(u,s==null?void 0:s.prefix);r[g]=typeof h=="number"&&!(s!=null&&(d=s.unitless)!==null&&d!==void 0&&d[u])?"".concat(h,"px"):String(h),n[u]="var(".concat(g,")")}}),[n,JW(r,i,{scope:s==null?void 0:s.scope})]},Mw=js()?F.useLayoutEffect:F.useEffect,MF=function(e,i){var s=F.useRef(!0);Mw(function(){return e(s.current)},i),Mw(function(){return s.current=!1,function(){s.current=!0}},[])},Tw=function(e,i){MF(function(s){if(!s)return e()},i)},ez=ne({},Cm),Dw=ez.useInsertionEffect,tz=function(e,i,s){F.useMemo(e,s),MF(function(){return i(!0)},s)},iz=Dw?function(t,e,i){return Dw(function(){return t(),e()},i)}:tz,sz=ne({},Cm),rz=sz.useInsertionEffect,nz=function(e){var i=[],s=!1;function r(n){s||i.push(n)}return F.useEffect(function(){return s=!1,function(){s=!0,i.length&&i.forEach(function(n){return n()})}},e),r},oz=function(){return function(e){e()}},az=typeof rz<"u"?nz:oz;function tC(t,e,i,s,r){var n=F.useContext(td),o=n.cache,a=[t].concat(Or(e)),l=hf(a),c=az([l]),u=function(p){o.opUpdate(l,function(f){var C=f||[void 0,void 0],m=ye(C,2),v=m[0],y=v===void 0?0:v,w=m[1],x=w,S=x||i(),b=[y,S];return p?p(b):b})};F.useMemo(function(){u()},[l]);var h=o.opGet(l),d=h[1];return iz(function(){r==null||r(d)},function(g){return u(function(p){var f=ye(p,2),C=f[0],m=f[1];return g&&C===0&&(r==null||r(d)),[C+1,m]}),function(){o.opUpdate(l,function(p){var f=p||[],C=ye(f,2),m=C[0],v=m===void 0?0:m,y=C[1],w=v-1;return w===0?(c(function(){(g||!o.opGet(l))&&(s==null||s(y,!1))}),null):[v-1,y]})}},[l]),d}var lz={},cz="css",Yr=new Map;function uz(t){Yr.set(t,(Yr.get(t)||0)+1)}function hz(t,e){if(typeof document<"u"){var i=document.querySelectorAll("style[".concat(To,'="').concat(t,'"]'));i.forEach(function(s){if(s[cr]===e){var r;(r=s.parentNode)===null||r===void 0||r.removeChild(s)}})}}var dz=0;function gz(t,e){Yr.set(t,(Yr.get(t)||0)-1);var i=Array.from(Yr.keys()),s=i.filter(function(r){var n=Yr.get(r)||0;return n<=0});i.length-s.length>dz&&s.forEach(function(r){hz(r,e),Yr.delete(r)})}var pz=function(e,i,s,r){var n=s.getDerivativeToken(e),o=ne(ne({},n),i);return r&&(o=r(o)),o},TF="token";function fz(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=F.useContext(td),r=s.cache.instanceId,n=s.container,o=i.salt,a=o===void 0?"":o,l=i.override,c=l===void 0?lz:l,u=i.formatToken,h=i.getComputedToken,d=i.cssVar,g=ZW(function(){return Object.assign.apply(Object,[{}].concat(Or(e)))},e),p=Ua(g),f=Ua(c),C=d?Ua(d):"",m=tC(TF,[a,t.id,p,f,C],function(){var v,y=h?h(g,c,t):pz(g,c,t,u),w=ne({},y),x="";if(d){var S=kF(y,d.key,{prefix:d.prefix,ignore:d.ignore,unitless:d.unitless,preserve:d.preserve}),b=ye(S,2);y=b[0],x=b[1]}var R=kw(y,a);y._tokenKey=R,w._tokenKey=kw(w,a);var A=(v=d==null?void 0:d.key)!==null&&v!==void 0?v:R;y._themeKey=A,uz(A);var P="".concat(cz,"-").concat(Cl(R));return y._hashId=P,[y,P,w,x,(d==null?void 0:d.key)||""]},function(v){gz(v[0]._themeKey,r)},function(v){var y=ye(v,4),w=y[0],x=y[3];if(d&&x){var S=gn(x,Cl("css-variables-".concat(w._themeKey)),{mark:ts,prepend:"queue",attachTo:n,priority:-999});S[cr]=r,S.setAttribute(To,w._themeKey)}});return m}var mz=function(e,i,s){var r=ye(e,5),n=r[2],o=r[3],a=r[4],l=s||{},c=l.plain;if(!o)return null;var u=n._tokenKey,h=-999,d={"data-rc-order":"prependQueue","data-rc-priority":"".concat(h)},g=rh(o,a,u,d,c);return[h,u,g]},vz={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},DF="comm",LF="rule",IF="decl",Cz="@import",yz="@keyframes",wz="@layer",OF=Math.abs,iC=String.fromCharCode;function HF(t){return t.trim()}function ou(t,e,i){return t.replace(e,i)}function xz(t,e,i){return t.indexOf(e,i)}function yl(t,e){return t.charCodeAt(e)|0}function Do(t,e,i){return t.slice(e,i)}function ds(t){return t.length}function bz(t){return t.length}function Ec(t,e){return e.push(t),t}var id=1,Lo=1,NF=0,Ni=0,lt=0,qo="";function sC(t,e,i,s,r,n,o,a){return{value:t,root:e,parent:i,type:s,props:r,children:n,line:id,column:Lo,length:o,return:"",siblings:a}}function Sz(){return lt}function Rz(){return lt=Ni>0?yl(qo,--Ni):0,Lo--,lt===10&&(Lo=1,id--),lt}function is(){return lt=Ni<NF?yl(qo,Ni++):0,Lo++,lt===10&&(Lo=1,id++),lt}function ur(){return yl(qo,Ni)}function au(){return Ni}function sd(t,e){return Do(qo,t,e)}function wl(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Fz(t){return id=Lo=1,NF=ds(qo=t),Ni=0,[]}function Az(t){return qo="",t}function ug(t){return HF(sd(Ni-1,pf(t===91?t+2:t===40?t+1:t)))}function Pz(t){for(;(lt=ur())&&lt<33;)is();return wl(t)>2||wl(lt)>3?"":" "}function Ez(t,e){for(;--e&&is()&&!(lt<48||lt>102||lt>57&&lt<65||lt>70&&lt<97););return sd(t,au()+(e<6&&ur()==32&&is()==32))}function pf(t){for(;is();)switch(lt){case t:return Ni;case 34:case 39:t!==34&&t!==39&&pf(lt);break;case 40:t===41&&pf(t);break;case 92:is();break}return Ni}function kz(t,e){for(;is()&&t+lt!==57;)if(t+lt===84&&ur()===47)break;return"/*"+sd(e,Ni-1)+"*"+iC(t===47?t:is())}function Mz(t){for(;!wl(ur());)is();return sd(t,Ni)}function Tz(t){return Az(lu("",null,null,null,[""],t=Fz(t),0,[0],t))}function lu(t,e,i,s,r,n,o,a,l){for(var c=0,u=0,h=o,d=0,g=0,p=0,f=1,C=1,m=1,v=0,y="",w=r,x=n,S=s,b=y;C;)switch(p=v,v=is()){case 40:if(p!=108&&yl(b,h-1)==58){xz(b+=ou(ug(v),"&","&\f"),"&\f",OF(c?a[c-1]:0))!=-1&&(m=-1);break}case 34:case 39:case 91:b+=ug(v);break;case 9:case 10:case 13:case 32:b+=Pz(p);break;case 92:b+=Ez(au()-1,7);continue;case 47:switch(ur()){case 42:case 47:Ec(Dz(kz(is(),au()),e,i,l),l),(wl(p||1)==5||wl(ur()||1)==5)&&ds(b)&&Do(b,-1,void 0)!==" "&&(b+=" ");break;default:b+="/"}break;case 123*f:a[c++]=ds(b)*m;case 125*f:case 59:case 0:switch(v){case 0:case 125:C=0;case 59+u:m==-1&&(b=ou(b,/\f/g,"")),g>0&&(ds(b)-h||f===0&&p===47)&&Ec(g>32?Iw(b+";",s,i,h-1,l):Iw(ou(b," ","")+";",s,i,h-2,l),l);break;case 59:b+=";";default:if(Ec(S=Lw(b,e,i,c,u,r,a,y,w=[],x=[],h,n),n),v===123)if(u===0)lu(b,e,S,S,w,n,h,a,x);else switch(d===99&&yl(b,3)===110?100:d){case 100:case 108:case 109:case 115:lu(t,S,S,s&&Ec(Lw(t,S,S,0,0,r,a,y,r,w=[],h,x),x),r,x,h,a,s?w:x);break;default:lu(b,S,S,S,[""],x,0,a,x)}}c=u=g=0,f=m=1,y=b="",h=o;break;case 58:h=1+ds(b),g=p;default:if(f<1){if(v==123)--f;else if(v==125&&f++==0&&Rz()==125)continue}switch(b+=iC(v),v*f){case 38:m=u>0?1:(b+="\f",-1);break;case 44:a[c++]=(ds(b)-1)*m,m=1;break;case 64:ur()===45&&(b+=ug(is())),d=ur(),u=h=ds(y=b+=Mz(au())),v++;break;case 45:p===45&&ds(b)==2&&(f=0)}}return n}function Lw(t,e,i,s,r,n,o,a,l,c,u,h){for(var d=r-1,g=r===0?n:[""],p=bz(g),f=0,C=0,m=0;f<s;++f)for(var v=0,y=Do(t,d+1,d=OF(C=o[f])),w=t;v<p;++v)(w=HF(C>0?g[v]+" "+y:ou(y,/&\f/g,g[v])))&&(l[m++]=w);return sC(t,e,i,r===0?LF:a,l,c,u,h)}function Dz(t,e,i,s){return sC(t,e,i,DF,iC(Sz()),Do(t,2,-2),0,s)}function Iw(t,e,i,s,r){return sC(t,e,i,IF,Do(t,0,s),Do(t,s+1,-1),s,r)}function ff(t,e){for(var i="",s=0;s<t.length;s++)i+=e(t[s],s,t,e)||"";return i}function Lz(t,e,i,s){switch(t.type){case wz:if(t.children.length)break;case Cz:case IF:return t.return=t.return||t.value;case DF:return"";case yz:return t.return=t.value+"{"+ff(t.children,s)+"}";case LF:if(!ds(t.value=t.props.join(",")))return""}return ds(i=ff(t.children,s))?t.return=t.value+"{"+i+"}":""}var Ow="data-ant-cssinjs-cache-path",GF="_FILE_STYLE__",pn,BF=!0;function Iz(){if(!pn&&(pn={},js())){var t=document.createElement("div");t.className=Ow,t.style.position="fixed",t.style.visibility="hidden",t.style.top="-9999px",document.body.appendChild(t);var e=getComputedStyle(t).content||"";e=e.replace(/^"/,"").replace(/"$/,""),e.split(";").forEach(function(r){var n=r.split(":"),o=ye(n,2),a=o[0],l=o[1];pn[a]=l});var i=document.querySelector("style[".concat(Ow,"]"));if(i){var s;BF=!1,(s=i.parentNode)===null||s===void 0||s.removeChild(i)}document.body.removeChild(t)}}function Oz(t){return Iz(),!!pn[t]}function Hz(t){var e=pn[t],i=null;if(e&&js())if(BF)i=GF;else{var s=document.querySelector("style[".concat(ts,'="').concat(pn[t],'"]'));s?i=s.innerHTML:delete pn[t]}return[i,e]}var Nz="_skip_check_",WF="_multi_value_";function cu(t){var e=ff(Tz(t),Lz);return e.replace(/\{%%%\:[^;];}/g,";")}function Gz(t){return He(t)==="object"&&t&&(Nz in t||WF in t)}function Hw(t,e,i){if(!e)return t;var s=".".concat(e),r=i==="low"?":where(".concat(s,")"):s,n=t.split(",").map(function(o){var a,l=o.trim().split(/\s+/),c=l[0]||"",u=((a=c.match(/^\w+/))===null||a===void 0?void 0:a[0])||"";return c="".concat(u).concat(r).concat(c.slice(u.length)),[c].concat(Or(l.slice(1))).join(" ")});return n.join(",")}var Bz=function t(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},r=s.root,n=s.injectHash,o=s.parentSelectors,a=i.hashId,l=i.layer;i.path;var c=i.hashPriority,u=i.transformers,h=u===void 0?[]:u;i.linters;var d="",g={};function p(m){var v=m.getName(a);if(!g[v]){var y=t(m.style,i,{root:!1,parentSelectors:o}),w=ye(y,1),x=w[0];g[v]="@keyframes ".concat(m.getName(a)).concat(x)}}function f(m){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return m.forEach(function(y){Array.isArray(y)?f(y,v):y&&v.push(y)}),v}var C=f(Array.isArray(e)?e:[e]);return C.forEach(function(m){var v=typeof m=="string"&&!r?{}:m;if(typeof v=="string")d+="".concat(v,`
`);else if(v._keyframe)p(v);else{var y=h.reduce(function(w,x){var S;return(x==null||(S=x.visit)===null||S===void 0?void 0:S.call(x,w))||w},v);Object.keys(y).forEach(function(w){var x=y[w];if(He(x)==="object"&&x&&(w!=="animationName"||!x._keyframe)&&!Gz(x)){var S=!1,b=w.trim(),R=!1;(r||n)&&a?b.startsWith("@")?S=!0:b==="&"?b=Hw("",a,c):b=Hw(w,a,c):r&&!a&&(b==="&"||b==="")&&(b="",R=!0);var A=t(x,i,{root:R,injectHash:S,parentSelectors:[].concat(Or(o),[b])}),P=ye(A,2),E=P[0],L=P[1];g=ne(ne({},g),L),d+="".concat(b).concat(E)}else{let z=function(D,T){var k=D.replace(/[A-Z]/g,function(N){return"-".concat(N.toLowerCase())}),H=T;!vz[D]&&typeof H=="number"&&H!==0&&(H="".concat(H,"px")),D==="animationName"&&T!==null&&T!==void 0&&T._keyframe&&(p(T),H=T.getName(a)),d+="".concat(k,":").concat(H,";")};var M,I=(M=x==null?void 0:x.value)!==null&&M!==void 0?M:x;He(x)==="object"&&x!==null&&x!==void 0&&x[WF]&&Array.isArray(I)?I.forEach(function(D){z(w,D)}):z(w,I)}})}}),r?l&&(d="@layer ".concat(l.name," {").concat(d,"}"),l.dependencies&&(g["@layer ".concat(l.name)]=l.dependencies.map(function(m){return"@layer ".concat(m,", ").concat(l.name,";")}).join(`
`))):d="{".concat(d,"}"),[d,g]};function zF(t,e){return Cl("".concat(t.join("%")).concat(e))}function Wz(){return null}var VF="style";function mf(t,e){var i=t.token,s=t.path,r=t.hashId,n=t.layer,o=t.nonce,a=t.clientOnly,l=t.order,c=l===void 0?0:l,u=F.useContext(td),h=u.autoClear;u.mock;var d=u.defaultCache,g=u.hashPriority,p=u.container,f=u.ssrInline,C=u.transformers,m=u.linters,v=u.cache,y=u.layer,w=i._tokenKey,x=[w];y&&x.push("layer"),x.push.apply(x,Or(s));var S=gf,b=tC(VF,x,function(){var L=x.join("|");if(Oz(L)){var M=Hz(L),I=ye(M,2),z=I[0],D=I[1];if(z)return[z,w,D,{},a,c]}var T=e(),k=Bz(T,{hashId:r,hashPriority:g,layer:y?n:void 0,path:s.join("-"),transformers:C,linters:m}),H=ye(k,2),N=H[0],G=H[1],U=cu(N),te=zF(x,U);return[U,w,te,G,a,c]},function(L,M){var I=ye(L,3),z=I[2];(M||h)&&gf&&PF(z,{mark:ts})},function(L){var M=ye(L,4),I=M[0];M[1];var z=M[2],D=M[3];if(S&&I!==GF){var T={mark:ts,prepend:y?!1:"queue",attachTo:p,priority:c},k=typeof o=="function"?o():o;k&&(T.csp={nonce:k});var H=[],N=[];Object.keys(D).forEach(function(U){U.startsWith("@layer")?H.push(U):N.push(U)}),H.forEach(function(U){gn(cu(D[U]),"_layer-".concat(U),ne(ne({},T),{},{prepend:!0}))});var G=gn(I,z,T);G[cr]=v.instanceId,G.setAttribute(To,w),N.forEach(function(U){gn(cu(D[U]),"_effect-".concat(U),T)})}}),R=ye(b,3),A=R[0],P=R[1],E=R[2];return function(L){var M;if(!f||S||!d)M=F.createElement(Wz,null);else{var I;M=F.createElement("style",Fn({},(I={},de(I,To,P),de(I,ts,E),I),{dangerouslySetInnerHTML:{__html:A}}))}return F.createElement(F.Fragment,null,M,L)}}var zz=function(e,i,s){var r=ye(e,6),n=r[0],o=r[1],a=r[2],l=r[3],c=r[4],u=r[5],h=s||{},d=h.plain;if(c)return null;var g=n,p={"data-rc-order":"prependQueue","data-rc-priority":"".concat(u)};return g=rh(n,o,a,p,d),l&&Object.keys(l).forEach(function(f){if(!i[f]){i[f]=!0;var C=cu(l[f]),m=rh(C,o,"_effect-".concat(f),p,d);f.startsWith("@layer")?g=m+g:g+=m}}),[u,a,g]},_F="cssVar",Vz=function(e,i){var s=e.key,r=e.prefix,n=e.unitless,o=e.ignore,a=e.token,l=e.scope,c=l===void 0?"":l,u=F.useContext(td),h=u.cache.instanceId,d=u.container,g=a._tokenKey,p=[].concat(Or(e.path),[s,c,g]),f=tC(_F,p,function(){var C=i(),m=kF(C,s,{prefix:r,unitless:n,ignore:o,scope:c}),v=ye(m,2),y=v[0],w=v[1],x=zF(p,w);return[y,w,x,s]},function(C){var m=ye(C,3),v=m[2];gf&&PF(v,{mark:ts})},function(C){var m=ye(C,3),v=m[1],y=m[2];if(v){var w=gn(v,y,{mark:ts,prepend:"queue",attachTo:d,priority:-999});w[cr]=h,w.setAttribute(To,s)}});return f},_z=function(e,i,s){var r=ye(e,4),n=r[1],o=r[2],a=r[3],l=s||{},c=l.plain;if(!n)return null;var u=-999,h={"data-rc-order":"prependQueue","data-rc-priority":"".concat(u)},d=rh(n,a,o,h,c);return[u,o,d]},ya;ya={},de(ya,VF,zz),de(ya,TF,mz),de(ya,_F,_z);function zn(t){return t.notSplit=!0,t}zn(["borderTop","borderBottom"]),zn(["borderTop"]),zn(["borderBottom"]),zn(["borderLeft","borderRight"]),zn(["borderLeft"]),zn(["borderRight"]);var rC=F.createContext({});function Uz(t){return bF(t)||CF(t)||Qv(t)||SF()}function vf(t,e){for(var i=t,s=0;s<e.length;s+=1){if(i==null)return;i=i[e[s]]}return i}function UF(t,e,i,s){if(!e.length)return i;var r=Uz(e),n=r[0],o=r.slice(1),a;return!t&&typeof n=="number"?a=[]:Array.isArray(t)?a=Or(t):a=ne({},t),s&&i===void 0&&o.length===1?delete a[n][o[0]]:a[n]=UF(a[n],o,i,s),a}function hg(t,e,i){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.length&&s&&i===void 0&&!vf(t,e.slice(0,-1))?t:UF(t,e,i,s)}function Xz(t){return He(t)==="object"&&t!==null&&Object.getPrototypeOf(t)===Object.prototype}function Nw(t){return Array.isArray(t)?[]:{}}var jz=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function Yz(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var s=Nw(e[0]);return e.forEach(function(r){function n(o,a){var l=new Set(a),c=vf(r,o),u=Array.isArray(c);if(u||Xz(c)){if(!l.has(c)){l.add(c);var h=vf(s,o);u?s=hg(s,o,[]):(!h||He(h)!=="object")&&(s=hg(s,o,Nw(c))),jz(c).forEach(function(d){n([].concat(Or(o),[d]),l)})}}else s=hg(s,o,c)}n([])}),s}const $z=F.createContext({}),Kz=F.createContext(void 0);var qz={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},Qz={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0},Zz=ne(ne({},Qz),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"});const XF={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Gw={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},Zz),timePickerLocale:Object.assign({},XF)},oi="${label} is not a valid ${type}",rd={locale:"en",Pagination:qz,DatePicker:Gw,TimePicker:XF,Calendar:Gw,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:oi,method:oi,array:oi,object:oi,number:oi,date:oi,boolean:oi,integer:oi,float:oi,regexp:oi,email:oi,url:oi,hex:oi},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}};Object.assign({},rd.Modal);let uu=[];const Bw=()=>uu.reduce((t,e)=>Object.assign(Object.assign({},t),e),rd.Modal);function Jz(t){if(t){const e=Object.assign({},t);return uu.push(e),Bw(),()=>{uu=uu.filter(i=>i!==e),Bw()}}Object.assign({},rd.Modal)}const jF=F.createContext(void 0),eV="internalMark",tV=t=>{const{locale:e={},children:i,_ANT_MARK__:s}=t;F.useEffect(()=>Jz(e==null?void 0:e.Modal),[e]);const r=F.useMemo(()=>Object.assign(Object.assign({},e),{exist:!0}),[e]);return F.createElement(jF.Provider,{value:r},i)};function At(t,e){iV(t)&&(t="100%");var i=sV(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),i&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function kc(t){return Math.min(1,Math.max(0,t))}function iV(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function sV(t){return typeof t=="string"&&t.indexOf("%")!==-1}function YF(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Mc(t){return t<=1?"".concat(Number(t)*100,"%"):t}function Jr(t){return t.length===1?"0"+t:String(t)}function rV(t,e,i){return{r:At(t,255)*255,g:At(e,255)*255,b:At(i,255)*255}}function Ww(t,e,i){t=At(t,255),e=At(e,255),i=At(i,255);var s=Math.max(t,e,i),r=Math.min(t,e,i),n=0,o=0,a=(s+r)/2;if(s===r)o=0,n=0;else{var l=s-r;switch(o=a>.5?l/(2-s-r):l/(s+r),s){case t:n=(e-i)/l+(e<i?6:0);break;case e:n=(i-t)/l+2;break;case i:n=(t-e)/l+4;break}n/=6}return{h:n,s:o,l:a}}function dg(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+(e-t)*(6*i):i<1/2?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function nV(t,e,i){var s,r,n;if(t=At(t,360),e=At(e,100),i=At(i,100),e===0)r=i,n=i,s=i;else{var o=i<.5?i*(1+e):i+e-i*e,a=2*i-o;s=dg(a,o,t+1/3),r=dg(a,o,t),n=dg(a,o,t-1/3)}return{r:s*255,g:r*255,b:n*255}}function Cf(t,e,i){t=At(t,255),e=At(e,255),i=At(i,255);var s=Math.max(t,e,i),r=Math.min(t,e,i),n=0,o=s,a=s-r,l=s===0?0:a/s;if(s===r)n=0;else{switch(s){case t:n=(e-i)/a+(e<i?6:0);break;case e:n=(i-t)/a+2;break;case i:n=(t-e)/a+4;break}n/=6}return{h:n,s:l,v:o}}function oV(t,e,i){t=At(t,360)*6,e=At(e,100),i=At(i,100);var s=Math.floor(t),r=t-s,n=i*(1-e),o=i*(1-r*e),a=i*(1-(1-r)*e),l=s%6,c=[i,o,n,n,a,i][l],u=[a,i,i,o,n,n][l],h=[n,n,a,i,i,o][l];return{r:c*255,g:u*255,b:h*255}}function yf(t,e,i,s){var r=[Jr(Math.round(t).toString(16)),Jr(Math.round(e).toString(16)),Jr(Math.round(i).toString(16))];return s&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function aV(t,e,i,s,r){var n=[Jr(Math.round(t).toString(16)),Jr(Math.round(e).toString(16)),Jr(Math.round(i).toString(16)),Jr(lV(s))];return r&&n[0].startsWith(n[0].charAt(1))&&n[1].startsWith(n[1].charAt(1))&&n[2].startsWith(n[2].charAt(1))&&n[3].startsWith(n[3].charAt(1))?n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0)+n[3].charAt(0):n.join("")}function lV(t){return Math.round(parseFloat(t)*255).toString(16)}function zw(t){return ai(t)/255}function ai(t){return parseInt(t,16)}function cV(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var wf={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Xn(t){var e={r:0,g:0,b:0},i=1,s=null,r=null,n=null,o=!1,a=!1;return typeof t=="string"&&(t=dV(t)),typeof t=="object"&&(Fs(t.r)&&Fs(t.g)&&Fs(t.b)?(e=rV(t.r,t.g,t.b),o=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Fs(t.h)&&Fs(t.s)&&Fs(t.v)?(s=Mc(t.s),r=Mc(t.v),e=oV(t.h,s,r),o=!0,a="hsv"):Fs(t.h)&&Fs(t.s)&&Fs(t.l)&&(s=Mc(t.s),n=Mc(t.l),e=nV(t.h,s,n),o=!0,a="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(i=t.a)),i=YF(i),{ok:o,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:i}}var uV="[-\\+]?\\d+%?",hV="[-\\+]?\\d*\\.\\d+%?",hr="(?:".concat(hV,")|(?:").concat(uV,")"),gg="[\\s|\\(]+(".concat(hr,")[,|\\s]+(").concat(hr,")[,|\\s]+(").concat(hr,")\\s*\\)?"),pg="[\\s|\\(]+(".concat(hr,")[,|\\s]+(").concat(hr,")[,|\\s]+(").concat(hr,")[,|\\s]+(").concat(hr,")\\s*\\)?"),zi={CSS_UNIT:new RegExp(hr),rgb:new RegExp("rgb"+gg),rgba:new RegExp("rgba"+pg),hsl:new RegExp("hsl"+gg),hsla:new RegExp("hsla"+pg),hsv:new RegExp("hsv"+gg),hsva:new RegExp("hsva"+pg),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function dV(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(wf[t])t=wf[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var i=zi.rgb.exec(t);return i?{r:i[1],g:i[2],b:i[3]}:(i=zi.rgba.exec(t),i?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=zi.hsl.exec(t),i?{h:i[1],s:i[2],l:i[3]}:(i=zi.hsla.exec(t),i?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=zi.hsv.exec(t),i?{h:i[1],s:i[2],v:i[3]}:(i=zi.hsva.exec(t),i?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=zi.hex8.exec(t),i?{r:ai(i[1]),g:ai(i[2]),b:ai(i[3]),a:zw(i[4]),format:e?"name":"hex8"}:(i=zi.hex6.exec(t),i?{r:ai(i[1]),g:ai(i[2]),b:ai(i[3]),format:e?"name":"hex"}:(i=zi.hex4.exec(t),i?{r:ai(i[1]+i[1]),g:ai(i[2]+i[2]),b:ai(i[3]+i[3]),a:zw(i[4]+i[4]),format:e?"name":"hex8"}:(i=zi.hex3.exec(t),i?{r:ai(i[1]+i[1]),g:ai(i[2]+i[2]),b:ai(i[3]+i[3]),format:e?"name":"hex"}:!1)))))))))}function Fs(t){return!!zi.CSS_UNIT.exec(String(t))}var It=function(){function t(e,i){e===void 0&&(e=""),i===void 0&&(i={});var s;if(e instanceof t)return e;typeof e=="number"&&(e=cV(e)),this.originalInput=e;var r=Xn(e);this.originalInput=e,this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a,this.roundA=Math.round(100*this.a)/100,this.format=(s=i.format)!==null&&s!==void 0?s:r.format,this.gradientType=i.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=r.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},t.prototype.getLuminance=function(){var e=this.toRgb(),i,s,r,n=e.r/255,o=e.g/255,a=e.b/255;return n<=.03928?i=n/12.92:i=Math.pow((n+.055)/1.055,2.4),o<=.03928?s=o/12.92:s=Math.pow((o+.055)/1.055,2.4),a<=.03928?r=a/12.92:r=Math.pow((a+.055)/1.055,2.4),.2126*i+.7152*s+.0722*r},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(e){return this.a=YF(e),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},t.prototype.toHsv=function(){var e=Cf(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},t.prototype.toHsvString=function(){var e=Cf(this.r,this.g,this.b),i=Math.round(e.h*360),s=Math.round(e.s*100),r=Math.round(e.v*100);return this.a===1?"hsv(".concat(i,", ").concat(s,"%, ").concat(r,"%)"):"hsva(".concat(i,", ").concat(s,"%, ").concat(r,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var e=Ww(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},t.prototype.toHslString=function(){var e=Ww(this.r,this.g,this.b),i=Math.round(e.h*360),s=Math.round(e.s*100),r=Math.round(e.l*100);return this.a===1?"hsl(".concat(i,", ").concat(s,"%, ").concat(r,"%)"):"hsla(".concat(i,", ").concat(s,"%, ").concat(r,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(e){return e===void 0&&(e=!1),yf(this.r,this.g,this.b,e)},t.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},t.prototype.toHex8=function(e){return e===void 0&&(e=!1),aV(this.r,this.g,this.b,this.a,e)},t.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},t.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var e=Math.round(this.r),i=Math.round(this.g),s=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(i,", ").concat(s,")"):"rgba(".concat(e,", ").concat(i,", ").concat(s,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var e=function(i){return"".concat(Math.round(At(i,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var e=function(i){return Math.round(At(i,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+yf(this.r,this.g,this.b,!1),i=0,s=Object.entries(wf);i<s.length;i++){var r=s[i],n=r[0],o=r[1];if(e===o)return n}return!1},t.prototype.toString=function(e){var i=!!e;e=e??this.format;var s=!1,r=this.a<1&&this.a>=0,n=!i&&r&&(e.startsWith("hex")||e==="name");return n?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(s=this.toRgbString()),e==="prgb"&&(s=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(s=this.toHexString()),e==="hex3"&&(s=this.toHexString(!0)),e==="hex4"&&(s=this.toHex8String(!0)),e==="hex8"&&(s=this.toHex8String()),e==="name"&&(s=this.toName()),e==="hsl"&&(s=this.toHslString()),e==="hsv"&&(s=this.toHsvString()),s||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){e===void 0&&(e=10);var i=this.toHsl();return i.l+=e/100,i.l=kc(i.l),new t(i)},t.prototype.brighten=function(e){e===void 0&&(e=10);var i=this.toRgb();return i.r=Math.max(0,Math.min(255,i.r-Math.round(255*-(e/100)))),i.g=Math.max(0,Math.min(255,i.g-Math.round(255*-(e/100)))),i.b=Math.max(0,Math.min(255,i.b-Math.round(255*-(e/100)))),new t(i)},t.prototype.darken=function(e){e===void 0&&(e=10);var i=this.toHsl();return i.l-=e/100,i.l=kc(i.l),new t(i)},t.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},t.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},t.prototype.desaturate=function(e){e===void 0&&(e=10);var i=this.toHsl();return i.s-=e/100,i.s=kc(i.s),new t(i)},t.prototype.saturate=function(e){e===void 0&&(e=10);var i=this.toHsl();return i.s+=e/100,i.s=kc(i.s),new t(i)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var i=this.toHsl(),s=(i.h+e)%360;return i.h=s<0?360+s:s,new t(i)},t.prototype.mix=function(e,i){i===void 0&&(i=50);var s=this.toRgb(),r=new t(e).toRgb(),n=i/100,o={r:(r.r-s.r)*n+s.r,g:(r.g-s.g)*n+s.g,b:(r.b-s.b)*n+s.b,a:(r.a-s.a)*n+s.a};return new t(o)},t.prototype.analogous=function(e,i){e===void 0&&(e=6),i===void 0&&(i=30);var s=this.toHsl(),r=360/i,n=[this];for(s.h=(s.h-(r*e>>1)+720)%360;--e;)s.h=(s.h+r)%360,n.push(new t(s));return n},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var i=this.toHsv(),s=i.h,r=i.s,n=i.v,o=[],a=1/e;e--;)o.push(new t({h:s,s:r,v:n})),n=(n+a)%1;return o},t.prototype.splitcomplement=function(){var e=this.toHsl(),i=e.h;return[this,new t({h:(i+72)%360,s:e.s,l:e.l}),new t({h:(i+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var i=this.toRgb(),s=new t(e).toRgb(),r=i.a+s.a*(1-i.a);return new t({r:(i.r*i.a+s.r*s.a*(1-i.a))/r,g:(i.g*i.a+s.g*s.a*(1-i.a))/r,b:(i.b*i.a+s.b*s.a*(1-i.a))/r,a:r})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var i=this.toHsl(),s=i.h,r=[this],n=360/e,o=1;o<e;o++)r.push(new t({h:(s+o*n)%360,s:i.s,l:i.l}));return r},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}(),Tc=2,Vw=.16,gV=.05,pV=.05,fV=.15,$F=5,KF=4,mV=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function _w(t){var e=t.r,i=t.g,s=t.b,r=Cf(e,i,s);return{h:r.h*360,s:r.s,v:r.v}}function Dc(t){var e=t.r,i=t.g,s=t.b;return"#".concat(yf(e,i,s,!1))}function vV(t,e,i){var s=i/100,r={r:(e.r-t.r)*s+t.r,g:(e.g-t.g)*s+t.g,b:(e.b-t.b)*s+t.b};return r}function Uw(t,e,i){var s;return Math.round(t.h)>=60&&Math.round(t.h)<=240?s=i?Math.round(t.h)-Tc*e:Math.round(t.h)+Tc*e:s=i?Math.round(t.h)+Tc*e:Math.round(t.h)-Tc*e,s<0?s+=360:s>=360&&(s-=360),s}function Xw(t,e,i){if(t.h===0&&t.s===0)return t.s;var s;return i?s=t.s-Vw*e:e===KF?s=t.s+Vw:s=t.s+gV*e,s>1&&(s=1),i&&e===$F&&s>.1&&(s=.1),s<.06&&(s=.06),Number(s.toFixed(2))}function jw(t,e,i){var s;return i?s=t.v+pV*e:s=t.v-fV*e,s>1&&(s=1),Number(s.toFixed(2))}function xl(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=[],s=Xn(t),r=$F;r>0;r-=1){var n=_w(s),o=Dc(Xn({h:Uw(n,r,!0),s:Xw(n,r,!0),v:jw(n,r,!0)}));i.push(o)}i.push(Dc(s));for(var a=1;a<=KF;a+=1){var l=_w(s),c=Dc(Xn({h:Uw(l,a),s:Xw(l,a),v:jw(l,a)}));i.push(c)}return e.theme==="dark"?mV.map(function(u){var h=u.index,d=u.opacity,g=Dc(vV(Xn(e.backgroundColor||"#141414"),Xn(i[h]),d*100));return g}):i}var fg={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},xf=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];xf.primary=xf[5];var bf=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];bf.primary=bf[5];var Sf=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];Sf.primary=Sf[5];var Rf=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];Rf.primary=Rf[5];var Ff=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];Ff.primary=Ff[5];var Af=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];Af.primary=Af[5];var Pf=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];Pf.primary=Pf[5];var Ef=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];Ef.primary=Ef[5];var nh=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];nh.primary=nh[5];var kf=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];kf.primary=kf[5];var Mf=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];Mf.primary=Mf[5];var Tf=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];Tf.primary=Tf[5];var Df=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];Df.primary=Df[5];var mg={red:xf,volcano:bf,orange:Sf,gold:Rf,yellow:Ff,lime:Af,green:Pf,cyan:Ef,blue:nh,geekblue:kf,purple:Mf,magenta:Tf,grey:Df};const qF={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},bl=Object.assign(Object.assign({},qF),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0});function CV(t,e){let{generateColorPalettes:i,generateNeutralColorPalettes:s}=e;const{colorSuccess:r,colorWarning:n,colorError:o,colorInfo:a,colorPrimary:l,colorBgBase:c,colorTextBase:u}=t,h=i(l),d=i(r),g=i(n),p=i(o),f=i(a),C=s(c,u),m=t.colorLink||t.colorInfo,v=i(m),y=new It(p[1]).mix(new It(p[3]),50).toHexString();return Object.assign(Object.assign({},C),{colorPrimaryBg:h[1],colorPrimaryBgHover:h[2],colorPrimaryBorder:h[3],colorPrimaryBorderHover:h[4],colorPrimaryHover:h[5],colorPrimary:h[6],colorPrimaryActive:h[7],colorPrimaryTextHover:h[8],colorPrimaryText:h[9],colorPrimaryTextActive:h[10],colorSuccessBg:d[1],colorSuccessBgHover:d[2],colorSuccessBorder:d[3],colorSuccessBorderHover:d[4],colorSuccessHover:d[4],colorSuccess:d[6],colorSuccessActive:d[7],colorSuccessTextHover:d[8],colorSuccessText:d[9],colorSuccessTextActive:d[10],colorErrorBg:p[1],colorErrorBgHover:p[2],colorErrorBgFilledHover:y,colorErrorBgActive:p[3],colorErrorBorder:p[3],colorErrorBorderHover:p[4],colorErrorHover:p[5],colorError:p[6],colorErrorActive:p[7],colorErrorTextHover:p[8],colorErrorText:p[9],colorErrorTextActive:p[10],colorWarningBg:g[1],colorWarningBgHover:g[2],colorWarningBorder:g[3],colorWarningBorderHover:g[4],colorWarningHover:g[4],colorWarning:g[6],colorWarningActive:g[7],colorWarningTextHover:g[8],colorWarningText:g[9],colorWarningTextActive:g[10],colorInfoBg:f[1],colorInfoBgHover:f[2],colorInfoBorder:f[3],colorInfoBorderHover:f[4],colorInfoHover:f[4],colorInfo:f[6],colorInfoActive:f[7],colorInfoTextHover:f[8],colorInfoText:f[9],colorInfoTextActive:f[10],colorLinkHover:v[4],colorLink:v[6],colorLinkActive:v[7],colorBgMask:new It("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}const yV=t=>{let e=t,i=t,s=t,r=t;return t<6&&t>=5?e=t+1:t<16&&t>=6?e=t+2:t>=16&&(e=16),t<7&&t>=5?i=4:t<8&&t>=7?i=5:t<14&&t>=8?i=6:t<16&&t>=14?i=7:t>=16&&(i=8),t<6&&t>=2?s=1:t>=6&&(s=2),t>4&&t<8?r=4:t>=8&&(r=6),{borderRadius:t,borderRadiusXS:s,borderRadiusSM:i,borderRadiusLG:e,borderRadiusOuter:r}};function wV(t){const{motionUnit:e,motionBase:i,borderRadius:s,lineWidth:r}=t;return Object.assign({motionDurationFast:`${(i+e).toFixed(1)}s`,motionDurationMid:`${(i+e*2).toFixed(1)}s`,motionDurationSlow:`${(i+e*3).toFixed(1)}s`,lineWidthBold:r+1},yV(s))}const xV=t=>{const{controlHeight:e}=t;return{controlHeightSM:e*.75,controlHeightXS:e*.5,controlHeightLG:e*1.25}};function bV(t){return(t+8)/t}function SV(t){const e=new Array(10).fill(null).map((i,s)=>{const r=s-1,n=t*Math.pow(Math.E,r/5),o=s>1?Math.floor(n):Math.ceil(n);return Math.floor(o/2)*2});return e[1]=t,e.map(i=>({size:i,lineHeight:bV(i)}))}const RV=t=>{const e=SV(t),i=e.map(u=>u.size),s=e.map(u=>u.lineHeight),r=i[1],n=i[0],o=i[2],a=s[1],l=s[0],c=s[2];return{fontSizeSM:n,fontSize:r,fontSizeLG:o,fontSizeXL:i[3],fontSizeHeading1:i[6],fontSizeHeading2:i[5],fontSizeHeading3:i[4],fontSizeHeading4:i[3],fontSizeHeading5:i[2],lineHeight:a,lineHeightLG:c,lineHeightSM:l,fontHeight:Math.round(a*r),fontHeightLG:Math.round(c*o),fontHeightSM:Math.round(l*n),lineHeightHeading1:s[6],lineHeightHeading2:s[5],lineHeightHeading3:s[4],lineHeightHeading4:s[3],lineHeightHeading5:s[2]}};function FV(t){const{sizeUnit:e,sizeStep:i}=t;return{sizeXXL:e*(i+8),sizeXL:e*(i+4),sizeLG:e*(i+2),sizeMD:e*(i+1),sizeMS:e*i,size:e*i,sizeSM:e*(i-1),sizeXS:e*(i-2),sizeXXS:e*(i-3)}}const xi=(t,e)=>new It(t).setAlpha(e).toRgbString(),wa=(t,e)=>new It(t).darken(e).toHexString(),AV=t=>{const e=xl(t);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},PV=(t,e)=>{const i=t||"#fff",s=e||"#000";return{colorBgBase:i,colorTextBase:s,colorText:xi(s,.88),colorTextSecondary:xi(s,.65),colorTextTertiary:xi(s,.45),colorTextQuaternary:xi(s,.25),colorFill:xi(s,.15),colorFillSecondary:xi(s,.06),colorFillTertiary:xi(s,.04),colorFillQuaternary:xi(s,.02),colorBgSolid:xi(s,1),colorBgSolidHover:xi(s,.75),colorBgSolidActive:xi(s,.95),colorBgLayout:wa(i,4),colorBgContainer:wa(i,0),colorBgElevated:wa(i,0),colorBgSpotlight:xi(s,.85),colorBgBlur:"transparent",colorBorder:wa(i,15),colorBorderSecondary:wa(i,6)}};function EV(t){fg.pink=fg.magenta,mg.pink=mg.magenta;const e=Object.keys(qF).map(i=>{const s=t[i]===fg[i]?mg[i]:xl(t[i]);return new Array(10).fill(1).reduce((r,n,o)=>(r[`${i}-${o+1}`]=s[o],r[`${i}${o+1}`]=s[o],r),{})}).reduce((i,s)=>(i=Object.assign(Object.assign({},i),s),i),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t),e),CV(t,{generateColorPalettes:AV,generateNeutralColorPalettes:PV})),RV(t.fontSize)),FV(t)),xV(t)),wV(t))}const QF=df(EV),Lf={token:bl,override:{override:bl},hashed:!0},ZF=X.createContext(Lf),oh="ant",JF="anticon",kV=(t,e)=>e||(t?`${oh}-${t}`:oh),Ar=F.createContext({getPrefixCls:kV,iconPrefixCls:JF}),MV=`-ant-${Date.now()}-${Math.random()}`;function TV(t,e){const i={},s=(o,a)=>{let l=o.clone();return l=(a==null?void 0:a(l))||l,l.toRgbString()},r=(o,a)=>{const l=new It(o),c=xl(l.toRgbString());i[`${a}-color`]=s(l),i[`${a}-color-disabled`]=c[1],i[`${a}-color-hover`]=c[4],i[`${a}-color-active`]=c[6],i[`${a}-color-outline`]=l.clone().setAlpha(.2).toRgbString(),i[`${a}-color-deprecated-bg`]=c[0],i[`${a}-color-deprecated-border`]=c[2]};if(e.primaryColor){r(e.primaryColor,"primary");const o=new It(e.primaryColor),a=xl(o.toRgbString());a.forEach((c,u)=>{i[`primary-${u+1}`]=c}),i["primary-color-deprecated-l-35"]=s(o,c=>c.lighten(35)),i["primary-color-deprecated-l-20"]=s(o,c=>c.lighten(20)),i["primary-color-deprecated-t-20"]=s(o,c=>c.tint(20)),i["primary-color-deprecated-t-50"]=s(o,c=>c.tint(50)),i["primary-color-deprecated-f-12"]=s(o,c=>c.setAlpha(c.getAlpha()*.12));const l=new It(a[0]);i["primary-color-active-deprecated-f-30"]=s(l,c=>c.setAlpha(c.getAlpha()*.3)),i["primary-color-active-deprecated-d-02"]=s(l,c=>c.darken(2))}return e.successColor&&r(e.successColor,"success"),e.warningColor&&r(e.warningColor,"warning"),e.errorColor&&r(e.errorColor,"error"),e.infoColor&&r(e.infoColor,"info"),`
  :root {
    ${Object.keys(i).map(o=>`--${t}-${o}: ${i[o]};`).join(`
`)}
  }
  `.trim()}function DV(t,e){const i=TV(t,e);js()&&gn(i,`${MV}-dynamic-theme`)}const ah=F.createContext(!1),LV=t=>{let{children:e,disabled:i}=t;const s=F.useContext(ah);return F.createElement(ah.Provider,{value:i??s},e)},Io=F.createContext(void 0),IV=t=>{let{children:e,size:i}=t;const s=F.useContext(Io);return F.createElement(Io.Provider,{value:i||s},e)};function OV(){const t=F.useContext(ah),e=F.useContext(Io);return{componentDisabled:t,componentSize:e}}var eA=Xs(function t(){Us(this,t)}),tA="CALC_UNIT",HV=new RegExp(tA,"g");function vg(t){return typeof t=="number"?"".concat(t).concat(tA):t}var NV=function(t){Zh(i,t);var e=Jh(i);function i(s,r){var n;Us(this,i),n=e.call(this),de(dn(n),"result",""),de(dn(n),"unitlessCssVar",void 0),de(dn(n),"lowPriority",void 0);var o=He(s);return n.unitlessCssVar=r,s instanceof i?n.result="(".concat(s.result,")"):o==="number"?n.result=vg(s):o==="string"&&(n.result=s),n}return Xs(i,[{key:"add",value:function(r){return r instanceof i?this.result="".concat(this.result," + ").concat(r.getResult()):(typeof r=="number"||typeof r=="string")&&(this.result="".concat(this.result," + ").concat(vg(r))),this.lowPriority=!0,this}},{key:"sub",value:function(r){return r instanceof i?this.result="".concat(this.result," - ").concat(r.getResult()):(typeof r=="number"||typeof r=="string")&&(this.result="".concat(this.result," - ").concat(vg(r))),this.lowPriority=!0,this}},{key:"mul",value:function(r){return this.lowPriority&&(this.result="(".concat(this.result,")")),r instanceof i?this.result="".concat(this.result," * ").concat(r.getResult(!0)):(typeof r=="number"||typeof r=="string")&&(this.result="".concat(this.result," * ").concat(r)),this.lowPriority=!1,this}},{key:"div",value:function(r){return this.lowPriority&&(this.result="(".concat(this.result,")")),r instanceof i?this.result="".concat(this.result," / ").concat(r.getResult(!0)):(typeof r=="number"||typeof r=="string")&&(this.result="".concat(this.result," / ").concat(r)),this.lowPriority=!1,this}},{key:"getResult",value:function(r){return this.lowPriority||r?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(r){var n=this,o=r||{},a=o.unit,l=!0;return typeof a=="boolean"?l=a:Array.from(this.unitlessCssVar).some(function(c){return n.result.includes(c)})&&(l=!1),this.result=this.result.replace(HV,l?"px":""),typeof this.lowPriority<"u"?"calc(".concat(this.result,")"):this.result}}]),i}(eA),GV=function(t){Zh(i,t);var e=Jh(i);function i(s){var r;return Us(this,i),r=e.call(this),de(dn(r),"result",0),s instanceof i?r.result=s.result:typeof s=="number"&&(r.result=s),r}return Xs(i,[{key:"add",value:function(r){return r instanceof i?this.result+=r.result:typeof r=="number"&&(this.result+=r),this}},{key:"sub",value:function(r){return r instanceof i?this.result-=r.result:typeof r=="number"&&(this.result-=r),this}},{key:"mul",value:function(r){return r instanceof i?this.result*=r.result:typeof r=="number"&&(this.result*=r),this}},{key:"div",value:function(r){return r instanceof i?this.result/=r.result:typeof r=="number"&&(this.result/=r),this}},{key:"equal",value:function(){return this.result}}]),i}(eA),BV=function(e,i){var s=e==="css"?NV:GV;return function(r){return new s(r,i)}},Yw=function(e,i){return"".concat([i,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};function Oo(t){var e=F.useRef();e.current=t;var i=F.useCallback(function(){for(var s,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(s=e.current)===null||s===void 0?void 0:s.call.apply(s,[e].concat(n))},[]);return i}function Sl(t){var e=F.useRef(!1),i=F.useState(t),s=ye(i,2),r=s[0],n=s[1];F.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function o(a,l){l&&e.current||n(a)}return[r,o]}function Cg(t){return t!==void 0}function iA(t,e){var i=e||{},s=i.defaultValue,r=i.value,n=i.onChange,o=i.postState,a=Sl(function(){return Cg(r)?r:Cg(s)?typeof s=="function"?s():s:t}),l=ye(a,2),c=l[0],u=l[1],h=r!==void 0?r:c,d=o?o(h):h,g=Oo(n),p=Sl([h]),f=ye(p,2),C=f[0],m=f[1];Tw(function(){var y=C[0];c!==y&&g(c,y)},[C]),Tw(function(){Cg(r)||u(r)},[r]);var v=Oo(function(y,w){u(y,w),m([h],w)});return[d,v]}function $w(t,e,i,s){var r=ne({},e[t]);if(s!=null&&s.deprecatedTokens){var n=s.deprecatedTokens;n.forEach(function(a){var l=ye(a,2),c=l[0],u=l[1];if(r!=null&&r[c]||r!=null&&r[u]){var h;(h=r[u])!==null&&h!==void 0||(r[u]=r==null?void 0:r[c])}})}var o=ne(ne({},i),r);return Object.keys(o).forEach(function(a){o[a]===e[a]&&delete o[a]}),o}var sA=typeof CSSINJS_STATISTIC<"u",If=!0;function nC(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];if(!sA)return Object.assign.apply(Object,[{}].concat(e));If=!1;var s={};return e.forEach(function(r){if(He(r)==="object"){var n=Object.keys(r);n.forEach(function(o){Object.defineProperty(s,o,{configurable:!0,enumerable:!0,get:function(){return r[o]}})})}}),If=!0,s}var Kw={};function WV(){}var zV=function(e){var i,s=e,r=WV;return sA&&typeof Proxy<"u"&&(i=new Set,s=new Proxy(e,{get:function(o,a){if(If){var l;(l=i)===null||l===void 0||l.add(a)}return o[a]}}),r=function(o,a){var l;Kw[o]={global:Array.from(i),component:ne(ne({},(l=Kw[o])===null||l===void 0?void 0:l.component),a)}}),{token:s,keys:i,flush:r}};function qw(t,e,i){if(typeof i=="function"){var s;return i(nC(e,(s=e[t])!==null&&s!==void 0?s:{}))}return i??{}}function VV(t){return t==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return"max(".concat(s.map(function(n){return Ki(n)}).join(","),")")},min:function(){for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return"min(".concat(s.map(function(n){return Ki(n)}).join(","),")")}}}var _V=1e3*60*10,UV=function(){function t(){Us(this,t),de(this,"map",new Map),de(this,"objectIDMap",new WeakMap),de(this,"nextID",0),de(this,"lastAccessBeat",new Map),de(this,"accessBeat",0)}return Xs(t,[{key:"set",value:function(i,s){this.clear();var r=this.getCompositeKey(i);this.map.set(r,s),this.lastAccessBeat.set(r,Date.now())}},{key:"get",value:function(i){var s=this.getCompositeKey(i),r=this.map.get(s);return this.lastAccessBeat.set(s,Date.now()),this.accessBeat+=1,r}},{key:"getCompositeKey",value:function(i){var s=this,r=i.map(function(n){return n&&He(n)==="object"?"obj_".concat(s.getObjectID(n)):"".concat(He(n),"_").concat(n)});return r.join("|")}},{key:"getObjectID",value:function(i){if(this.objectIDMap.has(i))return this.objectIDMap.get(i);var s=this.nextID;return this.objectIDMap.set(i,s),this.nextID+=1,s}},{key:"clear",value:function(){var i=this;if(this.accessBeat>1e4){var s=Date.now();this.lastAccessBeat.forEach(function(r,n){s-r>_V&&(i.map.delete(n),i.lastAccessBeat.delete(n))}),this.accessBeat=0}}}]),t}(),Qw=new UV;function XV(t,e){return X.useMemo(function(){var i=Qw.get(e);if(i)return i;var s=t();return Qw.set(e,s),s},e)}var jV=function(){return{}};function YV(t){var e=t.useCSP,i=e===void 0?jV:e,s=t.useToken,r=t.usePrefix,n=t.getResetStyles,o=t.getCommonStyle,a=t.getCompUnitless;function l(d,g,p,f){var C=Array.isArray(d)?d[0]:d;function m(R){return"".concat(String(C)).concat(R.slice(0,1).toUpperCase()).concat(R.slice(1))}var v=(f==null?void 0:f.unitless)||{},y=typeof a=="function"?a(d):{},w=ne(ne({},y),{},de({},m("zIndexPopup"),!0));Object.keys(v).forEach(function(R){w[m(R)]=v[R]});var x=ne(ne({},f),{},{unitless:w,prefixToken:m}),S=u(d,g,p,x),b=c(C,p,x);return function(R){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:R,P=S(R,A),E=ye(P,2),L=E[1],M=b(A),I=ye(M,2),z=I[0],D=I[1];return[z,L,D]}}function c(d,g,p){var f=p.unitless,C=p.injectStyle,m=C===void 0?!0:C,v=p.prefixToken,y=p.ignore,w=function(b){var R=b.rootCls,A=b.cssVar,P=A===void 0?{}:A,E=s(),L=E.realToken;return Vz({path:[d],prefix:P.prefix,key:P.key,unitless:f,ignore:y,token:L,scope:R},function(){var M=qw(d,L,g),I=$w(d,L,M,{deprecatedTokens:p==null?void 0:p.deprecatedTokens});return Object.keys(M).forEach(function(z){I[v(z)]=I[z],delete I[z]}),I}),null},x=function(b){var R=s(),A=R.cssVar;return[function(P){return m&&A?X.createElement(X.Fragment,null,X.createElement(w,{rootCls:b,cssVar:A,component:d}),P):P},A==null?void 0:A.key]};return x}function u(d,g,p){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},C=Array.isArray(d)?d:[d,d],m=ye(C,1),v=m[0],y=C.join("-"),w=t.layer||{name:"antd"};return function(x){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:x,b=s(),R=b.theme,A=b.realToken,P=b.hashId,E=b.token,L=b.cssVar,M=r(),I=M.rootPrefixCls,z=M.iconPrefixCls,D=i(),T=L?"css":"js",k=XV(function(){var $=new Set;return L&&Object.keys(f.unitless||{}).forEach(function(re){$.add(nu(re,L.prefix)),$.add(nu(re,Yw(v,L.prefix)))}),BV(T,$)},[T,v,L==null?void 0:L.prefix]),H=VV(T),N=H.max,G=H.min,U={theme:R,token:E,hashId:P,nonce:function(){return D.nonce},clientOnly:f.clientOnly,layer:w,order:f.order||-999};mf(ne(ne({},U),{},{clientOnly:!1,path:["Shared",I]}),function(){return typeof n=="function"?n(E):[]});var te=mf(ne(ne({},U),{},{path:[y,x,z]}),function(){if(f.injectStyle===!1)return[];var $=zV(E),re=$.token,Z=$.flush,ie=qw(v,A,p),ve=".".concat(x),ue=$w(v,A,ie,{deprecatedTokens:f.deprecatedTokens});L&&ie&&He(ie)==="object"&&Object.keys(ie).forEach(function(me){ie[me]="var(".concat(nu(me,Yw(v,L.prefix)),")")});var ge=nC(re,{componentCls:ve,prefixCls:x,iconCls:".".concat(z),antCls:".".concat(I),calc:k,max:N,min:G},L?ie:ue),Re=g(ge,{hashId:P,prefixCls:x,rootPrefixCls:I,iconPrefixCls:z});Z(v,ue);var pe=typeof o=="function"?o(ge,x,S,f.resetFont):null;return[f.resetStyle===!1?null:pe,Re]});return[te,P]}}function h(d,g,p){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},C=u(d,g,p,ne({resetStyle:!1,order:-998},f)),m=function(y){var w=y.prefixCls,x=y.rootCls,S=x===void 0?w:x;return C(w,S),null};return m}return{genStyleHooks:l,genSubStyleComponent:h,genComponentStyleHook:u}}const $V="5.22.2";function yg(t){return t>=0&&t<=255}function Lc(t,e){const{r:i,g:s,b:r,a:n}=new It(t).toRgb();if(n<1)return t;const{r:o,g:a,b:l}=new It(e).toRgb();for(let c=.01;c<=1;c+=.01){const u=Math.round((i-o*(1-c))/c),h=Math.round((s-a*(1-c))/c),d=Math.round((r-l*(1-c))/c);if(yg(u)&&yg(h)&&yg(d))return new It({r:u,g:h,b:d,a:Math.round(c*100)/100}).toRgbString()}return new It({r:i,g:s,b:r,a:1}).toRgbString()}var KV=function(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(i[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(i[s[r]]=t[s[r]]);return i};function rA(t){const{override:e}=t,i=KV(t,["override"]),s=Object.assign({},e);Object.keys(bl).forEach(d=>{delete s[d]});const r=Object.assign(Object.assign({},i),s),n=480,o=576,a=768,l=992,c=1200,u=1600;if(r.motion===!1){const d="0s";r.motionDurationFast=d,r.motionDurationMid=d,r.motionDurationSlow=d}return Object.assign(Object.assign(Object.assign({},r),{colorFillContent:r.colorFillSecondary,colorFillContentHover:r.colorFill,colorFillAlter:r.colorFillQuaternary,colorBgContainerDisabled:r.colorFillTertiary,colorBorderBg:r.colorBgContainer,colorSplit:Lc(r.colorBorderSecondary,r.colorBgContainer),colorTextPlaceholder:r.colorTextQuaternary,colorTextDisabled:r.colorTextQuaternary,colorTextHeading:r.colorText,colorTextLabel:r.colorTextSecondary,colorTextDescription:r.colorTextTertiary,colorTextLightSolid:r.colorWhite,colorHighlight:r.colorError,colorBgTextHover:r.colorFillSecondary,colorBgTextActive:r.colorFill,colorIcon:r.colorTextTertiary,colorIconHover:r.colorText,colorErrorOutline:Lc(r.colorErrorBg,r.colorBgContainer),colorWarningOutline:Lc(r.colorWarningBg,r.colorBgContainer),fontSizeIcon:r.fontSizeSM,lineWidthFocus:r.lineWidth*3,lineWidth:r.lineWidth,controlOutlineWidth:r.lineWidth*2,controlInteractiveSize:r.controlHeight/2,controlItemBgHover:r.colorFillTertiary,controlItemBgActive:r.colorPrimaryBg,controlItemBgActiveHover:r.colorPrimaryBgHover,controlItemBgActiveDisabled:r.colorFill,controlTmpOutline:r.colorFillQuaternary,controlOutline:Lc(r.colorPrimaryBg,r.colorBgContainer),lineType:r.lineType,borderRadius:r.borderRadius,borderRadiusXS:r.borderRadiusXS,borderRadiusSM:r.borderRadiusSM,borderRadiusLG:r.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:r.sizeXXS,paddingXS:r.sizeXS,paddingSM:r.sizeSM,padding:r.size,paddingMD:r.sizeMD,paddingLG:r.sizeLG,paddingXL:r.sizeXL,paddingContentHorizontalLG:r.sizeLG,paddingContentVerticalLG:r.sizeMS,paddingContentHorizontal:r.sizeMS,paddingContentVertical:r.sizeSM,paddingContentHorizontalSM:r.size,paddingContentVerticalSM:r.sizeXS,marginXXS:r.sizeXXS,marginXS:r.sizeXS,marginSM:r.sizeSM,margin:r.size,marginMD:r.sizeMD,marginLG:r.sizeLG,marginXL:r.sizeXL,marginXXL:r.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:n,screenXSMin:n,screenXSMax:o-1,screenSM:o,screenSMMin:o,screenSMMax:a-1,screenMD:a,screenMDMin:a,screenMDMax:l-1,screenLG:l,screenLGMin:l,screenLGMax:c-1,screenXL:c,screenXLMin:c,screenXLMax:u-1,screenXXL:u,screenXXLMin:u,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new It("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new It("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new It("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),s)}var Zw=function(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(i[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(i[s[r]]=t[s[r]]);return i};const nA={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},qV={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},QV={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},oA=(t,e,i)=>{const s=i.getDerivativeToken(t),{override:r}=e,n=Zw(e,["override"]);let o=Object.assign(Object.assign({},s),{override:r});return o=rA(o),n&&Object.entries(n).forEach(a=>{let[l,c]=a;const{theme:u}=c,h=Zw(c,["theme"]);let d=h;u&&(d=oA(Object.assign(Object.assign({},o),h),{override:h},u)),o[l]=d}),o};function nd(){const{token:t,hashed:e,theme:i,override:s,cssVar:r}=X.useContext(ZF),n=`${$V}-${e||""}`,o=i||QF,[a,l,c]=fz(o,[bl,t],{salt:n,override:s,getComputedToken:oA,formatToken:rA,cssVar:r&&{prefix:r.prefix,key:r.key,unitless:nA,ignore:qV,preserve:QV}});return[o,c,e?l:"",a,r]}const ZV=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:t.colorText,fontSize:t.fontSize,lineHeight:t.lineHeight,listStyle:"none",fontFamily:e?"inherit":t.fontFamily}},JV=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),e_=t=>({a:{color:t.colorLink,textDecoration:t.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${t.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:t.colorLinkHover},"&:active":{color:t.colorLinkActive},"&:active, &:hover":{textDecoration:t.linkHoverDecoration,outline:0},"&:focus":{textDecoration:t.linkFocusDecoration,outline:0},"&[disabled]":{color:t.colorTextDisabled,cursor:"not-allowed"}}}),t_=(t,e,i,s)=>{const r=`[class^="${e}"], [class*=" ${e}"]`,n=i?`.${i}`:r,o={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let a={};return s!==!1&&(a={fontFamily:t.fontFamily,fontSize:t.fontSize}),{[n]:Object.assign(Object.assign(Object.assign({},a),o),{[r]:o})}},i_=t=>({outline:`${Ki(t.lineWidthFocus)} solid ${t.colorPrimaryBorder}`,outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),s_=t=>({"&:focus-visible":Object.assign({},i_(t))}),aA=(t,e)=>{const[i,s]=nd();return mf({theme:i,token:s,hashId:"",path:["ant-design-icons",t],nonce:()=>e==null?void 0:e.nonce,layer:{name:"antd"}},()=>[{[`.${t}`]:Object.assign(Object.assign({},JV()),{[`.${t} .${t}-icon`]:{display:"block"}})}])},{genStyleHooks:r_,genComponentStyleHook:n_,genSubStyleComponent:Bj}=YV({usePrefix:()=>{const{getPrefixCls:t,iconPrefixCls:e}=F.useContext(Ar);return{rootPrefixCls:t(),iconPrefixCls:e}},useToken:()=>{const[t,e,i,s,r]=nd();return{theme:t,realToken:e,hashId:i,token:s,cssVar:r}},useCSP:()=>{const{csp:t,iconPrefixCls:e}=F.useContext(Ar);return aA(e,t),t??{}},getResetStyles:t=>[{"&":e_(t)}],getCommonStyle:t_,getCompUnitless:()=>nA}),o_=Object.assign({},Cm),{useId:Jw}=o_,a_=()=>"",l_=typeof Jw>"u"?a_:Jw;function c_(t,e,i){var s;const r=t||{},n=r.inherit===!1||!e?Object.assign(Object.assign({},Lf),{hashed:(s=e==null?void 0:e.hashed)!==null&&s!==void 0?s:Lf.hashed,cssVar:e==null?void 0:e.cssVar}):e,o=l_();return gF(()=>{var a,l;if(!t)return e;const c=Object.assign({},n.components);Object.keys(t.components||{}).forEach(d=>{c[d]=Object.assign(Object.assign({},c[d]),t.components[d])});const u=`css-var-${o.replace(/:/g,"")}`,h=((a=r.cssVar)!==null&&a!==void 0?a:n.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:i==null?void 0:i.prefixCls},typeof n.cssVar=="object"?n.cssVar:{}),typeof r.cssVar=="object"?r.cssVar:{}),{key:typeof r.cssVar=="object"&&((l=r.cssVar)===null||l===void 0?void 0:l.key)||u});return Object.assign(Object.assign(Object.assign({},n),r),{token:Object.assign(Object.assign({},n.token),r.token),components:c,cssVar:h})},[r,n],(a,l)=>a.some((c,u)=>{const h=l[u];return!jW(c,h,!0)}))}var u_=["children"],lA=F.createContext({});function h_(t){var e=t.children,i=Mo(t,u_);return F.createElement(lA.Provider,{value:i},e)}var d_=function(t){Zh(i,t);var e=Jh(i);function i(){return Us(this,i),e.apply(this,arguments)}return Xs(i,[{key:"render",value:function(){return this.props.children}}]),i}(F.Component);function g_(t){var e=F.useReducer(function(a){return a+1},0),i=ye(e,2),s=i[1],r=F.useRef(t),n=Oo(function(){return r.current}),o=Oo(function(a){r.current=typeof a=="function"?a(r.current):a,s()});return[n,o]}var er="none",Ic="appear",Oc="enter",Hc="leave",ex="none",Xi="prepare",no="start",oo="active",oC="end",cA="prepared";function tx(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit".concat(t)]="webkit".concat(e),i["Moz".concat(t)]="moz".concat(e),i["ms".concat(t)]="MS".concat(e),i["O".concat(t)]="o".concat(e.toLowerCase()),i}function p_(t,e){var i={animationend:tx("Animation","AnimationEnd"),transitionend:tx("Transition","TransitionEnd")};return t&&("AnimationEvent"in e||delete i.animationend.animation,"TransitionEvent"in e||delete i.transitionend.transition),i}var f_=p_(js(),typeof window<"u"?window:{}),uA={};if(js()){var m_=document.createElement("div");uA=m_.style}var Nc={};function hA(t){if(Nc[t])return Nc[t];var e=f_[t];if(e)for(var i=Object.keys(e),s=i.length,r=0;r<s;r+=1){var n=i[r];if(Object.prototype.hasOwnProperty.call(e,n)&&n in uA)return Nc[t]=e[n],Nc[t]}return""}var dA=hA("animationend"),gA=hA("transitionend"),pA=!!(dA&&gA),ix=dA||"animationend",sx=gA||"transitionend";function rx(t,e){if(!t)return null;if(He(t)==="object"){var i=e.replace(/-\w/g,function(s){return s[1].toUpperCase()});return t[i]}return"".concat(t,"-").concat(e)}const v_=function(t){var e=F.useRef();function i(r){r&&(r.removeEventListener(sx,t),r.removeEventListener(ix,t))}function s(r){e.current&&e.current!==r&&i(e.current),r&&r!==e.current&&(r.addEventListener(sx,t),r.addEventListener(ix,t),e.current=r)}return F.useEffect(function(){return function(){i(e.current)}},[]),[s,i]};var fA=js()?F.useLayoutEffect:F.useEffect;const C_=function(){var t=F.useRef(null);function e(){An.cancel(t.current)}function i(s){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;e();var n=An(function(){r<=1?s({isCanceled:function(){return n!==t.current}}):i(s,r-1)});t.current=n}return F.useEffect(function(){return function(){e()}},[]),[i,e]};var y_=[Xi,no,oo,oC],w_=[Xi,cA],mA=!1,x_=!0;function vA(t){return t===oo||t===oC}const b_=function(t,e,i){var s=Sl(ex),r=ye(s,2),n=r[0],o=r[1],a=C_(),l=ye(a,2),c=l[0],u=l[1];function h(){o(Xi,!0)}var d=e?w_:y_;return fA(function(){if(n!==ex&&n!==oC){var g=d.indexOf(n),p=d[g+1],f=i(n);f===mA?o(p,!0):p&&c(function(C){function m(){C.isCanceled()||o(p,!0)}f===!0?m():Promise.resolve(f).then(m)})}},[t,n]),F.useEffect(function(){return function(){u()}},[]),[h,n]};function S_(t,e,i,s){var r=s.motionEnter,n=r===void 0?!0:r,o=s.motionAppear,a=o===void 0?!0:o,l=s.motionLeave,c=l===void 0?!0:l,u=s.motionDeadline,h=s.motionLeaveImmediately,d=s.onAppearPrepare,g=s.onEnterPrepare,p=s.onLeavePrepare,f=s.onAppearStart,C=s.onEnterStart,m=s.onLeaveStart,v=s.onAppearActive,y=s.onEnterActive,w=s.onLeaveActive,x=s.onAppearEnd,S=s.onEnterEnd,b=s.onLeaveEnd,R=s.onVisibleChanged,A=Sl(),P=ye(A,2),E=P[0],L=P[1],M=g_(er),I=ye(M,2),z=I[0],D=I[1],T=Sl(null),k=ye(T,2),H=k[0],N=k[1],G=z(),U=F.useRef(!1),te=F.useRef(null);function $(){return i()}var re=F.useRef(!1);function Z(){D(er),N(null,!0)}var ie=Oo(function(We){var $e=z();if($e!==er){var kt=$();if(!(We&&!We.deadline&&We.target!==kt)){var wi=re.current,$s;$e===Ic&&wi?$s=x==null?void 0:x(kt,We):$e===Oc&&wi?$s=S==null?void 0:S(kt,We):$e===Hc&&wi&&($s=b==null?void 0:b(kt,We)),wi&&$s!==!1&&Z()}}}),ve=v_(ie),ue=ye(ve,1),ge=ue[0],Re=function($e){switch($e){case Ic:return de(de(de({},Xi,d),no,f),oo,v);case Oc:return de(de(de({},Xi,g),no,C),oo,y);case Hc:return de(de(de({},Xi,p),no,m),oo,w);default:return{}}},pe=F.useMemo(function(){return Re(G)},[G]),me=b_(G,!t,function(We){if(We===Xi){var $e=pe[Xi];return $e?$e($()):mA}if(ft in pe){var kt;N(((kt=pe[ft])===null||kt===void 0?void 0:kt.call(pe,$(),null))||null)}return ft===oo&&G!==er&&(ge($()),u>0&&(clearTimeout(te.current),te.current=setTimeout(function(){ie({deadline:!0})},u))),ft===cA&&Z(),x_}),Me=ye(me,2),Le=Me[0],ft=Me[1],Hr=vA(ft);re.current=Hr,fA(function(){L(e);var We=U.current;U.current=!0;var $e;!We&&e&&a&&($e=Ic),We&&e&&n&&($e=Oc),(We&&!e&&c||!We&&h&&!e&&c)&&($e=Hc);var kt=Re($e);$e&&(t||kt[Xi])?(D($e),Le()):D(er)},[e]),F.useEffect(function(){(G===Ic&&!a||G===Oc&&!n||G===Hc&&!c)&&D(er)},[a,n,c]),F.useEffect(function(){return function(){U.current=!1,clearTimeout(te.current)}},[]);var Nr=F.useRef(!1);F.useEffect(function(){E&&(Nr.current=!0),E!==void 0&&G===er&&((Nr.current||E)&&(R==null||R(E)),Nr.current=!0)},[E,G]);var Bi=H;return pe[Xi]&&ft===no&&(Bi=ne({transition:"none"},Bi)),[G,ft,Bi,E??e]}function R_(t){var e=t;He(t)==="object"&&(e=t.transitionSupport);function i(r,n){return!!(r.motionName&&e&&n!==!1)}var s=F.forwardRef(function(r,n){var o=r.visible,a=o===void 0?!0:o,l=r.removeOnLeave,c=l===void 0?!0:l,u=r.forceRender,h=r.children,d=r.motionName,g=r.leavedClassName,p=r.eventProps,f=F.useContext(lA),C=f.motion,m=i(r,C),v=F.useRef(),y=F.useRef();function w(){try{return v.current instanceof HTMLElement?v.current:HW(y.current)}catch{return null}}var x=S_(m,a,w,r),S=ye(x,4),b=S[0],R=S[1],A=S[2],P=S[3],E=F.useRef(P);P&&(E.current=!0);var L=F.useCallback(function(H){v.current=H,pF(n,H)},[n]),M,I=ne(ne({},p),{},{visible:a});if(!h)M=null;else if(b===er)P?M=h(ne({},I),L):!c&&E.current&&g?M=h(ne(ne({},I),{},{className:g}),L):u||!c&&!g?M=h(ne(ne({},I),{},{style:{display:"none"}}),L):M=null;else{var z;R===Xi?z="prepare":vA(R)?z="active":R===no&&(z="start");var D=rx(d,"".concat(b,"-").concat(z));M=h(ne(ne({},I),{},{className:Ko(rx(d,b),de(de({},D,D&&z),d,typeof d=="string")),style:A}),L)}if(F.isValidElement(M)&&mF(M)){var T=M,k=T.ref;k||(M=F.cloneElement(M,{ref:L}))}return F.createElement(d_,{ref:y},M)});return s.displayName="CSSMotion",s}const CA=R_(pA);var Of="add",Hf="keep",Nf="remove",wg="removed";function F_(t){var e;return t&&He(t)==="object"&&"key"in t?e=t:e={key:t},ne(ne({},e),{},{key:String(e.key)})}function Gf(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return t.map(F_)}function A_(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=[],s=0,r=e.length,n=Gf(t),o=Gf(e);n.forEach(function(c){for(var u=!1,h=s;h<r;h+=1){var d=o[h];if(d.key===c.key){s<h&&(i=i.concat(o.slice(s,h).map(function(g){return ne(ne({},g),{},{status:Of})})),s=h),i.push(ne(ne({},d),{},{status:Hf})),s+=1,u=!0;break}}u||i.push(ne(ne({},c),{},{status:Nf}))}),s<r&&(i=i.concat(o.slice(s).map(function(c){return ne(ne({},c),{},{status:Of})})));var a={};i.forEach(function(c){var u=c.key;a[u]=(a[u]||0)+1});var l=Object.keys(a).filter(function(c){return a[c]>1});return l.forEach(function(c){i=i.filter(function(u){var h=u.key,d=u.status;return h!==c||d!==Nf}),i.forEach(function(u){u.key===c&&(u.status=Hf)})}),i}var P_=["component","children","onVisibleChanged","onAllRemoved"],E_=["status"],k_=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function M_(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:CA,i=function(s){Zh(n,s);var r=Jh(n);function n(){var o;Us(this,n);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return o=r.call.apply(r,[this].concat(l)),de(dn(o),"state",{keyEntities:[]}),de(dn(o),"removeKey",function(u){o.setState(function(h){var d=h.keyEntities.map(function(g){return g.key!==u?g:ne(ne({},g),{},{status:wg})});return{keyEntities:d}},function(){var h=o.state.keyEntities,d=h.filter(function(g){var p=g.status;return p!==wg}).length;d===0&&o.props.onAllRemoved&&o.props.onAllRemoved()})}),o}return Xs(n,[{key:"render",value:function(){var a=this,l=this.state.keyEntities,c=this.props,u=c.component,h=c.children,d=c.onVisibleChanged;c.onAllRemoved;var g=Mo(c,P_),p=u||F.Fragment,f={};return k_.forEach(function(C){f[C]=g[C],delete g[C]}),delete g.keys,F.createElement(p,g,l.map(function(C,m){var v=C.status,y=Mo(C,E_),w=v===Of||v===Hf;return F.createElement(e,Fn({},f,{key:y.key,visible:w,eventProps:y,onVisibleChanged:function(S){d==null||d(S,{key:y.key}),S||a.removeKey(y.key)}}),function(x,S){return h(ne(ne({},x),{},{index:m}),S)})}))}}],[{key:"getDerivedStateFromProps",value:function(a,l){var c=a.keys,u=l.keyEntities,h=Gf(c),d=A_(u,h);return{keyEntities:d.filter(function(g){var p=u.find(function(f){var C=f.key;return g.key===C});return!(p&&p.status===wg&&g.status===Nf)})}}}]),n}(F.Component);return de(i,"defaultProps",{component:"div"}),i}M_(pA);function T_(t){const{children:e}=t,[,i]=nd(),{motion:s}=i,r=F.useRef(!1);return r.current=r.current||s===!1,r.current?F.createElement(h_,{motion:s},e):e}const D_=()=>null;var L_=function(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(i[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(i[s[r]]=t[s[r]]);return i};const I_=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let yA;function O_(){return yA||oh}function H_(t){return Object.keys(t).some(e=>e.endsWith("Color"))}const N_=t=>{const{prefixCls:e,iconPrefixCls:i,theme:s,holderRender:r}=t;e!==void 0&&(yA=e),s&&H_(s)&&DV(O_(),s)},G_=t=>{const{children:e,csp:i,autoInsertSpaceInButton:s,alert:r,anchor:n,form:o,locale:a,componentSize:l,direction:c,space:u,splitter:h,virtual:d,dropdownMatchSelectWidth:g,popupMatchSelectWidth:p,popupOverflow:f,legacyLocale:C,parentContext:m,iconPrefixCls:v,theme:y,componentDisabled:w,segmented:x,statistic:S,spin:b,calendar:R,carousel:A,cascader:P,collapse:E,typography:L,checkbox:M,descriptions:I,divider:z,drawer:D,skeleton:T,steps:k,image:H,layout:N,list:G,mentions:U,modal:te,progress:$,result:re,slider:Z,breadcrumb:ie,menu:ve,pagination:ue,input:ge,textArea:Re,empty:pe,badge:me,radio:Me,rate:Le,switch:ft,transfer:Hr,avatar:Nr,message:Bi,tag:We,table:$e,card:kt,tabs:wi,timeline:$s,timePicker:tc,upload:Ke,notification:Nt,tree:fd,colorPicker:YP,datePicker:$P,rangePicker:KP,flex:qP,wave:QP,dropdown:ZP,warning:JP,tour:eE,floatButtonGroup:tE,variant:iE,inputNumber:sE,treeSelect:rE}=t,AC=F.useCallback((ht,yt)=>{const{prefixCls:as}=t;if(yt)return yt;const ls=as||m.getPrefixCls("");return ht?`${ls}-${ht}`:ls},[m.getPrefixCls,t.prefixCls]),na=v||m.iconPrefixCls||JF,oa=i||m.csp;aA(na,oa);const md=c_(y,m.theme,{prefixCls:AC("")}),vd={csp:oa,autoInsertSpaceInButton:s,alert:r,anchor:n,locale:a||C,direction:c,space:u,splitter:h,virtual:d,popupMatchSelectWidth:p??g,popupOverflow:f,getPrefixCls:AC,iconPrefixCls:na,theme:md,segmented:x,statistic:S,spin:b,calendar:R,carousel:A,cascader:P,collapse:E,typography:L,checkbox:M,descriptions:I,divider:z,drawer:D,skeleton:T,steps:k,image:H,input:ge,textArea:Re,layout:N,list:G,mentions:U,modal:te,progress:$,result:re,slider:Z,breadcrumb:ie,menu:ve,pagination:ue,empty:pe,badge:me,radio:Me,rate:Le,switch:ft,transfer:Hr,avatar:Nr,message:Bi,tag:We,table:$e,card:kt,tabs:wi,timeline:$s,timePicker:tc,upload:Ke,notification:Nt,tree:fd,colorPicker:YP,datePicker:$P,rangePicker:KP,flex:qP,wave:QP,dropdown:ZP,warning:JP,tour:eE,floatButtonGroup:tE,variant:iE,inputNumber:sE,treeSelect:rE},Nn=Object.assign({},m);Object.keys(vd).forEach(ht=>{vd[ht]!==void 0&&(Nn[ht]=vd[ht])}),I_.forEach(ht=>{const yt=t[ht];yt&&(Nn[ht]=yt)}),typeof s<"u"&&(Nn.button=Object.assign({autoInsertSpace:s},Nn.button));const Gn=gF(()=>Nn,Nn,(ht,yt)=>{const as=Object.keys(ht),ls=Object.keys(yt);return as.length!==ls.length||as.some(ic=>ht[ic]!==yt[ic])}),nE=F.useMemo(()=>({prefixCls:na,csp:oa}),[na,oa]);let Ct=F.createElement(F.Fragment,null,F.createElement(D_,{dropdownMatchSelectWidth:g}),e);const PC=F.useMemo(()=>{var ht,yt,as,ls;return Yz(((ht=rd.Form)===null||ht===void 0?void 0:ht.defaultValidateMessages)||{},((as=(yt=Gn.locale)===null||yt===void 0?void 0:yt.Form)===null||as===void 0?void 0:as.defaultValidateMessages)||{},((ls=Gn.form)===null||ls===void 0?void 0:ls.validateMessages)||{},(o==null?void 0:o.validateMessages)||{})},[Gn,o==null?void 0:o.validateMessages]);Object.keys(PC).length>0&&(Ct=F.createElement(Kz.Provider,{value:PC},Ct)),a&&(Ct=F.createElement(tV,{locale:a,_ANT_MARK__:eV},Ct)),(na||oa)&&(Ct=F.createElement(rC.Provider,{value:nE},Ct)),l&&(Ct=F.createElement(IV,{size:l},Ct)),Ct=F.createElement(T_,null,Ct);const oE=F.useMemo(()=>{const ht=md||{},{algorithm:yt,token:as,components:ls,cssVar:ic}=ht,aE=L_(ht,["algorithm","token","components","cssVar"]),EC=yt&&(!Array.isArray(yt)||yt.length>0)?df(yt):QF,Cd={};Object.entries(ls||{}).forEach(lE=>{let[cE,uE]=lE;const Rs=Object.assign({},uE);"algorithm"in Rs&&(Rs.algorithm===!0?Rs.theme=EC:(Array.isArray(Rs.algorithm)||typeof Rs.algorithm=="function")&&(Rs.theme=df(Rs.algorithm)),delete Rs.algorithm),Cd[cE]=Rs});const kC=Object.assign(Object.assign({},bl),as);return Object.assign(Object.assign({},aE),{theme:EC,token:kC,components:Cd,override:Object.assign({override:kC},Cd),cssVar:ic})},[md]);return y&&(Ct=F.createElement(ZF.Provider,{value:oE},Ct)),Gn.warning&&(Ct=F.createElement($z.Provider,{value:Gn.warning},Ct)),w!==void 0&&(Ct=F.createElement(LV,{disabled:w},Ct)),F.createElement(Ar.Provider,{value:Gn},Ct)},Xl=t=>{const e=F.useContext(Ar),i=F.useContext(jF);return F.createElement(G_,Object.assign({parentContext:e,legacyLocale:i},t))};Xl.ConfigContext=Ar;Xl.SizeContext=Io;Xl.config=N_;Xl.useConfig=OV;Object.defineProperty(Xl,"SizeContext",{get:()=>Io});function wA(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}function B_(t){return wA(t)instanceof ShadowRoot}function W_(t){return B_(t)?wA(t):null}function z_(t){return t.replace(/-(.)/g,function(e,i){return i.toUpperCase()})}function V_(t,e){Ul(t,"[@ant-design/icons] ".concat(e))}function nx(t){return He(t)==="object"&&typeof t.name=="string"&&typeof t.theme=="string"&&(He(t.icon)==="object"||typeof t.icon=="function")}function ox(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(e,i){var s=t[i];switch(i){case"class":e.className=s,delete e.class;break;default:delete e[i],e[z_(i)]=s}return e},{})}function Bf(t,e,i){return i?X.createElement(t.tag,ne(ne({key:e},ox(t.attrs)),i),(t.children||[]).map(function(s,r){return Bf(s,"".concat(e,"-").concat(t.tag,"-").concat(r))})):X.createElement(t.tag,ne({key:e},ox(t.attrs)),(t.children||[]).map(function(s,r){return Bf(s,"".concat(e,"-").concat(t.tag,"-").concat(r))}))}function xA(t){return xl(t)[0]}function bA(t){return t?Array.isArray(t)?t:[t]:[]}var __=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,U_=function(e){var i=F.useContext(rC),s=i.csp,r=i.prefixCls,n=__;r&&(n=n.replace(/anticon/g,r)),F.useEffect(function(){var o=e.current,a=W_(o);gn(n,"@ant-design-icons",{prepend:!0,csp:s,attachTo:a})},[])},X_=["icon","className","onClick","style","primaryColor","secondaryColor"],Xa={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function j_(t){var e=t.primaryColor,i=t.secondaryColor;Xa.primaryColor=e,Xa.secondaryColor=i||xA(e),Xa.calculated=!!i}function Y_(){return ne({},Xa)}var Qo=function(e){var i=e.icon,s=e.className,r=e.onClick,n=e.style,o=e.primaryColor,a=e.secondaryColor,l=Mo(e,X_),c=F.useRef(),u=Xa;if(o&&(u={primaryColor:o,secondaryColor:a||xA(o)}),U_(c),V_(nx(i),"icon should be icon definiton, but got ".concat(i)),!nx(i))return null;var h=i;return h&&typeof h.icon=="function"&&(h=ne(ne({},h),{},{icon:h.icon(u.primaryColor,u.secondaryColor)})),Bf(h.icon,"svg-".concat(h.name),ne(ne({className:s,onClick:r,style:n,"data-icon":h.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l),{},{ref:c}))};Qo.displayName="IconReact";Qo.getTwoToneColors=Y_;Qo.setTwoToneColors=j_;function SA(t){var e=bA(t),i=ye(e,2),s=i[0],r=i[1];return Qo.setTwoToneColors({primaryColor:s,secondaryColor:r})}function $_(){var t=Qo.getTwoToneColors();return t.calculated?[t.primaryColor,t.secondaryColor]:t.primaryColor}var K_=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];SA(nh.primary);var od=F.forwardRef(function(t,e){var i=t.className,s=t.icon,r=t.spin,n=t.rotate,o=t.tabIndex,a=t.onClick,l=t.twoToneColor,c=Mo(t,K_),u=F.useContext(rC),h=u.prefixCls,d=h===void 0?"anticon":h,g=u.rootClassName,p=Ko(g,d,de(de({},"".concat(d,"-").concat(s.name),!!s.name),"".concat(d,"-spin"),!!r||s.name==="loading"),i),f=o;f===void 0&&a&&(f=-1);var C=n?{msTransform:"rotate(".concat(n,"deg)"),transform:"rotate(".concat(n,"deg)")}:void 0,m=bA(l),v=ye(m,2),y=v[0],w=v[1];return F.createElement("span",Fn({role:"img","aria-label":s.name},c,{ref:e,tabIndex:f,onClick:a,className:p}),F.createElement(Qo,{icon:s,primaryColor:y,secondaryColor:w,style:C}))});od.displayName="AntdIcon";od.getTwoToneColor=$_;od.setTwoToneColor=SA;const q_=(t,e,i)=>X.isValidElement(t)?X.cloneElement(t,typeof i=="function"?i(t.props||{}):i):e;function Q_(t,e){return q_(t,t,e)}var he={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var i=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||i>=he.F1&&i<=he.F12)return!1;switch(i){case he.ALT:case he.CAPS_LOCK:case he.CONTEXT_MENU:case he.CTRL:case he.DOWN:case he.END:case he.ESC:case he.HOME:case he.INSERT:case he.LEFT:case he.MAC_FF_META:case he.META:case he.NUMLOCK:case he.NUM_CENTER:case he.PAGE_DOWN:case he.PAGE_UP:case he.PAUSE:case he.PRINT_SCREEN:case he.RIGHT:case he.SHIFT:case he.UP:case he.WIN_KEY:case he.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=he.ZERO&&e<=he.NINE||e>=he.NUM_ZERO&&e<=he.NUM_MULTIPLY||e>=he.A&&e<=he.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&e===0)return!0;switch(e){case he.SPACE:case he.QUESTION_MARK:case he.NUM_PLUS:case he.NUM_MINUS:case he.NUM_PERIOD:case he.NUM_DIVISION:case he.SEMICOLON:case he.DASH:case he.EQUALS:case he.COMMA:case he.PERIOD:case he.SLASH:case he.APOSTROPHE:case he.SINGLE_QUOTE:case he.OPEN_SQUARE_BRACKET:case he.BACKSLASH:case he.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},Z_={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},J_=function(e,i){return F.createElement(od,Fn({},e,{ref:i,icon:Z_}))},eU=F.forwardRef(J_);function Rl(){Rl=function(){return e};var t,e={},i=Object.prototype,s=i.hasOwnProperty,r=Object.defineProperty||function(D,T,k){D[T]=k.value},n=typeof Symbol=="function"?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",l=n.toStringTag||"@@toStringTag";function c(D,T,k){return Object.defineProperty(D,T,{value:k,enumerable:!0,configurable:!0,writable:!0}),D[T]}try{c({},"")}catch{c=function(k,H,N){return k[H]=N}}function u(D,T,k,H){var N=T&&T.prototype instanceof m?T:m,G=Object.create(N.prototype),U=new I(H||[]);return r(G,"_invoke",{value:P(D,k,U)}),G}function h(D,T,k){try{return{type:"normal",arg:D.call(T,k)}}catch(H){return{type:"throw",arg:H}}}e.wrap=u;var d="suspendedStart",g="suspendedYield",p="executing",f="completed",C={};function m(){}function v(){}function y(){}var w={};c(w,o,function(){return this});var x=Object.getPrototypeOf,S=x&&x(x(z([])));S&&S!==i&&s.call(S,o)&&(w=S);var b=y.prototype=m.prototype=Object.create(w);function R(D){["next","throw","return"].forEach(function(T){c(D,T,function(k){return this._invoke(T,k)})})}function A(D,T){function k(N,G,U,te){var $=h(D[N],D,G);if($.type!=="throw"){var re=$.arg,Z=re.value;return Z&&He(Z)=="object"&&s.call(Z,"__await")?T.resolve(Z.__await).then(function(ie){k("next",ie,U,te)},function(ie){k("throw",ie,U,te)}):T.resolve(Z).then(function(ie){re.value=ie,U(re)},function(ie){return k("throw",ie,U,te)})}te($.arg)}var H;r(this,"_invoke",{value:function(G,U){function te(){return new T(function($,re){k(G,U,$,re)})}return H=H?H.then(te,te):te()}})}function P(D,T,k){var H=d;return function(N,G){if(H===p)throw Error("Generator is already running");if(H===f){if(N==="throw")throw G;return{value:t,done:!0}}for(k.method=N,k.arg=G;;){var U=k.delegate;if(U){var te=E(U,k);if(te){if(te===C)continue;return te}}if(k.method==="next")k.sent=k._sent=k.arg;else if(k.method==="throw"){if(H===d)throw H=f,k.arg;k.dispatchException(k.arg)}else k.method==="return"&&k.abrupt("return",k.arg);H=p;var $=h(D,T,k);if($.type==="normal"){if(H=k.done?f:g,$.arg===C)continue;return{value:$.arg,done:k.done}}$.type==="throw"&&(H=f,k.method="throw",k.arg=$.arg)}}}function E(D,T){var k=T.method,H=D.iterator[k];if(H===t)return T.delegate=null,k==="throw"&&D.iterator.return&&(T.method="return",T.arg=t,E(D,T),T.method==="throw")||k!=="return"&&(T.method="throw",T.arg=new TypeError("The iterator does not provide a '"+k+"' method")),C;var N=h(H,D.iterator,T.arg);if(N.type==="throw")return T.method="throw",T.arg=N.arg,T.delegate=null,C;var G=N.arg;return G?G.done?(T[D.resultName]=G.value,T.next=D.nextLoc,T.method!=="return"&&(T.method="next",T.arg=t),T.delegate=null,C):G:(T.method="throw",T.arg=new TypeError("iterator result is not an object"),T.delegate=null,C)}function L(D){var T={tryLoc:D[0]};1 in D&&(T.catchLoc=D[1]),2 in D&&(T.finallyLoc=D[2],T.afterLoc=D[3]),this.tryEntries.push(T)}function M(D){var T=D.completion||{};T.type="normal",delete T.arg,D.completion=T}function I(D){this.tryEntries=[{tryLoc:"root"}],D.forEach(L,this),this.reset(!0)}function z(D){if(D||D===""){var T=D[o];if(T)return T.call(D);if(typeof D.next=="function")return D;if(!isNaN(D.length)){var k=-1,H=function N(){for(;++k<D.length;)if(s.call(D,k))return N.value=D[k],N.done=!1,N;return N.value=t,N.done=!0,N};return H.next=H}}throw new TypeError(He(D)+" is not iterable")}return v.prototype=y,r(b,"constructor",{value:y,configurable:!0}),r(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,l,"GeneratorFunction"),e.isGeneratorFunction=function(D){var T=typeof D=="function"&&D.constructor;return!!T&&(T===v||(T.displayName||T.name)==="GeneratorFunction")},e.mark=function(D){return Object.setPrototypeOf?Object.setPrototypeOf(D,y):(D.__proto__=y,c(D,l,"GeneratorFunction")),D.prototype=Object.create(b),D},e.awrap=function(D){return{__await:D}},R(A.prototype),c(A.prototype,a,function(){return this}),e.AsyncIterator=A,e.async=function(D,T,k,H,N){N===void 0&&(N=Promise);var G=new A(u(D,T,k,H),N);return e.isGeneratorFunction(T)?G:G.next().then(function(U){return U.done?U.value:G.next()})},R(b),c(b,l,"Generator"),c(b,o,function(){return this}),c(b,"toString",function(){return"[object Generator]"}),e.keys=function(D){var T=Object(D),k=[];for(var H in T)k.push(H);return k.reverse(),function N(){for(;k.length;){var G=k.pop();if(G in T)return N.value=G,N.done=!1,N}return N.done=!0,N}},e.values=z,I.prototype={constructor:I,reset:function(T){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!T)for(var k in this)k.charAt(0)==="t"&&s.call(this,k)&&!isNaN(+k.slice(1))&&(this[k]=t)},stop:function(){this.done=!0;var T=this.tryEntries[0].completion;if(T.type==="throw")throw T.arg;return this.rval},dispatchException:function(T){if(this.done)throw T;var k=this;function H(re,Z){return U.type="throw",U.arg=T,k.next=re,Z&&(k.method="next",k.arg=t),!!Z}for(var N=this.tryEntries.length-1;N>=0;--N){var G=this.tryEntries[N],U=G.completion;if(G.tryLoc==="root")return H("end");if(G.tryLoc<=this.prev){var te=s.call(G,"catchLoc"),$=s.call(G,"finallyLoc");if(te&&$){if(this.prev<G.catchLoc)return H(G.catchLoc,!0);if(this.prev<G.finallyLoc)return H(G.finallyLoc)}else if(te){if(this.prev<G.catchLoc)return H(G.catchLoc,!0)}else{if(!$)throw Error("try statement without catch or finally");if(this.prev<G.finallyLoc)return H(G.finallyLoc)}}}},abrupt:function(T,k){for(var H=this.tryEntries.length-1;H>=0;--H){var N=this.tryEntries[H];if(N.tryLoc<=this.prev&&s.call(N,"finallyLoc")&&this.prev<N.finallyLoc){var G=N;break}}G&&(T==="break"||T==="continue")&&G.tryLoc<=k&&k<=G.finallyLoc&&(G=null);var U=G?G.completion:{};return U.type=T,U.arg=k,G?(this.method="next",this.next=G.finallyLoc,C):this.complete(U)},complete:function(T,k){if(T.type==="throw")throw T.arg;return T.type==="break"||T.type==="continue"?this.next=T.arg:T.type==="return"?(this.rval=this.arg=T.arg,this.method="return",this.next="end"):T.type==="normal"&&k&&(this.next=k),C},finish:function(T){for(var k=this.tryEntries.length-1;k>=0;--k){var H=this.tryEntries[k];if(H.finallyLoc===T)return this.complete(H.completion,H.afterLoc),M(H),C}},catch:function(T){for(var k=this.tryEntries.length-1;k>=0;--k){var H=this.tryEntries[k];if(H.tryLoc===T){var N=H.completion;if(N.type==="throw"){var G=N.arg;M(H)}return G}}throw Error("illegal catch attempt")},delegateYield:function(T,k,H){return this.delegate={iterator:z(T),resultName:k,nextLoc:H},this.method==="next"&&(this.arg=t),C}},e}function ax(t,e,i,s,r,n,o){try{var a=t[n](o),l=a.value}catch(c){return void i(c)}a.done?e(l):Promise.resolve(l).then(s,r)}function RA(t){return function(){var e=this,i=arguments;return new Promise(function(s,r){var n=t.apply(e,i);function o(l){ax(n,s,r,o,a,"next",l)}function a(l){ax(n,s,r,o,a,"throw",l)}o(void 0)})}}var jl=ne({},H1),tU=jl.version,iU=jl.render,sU=jl.unmountComponentAtNode,ad;try{var rU=Number((tU||"").split(".")[0]);rU>=18&&(ad=jl.createRoot)}catch{}function lx(t){var e=jl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&He(e)==="object"&&(e.usingClientEntryPoint=t)}var lh="__rc_react_root__";function nU(t,e){lx(!0);var i=e[lh]||ad(e);lx(!1),i.render(t),e[lh]=i}function oU(t,e){iU(t,e)}function aU(t,e){if(ad){nU(t,e);return}oU(t,e)}function lU(t){return Wf.apply(this,arguments)}function Wf(){return Wf=RA(Rl().mark(function t(e){return Rl().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Promise.resolve().then(function(){var r;(r=e[lh])===null||r===void 0||r.unmount(),delete e[lh]}));case 1:case"end":return s.stop()}},t)})),Wf.apply(this,arguments)}function cU(t){sU(t)}function uU(t){return zf.apply(this,arguments)}function zf(){return zf=RA(Rl().mark(function t(e){return Rl().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(ad===void 0){s.next=2;break}return s.abrupt("return",lU(e));case 2:cU(e);case 3:case"end":return s.stop()}},t)})),zf.apply(this,arguments)}const hU=function(t){if(!t)return!1;if(t instanceof Element){if(t.offsetParent)return!0;if(t.getBBox){var e=t.getBBox(),i=e.width,s=e.height;if(i||s)return!0}if(t.getBoundingClientRect){var r=t.getBoundingClientRect(),n=r.width,o=r.height;if(n||o)return!0}}return!1},dU=t=>{const{componentCls:e,colorPrimary:i}=t;return{[e]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${i})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${t.motionEaseOutCirc}`,`opacity 2s ${t.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${t.motionDurationSlow} ${t.motionEaseInOut}`,`opacity ${t.motionDurationSlow} ${t.motionEaseInOut}`].join(",")}}}}},gU=n_("Wave",t=>[dU(t)]),FA=`${oh}-wave-target`;function xg(t){return t&&t!=="#fff"&&t!=="#ffffff"&&t!=="rgb(255, 255, 255)"&&t!=="rgba(255, 255, 255, 1)"&&!/rgba\((?:\d*, ){3}0\)/.test(t)&&t!=="transparent"}function pU(t){const{borderTopColor:e,borderColor:i,backgroundColor:s}=getComputedStyle(t);return xg(e)?e:xg(i)?i:xg(s)?s:null}function bg(t){return Number.isNaN(t)?0:t}const fU=t=>{const{className:e,target:i,component:s}=t,r=F.useRef(null),[n,o]=F.useState(null),[a,l]=F.useState([]),[c,u]=F.useState(0),[h,d]=F.useState(0),[g,p]=F.useState(0),[f,C]=F.useState(0),[m,v]=F.useState(!1),y={left:c,top:h,width:g,height:f,borderRadius:a.map(S=>`${S}px`).join(" ")};n&&(y["--wave-color"]=n);function w(){const S=getComputedStyle(i);o(pU(i));const b=S.position==="static",{borderLeftWidth:R,borderTopWidth:A}=S;u(b?i.offsetLeft:bg(-parseFloat(R))),d(b?i.offsetTop:bg(-parseFloat(A))),p(i.offsetWidth),C(i.offsetHeight);const{borderTopLeftRadius:P,borderTopRightRadius:E,borderBottomLeftRadius:L,borderBottomRightRadius:M}=S;l([P,E,M,L].map(I=>bg(parseFloat(I))))}if(F.useEffect(()=>{if(i){const S=An(()=>{w(),v(!0)});let b;return typeof ResizeObserver<"u"&&(b=new ResizeObserver(w),b.observe(i)),()=>{An.cancel(S),b==null||b.disconnect()}}},[]),!m)return null;const x=(s==="Checkbox"||s==="Radio")&&(i==null?void 0:i.classList.contains(FA));return F.createElement(CA,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(S,b)=>{var R;if(b.deadline||b.propertyName==="opacity"){const A=(R=r.current)===null||R===void 0?void 0:R.parentElement;uU(A).then(()=>{A==null||A.remove()})}return!1}},(S,b)=>{let{className:R}=S;return F.createElement("div",{ref:fF(r,b),className:Ko(e,R,{"wave-quick":x}),style:y})})},mU=(t,e)=>{var i;const{component:s}=e;if(s==="Checkbox"&&!(!((i=t.querySelector("input"))===null||i===void 0)&&i.checked))return;const r=document.createElement("div");r.style.position="absolute",r.style.left="0px",r.style.top="0px",t==null||t.insertBefore(r,t==null?void 0:t.firstChild),aU(F.createElement(fU,Object.assign({},e,{target:t})),r)},vU=(t,e,i)=>{const{wave:s}=F.useContext(Ar),[,r,n]=nd(),o=Oo(c=>{const u=t.current;if(s!=null&&s.disabled||!u)return;const h=u.querySelector(`.${FA}`)||u,{showEffect:d}=s||{};(d||mU)(h,{className:e,token:r,component:i,event:c,hashId:n})}),a=F.useRef();return c=>{An.cancel(a.current),a.current=An(()=>{o(c)})}},CU=t=>{const{children:e,disabled:i,component:s}=t,{getPrefixCls:r}=F.useContext(Ar),n=F.useRef(null),o=r("wave"),[,a]=gU(o),l=vU(n,Ko(o,a),s);if(X.useEffect(()=>{const u=n.current;if(!u||u.nodeType!==1||i)return;const h=d=>{!hU(d.target)||!u.getAttribute||u.getAttribute("disabled")||u.disabled||u.className.includes("disabled")||u.className.includes("-leave")||l(d)};return u.addEventListener("click",h,!0),()=>{u.removeEventListener("click",h,!0)}},[i]),!X.isValidElement(e))return e??null;const c=mF(e)?fF(e.ref,n):n;return Q_(e,{ref:c})},yU=t=>{const e=X.useContext(Io);return X.useMemo(()=>t?typeof t=="string"?t??e:t instanceof Function?t(e):e:e,[t,e])};var wU=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],AA=F.forwardRef(function(t,e){var i,s=t.prefixCls,r=s===void 0?"rc-switch":s,n=t.className,o=t.checked,a=t.defaultChecked,l=t.disabled,c=t.loadingIcon,u=t.checkedChildren,h=t.unCheckedChildren,d=t.onClick,g=t.onChange,p=t.onKeyDown,f=Mo(t,wU),C=iA(!1,{value:o,defaultValue:a}),m=ye(C,2),v=m[0],y=m[1];function w(R,A){var P=v;return l||(P=R,y(P),g==null||g(P,A)),P}function x(R){R.which===he.LEFT?w(!1,R):R.which===he.RIGHT&&w(!0,R),p==null||p(R)}function S(R){var A=w(!v,R);d==null||d(A,R)}var b=Ko(r,n,(i={},de(i,"".concat(r,"-checked"),v),de(i,"".concat(r,"-disabled"),l),i));return F.createElement("button",Fn({},f,{type:"button",role:"switch","aria-checked":v,disabled:l,className:b,ref:e,onKeyDown:x,onClick:S}),c,F.createElement("span",{className:"".concat(r,"-inner")},F.createElement("span",{className:"".concat(r,"-inner-checked")},u),F.createElement("span",{className:"".concat(r,"-inner-unchecked")},h)))});AA.displayName="Switch";const xU=t=>{const{componentCls:e,trackHeightSM:i,trackPadding:s,trackMinWidthSM:r,innerMinMarginSM:n,innerMaxMarginSM:o,handleSizeSM:a,calc:l}=t,c=`${e}-inner`,u=Ki(l(a).add(l(s).mul(2)).equal()),h=Ki(l(o).mul(2).equal());return{[e]:{[`&${e}-small`]:{minWidth:r,height:i,lineHeight:Ki(i),[`${e}-inner`]:{paddingInlineStart:o,paddingInlineEnd:n,[`${c}-checked, ${c}-unchecked`]:{minHeight:i},[`${c}-checked`]:{marginInlineStart:`calc(-100% + ${u} - ${h})`,marginInlineEnd:`calc(100% - ${u} + ${h})`},[`${c}-unchecked`]:{marginTop:l(i).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${e}-handle`]:{width:a,height:a},[`${e}-loading-icon`]:{top:l(l(a).sub(t.switchLoadingIconSize)).div(2).equal(),fontSize:t.switchLoadingIconSize},[`&${e}-checked`]:{[`${e}-inner`]:{paddingInlineStart:n,paddingInlineEnd:o,[`${c}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${c}-unchecked`]:{marginInlineStart:`calc(100% - ${u} + ${h})`,marginInlineEnd:`calc(-100% + ${u} - ${h})`}},[`${e}-handle`]:{insetInlineStart:`calc(100% - ${Ki(l(a).add(s).equal())})`}},[`&:not(${e}-disabled):active`]:{[`&:not(${e}-checked) ${c}`]:{[`${c}-unchecked`]:{marginInlineStart:l(t.marginXXS).div(2).equal(),marginInlineEnd:l(t.marginXXS).mul(-1).div(2).equal()}},[`&${e}-checked ${c}`]:{[`${c}-checked`]:{marginInlineStart:l(t.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:l(t.marginXXS).div(2).equal()}}}}}}},bU=t=>{const{componentCls:e,handleSize:i,calc:s}=t;return{[e]:{[`${e}-loading-icon${t.iconCls}`]:{position:"relative",top:s(s(i).sub(t.fontSize)).div(2).equal(),color:t.switchLoadingIconColor,verticalAlign:"top"},[`&${e}-checked ${e}-loading-icon`]:{color:t.switchColor}}}},SU=t=>{const{componentCls:e,trackPadding:i,handleBg:s,handleShadow:r,handleSize:n,calc:o}=t,a=`${e}-handle`;return{[e]:{[a]:{position:"absolute",top:i,insetInlineStart:i,width:n,height:n,transition:`all ${t.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:s,borderRadius:o(n).div(2).equal(),boxShadow:r,transition:`all ${t.switchDuration} ease-in-out`,content:'""'}},[`&${e}-checked ${a}`]:{insetInlineStart:`calc(100% - ${Ki(o(n).add(i).equal())})`},[`&:not(${e}-disabled):active`]:{[`${a}::before`]:{insetInlineEnd:t.switchHandleActiveInset,insetInlineStart:0},[`&${e}-checked ${a}::before`]:{insetInlineEnd:0,insetInlineStart:t.switchHandleActiveInset}}}}},RU=t=>{const{componentCls:e,trackHeight:i,trackPadding:s,innerMinMargin:r,innerMaxMargin:n,handleSize:o,calc:a}=t,l=`${e}-inner`,c=Ki(a(o).add(a(s).mul(2)).equal()),u=Ki(a(n).mul(2).equal());return{[e]:{[l]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:n,paddingInlineEnd:r,transition:`padding-inline-start ${t.switchDuration} ease-in-out, padding-inline-end ${t.switchDuration} ease-in-out`,[`${l}-checked, ${l}-unchecked`]:{display:"block",color:t.colorTextLightSolid,fontSize:t.fontSizeSM,transition:`margin-inline-start ${t.switchDuration} ease-in-out, margin-inline-end ${t.switchDuration} ease-in-out`,pointerEvents:"none",minHeight:i},[`${l}-checked`]:{marginInlineStart:`calc(-100% + ${c} - ${u})`,marginInlineEnd:`calc(100% - ${c} + ${u})`},[`${l}-unchecked`]:{marginTop:a(i).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${e}-checked ${l}`]:{paddingInlineStart:r,paddingInlineEnd:n,[`${l}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${l}-unchecked`]:{marginInlineStart:`calc(100% - ${c} + ${u})`,marginInlineEnd:`calc(-100% + ${c} - ${u})`}},[`&:not(${e}-disabled):active`]:{[`&:not(${e}-checked) ${l}`]:{[`${l}-unchecked`]:{marginInlineStart:a(s).mul(2).equal(),marginInlineEnd:a(s).mul(-1).mul(2).equal()}},[`&${e}-checked ${l}`]:{[`${l}-checked`]:{marginInlineStart:a(s).mul(-1).mul(2).equal(),marginInlineEnd:a(s).mul(2).equal()}}}}}},FU=t=>{const{componentCls:e,trackHeight:i,trackMinWidth:s}=t;return{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},ZV(t)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:s,height:i,lineHeight:Ki(i),verticalAlign:"middle",background:t.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${t.motionDurationMid}`,userSelect:"none",[`&:hover:not(${e}-disabled)`]:{background:t.colorTextTertiary}}),s_(t)),{[`&${e}-checked`]:{background:t.switchColor,[`&:hover:not(${e}-disabled)`]:{background:t.colorPrimaryHover}},[`&${e}-loading, &${e}-disabled`]:{cursor:"not-allowed",opacity:t.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${e}-rtl`]:{direction:"rtl"}})}},AU=t=>{const{fontSize:e,lineHeight:i,controlHeight:s,colorWhite:r}=t,n=e*i,o=s/2,a=2,l=n-a*2,c=o-a*2;return{trackHeight:n,trackHeightSM:o,trackMinWidth:l*2+a*4,trackMinWidthSM:c*2+a*2,trackPadding:a,handleBg:r,handleSize:l,handleSizeSM:c,handleShadow:`0 2px 4px 0 ${new It("#00230b").setAlpha(.2).toRgbString()}`,innerMinMargin:l/2,innerMaxMargin:l+a+a*2,innerMinMarginSM:c/2,innerMaxMarginSM:c+a+a*2}},PU=r_("Switch",t=>{const e=nC(t,{switchDuration:t.motionDurationMid,switchColor:t.colorPrimary,switchDisabledOpacity:t.opacityLoading,switchLoadingIconSize:t.calc(t.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${t.opacityLoading})`,switchHandleActiveInset:"-30%"});return[FU(e),RU(e),SU(e),bU(e),xU(e)]},AU);var EU=function(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(i[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(i[s[r]]=t[s[r]]);return i};const kU=F.forwardRef((t,e)=>{const{prefixCls:i,size:s,disabled:r,loading:n,className:o,rootClassName:a,style:l,checked:c,value:u,defaultChecked:h,defaultValue:d,onChange:g}=t,p=EU(t,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[f,C]=iA(!1,{value:c??u,defaultValue:h??d}),{getPrefixCls:m,direction:v,switch:y}=F.useContext(Ar),w=F.useContext(ah),x=(r??w)||n,S=m("switch",i),b=F.createElement("div",{className:`${S}-handle`},n&&F.createElement(eU,{className:`${S}-loading-icon`})),[R,A,P]=PU(S),E=yU(s),L=Ko(y==null?void 0:y.className,{[`${S}-small`]:E==="small",[`${S}-loading`]:n,[`${S}-rtl`]:v==="rtl"},o,a,A,P),M=Object.assign(Object.assign({},y==null?void 0:y.style),l),I=function(){C(arguments.length<=0?void 0:arguments[0]),g==null||g.apply(void 0,arguments)};return R(F.createElement(CU,{component:"Switch"},F.createElement(AA,Object.assign({},p,{checked:f,onChange:I,prefixCls:S,className:L,style:M,disabled:x,ref:e,loadingIcon:b}))))}),PA=kU;PA.__ANT_SWITCH=!0;const MU=(t,e)=>{const i=new Date(e.split("T")[0]),s=new Date(t);return s.getTime()===i.getTime()?0:i<s?-1:i>s?1:0},TU={comparator:MU,inRangeFloatingFilterDateFormat:"dd-MM-yyyy"};function EA(t,e){return function(){return t.apply(e,arguments)}}const{toString:DU}=Object.prototype,{getPrototypeOf:aC}=Object,ld=(t=>e=>{const i=DU.call(e);return t[i]||(t[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),os=t=>(t=t.toLowerCase(),e=>ld(e)===t),cd=t=>e=>typeof e===t,{isArray:Zo}=Array,Fl=cd("undefined");function LU(t){return t!==null&&!Fl(t)&&t.constructor!==null&&!Fl(t.constructor)&&gi(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const kA=os("ArrayBuffer");function IU(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&kA(t.buffer),e}const OU=cd("string"),gi=cd("function"),MA=cd("number"),ud=t=>t!==null&&typeof t=="object",HU=t=>t===!0||t===!1,hu=t=>{if(ld(t)!=="object")return!1;const e=aC(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},NU=os("Date"),GU=os("File"),BU=os("Blob"),WU=os("FileList"),zU=t=>ud(t)&&gi(t.pipe),VU=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||gi(t.append)&&((e=ld(t))==="formdata"||e==="object"&&gi(t.toString)&&t.toString()==="[object FormData]"))},_U=os("URLSearchParams"),[UU,XU,jU,YU]=["ReadableStream","Request","Response","Headers"].map(os),$U=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Yl(t,e,{allOwnKeys:i=!1}={}){if(t===null||typeof t>"u")return;let s,r;if(typeof t!="object"&&(t=[t]),Zo(t))for(s=0,r=t.length;s<r;s++)e.call(null,t[s],s,t);else{const n=i?Object.getOwnPropertyNames(t):Object.keys(t),o=n.length;let a;for(s=0;s<o;s++)a=n[s],e.call(null,t[a],a,t)}}function TA(t,e){e=e.toLowerCase();const i=Object.keys(t);let s=i.length,r;for(;s-- >0;)if(r=i[s],e===r.toLowerCase())return r;return null}const en=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,DA=t=>!Fl(t)&&t!==en;function Vf(){const{caseless:t}=DA(this)&&this||{},e={},i=(s,r)=>{const n=t&&TA(e,r)||r;hu(e[n])&&hu(s)?e[n]=Vf(e[n],s):hu(s)?e[n]=Vf({},s):Zo(s)?e[n]=s.slice():e[n]=s};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&Yl(arguments[s],i);return e}const KU=(t,e,i,{allOwnKeys:s}={})=>(Yl(e,(r,n)=>{i&&gi(r)?t[n]=EA(r,i):t[n]=r},{allOwnKeys:s}),t),qU=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),QU=(t,e,i,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),i&&Object.assign(t.prototype,i)},ZU=(t,e,i,s)=>{let r,n,o;const a={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),n=r.length;n-- >0;)o=r[n],(!s||s(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=i!==!1&&aC(t)}while(t&&(!i||i(t,e))&&t!==Object.prototype);return e},JU=(t,e,i)=>{t=String(t),(i===void 0||i>t.length)&&(i=t.length),i-=e.length;const s=t.indexOf(e,i);return s!==-1&&s===i},e3=t=>{if(!t)return null;if(Zo(t))return t;let e=t.length;if(!MA(e))return null;const i=new Array(e);for(;e-- >0;)i[e]=t[e];return i},t3=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&aC(Uint8Array)),i3=(t,e)=>{const s=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=s.next())&&!r.done;){const n=r.value;e.call(t,n[0],n[1])}},s3=(t,e)=>{let i;const s=[];for(;(i=t.exec(e))!==null;)s.push(i);return s},r3=os("HTMLFormElement"),n3=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,s,r){return s.toUpperCase()+r}),cx=(({hasOwnProperty:t})=>(e,i)=>t.call(e,i))(Object.prototype),o3=os("RegExp"),LA=(t,e)=>{const i=Object.getOwnPropertyDescriptors(t),s={};Yl(i,(r,n)=>{let o;(o=e(r,n,t))!==!1&&(s[n]=o||r)}),Object.defineProperties(t,s)},a3=t=>{LA(t,(e,i)=>{if(gi(t)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const s=t[i];if(gi(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},l3=(t,e)=>{const i={},s=r=>{r.forEach(n=>{i[n]=!0})};return Zo(t)?s(t):s(String(t).split(e)),i},c3=()=>{},u3=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Sg="abcdefghijklmnopqrstuvwxyz",ux="0123456789",IA={DIGIT:ux,ALPHA:Sg,ALPHA_DIGIT:Sg+Sg.toUpperCase()+ux},h3=(t=16,e=IA.ALPHA_DIGIT)=>{let i="";const{length:s}=e;for(;t--;)i+=e[Math.random()*s|0];return i};function d3(t){return!!(t&&gi(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const g3=t=>{const e=new Array(10),i=(s,r)=>{if(ud(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[r]=s;const n=Zo(s)?[]:{};return Yl(s,(o,a)=>{const l=i(o,r+1);!Fl(l)&&(n[a]=l)}),e[r]=void 0,n}}return s};return i(t,0)},p3=os("AsyncFunction"),f3=t=>t&&(ud(t)||gi(t))&&gi(t.then)&&gi(t.catch),OA=((t,e)=>t?setImmediate:e?((i,s)=>(en.addEventListener("message",({source:r,data:n})=>{r===en&&n===i&&s.length&&s.shift()()},!1),r=>{s.push(r),en.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",gi(en.postMessage)),m3=typeof queueMicrotask<"u"?queueMicrotask.bind(en):typeof process<"u"&&process.nextTick||OA,V={isArray:Zo,isArrayBuffer:kA,isBuffer:LU,isFormData:VU,isArrayBufferView:IU,isString:OU,isNumber:MA,isBoolean:HU,isObject:ud,isPlainObject:hu,isReadableStream:UU,isRequest:XU,isResponse:jU,isHeaders:YU,isUndefined:Fl,isDate:NU,isFile:GU,isBlob:BU,isRegExp:o3,isFunction:gi,isStream:zU,isURLSearchParams:_U,isTypedArray:t3,isFileList:WU,forEach:Yl,merge:Vf,extend:KU,trim:$U,stripBOM:qU,inherits:QU,toFlatObject:ZU,kindOf:ld,kindOfTest:os,endsWith:JU,toArray:e3,forEachEntry:i3,matchAll:s3,isHTMLForm:r3,hasOwnProperty:cx,hasOwnProp:cx,reduceDescriptors:LA,freezeMethods:a3,toObjectSet:l3,toCamelCase:n3,noop:c3,toFiniteNumber:u3,findKey:TA,global:en,isContextDefined:DA,ALPHABET:IA,generateString:h3,isSpecCompliantForm:d3,toJSONObject:g3,isAsyncFn:p3,isThenable:f3,setImmediate:OA,asap:m3};function Ce(t,e,i,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),i&&(this.config=i),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}V.inherits(Ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.status}}});const HA=Ce.prototype,NA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{NA[t]={value:t}});Object.defineProperties(Ce,NA);Object.defineProperty(HA,"isAxiosError",{value:!0});Ce.from=(t,e,i,s,r,n)=>{const o=Object.create(HA);return V.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Ce.call(o,t.message,e,i,s,r),o.cause=t,o.name=t.name,n&&Object.assign(o,n),o};const v3=null;function _f(t){return V.isPlainObject(t)||V.isArray(t)}function GA(t){return V.endsWith(t,"[]")?t.slice(0,-2):t}function hx(t,e,i){return t?t.concat(e).map(function(r,n){return r=GA(r),!i&&n?"["+r+"]":r}).join(i?".":""):e}function C3(t){return V.isArray(t)&&!t.some(_f)}const y3=V.toFlatObject(V,{},null,function(e){return/^is[A-Z]/.test(e)});function hd(t,e,i){if(!V.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,i=V.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(f,C){return!V.isUndefined(C[f])});const s=i.metaTokens,r=i.visitor||u,n=i.dots,o=i.indexes,l=(i.Blob||typeof Blob<"u"&&Blob)&&V.isSpecCompliantForm(e);if(!V.isFunction(r))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(V.isDate(p))return p.toISOString();if(!l&&V.isBlob(p))throw new Ce("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(p)||V.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,f,C){let m=p;if(p&&!C&&typeof p=="object"){if(V.endsWith(f,"{}"))f=s?f:f.slice(0,-2),p=JSON.stringify(p);else if(V.isArray(p)&&C3(p)||(V.isFileList(p)||V.endsWith(f,"[]"))&&(m=V.toArray(p)))return f=GA(f),m.forEach(function(y,w){!(V.isUndefined(y)||y===null)&&e.append(o===!0?hx([f],w,n):o===null?f:f+"[]",c(y))}),!1}return _f(p)?!0:(e.append(hx(C,f,n),c(p)),!1)}const h=[],d=Object.assign(y3,{defaultVisitor:u,convertValue:c,isVisitable:_f});function g(p,f){if(!V.isUndefined(p)){if(h.indexOf(p)!==-1)throw Error("Circular reference detected in "+f.join("."));h.push(p),V.forEach(p,function(m,v){(!(V.isUndefined(m)||m===null)&&r.call(e,m,V.isString(v)?v.trim():v,f,d))===!0&&g(m,f?f.concat(v):[v])}),h.pop()}}if(!V.isObject(t))throw new TypeError("data must be an object");return g(t),e}function dx(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function lC(t,e){this._pairs=[],t&&hd(t,this,e)}const BA=lC.prototype;BA.append=function(e,i){this._pairs.push([e,i])};BA.toString=function(e){const i=e?function(s){return e.call(this,s,dx)}:dx;return this._pairs.map(function(r){return i(r[0])+"="+i(r[1])},"").join("&")};function w3(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function WA(t,e,i){if(!e)return t;const s=i&&i.encode||w3,r=i&&i.serialize;let n;if(r?n=r(e,i):n=V.isURLSearchParams(e)?e.toString():new lC(e,i).toString(s),n){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+n}return t}class gx{constructor(){this.handlers=[]}use(e,i,s){return this.handlers.push({fulfilled:e,rejected:i,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){V.forEach(this.handlers,function(s){s!==null&&e(s)})}}const zA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},x3=typeof URLSearchParams<"u"?URLSearchParams:lC,b3=typeof FormData<"u"?FormData:null,S3=typeof Blob<"u"?Blob:null,R3={isBrowser:!0,classes:{URLSearchParams:x3,FormData:b3,Blob:S3},protocols:["http","https","file","blob","url","data"]},cC=typeof window<"u"&&typeof document<"u",Uf=typeof navigator=="object"&&navigator||void 0,F3=cC&&(!Uf||["ReactNative","NativeScript","NS"].indexOf(Uf.product)<0),A3=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",P3=cC&&window.location.href||"http://localhost",E3=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:cC,hasStandardBrowserEnv:F3,hasStandardBrowserWebWorkerEnv:A3,navigator:Uf,origin:P3},Symbol.toStringTag,{value:"Module"})),ri={...E3,...R3};function k3(t,e){return hd(t,new ri.classes.URLSearchParams,Object.assign({visitor:function(i,s,r,n){return ri.isNode&&V.isBuffer(i)?(this.append(s,i.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},e))}function M3(t){return V.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function T3(t){const e={},i=Object.keys(t);let s;const r=i.length;let n;for(s=0;s<r;s++)n=i[s],e[n]=t[n];return e}function VA(t){function e(i,s,r,n){let o=i[n++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=n>=i.length;return o=!o&&V.isArray(r)?r.length:o,l?(V.hasOwnProp(r,o)?r[o]=[r[o],s]:r[o]=s,!a):((!r[o]||!V.isObject(r[o]))&&(r[o]=[]),e(i,s,r[o],n)&&V.isArray(r[o])&&(r[o]=T3(r[o])),!a)}if(V.isFormData(t)&&V.isFunction(t.entries)){const i={};return V.forEachEntry(t,(s,r)=>{e(M3(s),r,i,0)}),i}return null}function D3(t,e,i){if(V.isString(t))try{return(e||JSON.parse)(t),V.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(0,JSON.stringify)(t)}const $l={transitional:zA,adapter:["xhr","http","fetch"],transformRequest:[function(e,i){const s=i.getContentType()||"",r=s.indexOf("application/json")>-1,n=V.isObject(e);if(n&&V.isHTMLForm(e)&&(e=new FormData(e)),V.isFormData(e))return r?JSON.stringify(VA(e)):e;if(V.isArrayBuffer(e)||V.isBuffer(e)||V.isStream(e)||V.isFile(e)||V.isBlob(e)||V.isReadableStream(e))return e;if(V.isArrayBufferView(e))return e.buffer;if(V.isURLSearchParams(e))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(n){if(s.indexOf("application/x-www-form-urlencoded")>-1)return k3(e,this.formSerializer).toString();if((a=V.isFileList(e))||s.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return hd(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return n||r?(i.setContentType("application/json",!1),D3(e)):e}],transformResponse:[function(e){const i=this.transitional||$l.transitional,s=i&&i.forcedJSONParsing,r=this.responseType==="json";if(V.isResponse(e)||V.isReadableStream(e))return e;if(e&&V.isString(e)&&(s&&!this.responseType||r)){const o=!(i&&i.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Ce.from(a,Ce.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ri.classes.FormData,Blob:ri.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],t=>{$l.headers[t]={}});const L3=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),I3=t=>{const e={};let i,s,r;return t&&t.split(`
`).forEach(function(o){r=o.indexOf(":"),i=o.substring(0,r).trim().toLowerCase(),s=o.substring(r+1).trim(),!(!i||e[i]&&L3[i])&&(i==="set-cookie"?e[i]?e[i].push(s):e[i]=[s]:e[i]=e[i]?e[i]+", "+s:s)}),e},px=Symbol("internals");function xa(t){return t&&String(t).trim().toLowerCase()}function du(t){return t===!1||t==null?t:V.isArray(t)?t.map(du):String(t)}function O3(t){const e=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=i.exec(t);)e[s[1]]=s[2];return e}const H3=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Rg(t,e,i,s,r){if(V.isFunction(s))return s.call(this,e,i);if(r&&(e=i),!!V.isString(e)){if(V.isString(s))return e.indexOf(s)!==-1;if(V.isRegExp(s))return s.test(e)}}function N3(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,i,s)=>i.toUpperCase()+s)}function G3(t,e){const i=V.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+i,{value:function(r,n,o){return this[s].call(this,e,r,n,o)},configurable:!0})})}class ni{constructor(e){e&&this.set(e)}set(e,i,s){const r=this;function n(a,l,c){const u=xa(l);if(!u)throw new Error("header name must be a non-empty string");const h=V.findKey(r,u);(!h||r[h]===void 0||c===!0||c===void 0&&r[h]!==!1)&&(r[h||l]=du(a))}const o=(a,l)=>V.forEach(a,(c,u)=>n(c,u,l));if(V.isPlainObject(e)||e instanceof this.constructor)o(e,i);else if(V.isString(e)&&(e=e.trim())&&!H3(e))o(I3(e),i);else if(V.isHeaders(e))for(const[a,l]of e.entries())n(l,a,s);else e!=null&&n(i,e,s);return this}get(e,i){if(e=xa(e),e){const s=V.findKey(this,e);if(s){const r=this[s];if(!i)return r;if(i===!0)return O3(r);if(V.isFunction(i))return i.call(this,r,s);if(V.isRegExp(i))return i.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,i){if(e=xa(e),e){const s=V.findKey(this,e);return!!(s&&this[s]!==void 0&&(!i||Rg(this,this[s],s,i)))}return!1}delete(e,i){const s=this;let r=!1;function n(o){if(o=xa(o),o){const a=V.findKey(s,o);a&&(!i||Rg(s,s[a],a,i))&&(delete s[a],r=!0)}}return V.isArray(e)?e.forEach(n):n(e),r}clear(e){const i=Object.keys(this);let s=i.length,r=!1;for(;s--;){const n=i[s];(!e||Rg(this,this[n],n,e,!0))&&(delete this[n],r=!0)}return r}normalize(e){const i=this,s={};return V.forEach(this,(r,n)=>{const o=V.findKey(s,n);if(o){i[o]=du(r),delete i[n];return}const a=e?N3(n):String(n).trim();a!==n&&delete i[n],i[a]=du(r),s[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const i=Object.create(null);return V.forEach(this,(s,r)=>{s!=null&&s!==!1&&(i[r]=e&&V.isArray(s)?s.join(", "):s)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,i])=>e+": "+i).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...i){const s=new this(e);return i.forEach(r=>s.set(r)),s}static accessor(e){const s=(this[px]=this[px]={accessors:{}}).accessors,r=this.prototype;function n(o){const a=xa(o);s[a]||(G3(r,o),s[a]=!0)}return V.isArray(e)?e.forEach(n):n(e),this}}ni.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);V.reduceDescriptors(ni.prototype,({value:t},e)=>{let i=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[i]=s}}});V.freezeMethods(ni);function Fg(t,e){const i=this||$l,s=e||i,r=ni.from(s.headers);let n=s.data;return V.forEach(t,function(a){n=a.call(i,n,r.normalize(),e?e.status:void 0)}),r.normalize(),n}function _A(t){return!!(t&&t.__CANCEL__)}function Jo(t,e,i){Ce.call(this,t??"canceled",Ce.ERR_CANCELED,e,i),this.name="CanceledError"}V.inherits(Jo,Ce,{__CANCEL__:!0});function UA(t,e,i){const s=i.config.validateStatus;!i.status||!s||s(i.status)?t(i):e(new Ce("Request failed with status code "+i.status,[Ce.ERR_BAD_REQUEST,Ce.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function B3(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function W3(t,e){t=t||10;const i=new Array(t),s=new Array(t);let r=0,n=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=s[n];o||(o=c),i[r]=l,s[r]=c;let h=n,d=0;for(;h!==r;)d+=i[h++],h=h%t;if(r=(r+1)%t,r===n&&(n=(n+1)%t),c-o<e)return;const g=u&&c-u;return g?Math.round(d*1e3/g):void 0}}function z3(t,e){let i=0,s=1e3/e,r,n;const o=(c,u=Date.now())=>{i=u,r=null,n&&(clearTimeout(n),n=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),h=u-i;h>=s?o(c,u):(r=c,n||(n=setTimeout(()=>{n=null,o(r)},s-h)))},()=>r&&o(r)]}const ch=(t,e,i=3)=>{let s=0;const r=W3(50,250);return z3(n=>{const o=n.loaded,a=n.lengthComputable?n.total:void 0,l=o-s,c=r(l),u=o<=a;s=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:n,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},i)},fx=(t,e)=>{const i=t!=null;return[s=>e[0]({lengthComputable:i,total:t,loaded:s}),e[1]]},mx=t=>(...e)=>V.asap(()=>t(...e)),V3=ri.hasStandardBrowserEnv?function(){const e=ri.navigator&&/(msie|trident)/i.test(ri.navigator.userAgent),i=document.createElement("a");let s;function r(n){let o=n;return e&&(i.setAttribute("href",o),o=i.href),i.setAttribute("href",o),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return s=r(window.location.href),function(o){const a=V.isString(o)?r(o):o;return a.protocol===s.protocol&&a.host===s.host}}():function(){return function(){return!0}}(),_3=ri.hasStandardBrowserEnv?{write(t,e,i,s,r,n){const o=[t+"="+encodeURIComponent(e)];V.isNumber(i)&&o.push("expires="+new Date(i).toGMTString()),V.isString(s)&&o.push("path="+s),V.isString(r)&&o.push("domain="+r),n===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function U3(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function X3(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function XA(t,e){return t&&!U3(e)?X3(t,e):e}const vx=t=>t instanceof ni?{...t}:t;function Pn(t,e){e=e||{};const i={};function s(c,u,h){return V.isPlainObject(c)&&V.isPlainObject(u)?V.merge.call({caseless:h},c,u):V.isPlainObject(u)?V.merge({},u):V.isArray(u)?u.slice():u}function r(c,u,h){if(V.isUndefined(u)){if(!V.isUndefined(c))return s(void 0,c,h)}else return s(c,u,h)}function n(c,u){if(!V.isUndefined(u))return s(void 0,u)}function o(c,u){if(V.isUndefined(u)){if(!V.isUndefined(c))return s(void 0,c)}else return s(void 0,u)}function a(c,u,h){if(h in e)return s(c,u);if(h in t)return s(void 0,c)}const l={url:n,method:n,data:n,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u)=>r(vx(c),vx(u),!0)};return V.forEach(Object.keys(Object.assign({},t,e)),function(u){const h=l[u]||r,d=h(t[u],e[u],u);V.isUndefined(d)&&h!==a||(i[u]=d)}),i}const jA=t=>{const e=Pn({},t);let{data:i,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:n,headers:o,auth:a}=e;e.headers=o=ni.from(o),e.url=WA(XA(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(V.isFormData(i)){if(ri.hasStandardBrowserEnv||ri.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(ri.hasStandardBrowserEnv&&(s&&V.isFunction(s)&&(s=s(e)),s||s!==!1&&V3(e.url))){const c=r&&n&&_3.read(n);c&&o.set(r,c)}return e},j3=typeof XMLHttpRequest<"u",Y3=j3&&function(t){return new Promise(function(i,s){const r=jA(t);let n=r.data;const o=ni.from(r.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=r,u,h,d,g,p;function f(){g&&g(),p&&p(),r.cancelToken&&r.cancelToken.unsubscribe(u),r.signal&&r.signal.removeEventListener("abort",u)}let C=new XMLHttpRequest;C.open(r.method.toUpperCase(),r.url,!0),C.timeout=r.timeout;function m(){if(!C)return;const y=ni.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),x={data:!a||a==="text"||a==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:y,config:t,request:C};UA(function(b){i(b),f()},function(b){s(b),f()},x),C=null}"onloadend"in C?C.onloadend=m:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(m)},C.onabort=function(){C&&(s(new Ce("Request aborted",Ce.ECONNABORTED,t,C)),C=null)},C.onerror=function(){s(new Ce("Network Error",Ce.ERR_NETWORK,t,C)),C=null},C.ontimeout=function(){let w=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const x=r.transitional||zA;r.timeoutErrorMessage&&(w=r.timeoutErrorMessage),s(new Ce(w,x.clarifyTimeoutError?Ce.ETIMEDOUT:Ce.ECONNABORTED,t,C)),C=null},n===void 0&&o.setContentType(null),"setRequestHeader"in C&&V.forEach(o.toJSON(),function(w,x){C.setRequestHeader(x,w)}),V.isUndefined(r.withCredentials)||(C.withCredentials=!!r.withCredentials),a&&a!=="json"&&(C.responseType=r.responseType),c&&([d,p]=ch(c,!0),C.addEventListener("progress",d)),l&&C.upload&&([h,g]=ch(l),C.upload.addEventListener("progress",h),C.upload.addEventListener("loadend",g)),(r.cancelToken||r.signal)&&(u=y=>{C&&(s(!y||y.type?new Jo(null,t,C):y),C.abort(),C=null)},r.cancelToken&&r.cancelToken.subscribe(u),r.signal&&(r.signal.aborted?u():r.signal.addEventListener("abort",u)));const v=B3(r.url);if(v&&ri.protocols.indexOf(v)===-1){s(new Ce("Unsupported protocol "+v+":",Ce.ERR_BAD_REQUEST,t));return}C.send(n||null)})},$3=(t,e)=>{const{length:i}=t=t?t.filter(Boolean):[];if(e||i){let s=new AbortController,r;const n=function(c){if(!r){r=!0,a();const u=c instanceof Error?c:this.reason;s.abort(u instanceof Ce?u:new Jo(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,n(new Ce(`timeout ${e} of ms exceeded`,Ce.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(n):c.removeEventListener("abort",n)}),t=null)};t.forEach(c=>c.addEventListener("abort",n));const{signal:l}=s;return l.unsubscribe=()=>V.asap(a),l}},K3=function*(t,e){let i=t.byteLength;if(i<e){yield t;return}let s=0,r;for(;s<i;)r=s+e,yield t.slice(s,r),s=r},q3=async function*(t,e){for await(const i of Q3(t))yield*K3(i,e)},Q3=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:i,value:s}=await e.read();if(i)break;yield s}}finally{await e.cancel()}},Cx=(t,e,i,s)=>{const r=q3(t,e);let n=0,o,a=l=>{o||(o=!0,s&&s(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await r.next();if(c){a(),l.close();return}let h=u.byteLength;if(i){let d=n+=h;i(d)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),r.return()}},{highWaterMark:2})},dd=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",YA=dd&&typeof ReadableStream=="function",Z3=dd&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),$A=(t,...e)=>{try{return!!t(...e)}catch{return!1}},J3=YA&&$A(()=>{let t=!1;const e=new Request(ri.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),yx=64*1024,Xf=YA&&$A(()=>V.isReadableStream(new Response("").body)),uh={stream:Xf&&(t=>t.body)};dd&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!uh[e]&&(uh[e]=V.isFunction(t[e])?i=>i[e]():(i,s)=>{throw new Ce(`Response type '${e}' is not supported`,Ce.ERR_NOT_SUPPORT,s)})})})(new Response);const eX=async t=>{if(t==null)return 0;if(V.isBlob(t))return t.size;if(V.isSpecCompliantForm(t))return(await new Request(ri.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(V.isArrayBufferView(t)||V.isArrayBuffer(t))return t.byteLength;if(V.isURLSearchParams(t)&&(t=t+""),V.isString(t))return(await Z3(t)).byteLength},tX=async(t,e)=>{const i=V.toFiniteNumber(t.getContentLength());return i??eX(e)},iX=dd&&(async t=>{let{url:e,method:i,data:s,signal:r,cancelToken:n,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:h="same-origin",fetchOptions:d}=jA(t);c=c?(c+"").toLowerCase():"text";let g=$3([r,n&&n.toAbortSignal()],o),p;const f=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let C;try{if(l&&J3&&i!=="get"&&i!=="head"&&(C=await tX(u,s))!==0){let x=new Request(e,{method:"POST",body:s,duplex:"half"}),S;if(V.isFormData(s)&&(S=x.headers.get("content-type"))&&u.setContentType(S),x.body){const[b,R]=fx(C,ch(mx(l)));s=Cx(x.body,yx,b,R)}}V.isString(h)||(h=h?"include":"omit");const m="credentials"in Request.prototype;p=new Request(e,{...d,signal:g,method:i.toUpperCase(),headers:u.normalize().toJSON(),body:s,duplex:"half",credentials:m?h:void 0});let v=await fetch(p);const y=Xf&&(c==="stream"||c==="response");if(Xf&&(a||y&&f)){const x={};["status","statusText","headers"].forEach(A=>{x[A]=v[A]});const S=V.toFiniteNumber(v.headers.get("content-length")),[b,R]=a&&fx(S,ch(mx(a),!0))||[];v=new Response(Cx(v.body,yx,b,()=>{R&&R(),f&&f()}),x)}c=c||"text";let w=await uh[V.findKey(uh,c)||"text"](v,t);return!y&&f&&f(),await new Promise((x,S)=>{UA(x,S,{data:w,headers:ni.from(v.headers),status:v.status,statusText:v.statusText,config:t,request:p})})}catch(m){throw f&&f(),m&&m.name==="TypeError"&&/fetch/i.test(m.message)?Object.assign(new Ce("Network Error",Ce.ERR_NETWORK,t,p),{cause:m.cause||m}):Ce.from(m,m&&m.code,t,p)}}),jf={http:v3,xhr:Y3,fetch:iX};V.forEach(jf,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const wx=t=>`- ${t}`,sX=t=>V.isFunction(t)||t===null||t===!1,KA={getAdapter:t=>{t=V.isArray(t)?t:[t];const{length:e}=t;let i,s;const r={};for(let n=0;n<e;n++){i=t[n];let o;if(s=i,!sX(i)&&(s=jf[(o=String(i)).toLowerCase()],s===void 0))throw new Ce(`Unknown adapter '${o}'`);if(s)break;r[o||"#"+n]=s}if(!s){const n=Object.entries(r).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?n.length>1?`since :
`+n.map(wx).join(`
`):" "+wx(n[0]):"as no adapter specified";throw new Ce("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:jf};function Ag(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Jo(null,t)}function xx(t){return Ag(t),t.headers=ni.from(t.headers),t.data=Fg.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),KA.getAdapter(t.adapter||$l.adapter)(t).then(function(s){return Ag(t),s.data=Fg.call(t,t.transformResponse,s),s.headers=ni.from(s.headers),s},function(s){return _A(s)||(Ag(t),s&&s.response&&(s.response.data=Fg.call(t,t.transformResponse,s.response),s.response.headers=ni.from(s.response.headers))),Promise.reject(s)})}const qA="1.7.7",uC={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{uC[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const bx={};uC.transitional=function(e,i,s){function r(n,o){return"[Axios v"+qA+"] Transitional option '"+n+"'"+o+(s?". "+s:"")}return(n,o,a)=>{if(e===!1)throw new Ce(r(o," has been removed"+(i?" in "+i:"")),Ce.ERR_DEPRECATED);return i&&!bx[o]&&(bx[o]=!0,console.warn(r(o," has been deprecated since v"+i+" and will be removed in the near future"))),e?e(n,o,a):!0}};function rX(t,e,i){if(typeof t!="object")throw new Ce("options must be an object",Ce.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let r=s.length;for(;r-- >0;){const n=s[r],o=e[n];if(o){const a=t[n],l=a===void 0||o(a,n,t);if(l!==!0)throw new Ce("option "+n+" must be "+l,Ce.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new Ce("Unknown option "+n,Ce.ERR_BAD_OPTION)}}const Yf={assertOptions:rX,validators:uC},Zs=Yf.validators;class fn{constructor(e){this.defaults=e,this.interceptors={request:new gx,response:new gx}}async request(e,i){try{return await this._request(e,i)}catch(s){if(s instanceof Error){let r;Error.captureStackTrace?Error.captureStackTrace(r={}):r=new Error;const n=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?n&&!String(s.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+n):s.stack=n}catch{}}throw s}}_request(e,i){typeof e=="string"?(i=i||{},i.url=e):i=e||{},i=Pn(this.defaults,i);const{transitional:s,paramsSerializer:r,headers:n}=i;s!==void 0&&Yf.assertOptions(s,{silentJSONParsing:Zs.transitional(Zs.boolean),forcedJSONParsing:Zs.transitional(Zs.boolean),clarifyTimeoutError:Zs.transitional(Zs.boolean)},!1),r!=null&&(V.isFunction(r)?i.paramsSerializer={serialize:r}:Yf.assertOptions(r,{encode:Zs.function,serialize:Zs.function},!0)),i.method=(i.method||this.defaults.method||"get").toLowerCase();let o=n&&V.merge(n.common,n[i.method]);n&&V.forEach(["delete","get","head","post","put","patch","common"],p=>{delete n[p]}),i.headers=ni.concat(o,n);const a=[];let l=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(i)===!1||(l=l&&f.synchronous,a.unshift(f.fulfilled,f.rejected))});const c=[];this.interceptors.response.forEach(function(f){c.push(f.fulfilled,f.rejected)});let u,h=0,d;if(!l){const p=[xx.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,c),d=p.length,u=Promise.resolve(i);h<d;)u=u.then(p[h++],p[h++]);return u}d=a.length;let g=i;for(h=0;h<d;){const p=a[h++],f=a[h++];try{g=p(g)}catch(C){f.call(this,C);break}}try{u=xx.call(this,g)}catch(p){return Promise.reject(p)}for(h=0,d=c.length;h<d;)u=u.then(c[h++],c[h++]);return u}getUri(e){e=Pn(this.defaults,e);const i=XA(e.baseURL,e.url);return WA(i,e.params,e.paramsSerializer)}}V.forEach(["delete","get","head","options"],function(e){fn.prototype[e]=function(i,s){return this.request(Pn(s||{},{method:e,url:i,data:(s||{}).data}))}});V.forEach(["post","put","patch"],function(e){function i(s){return function(n,o,a){return this.request(Pn(a||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:n,data:o}))}}fn.prototype[e]=i(),fn.prototype[e+"Form"]=i(!0)});class hC{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(n){i=n});const s=this;this.promise.then(r=>{if(!s._listeners)return;let n=s._listeners.length;for(;n-- >0;)s._listeners[n](r);s._listeners=null}),this.promise.then=r=>{let n;const o=new Promise(a=>{s.subscribe(a),n=a}).then(r);return o.cancel=function(){s.unsubscribe(n)},o},e(function(n,o,a){s.reason||(s.reason=new Jo(n,o,a),i(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const i=this._listeners.indexOf(e);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const e=new AbortController,i=s=>{e.abort(s)};return this.subscribe(i),e.signal.unsubscribe=()=>this.unsubscribe(i),e.signal}static source(){let e;return{token:new hC(function(r){e=r}),cancel:e}}}function nX(t){return function(i){return t.apply(null,i)}}function oX(t){return V.isObject(t)&&t.isAxiosError===!0}const $f={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries($f).forEach(([t,e])=>{$f[e]=t});function QA(t){const e=new fn(t),i=EA(fn.prototype.request,e);return V.extend(i,fn.prototype,e,{allOwnKeys:!0}),V.extend(i,e,null,{allOwnKeys:!0}),i.create=function(r){return QA(Pn(t,r))},i}const ut=QA($l);ut.Axios=fn;ut.CanceledError=Jo;ut.CancelToken=hC;ut.isCancel=_A;ut.VERSION=qA;ut.toFormData=hd;ut.AxiosError=Ce;ut.Cancel=ut.CanceledError;ut.all=function(e){return Promise.all(e)};ut.spread=nX;ut.isAxiosError=oX;ut.mergeConfig=Pn;ut.AxiosHeaders=ni;ut.formToJSON=t=>VA(V.isHTMLForm(t)?new FormData(t):t);ut.getAdapter=KA.getAdapter;ut.HttpStatusCode=$f;ut.default=ut;const aX=ut.create({baseURL:"/",headers:{"Content-Type":"application/json"}});class lX{async getAllProducts(){try{return(await aX.get("/products")).data}catch(e){throw new Error("Error retrieving products in ProductManagementAPI: "+e)}}}var ZA={};/*!
 * ApexCharts v4.1.0
 * (c) 2018-2024 ApexCharts
 * Released under the MIT License.
 */function Kf(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,s=Array(e);i<e;i++)s[i]=t[i];return s}function JA(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sx(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,iP(s.key),s)}}function ee(t,e,i){return e&&Sx(t.prototype,e),i&&Sx(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function ka(t,e){var i=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=dC(t))||e){i&&(t=i);var s=0,r=function(){};return{s:r,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(l){throw l},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n,o=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var l=i.next();return o=l.done,l},e:function(l){a=!0,n=l},f:function(){try{o||i.return==null||i.return()}finally{if(a)throw n}}}}function Kl(t){var e=eP();return function(){var i,s=dh(t);if(e){var r=dh(this).constructor;i=Reflect.construct(s,arguments,r)}else i=s.apply(this,arguments);return function(n,o){if(o&&(typeof o=="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JA(n)}(this,i)}}function hh(t,e,i){return(e=iP(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function dh(t){return dh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dh(t)}function ql(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qf(t,e)}function eP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eP=function(){return!!t})()}function Rx(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,s)}return i}function Q(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Rx(Object(i),!0).forEach(function(s){hh(t,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Rx(Object(i)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(i,s))})}return t}function qf(t,e){return qf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},qf(t,e)}function tP(t,e){return function(i){if(Array.isArray(i))return i}(t)||function(i,s){var r=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(r!=null){var n,o,a,l,c=[],u=!0,h=!1;try{if(a=(r=r.call(i)).next,s===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==s);u=!0);}catch(d){h=!0,o=d}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw o}}return c}}(t,e)||dC(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function pt(t){return function(e){if(Array.isArray(e))return Kf(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||dC(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function iP(t){var e=function(i,s){if(typeof i!="object"||!i)return i;var r=i[Symbol.toPrimitive];if(r!==void 0){var n=r.call(i,s||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(i)}(t,"string");return typeof e=="symbol"?e:e+""}function Ho(t){return Ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ho(t)}function dC(t,e){if(t){if(typeof t=="string")return Kf(t,e);var i={}.toString.call(t).slice(8,-1);return i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set"?Array.from(t):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Kf(t,e):void 0}}var O=function(){function t(){J(this,t)}return ee(t,[{key:"shadeRGBColor",value:function(e,i){var s=i.split(","),r=e<0?0:255,n=e<0?-1*e:e,o=parseInt(s[0].slice(4),10),a=parseInt(s[1],10),l=parseInt(s[2],10);return"rgb("+(Math.round((r-o)*n)+o)+","+(Math.round((r-a)*n)+a)+","+(Math.round((r-l)*n)+l)+")"}},{key:"shadeHexColor",value:function(e,i){var s=parseInt(i.slice(1),16),r=e<0?0:255,n=e<0?-1*e:e,o=s>>16,a=s>>8&255,l=255&s;return"#"+(16777216+65536*(Math.round((r-o)*n)+o)+256*(Math.round((r-a)*n)+a)+(Math.round((r-l)*n)+l)).toString(16).slice(1)}},{key:"shadeColor",value:function(e,i){return t.isColorHex(i)?this.shadeHexColor(e,i):this.shadeRGBColor(e,i)}}],[{key:"bind",value:function(e,i){return function(){return e.apply(i,arguments)}}},{key:"isObject",value:function(e){return e&&Ho(e)==="object"&&!Array.isArray(e)&&e!=null}},{key:"is",value:function(e,i){return Object.prototype.toString.call(i)==="[object "+e+"]"}},{key:"listToArray",value:function(e){var i,s=[];for(i=0;i<e.length;i++)s[i]=e[i];return s}},{key:"extend",value:function(e,i){var s=this;typeof Object.assign!="function"&&(Object.assign=function(n){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(n),a=1;a<arguments.length;a++){var l=arguments[a];if(l!=null)for(var c in l)l.hasOwnProperty(c)&&(o[c]=l[c])}return o});var r=Object.assign({},e);return this.isObject(e)&&this.isObject(i)&&Object.keys(i).forEach(function(n){s.isObject(i[n])&&n in e?r[n]=s.extend(e[n],i[n]):Object.assign(r,hh({},n,i[n]))}),r}},{key:"extendArray",value:function(e,i){var s=[];return e.map(function(r){s.push(t.extend(i,r))}),e=s}},{key:"monthMod",value:function(e){return e%12}},{key:"clone",value:function(e){if(t.is("Array",e)){for(var i=[],s=0;s<e.length;s++)i[s]=this.clone(e[s]);return i}if(t.is("Null",e))return null;if(t.is("Date",e))return e;if(Ho(e)==="object"){var r={};for(var n in e)e.hasOwnProperty(n)&&(r[n]=this.clone(e[n]));return r}return e}},{key:"log10",value:function(e){return Math.log(e)/Math.LN10}},{key:"roundToBase10",value:function(e){return Math.pow(10,Math.floor(Math.log10(e)))}},{key:"roundToBase",value:function(e,i){return Math.pow(i,Math.floor(Math.log(e)/Math.log(i)))}},{key:"parseNumber",value:function(e){return e===null?e:parseFloat(e)}},{key:"stripNumber",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.isInteger(e)?e:parseFloat(e.toPrecision(i))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(e){var i=String(e).split(/[eE]/);if(i.length===1)return i[0];var s="",r=e<0?"-":"",n=i[0].replace(".",""),o=Number(i[1])+1;if(o<0){for(s=r+"0.";o++;)s+="0";return s+n.replace(/^-/,"")}for(o-=n.length;o--;)s+="0";return n+s}},{key:"elementExists",value:function(e){return!(!e||!e.isConnected)}},{key:"getDimensions",value:function(e){var i=getComputedStyle(e,null),s=e.clientHeight,r=e.clientWidth;return s-=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom),[r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),s]}},{key:"getBoundingClientRect",value:function(e){var i=e.getBoundingClientRect();return{top:i.top,right:i.right,bottom:i.bottom,left:i.left,width:e.clientWidth,height:e.clientHeight,x:i.left,y:i.top}}},{key:"getLargestStringFromArr",value:function(e){return e.reduce(function(i,s){return Array.isArray(s)&&(s=s.reduce(function(r,n){return r.length>n.length?r:n})),i.length>s.length?i:s},0)}},{key:"hexToRgba",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;e.substring(0,1)!=="#"&&(e="#999999");var s=e.replace("#","");s=s.match(new RegExp("(.{"+s.length/3+"})","g"));for(var r=0;r<s.length;r++)s[r]=parseInt(s[r].length===1?s[r]+s[r]:s[r],16);return i!==void 0&&s.push(i),"rgba("+s.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(e){return parseFloat(e.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&e.length===4?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(e)}},{key:"getPolygonPos",value:function(e,i){for(var s=[],r=2*Math.PI/i,n=0;n<i;n++){var o={};o.x=e*Math.sin(n*r),o.y=-e*Math.cos(n*r),s.push(o)}return s}},{key:"polarToCartesian",value:function(e,i,s,r){var n=(r-90)*Math.PI/180;return{x:e+s*Math.cos(n),y:i+s*Math.sin(n)}}},{key:"escapeString",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",s=e.toString().slice();return s=s.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,i)}},{key:"negToZero",value:function(e){return e<0?0:e}},{key:"moveIndexInArray",value:function(e,i,s){if(s>=e.length)for(var r=s-e.length+1;r--;)e.push(void 0);return e.splice(s,0,e.splice(i,1)[0]),e}},{key:"extractNumber",value:function(e){return parseFloat(e.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(e,i){for(;(e=e.parentElement)&&!e.classList.contains(i););return e}},{key:"setELstyles",value:function(e,i){for(var s in i)i.hasOwnProperty(s)&&(e.style.key=i[s])}},{key:"preciseAddition",value:function(e,i){var s=(String(e).split(".")[1]||"").length,r=(String(i).split(".")[1]||"").length,n=Math.pow(10,Math.max(s,r));return(Math.round(e*n)+Math.round(i*n))/n}},{key:"isNumber",value:function(e){return!isNaN(e)&&parseFloat(Number(e))===e&&!isNaN(parseInt(e,10))}},{key:"isFloat",value:function(e){return Number(e)===e&&e%1!=0}},{key:"isMsEdge",value:function(){var e=window.navigator.userAgent,i=e.indexOf("Edge/");return i>0&&parseInt(e.substring(i+5,e.indexOf(".",i)),10)}},{key:"getGCD",value:function(e,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,r=Math.pow(10,s-Math.floor(Math.log10(Math.max(e,i))));for(e=Math.round(Math.abs(e)*r),i=Math.round(Math.abs(i)*r);i;){var n=i;i=e%i,e=n}return e/r}},{key:"getPrimeFactors",value:function(e){for(var i=[],s=2;e>=2;)e%s==0?(i.push(s),e/=s):s++;return i}},{key:"mod",value:function(e,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,r=Math.pow(10,s-Math.floor(Math.log10(Math.max(e,i))));return(e=Math.round(Math.abs(e)*r))%(i=Math.round(Math.abs(i)*r))/r}}]),t}(),ea=function(){function t(e){J(this,t),this.ctx=e,this.w=e.w}return ee(t,[{key:"animateLine",value:function(e,i,s,r){e.attr(i).animate(r).attr(s)}},{key:"animateMarker",value:function(e,i,s,r){e.attr({opacity:0}).animate(i).attr({opacity:1}).after(function(){r()})}},{key:"animateRect",value:function(e,i,s,r,n){e.attr(i).animate(r).attr(s).after(function(){return n()})}},{key:"animatePathsGradually",value:function(e){var i=e.el,s=e.realIndex,r=e.j,n=e.fill,o=e.pathFrom,a=e.pathTo,l=e.speed,c=e.delay,u=this.w,h=0;u.config.chart.animations.animateGradually.enabled&&(h=u.config.chart.animations.animateGradually.delay),u.config.chart.animations.dynamicAnimation.enabled&&u.globals.dataChanged&&u.config.chart.type!=="bar"&&(h=0),this.morphSVG(i,s,r,u.config.chart.type!=="line"||u.globals.comboCharts?n:"stroke",o,a,l,c*h)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(e){var i=e.el;i.classList.remove("apexcharts-element-hidden"),i.classList.add("apexcharts-hidden-element-shown")})}},{key:"animationCompleted",value:function(e){var i=this.w;i.globals.animationEnded||(i.globals.animationEnded=!0,this.showDelayedElements(),typeof i.config.chart.events.animationEnd=="function"&&i.config.chart.events.animationEnd(this.ctx,{el:e,w:i}))}},{key:"morphSVG",value:function(e,i,s,r,n,o,a,l){var c=this,u=this.w;n||(n=e.attr("pathFrom")),o||(o=e.attr("pathTo"));var h=function(d){return u.config.chart.type==="radar"&&(a=1),"M 0 ".concat(u.globals.gridHeight)};(!n||n.indexOf("undefined")>-1||n.indexOf("NaN")>-1)&&(n=h()),(!o.trim()||o.indexOf("undefined")>-1||o.indexOf("NaN")>-1)&&(o=h()),u.globals.shouldAnimate||(a=1),e.plot(n).animate(1,l).plot(n).animate(a,l).plot(o).after(function(){O.isNumber(s)?s===u.globals.series[u.globals.maxValsInArrayIndex].length-2&&u.globals.shouldAnimate&&c.animationCompleted(e):r!=="none"&&u.globals.shouldAnimate&&(!u.globals.comboCharts&&i===u.globals.series.length-1||u.globals.comboCharts)&&c.animationCompleted(e),c.showDelayedElements()})}}]),t}();const Qf={},sP=[];function we(t,e){if(Array.isArray(t))for(const i of t)we(i,e);else if(typeof t!="object")rP(Object.getOwnPropertyNames(e)),Qf[t]=Object.assign(Qf[t]||{},e);else for(const i in t)we(i,t[i])}function Qt(t){return Qf[t]||{}}function rP(t){sP.push(...t)}function gC(t,e){let i;const s=t.length,r=[];for(i=0;i<s;i++)r.push(e(t[i]));return r}function Pg(t){return t%360*Math.PI/180}function ta(t){return t.charAt(0).toUpperCase()+t.slice(1)}function ia(t,e,i,s){return e!=null&&i!=null||(s=s||t.bbox(),e==null?e=s.width/s.height*i:i==null&&(i=s.height/s.width*e)),{width:e,height:i}}function Zf(t,e){const i=t.origin;let s=t.ox!=null?t.ox:t.originX!=null?t.originX:"center",r=t.oy!=null?t.oy:t.originY!=null?t.originY:"center";i!=null&&([s,r]=Array.isArray(i)?i:typeof i=="object"?[i.x,i.y]:[i,i]);const n=typeof s=="string",o=typeof r=="string";if(n||o){const{height:a,width:l,x:c,y:u}=e.bbox();n&&(s=s.includes("left")?c:s.includes("right")?c+l:c+l/2),o&&(r=r.includes("top")?u:r.includes("bottom")?u+a:u+a/2)}return[s,r]}const cX=new Set(["desc","metadata","title"]),Jf=t=>cX.has(t.nodeName),nP=(t,e,i={})=>{const s={...e};for(const r in s)s[r].valueOf()===i[r]&&delete s[r];Object.keys(s).length?t.node.setAttribute("data-svgjs",JSON.stringify(s)):(t.node.removeAttribute("data-svgjs"),t.node.removeAttribute("svgjs:data"))},pC="http://www.w3.org/2000/svg",Eg="http://www.w3.org/2000/xmlns/",sa="http://www.w3.org/1999/xlink",Fe={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};function Ql(){return Fe.window}let fC=class{};const mn={},mC="___SYMBOL___ROOT___";function Al(t,e=pC){return Fe.document.createElementNS(e,t)}function _t(t,e=!1){if(t instanceof fC)return t;if(typeof t=="object")return kg(t);if(t==null)return new mn[mC];if(typeof t=="string"&&t.charAt(0)!=="<")return kg(Fe.document.querySelector(t));const i=e?Fe.document.createElement("div"):Al("svg");return i.innerHTML=t,t=kg(i.firstChild),i.removeChild(i.firstChild),t}function Be(t,e){return e&&(e instanceof Fe.window.Node||e.ownerDocument&&e instanceof e.ownerDocument.defaultView.Node)?e:Al(t)}function Ri(t){if(!t)return null;if(t.instance instanceof fC)return t.instance;if(t.nodeName==="#document-fragment")return new mn.Fragment(t);let e=ta(t.nodeName||"Dom");return e==="LinearGradient"||e==="RadialGradient"?e="Gradient":mn[e]||(e="Dom"),new mn[e](t)}let kg=Ri;function Ae(t,e=t.name,i=!1){return mn[e]=t,i&&(mn[mC]=t),rP(Object.getOwnPropertyNames(t.prototype)),t}let uX=1e3;function oP(t){return"Svgjs"+ta(t)+uX++}function aP(t){for(let e=t.children.length-1;e>=0;e--)aP(t.children[e]);return t.id&&(t.id=oP(t.nodeName)),t}function le(t,e){let i,s;for(s=(t=Array.isArray(t)?t:[t]).length-1;s>=0;s--)for(i in e)t[s].prototype[i]=e[i]}function Ge(t){return function(...e){const i=e[e.length-1];return!i||i.constructor!==Object||i instanceof Array?t.apply(this,e):t.apply(this,e.slice(0,-1)).attr(i)}}we("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){const t=this.position();return this.parent().add(this.remove(),t+1),this},backward:function(){const t=this.position();return this.parent().add(this.remove(),t?t-1:0),this},front:function(){return this.parent().add(this.remove()),this},back:function(){return this.parent().add(this.remove(),0),this},before:function(t){(t=_t(t)).remove();const e=this.position();return this.parent().add(t,e),this},after:function(t){(t=_t(t)).remove();const e=this.position();return this.parent().add(t,e+1),this},insertBefore:function(t){return(t=_t(t)).before(this),this},insertAfter:function(t){return(t=_t(t)).after(this),this}});const lP=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hX=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,dX=/rgb\((\d+),(\d+),(\d+)\)/,gX=/(#[a-z_][a-z0-9\-_]*)/i,pX=/\)\s*,?\s*/,fX=/\s/g,Fx=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,Ax=/^rgb\(/,Px=/^(\s+)?$/,Ex=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,mX=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,Ys=/[\s,]+/,vC=/[MLHVCSQTAZ]/i;function vX(t){const e=Math.round(t),i=Math.max(0,Math.min(255,e)).toString(16);return i.length===1?"0"+i:i}function Vn(t,e){for(let i=e.length;i--;)if(t[e[i]]==null)return!1;return!0}function Mg(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}we("Dom",{classes:function(){const t=this.attr("class");return t==null?[]:t.trim().split(Ys)},hasClass:function(t){return this.classes().indexOf(t)!==-1},addClass:function(t){if(!this.hasClass(t)){const e=this.classes();e.push(t),this.attr("class",e.join(" "))}return this},removeClass:function(t){return this.hasClass(t)&&this.attr("class",this.classes().filter(function(e){return e!==t}).join(" ")),this},toggleClass:function(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)}}),we("Dom",{css:function(t,e){const i={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter(function(s){return!!s.length}).forEach(function(s){const r=s.split(/\s*:\s*/);i[r[0]]=r[1]}),i;if(arguments.length<2){if(Array.isArray(t)){for(const s of t){const r=s;i[s]=this.node.style.getPropertyValue(r)}return i}if(typeof t=="string")return this.node.style.getPropertyValue(t);if(typeof t=="object")for(const s in t)this.node.style.setProperty(s,t[s]==null||Px.test(t[s])?"":t[s])}return arguments.length===2&&this.node.style.setProperty(t,e==null||Px.test(e)?"":e),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return this.css("display")!=="none"}}),we("Dom",{data:function(t,e,i){if(t==null)return this.data(gC(function(s,r){let n;const o=s.length,a=[];for(n=0;n<o;n++)r(s[n])&&a.push(s[n]);return a}(this.node.attributes,s=>s.nodeName.indexOf("data-")===0),s=>s.nodeName.slice(5)));if(t instanceof Array){const s={};for(const r of t)s[r]=this.data(r);return s}if(typeof t=="object")for(e in t)this.data(e,t[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+t))}catch{return this.attr("data-"+t)}else this.attr("data-"+t,e===null?null:i===!0||typeof e=="string"||typeof e=="number"?e:JSON.stringify(e));return this}}),we("Dom",{remember:function(t,e){if(typeof arguments[0]=="object")for(const i in t)this.remember(i,t[i]);else{if(arguments.length===1)return this.memory()[t];this.memory()[t]=e}return this},forget:function(){if(arguments.length===0)this._memory={};else for(let t=arguments.length-1;t>=0;t--)delete this.memory()[arguments[t]];return this},memory:function(){return this._memory=this._memory||{}}});class Ie{constructor(...e){this.init(...e)}static isColor(e){return e&&(e instanceof Ie||this.isRgb(e)||this.test(e))}static isRgb(e){return e&&typeof e.r=="number"&&typeof e.g=="number"&&typeof e.b=="number"}static random(e="vibrant",i){const{random:s,round:r,sin:n,PI:o}=Math;if(e==="vibrant"){const a=24*s()+57,l=38*s()+45,c=360*s();return new Ie(a,l,c,"lch")}if(e==="sine"){const a=r(80*n(2*o*(i=i??s())/.5+.01)+150),l=r(50*n(2*o*i/.5+4.6)+200),c=r(100*n(2*o*i/.5+2.3)+150);return new Ie(a,l,c)}if(e==="pastel"){const a=8*s()+86,l=17*s()+9,c=360*s();return new Ie(a,l,c,"lch")}if(e==="dark"){const a=10+10*s(),l=50*s()+86,c=360*s();return new Ie(a,l,c,"lch")}if(e==="rgb"){const a=255*s(),l=255*s(),c=255*s();return new Ie(a,l,c)}if(e==="lab"){const a=100*s(),l=256*s()-128,c=256*s()-128;return new Ie(a,l,c,"lab")}if(e==="grey"){const a=255*s();return new Ie(a,a,a)}throw new Error("Unsupported random color mode")}static test(e){return typeof e=="string"&&(Fx.test(e)||Ax.test(e))}cmyk(){const{_a:e,_b:i,_c:s}=this.rgb(),[r,n,o]=[e,i,s].map(l=>l/255),a=Math.min(1-r,1-n,1-o);return a===1?new Ie(0,0,0,1,"cmyk"):new Ie((1-r-a)/(1-a),(1-n-a)/(1-a),(1-o-a)/(1-a),a,"cmyk")}hsl(){const{_a:e,_b:i,_c:s}=this.rgb(),[r,n,o]=[e,i,s].map(d=>d/255),a=Math.max(r,n,o),l=Math.min(r,n,o),c=(a+l)/2,u=a===l,h=a-l;return new Ie(360*(u?0:a===r?((n-o)/h+(n<o?6:0))/6:a===n?((o-r)/h+2)/6:a===o?((r-n)/h+4)/6:0),100*(u?0:c>.5?h/(2-a-l):h/(a+l)),100*c,"hsl")}init(e=0,i=0,s=0,r=0,n="rgb"){if(e=e||0,this.space)for(const h in this.space)delete this[this.space[h]];if(typeof e=="number")n=typeof r=="string"?r:n,r=typeof r=="string"?0:r,Object.assign(this,{_a:e,_b:i,_c:s,_d:r,space:n});else if(e instanceof Array)this.space=i||(typeof e[3]=="string"?e[3]:e[4])||"rgb",Object.assign(this,{_a:e[0],_b:e[1],_c:e[2],_d:e[3]||0});else if(e instanceof Object){const h=function(d,g){const p=Vn(d,"rgb")?{_a:d.r,_b:d.g,_c:d.b,_d:0,space:"rgb"}:Vn(d,"xyz")?{_a:d.x,_b:d.y,_c:d.z,_d:0,space:"xyz"}:Vn(d,"hsl")?{_a:d.h,_b:d.s,_c:d.l,_d:0,space:"hsl"}:Vn(d,"lab")?{_a:d.l,_b:d.a,_c:d.b,_d:0,space:"lab"}:Vn(d,"lch")?{_a:d.l,_b:d.c,_c:d.h,_d:0,space:"lch"}:Vn(d,"cmyk")?{_a:d.c,_b:d.m,_c:d.y,_d:d.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return p.space=g||p.space,p}(e,i);Object.assign(this,h)}else if(typeof e=="string")if(Ax.test(e)){const h=e.replace(fX,""),[d,g,p]=dX.exec(h).slice(1,4).map(f=>parseInt(f));Object.assign(this,{_a:d,_b:g,_c:p,_d:0,space:"rgb"})}else{if(!Fx.test(e))throw Error("Unsupported string format, can't construct Color");{const h=f=>parseInt(f,16),[,d,g,p]=hX.exec(function(f){return f.length===4?["#",f.substring(1,2),f.substring(1,2),f.substring(2,3),f.substring(2,3),f.substring(3,4),f.substring(3,4)].join(""):f}(e)).map(h);Object.assign(this,{_a:d,_b:g,_c:p,_d:0,space:"rgb"})}}const{_a:o,_b:a,_c:l,_d:c}=this,u=this.space==="rgb"?{r:o,g:a,b:l}:this.space==="xyz"?{x:o,y:a,z:l}:this.space==="hsl"?{h:o,s:a,l}:this.space==="lab"?{l:o,a,b:l}:this.space==="lch"?{l:o,c:a,h:l}:this.space==="cmyk"?{c:o,m:a,y:l,k:c}:{};Object.assign(this,u)}lab(){const{x:e,y:i,z:s}=this.xyz();return new Ie(116*i-16,500*(e-i),200*(i-s),"lab")}lch(){const{l:e,a:i,b:s}=this.lab(),r=Math.sqrt(i**2+s**2);let n=180*Math.atan2(s,i)/Math.PI;return n<0&&(n*=-1,n=360-n),new Ie(e,r,n,"lch")}rgb(){if(this.space==="rgb")return this;if((e=this.space)==="lab"||e==="xyz"||e==="lch"){let{x:i,y:s,z:r}=this;if(this.space==="lab"||this.space==="lch"){let{l:g,a:p,b:f}=this;if(this.space==="lch"){const{c:S,h:b}=this,R=Math.PI/180;p=S*Math.cos(R*b),f=S*Math.sin(R*b)}const C=(g+16)/116,m=p/500+C,v=C-f/200,y=16/116,w=.008856,x=7.787;i=.95047*(m**3>w?m**3:(m-y)/x),s=1*(C**3>w?C**3:(C-y)/x),r=1.08883*(v**3>w?v**3:(v-y)/x)}const n=3.2406*i+-1.5372*s+-.4986*r,o=-.9689*i+1.8758*s+.0415*r,a=.0557*i+-.204*s+1.057*r,l=Math.pow,c=.0031308,u=n>c?1.055*l(n,1/2.4)-.055:12.92*n,h=o>c?1.055*l(o,1/2.4)-.055:12.92*o,d=a>c?1.055*l(a,1/2.4)-.055:12.92*a;return new Ie(255*u,255*h,255*d)}if(this.space==="hsl"){let{h:i,s,l:r}=this;if(i/=360,s/=100,r/=100,s===0)return r*=255,new Ie(r,r,r);const n=r<.5?r*(1+s):r+s-r*s,o=2*r-n,a=255*Mg(o,n,i+1/3),l=255*Mg(o,n,i),c=255*Mg(o,n,i-1/3);return new Ie(a,l,c)}if(this.space==="cmyk"){const{c:i,m:s,y:r,k:n}=this,o=255*(1-Math.min(1,i*(1-n)+n)),a=255*(1-Math.min(1,s*(1-n)+n)),l=255*(1-Math.min(1,r*(1-n)+n));return new Ie(o,a,l)}return this;var e}toArray(){const{_a:e,_b:i,_c:s,_d:r,space:n}=this;return[e,i,s,r,n]}toHex(){const[e,i,s]=this._clamped().map(vX);return`#${e}${i}${s}`}toRgb(){const[e,i,s]=this._clamped();return`rgb(${e},${i},${s})`}toString(){return this.toHex()}xyz(){const{_a:e,_b:i,_c:s}=this.rgb(),[r,n,o]=[e,i,s].map(C=>C/255),a=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,l=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,c=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92,u=(.4124*a+.3576*l+.1805*c)/.95047,h=(.2126*a+.7152*l+.0722*c)/1,d=(.0193*a+.1192*l+.9505*c)/1.08883,g=u>.008856?Math.pow(u,1/3):7.787*u+16/116,p=h>.008856?Math.pow(h,1/3):7.787*h+16/116,f=d>.008856?Math.pow(d,1/3):7.787*d+16/116;return new Ie(g,p,f,"xyz")}_clamped(){const{_a:e,_b:i,_c:s}=this.rgb(),{max:r,min:n,round:o}=Math;return[e,i,s].map(a=>r(0,n(o(a),255)))}}class Te{constructor(...e){this.init(...e)}clone(){return new Te(this)}init(e,i){const n=Array.isArray(e)?{x:e[0],y:e[1]}:typeof e=="object"?{x:e.x,y:e.y}:{x:e,y:i};return this.x=n.x==null?0:n.x,this.y=n.y==null?0:n.y,this}toArray(){return[this.x,this.y]}transform(e){return this.clone().transformO(e)}transformO(e){ae.isMatrixLike(e)||(e=new ae(e));const{x:i,y:s}=this;return this.x=e.a*i+e.c*s+e.e,this.y=e.b*i+e.d*s+e.f,this}}function _n(t,e,i){return Math.abs(e-t)<1e-6}class ae{constructor(...e){this.init(...e)}static formatTransforms(e){const i=e.flip==="both"||e.flip===!0,s=e.flip&&(i||e.flip==="x")?-1:1,r=e.flip&&(i||e.flip==="y")?-1:1,n=e.skew&&e.skew.length?e.skew[0]:isFinite(e.skew)?e.skew:isFinite(e.skewX)?e.skewX:0,o=e.skew&&e.skew.length?e.skew[1]:isFinite(e.skew)?e.skew:isFinite(e.skewY)?e.skewY:0,a=e.scale&&e.scale.length?e.scale[0]*s:isFinite(e.scale)?e.scale*s:isFinite(e.scaleX)?e.scaleX*s:s,l=e.scale&&e.scale.length?e.scale[1]*r:isFinite(e.scale)?e.scale*r:isFinite(e.scaleY)?e.scaleY*r:r,c=e.shear||0,u=e.rotate||e.theta||0,h=new Te(e.origin||e.around||e.ox||e.originX,e.oy||e.originY),d=h.x,g=h.y,p=new Te(e.position||e.px||e.positionX||NaN,e.py||e.positionY||NaN),f=p.x,C=p.y,m=new Te(e.translate||e.tx||e.translateX,e.ty||e.translateY),v=m.x,y=m.y,w=new Te(e.relative||e.rx||e.relativeX,e.ry||e.relativeY);return{scaleX:a,scaleY:l,skewX:n,skewY:o,shear:c,theta:u,rx:w.x,ry:w.y,tx:v,ty:y,ox:d,oy:g,px:f,py:C}}static fromArray(e){return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}}static isMatrixLike(e){return e.a!=null||e.b!=null||e.c!=null||e.d!=null||e.e!=null||e.f!=null}static matrixMultiply(e,i,s){const r=e.a*i.a+e.c*i.b,n=e.b*i.a+e.d*i.b,o=e.a*i.c+e.c*i.d,a=e.b*i.c+e.d*i.d,l=e.e+e.a*i.e+e.c*i.f,c=e.f+e.b*i.e+e.d*i.f;return s.a=r,s.b=n,s.c=o,s.d=a,s.e=l,s.f=c,s}around(e,i,s){return this.clone().aroundO(e,i,s)}aroundO(e,i,s){const r=e||0,n=i||0;return this.translateO(-r,-n).lmultiplyO(s).translateO(r,n)}clone(){return new ae(this)}decompose(e=0,i=0){const s=this.a,r=this.b,n=this.c,o=this.d,a=this.e,l=this.f,c=s*o-r*n,u=c>0?1:-1,h=u*Math.sqrt(s*s+r*r),d=Math.atan2(u*r,u*s),g=180/Math.PI*d,p=Math.cos(d),f=Math.sin(d),C=(s*n+r*o)/c,m=n*h/(C*s-r)||o*h/(C*r+s);return{scaleX:h,scaleY:m,shear:C,rotate:g,translateX:a-e+e*p*h+i*(C*p*h-f*m),translateY:l-i+e*f*h+i*(C*f*h+p*m),originX:e,originY:i,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(e){if(e===this)return!0;const i=new ae(e);return _n(this.a,i.a)&&_n(this.b,i.b)&&_n(this.c,i.c)&&_n(this.d,i.d)&&_n(this.e,i.e)&&_n(this.f,i.f)}flip(e,i){return this.clone().flipO(e,i)}flipO(e,i){return e==="x"?this.scaleO(-1,1,i,0):e==="y"?this.scaleO(1,-1,0,i):this.scaleO(-1,-1,e,i||e)}init(e){const i=ae.fromArray([1,0,0,1,0,0]);return e=e instanceof Et?e.matrixify():typeof e=="string"?ae.fromArray(e.split(Ys).map(parseFloat)):Array.isArray(e)?ae.fromArray(e):typeof e=="object"&&ae.isMatrixLike(e)?e:typeof e=="object"?new ae().transform(e):arguments.length===6?ae.fromArray([].slice.call(arguments)):i,this.a=e.a!=null?e.a:i.a,this.b=e.b!=null?e.b:i.b,this.c=e.c!=null?e.c:i.c,this.d=e.d!=null?e.d:i.d,this.e=e.e!=null?e.e:i.e,this.f=e.f!=null?e.f:i.f,this}inverse(){return this.clone().inverseO()}inverseO(){const e=this.a,i=this.b,s=this.c,r=this.d,n=this.e,o=this.f,a=e*r-i*s;if(!a)throw new Error("Cannot invert "+this);const l=r/a,c=-i/a,u=-s/a,h=e/a,d=-(l*n+u*o),g=-(c*n+h*o);return this.a=l,this.b=c,this.c=u,this.d=h,this.e=d,this.f=g,this}lmultiply(e){return this.clone().lmultiplyO(e)}lmultiplyO(e){const i=e instanceof ae?e:new ae(e);return ae.matrixMultiply(i,this,this)}multiply(e){return this.clone().multiplyO(e)}multiplyO(e){const i=e instanceof ae?e:new ae(e);return ae.matrixMultiply(this,i,this)}rotate(e,i,s){return this.clone().rotateO(e,i,s)}rotateO(e,i=0,s=0){e=Pg(e);const r=Math.cos(e),n=Math.sin(e),{a:o,b:a,c:l,d:c,e:u,f:h}=this;return this.a=o*r-a*n,this.b=a*r+o*n,this.c=l*r-c*n,this.d=c*r+l*n,this.e=u*r-h*n+s*n-i*r+i,this.f=h*r+u*n-i*n-s*r+s,this}scale(){return this.clone().scaleO(...arguments)}scaleO(e,i=e,s=0,r=0){arguments.length===3&&(r=s,s=i,i=e);const{a:n,b:o,c:a,d:l,e:c,f:u}=this;return this.a=n*e,this.b=o*i,this.c=a*e,this.d=l*i,this.e=c*e-s*e+s,this.f=u*i-r*i+r,this}shear(e,i,s){return this.clone().shearO(e,i,s)}shearO(e,i=0,s=0){const{a:r,b:n,c:o,d:a,e:l,f:c}=this;return this.a=r+n*e,this.c=o+a*e,this.e=l+c*e-s*e,this}skew(){return this.clone().skewO(...arguments)}skewO(e,i=e,s=0,r=0){arguments.length===3&&(r=s,s=i,i=e),e=Pg(e),i=Pg(i);const n=Math.tan(e),o=Math.tan(i),{a,b:l,c,d:u,e:h,f:d}=this;return this.a=a+l*n,this.b=l+a*o,this.c=c+u*n,this.d=u+c*o,this.e=h+d*n-r*n,this.f=d+h*o-s*o,this}skewX(e,i,s){return this.skew(e,0,i,s)}skewY(e,i,s){return this.skew(0,e,i,s)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(e){if(ae.isMatrixLike(e))return new ae(e).multiplyO(this);const i=ae.formatTransforms(e),{x:s,y:r}=new Te(i.ox,i.oy).transform(this),n=new ae().translateO(i.rx,i.ry).lmultiplyO(this).translateO(-s,-r).scaleO(i.scaleX,i.scaleY).skewO(i.skewX,i.skewY).shearO(i.shear).rotateO(i.theta).translateO(s,r);if(isFinite(i.px)||isFinite(i.py)){const o=new Te(s,r).transform(n),a=isFinite(i.px)?i.px-o.x:0,l=isFinite(i.py)?i.py-o.y:0;n.translateO(a,l)}return n.translateO(i.tx,i.ty),n}translate(e,i){return this.clone().translateO(e,i)}translateO(e,i){return this.e+=e||0,this.f+=i||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function or(){if(!or.nodes){const t=_t().size(2,0);t.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),t.attr("focusable","false"),t.attr("aria-hidden","true");const e=t.path().node;or.nodes={svg:t,path:e}}if(!or.nodes.svg.node.parentNode){const t=Fe.document.body||Fe.document.documentElement;or.nodes.svg.addTo(t)}return or.nodes}function cP(t){return!(t.width||t.height||t.x||t.y)}Ae(ae,"Matrix");class rt{constructor(...e){this.init(...e)}addOffset(){return this.x+=Fe.window.pageXOffset,this.y+=Fe.window.pageYOffset,new rt(this)}init(e){return e=typeof e=="string"?e.split(Ys).map(parseFloat):Array.isArray(e)?e:typeof e=="object"?[e.left!=null?e.left:e.x,e.top!=null?e.top:e.y,e.width,e.height]:arguments.length===4?[].slice.call(arguments):[0,0,0,0],this.x=e[0]||0,this.y=e[1]||0,this.width=this.w=e[2]||0,this.height=this.h=e[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return cP(this)}merge(e){const i=Math.min(this.x,e.x),s=Math.min(this.y,e.y),r=Math.max(this.x+this.width,e.x+e.width)-i,n=Math.max(this.y+this.height,e.y+e.height)-s;return new rt(i,s,r,n)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(e){e instanceof ae||(e=new ae(e));let i=1/0,s=-1/0,r=1/0,n=-1/0;return[new Te(this.x,this.y),new Te(this.x2,this.y),new Te(this.x,this.y2),new Te(this.x2,this.y2)].forEach(function(o){o=o.transform(e),i=Math.min(i,o.x),s=Math.max(s,o.x),r=Math.min(r,o.y),n=Math.max(n,o.y)}),new rt(i,r,s-i,n-r)}}function kx(t,e,i){let s;try{if(s=e(t.node),cP(s)&&(r=t.node)!==Fe.document&&!(Fe.document.documentElement.contains||function(n){for(;n.parentNode;)n=n.parentNode;return n===Fe.document}).call(Fe.document.documentElement,r))throw new Error("Element not in the dom")}catch{s=i(t)}var r;return s}we({viewbox:{viewbox(t,e,i,s){return t==null?new rt(this.attr("viewBox")):this.attr("viewBox",new rt(t,e,i,s))},zoom(t,e){let{width:i,height:s}=this.attr(["width","height"]);if((i||s)&&typeof i!="string"&&typeof s!="string"||(i=this.node.clientWidth,s=this.node.clientHeight),!i||!s)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const r=this.viewbox(),n=i/r.width,o=s/r.height,a=Math.min(n,o);if(t==null)return a;let l=a/t;l===1/0&&(l=Number.MAX_SAFE_INTEGER/100),e=e||new Te(i/2/n+r.x,s/2/o+r.y);const c=new rt(r).transform(new ae({scale:l,origin:e}));return this.viewbox(c)}}}),Ae(rt,"Box");class En extends Array{constructor(e=[],...i){if(super(e,...i),typeof e=="number")return this;this.length=0,this.push(...e)}}le([En],{each(t,...e){return typeof t=="function"?this.map((i,s,r)=>t.call(i,i,s,r)):this.map(i=>i[t](...e))},toArray(){return Array.prototype.concat.apply([],this)}});const CX=["toArray","constructor","each"];function Hn(t,e){return new En(gC((e||Fe.document).querySelectorAll(t),function(i){return Ri(i)}))}En.extend=function(t){t=t.reduce((e,i)=>(CX.includes(i)||i[0]==="_"||(i in Array.prototype&&(e["$"+i]=Array.prototype[i]),e[i]=function(...s){return this.each(i,...s)}),e),{}),le([En],t)};let yX=0;const uP={};function hP(t){let e=t.getEventHolder();return e===Fe.window&&(e=uP),e.events||(e.events={}),e.events}function CC(t){return t.getEventTarget()}function Ts(t,e,i,s,r){const n=i.bind(s||t),o=_t(t),a=hP(o),l=CC(o);e=Array.isArray(e)?e:e.split(Ys),i._svgjsListenerId||(i._svgjsListenerId=++yX),e.forEach(function(c){const u=c.split(".")[0],h=c.split(".")[1]||"*";a[u]=a[u]||{},a[u][h]=a[u][h]||{},a[u][h][i._svgjsListenerId]=n,l.addEventListener(u,n,r||!1)})}function ki(t,e,i,s){const r=_t(t),n=hP(r),o=CC(r);(typeof i!="function"||(i=i._svgjsListenerId))&&(e=Array.isArray(e)?e:(e||"").split(Ys)).forEach(function(a){const l=a&&a.split(".")[0],c=a&&a.split(".")[1];let u,h;if(i)n[l]&&n[l][c||"*"]&&(o.removeEventListener(l,n[l][c||"*"][i],s||!1),delete n[l][c||"*"][i]);else if(l&&c){if(n[l]&&n[l][c]){for(h in n[l][c])ki(o,[l,c].join("."),h);delete n[l][c]}}else if(c)for(a in n)for(u in n[a])c===u&&ki(o,[a,c].join("."));else if(l){if(n[l]){for(u in n[l])ki(o,[l,u].join("."));delete n[l]}}else{for(a in n)ki(o,a);(function(d){let g=d.getEventHolder();g===Fe.window&&(g=uP),g.events&&(g.events={})})(r)}})}class Zl extends fC{addEventListener(){}dispatch(e,i,s){return function(r,n,o,a){const l=CC(r);return n instanceof Fe.window.Event||(n=new Fe.window.CustomEvent(n,{detail:o,cancelable:!0,...a})),l.dispatchEvent(n),n}(this,e,i,s)}dispatchEvent(e){const i=this.getEventHolder().events;if(!i)return!0;const s=i[e.type];for(const r in s)for(const n in s[r])s[r][n](e);return!e.defaultPrevented}fire(e,i,s){return this.dispatch(e,i,s),this}getEventHolder(){return this}getEventTarget(){return this}off(e,i,s){return ki(this,e,i,s),this}on(e,i,s,r){return Ts(this,e,i,s,r),this}removeEventListener(){}}function Mx(){}Ae(Zl,"EventTarget");const Tg=400,wX=">",xX=0,bX={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class kn extends Array{constructor(...e){super(...e),this.init(...e)}clone(){return new this.constructor(this)}init(e){return typeof e=="number"||(this.length=0,this.push(...this.parse(e))),this}parse(e=[]){return e instanceof Array?e:e.trim().split(Ys).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const e=[];return e.push(...this),e}}class fe{constructor(...e){this.init(...e)}convert(e){return new fe(this.value,e)}divide(e){return e=new fe(e),new fe(this/e,this.unit||e.unit)}init(e,i){return i=Array.isArray(e)?e[1]:i,e=Array.isArray(e)?e[0]:e,this.value=0,this.unit=i||"",typeof e=="number"?this.value=isNaN(e)?0:isFinite(e)?e:e<0?-34e37:34e37:typeof e=="string"?(i=e.match(lP))&&(this.value=parseFloat(i[1]),i[5]==="%"?this.value/=100:i[5]==="s"&&(this.value*=1e3),this.unit=i[5]):e instanceof fe&&(this.value=e.valueOf(),this.unit=e.unit),this}minus(e){return e=new fe(e),new fe(this-e,this.unit||e.unit)}plus(e){return e=new fe(e),new fe(this+e,this.unit||e.unit)}times(e){return e=new fe(e),new fe(this*e,this.unit||e.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(1e8*this.value)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const SX=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),dP=[];class Pr extends Zl{constructor(e,i){super(),this.node=e,this.type=e.nodeName,i&&e!==i&&this.attr(i)}add(e,i){return(e=_t(e)).removeNamespace&&this.node instanceof Fe.window.SVGElement&&e.removeNamespace(),i==null?this.node.appendChild(e.node):e.node!==this.node.childNodes[i]&&this.node.insertBefore(e.node,this.node.childNodes[i]),this}addTo(e,i){return _t(e).put(this,i)}children(){return new En(gC(this.node.children,function(e){return Ri(e)}))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(e=!0,i=!0){this.writeDataToDom();let s=this.node.cloneNode(e);return i&&(s=aP(s)),new this.constructor(s)}each(e,i){const s=this.children();let r,n;for(r=0,n=s.length;r<n;r++)e.apply(s[r],[r,s]),i&&s[r].each(e,i);return this}element(e,i){return this.put(new Pr(Al(e),i))}first(){return Ri(this.node.firstChild)}get(e){return Ri(this.node.childNodes[e])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(e){return this.index(e)>=0}html(e,i){return this.xml(e,i,"http://www.w3.org/1999/xhtml")}id(e){return e!==void 0||this.node.id||(this.node.id=oP(this.type)),this.attr("id",e)}index(e){return[].slice.call(this.node.childNodes).indexOf(e.node)}last(){return Ri(this.node.lastChild)}matches(e){const i=this.node,s=i.matches||i.matchesSelector||i.msMatchesSelector||i.mozMatchesSelector||i.webkitMatchesSelector||i.oMatchesSelector||null;return s&&s.call(i,e)}parent(e){let i=this;if(!i.node.parentNode)return null;if(i=Ri(i.node.parentNode),!e)return i;do if(typeof e=="string"?i.matches(e):i instanceof e)return i;while(i=Ri(i.node.parentNode));return i}put(e,i){return e=_t(e),this.add(e,i),e}putIn(e,i){return _t(e).add(this,i)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(e){return this.node.removeChild(e.node),this}replace(e){return e=_t(e),this.node.parentNode&&this.node.parentNode.replaceChild(e.node,this.node),e}round(e=2,i=null){const s=10**e,r=this.attr(i);for(const n in r)typeof r[n]=="number"&&(r[n]=Math.round(r[n]*s)/s);return this.attr(r),this}svg(e,i){return this.xml(e,i,pC)}toString(){return this.id()}words(e){return this.node.textContent=e,this}wrap(e){const i=this.parent();if(!i)return this.addTo(e);const s=i.index(this);return i.put(e,s).put(this)}writeDataToDom(){return this.each(function(){this.writeDataToDom()}),this}xml(e,i,s){if(typeof e=="boolean"&&(s=i,i=e,e=null),e==null||typeof e=="function"){i=i==null||i,this.writeDataToDom();let a=this;if(e!=null){if(a=Ri(a.node.cloneNode(!0)),i){const l=e(a);if(a=l||a,l===!1)return""}a.each(function(){const l=e(this),c=l||this;l===!1?this.remove():l&&this!==c&&this.replace(c)},!0)}return i?a.node.outerHTML:a.node.innerHTML}i=i!=null&&i;const r=Al("wrapper",s),n=Fe.document.createDocumentFragment();r.innerHTML=e;for(let a=r.children.length;a--;)n.appendChild(r.firstElementChild);const o=this.parent();return i?this.replace(n)&&o:this.add(n)}}le(Pr,{attr:function(t,e,i){if(t==null){t={},e=this.node.attributes;for(const s of e)t[s.nodeName]=Ex.test(s.nodeValue)?parseFloat(s.nodeValue):s.nodeValue;return t}if(t instanceof Array)return t.reduce((s,r)=>(s[r]=this.attr(r),s),{});if(typeof t=="object"&&t.constructor===Object)for(e in t)this.attr(e,t[e]);else if(e===null)this.node.removeAttribute(t);else{if(e==null)return(e=this.node.getAttribute(t))==null?bX[t]:Ex.test(e)?parseFloat(e):e;typeof(e=dP.reduce((s,r)=>r(t,s,this),e))=="number"?e=new fe(e):SX.has(t)&&Ie.isColor(e)?e=new Ie(e):e.constructor===Array&&(e=new kn(e)),t==="leading"?this.leading&&this.leading(e):typeof i=="string"?this.node.setAttributeNS(i,t,e.toString()):this.node.setAttribute(t,e.toString()),!this.rebuild||t!=="font-size"&&t!=="x"||this.rebuild()}return this},find:function(t){return Hn(t,this.node)},findOne:function(t){return Ri(this.node.querySelector(t))}}),Ae(Pr,"Dom");class Et extends Pr{constructor(e,i){super(e,i),this.dom={},this.node.instance=this,(e.hasAttribute("data-svgjs")||e.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(e.getAttribute("data-svgjs"))??JSON.parse(e.getAttribute("svgjs:data"))??{})}center(e,i){return this.cx(e).cy(i)}cx(e){return e==null?this.x()+this.width()/2:this.x(e-this.width()/2)}cy(e){return e==null?this.y()+this.height()/2:this.y(e-this.height()/2)}defs(){const e=this.root();return e&&e.defs()}dmove(e,i){return this.dx(e).dy(i)}dx(e=0){return this.x(new fe(e).plus(this.x()))}dy(e=0){return this.y(new fe(e).plus(this.y()))}getEventHolder(){return this}height(e){return this.attr("height",e)}move(e,i){return this.x(e).y(i)}parents(e=this.root()){const i=typeof e=="string";i||(e=_t(e));const s=new En;let r=this;for(;(r=r.parent())&&r.node!==Fe.document&&r.nodeName!=="#document-fragment"&&(s.push(r),i||r.node!==e.node)&&(!i||!r.matches(e));)if(r.node===this.root().node)return null;return s}reference(e){if(!(e=this.attr(e)))return null;const i=(e+"").match(gX);return i?_t(i[1]):null}root(){const e=this.parent(function(i){return mn[i]}(mC));return e&&e.root()}setData(e){return this.dom=e,this}size(e,i){const s=ia(this,e,i);return this.width(new fe(s.width)).height(new fe(s.height))}width(e){return this.attr("width",e)}writeDataToDom(){return nP(this,this.dom),super.writeDataToDom()}x(e){return this.attr("x",e)}y(e){return this.attr("y",e)}}le(Et,{bbox:function(){const t=kx(this,e=>e.getBBox(),e=>{try{const i=e.clone().addTo(or().svg).show(),s=i.node.getBBox();return i.remove(),s}catch(i){throw new Error(`Getting bbox of element "${e.node.nodeName}" is not possible: ${i.toString()}`)}});return new rt(t)},rbox:function(t){const e=kx(this,s=>s.getBoundingClientRect(),s=>{throw new Error(`Getting rbox of element "${s.node.nodeName}" is not possible`)}),i=new rt(e);return t?i.transform(t.screenCTM().inverseO()):i.addOffset()},inside:function(t,e){const i=this.bbox();return t>i.x&&e>i.y&&t<i.x+i.width&&e<i.y+i.height},point:function(t,e){return new Te(t,e).transformO(this.screenCTM().inverseO())},ctm:function(){return new ae(this.node.getCTM())},screenCTM:function(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){const t=this.rect(1,1),e=t.node.getScreenCTM();return t.remove(),new ae(e)}return new ae(this.node.getScreenCTM())}catch{return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new ae}}}),Ae(Et,"Element");const ba={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(t,e){return e==="color"?t:t+"-"+e}};["fill","stroke"].forEach(function(t){const e={};let i;e[t]=function(s){if(s===void 0)return this.attr(t);if(typeof s=="string"||s instanceof Ie||Ie.isRgb(s)||s instanceof Et)this.attr(t,s);else for(i=ba[t].length-1;i>=0;i--)s[ba[t][i]]!=null&&this.attr(ba.prefix(t,ba[t][i]),s[ba[t][i]]);return this},we(["Element","Runner"],e)}),we(["Element","Runner"],{matrix:function(t,e,i,s,r,n){return t==null?new ae(this):this.attr("transform",new ae(t,e,i,s,r,n))},rotate:function(t,e,i){return this.transform({rotate:t,ox:e,oy:i},!0)},skew:function(t,e,i,s){return arguments.length===1||arguments.length===3?this.transform({skew:t,ox:e,oy:i},!0):this.transform({skew:[t,e],ox:i,oy:s},!0)},shear:function(t,e,i){return this.transform({shear:t,ox:e,oy:i},!0)},scale:function(t,e,i,s){return arguments.length===1||arguments.length===3?this.transform({scale:t,ox:e,oy:i},!0):this.transform({scale:[t,e],ox:i,oy:s},!0)},translate:function(t,e){return this.transform({translate:[t,e]},!0)},relative:function(t,e){return this.transform({relative:[t,e]},!0)},flip:function(t="both",e="center"){return"xybothtrue".indexOf(t)===-1&&(e=t,t="both"),this.transform({flip:t,origin:e},!0)},opacity:function(t){return this.attr("opacity",t)}}),we("radius",{radius:function(t,e=t){return(this._element||this).type==="radialGradient"?this.attr("r",new fe(t)):this.rx(t).ry(e)}}),we("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(t){return new Te(this.node.getPointAtLength(t))}}),we(["Element","Runner"],{font:function(t,e){if(typeof t=="object"){for(e in t)this.font(e,t[e]);return this}return t==="leading"?this.leading(e):t==="anchor"?this.attr("text-anchor",e):t==="size"||t==="family"||t==="weight"||t==="stretch"||t==="variant"||t==="style"?this.attr("font-"+t,e):this.attr(t,e)}});we("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce(function(t,e){return t[e]=function(i){return i===null?this.off(e):this.on(e,i),this},t},{})),we("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(pX).slice(0,-1).map(function(e){const i=e.trim().split("(");return[i[0],i[1].split(Ys).map(function(s){return parseFloat(s)})]}).reverse().reduce(function(e,i){return i[0]==="matrix"?e.lmultiply(ae.fromArray(i[1])):e[i[0]].apply(e,i[1])},new ae)},toParent:function(t,e){if(this===t)return this;if(Jf(this.node))return this.addTo(t,e);const i=this.screenCTM(),s=t.screenCTM().inverse();return this.addTo(t,e).untransform().transform(s.multiply(i)),this},toRoot:function(t){return this.toParent(this.root(),t)},transform:function(t,e){if(t==null||typeof t=="string"){const s=new ae(this).decompose();return t==null?s:s[t]}ae.isMatrixLike(t)||(t={...t,origin:Zf(t,this)});const i=new ae(e===!0?this:e||!1).transform(t);return this.attr("transform",i)}});class Kt extends Et{flatten(){return this.each(function(){if(this instanceof Kt)return this.flatten().ungroup()}),this}ungroup(e=this.parent(),i=e.index(this)){return i=i===-1?e.children().length:i,this.each(function(s,r){return r[r.length-s-1].toParent(e,i)}),this.remove()}}Ae(Kt,"Container");class gd extends Kt{constructor(e,i=e){super(Be("defs",e),i)}flatten(){return this}ungroup(){return this}}Ae(gd,"Defs");class yi extends Et{}function yC(t){return this.attr("rx",t)}function wC(t){return this.attr("ry",t)}function gP(t){return t==null?this.cx()-this.rx():this.cx(t+this.rx())}function pP(t){return t==null?this.cy()-this.ry():this.cy(t+this.ry())}function fP(t){return this.attr("cx",t)}function mP(t){return this.attr("cy",t)}function vP(t){return t==null?2*this.rx():this.rx(new fe(t).divide(2))}function CP(t){return t==null?2*this.ry():this.ry(new fe(t).divide(2))}Ae(yi,"Shape");var RX=Object.freeze({__proto__:null,cx:fP,cy:mP,height:CP,rx:yC,ry:wC,width:vP,x:gP,y:pP});class gu extends yi{constructor(e,i=e){super(Be("ellipse",e),i)}size(e,i){const s=ia(this,e,i);return this.rx(new fe(s.width).divide(2)).ry(new fe(s.height).divide(2))}}le(gu,RX),we("Container",{ellipse:Ge(function(t=0,e=t){return this.put(new gu).size(t,e).move(0,0)})}),Ae(gu,"Ellipse");class yP extends Pr{constructor(e=Fe.document.createDocumentFragment()){super(e)}xml(e,i,s){if(typeof e=="boolean"&&(s=i,i=e,e=null),e==null||typeof e=="function"){const r=new Pr(Al("wrapper",s));return r.add(this.node.cloneNode(!0)),r.xml(!1,s)}return super.xml(e,!1,s)}}function wP(t,e){return(this._element||this).type==="radialGradient"?this.attr({fx:new fe(t),fy:new fe(e)}):this.attr({x1:new fe(t),y1:new fe(e)})}function xP(t,e){return(this._element||this).type==="radialGradient"?this.attr({cx:new fe(t),cy:new fe(e)}):this.attr({x2:new fe(t),y2:new fe(e)})}Ae(yP,"Fragment");var FX=Object.freeze({__proto__:null,from:wP,to:xP});class ja extends Kt{constructor(e,i){super(Be(e+"Gradient",typeof e=="string"?null:e),i)}attr(e,i,s){return e==="transform"&&(e="gradientTransform"),super.attr(e,i,s)}bbox(){return new rt}targets(){return Hn("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}le(ja,FX),we({Container:{gradient(...t){return this.defs().gradient(...t)}},Defs:{gradient:Ge(function(t,e){return this.put(new ja(t)).update(e)})}}),Ae(ja,"Gradient");class Pl extends Kt{constructor(e,i=e){super(Be("pattern",e),i)}attr(e,i,s){return e==="transform"&&(e="patternTransform"),super.attr(e,i,s)}bbox(){return new rt}targets(){return Hn("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}we({Container:{pattern(...t){return this.defs().pattern(...t)}},Defs:{pattern:Ge(function(t,e,i){return this.put(new Pl).update(i).attr({x:0,y:0,width:t,height:e,patternUnits:"userSpaceOnUse"})})}}),Ae(Pl,"Pattern");let pu=class extends yi{constructor(t,e=t){super(Be("image",t),e)}load(t,e){if(!t)return this;const i=new Fe.window.Image;return Ts(i,"load",function(s){const r=this.parent(Pl);this.width()===0&&this.height()===0&&this.size(i.width,i.height),r instanceof Pl&&r.width()===0&&r.height()===0&&r.size(this.width(),this.height()),typeof e=="function"&&e.call(this,s)},this),Ts(i,"load error",function(){ki(i)}),this.attr("href",i.src=t,sa)}};var Tx;Tx=function(t,e,i){return t!=="fill"&&t!=="stroke"||mX.test(e)&&(e=i.root().defs().image(e)),e instanceof pu&&(e=i.root().defs().pattern(0,0,s=>{s.add(e)})),e},dP.push(Tx),we({Container:{image:Ge(function(t,e){return this.put(new pu).size(0,0).load(t,e)})}}),Ae(pu,"Image");class Er extends kn{bbox(){let e=-1/0,i=-1/0,s=1/0,r=1/0;return this.forEach(function(n){e=Math.max(n[0],e),i=Math.max(n[1],i),s=Math.min(n[0],s),r=Math.min(n[1],r)}),new rt(s,r,e-s,i-r)}move(e,i){const s=this.bbox();if(e-=s.x,i-=s.y,!isNaN(e)&&!isNaN(i))for(let r=this.length-1;r>=0;r--)this[r]=[this[r][0]+e,this[r][1]+i];return this}parse(e=[0,0]){const i=[];(e=e instanceof Array?Array.prototype.concat.apply([],e):e.trim().split(Ys).map(parseFloat)).length%2!=0&&e.pop();for(let s=0,r=e.length;s<r;s+=2)i.push([e[s],e[s+1]]);return i}size(e,i){let s;const r=this.bbox();for(s=this.length-1;s>=0;s--)r.width&&(this[s][0]=(this[s][0]-r.x)*e/r.width+r.x),r.height&&(this[s][1]=(this[s][1]-r.y)*i/r.height+r.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const e=[];for(let i=0,s=this.length;i<s;i++)e.push(this[i].join(","));return e.join(" ")}transform(e){return this.clone().transformO(e)}transformO(e){ae.isMatrixLike(e)||(e=new ae(e));for(let i=this.length;i--;){const[s,r]=this[i];this[i][0]=e.a*s+e.c*r+e.e,this[i][1]=e.b*s+e.d*r+e.f}return this}}const AX=Er;var xC=Object.freeze({__proto__:null,MorphArray:AX,height:function(t){const e=this.bbox();return t==null?e.height:this.size(e.width,t)},width:function(t){const e=this.bbox();return t==null?e.width:this.size(t,e.height)},x:function(t){return t==null?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return t==null?this.bbox().y:this.move(this.bbox().x,t)}});let tn=class extends yi{constructor(t,e=t){super(Be("line",t),e)}array(){return new Er([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(t,e){return this.attr(this.array().move(t,e).toLine())}plot(t,e,i,s){return t==null?this.array():(t=e!==void 0?{x1:t,y1:e,x2:i,y2:s}:new Er(t).toLine(),this.attr(t))}size(t,e){const i=ia(this,t,e);return this.attr(this.array().size(i.width,i.height).toLine())}};le(tn,xC),we({Container:{line:Ge(function(...t){return tn.prototype.plot.apply(this.put(new tn),t[0]!=null?t:[0,0,0,0])})}}),Ae(tn,"Line");let fu=class extends Kt{constructor(t,e=t){super(Be("marker",t),e)}height(t){return this.attr("markerHeight",t)}orient(t){return this.attr("orient",t)}ref(t,e){return this.attr("refX",t).attr("refY",e)}toString(){return"url(#"+this.id()+")"}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}width(t){return this.attr("markerWidth",t)}};function ao(t,e){return function(i){return i==null?this[t]:(this[t]=i,e&&e.call(this),this)}}we({Container:{marker(...t){return this.defs().marker(...t)}},Defs:{marker:Ge(function(t,e,i){return this.put(new fu).size(t,e).ref(t/2,e/2).viewbox(0,0,t,e).attr("orient","auto").update(i)})},marker:{marker(t,e,i,s){let r=["marker"];return t!=="all"&&r.push(t),r=r.join("-"),t=arguments[1]instanceof fu?arguments[1]:this.defs().marker(e,i,s),this.attr(r,t)}}}),Ae(fu,"Marker");const PX={"-":function(t){return t},"<>":function(t){return-Math.cos(t*Math.PI)/2+.5},">":function(t){return Math.sin(t*Math.PI/2)},"<":function(t){return 1-Math.cos(t*Math.PI/2)},bezier:function(t,e,i,s){return function(r){return r<0?t>0?e/t*r:i>0?s/i*r:0:r>1?i<1?(1-s)/(1-i)*r+(s-i)/(1-i):t<1?(1-e)/(1-t)*r+(e-t)/(1-t):1:3*r*(1-r)**2*e+3*r**2*(1-r)*s+r**3}},steps:function(t,e="end"){e=e.split("-").reverse()[0];let i=t;return e==="none"?--i:e==="both"&&++i,(s,r=!1)=>{let n=Math.floor(s*t);const o=s*n%1==0;return e!=="start"&&e!=="both"||++n,r&&o&&--n,s>=0&&n<0&&(n=0),s<=1&&n>i&&(n=i),n/i}}};class bC{done(){return!1}}class em extends bC{constructor(e=wX){super(),this.ease=PX[e]||e}step(e,i,s){return typeof e!="number"?s<1?e:i:e+(i-e)*this.ease(s)}}class gh extends bC{constructor(e){super(),this.stepper=e}done(e){return e.done}step(e,i,s,r){return this.stepper(e,i,s,r)}}function Dx(){const t=(this._duration||500)/1e3,e=this._overshoot||0,i=Math.PI,s=Math.log(e/100+1e-10),r=-s/Math.sqrt(i*i+s*s),n=3.9/(r*t);this.d=2*r*n,this.k=n*n}le(class extends gh{constructor(t=500,e=0){super(),this.duration(t).overshoot(e)}step(t,e,i,s){if(typeof t=="string")return t;if(s.done=i===1/0,i===1/0)return e;if(i===0)return t;i>100&&(i=16),i/=1e3;const r=s.velocity||0,n=-this.d*r-this.k*(t-e),o=t+r*i+n*i*i/2;return s.velocity=r+n*i,s.done=Math.abs(e-o)+Math.abs(r)<.002,s.done?e:o}},{duration:ao("_duration",Dx),overshoot:ao("_overshoot",Dx)});le(class extends gh{constructor(t=.1,e=.01,i=0,s=1e3){super(),this.p(t).i(e).d(i).windup(s)}step(t,e,i,s){if(typeof t=="string")return t;if(s.done=i===1/0,i===1/0)return e;if(i===0)return t;const r=e-t;let n=(s.integral||0)+r*i;const o=(r-(s.error||0))/i,a=this._windup;return a!==!1&&(n=Math.max(-a,Math.min(n,a))),s.error=r,s.integral=n,s.done=Math.abs(r)<.001,s.done?e:t+(this.P*r+this.I*n+this.D*o)}},{windup:ao("_windup"),p:ao("P"),i:ao("I"),d:ao("D")});const EX={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},tm={M:function(t,e,i){return e.x=i.x=t[0],e.y=i.y=t[1],["M",e.x,e.y]},L:function(t,e){return e.x=t[0],e.y=t[1],["L",t[0],t[1]]},H:function(t,e){return e.x=t[0],["H",t[0]]},V:function(t,e){return e.y=t[0],["V",t[0]]},C:function(t,e){return e.x=t[4],e.y=t[5],["C",t[0],t[1],t[2],t[3],t[4],t[5]]},S:function(t,e){return e.x=t[2],e.y=t[3],["S",t[0],t[1],t[2],t[3]]},Q:function(t,e){return e.x=t[2],e.y=t[3],["Q",t[0],t[1],t[2],t[3]]},T:function(t,e){return e.x=t[0],e.y=t[1],["T",t[0],t[1]]},Z:function(t,e,i){return e.x=i.x,e.y=i.y,["Z"]},A:function(t,e){return e.x=t[5],e.y=t[6],["A",t[0],t[1],t[2],t[3],t[4],t[5],t[6]]}},Dg="mlhvqtcsaz".split("");for(let t=0,e=Dg.length;t<e;++t)tm[Dg[t]]=function(i){return function(s,r,n){if(i==="H")s[0]=s[0]+r.x;else if(i==="V")s[0]=s[0]+r.y;else if(i==="A")s[5]=s[5]+r.x,s[6]=s[6]+r.y;else for(let o=0,a=s.length;o<a;++o)s[o]=s[o]+(o%2?r.y:r.x);return tm[i](s,r,n)}}(Dg[t].toUpperCase());function im(t){return t.segment.length&&t.segment.length-1===EX[t.segment[0].toUpperCase()]}function kX(t,e){t.inNumber&&Vr(t,!1);const i=vC.test(e);if(i)t.segment=[e];else{const s=t.lastCommand,r=s.toLowerCase(),n=s===r;t.segment=[r==="m"?n?"l":"L":s]}return t.inSegment=!0,t.lastCommand=t.segment[0],i}function Vr(t,e){if(!t.inNumber)throw new Error("Parser Error");t.number&&t.segment.push(parseFloat(t.number)),t.inNumber=e,t.number="",t.pointSeen=!1,t.hasExponent=!1,im(t)&&sm(t)}function sm(t){t.inSegment=!1,t.absolute&&(t.segment=function(e){const i=e.segment[0];return tm[i](e.segment.slice(1),e.p,e.p0)}(t)),t.segments.push(t.segment)}function MX(t){if(!t.segment.length)return!1;const e=t.segment[0].toUpperCase()==="A",i=t.segment.length;return e&&(i===4||i===5)}function TX(t){return t.lastToken.toUpperCase()==="E"}const DX=new Set([" ",",","	",`
`,"\r","\f"]);class qi extends kn{bbox(){return or().path.setAttribute("d",this.toString()),new rt(or.nodes.path.getBBox())}move(e,i){const s=this.bbox();if(e-=s.x,i-=s.y,!isNaN(e)&&!isNaN(i))for(let r,n=this.length-1;n>=0;n--)r=this[n][0],r==="M"||r==="L"||r==="T"?(this[n][1]+=e,this[n][2]+=i):r==="H"?this[n][1]+=e:r==="V"?this[n][1]+=i:r==="C"||r==="S"||r==="Q"?(this[n][1]+=e,this[n][2]+=i,this[n][3]+=e,this[n][4]+=i,r==="C"&&(this[n][5]+=e,this[n][6]+=i)):r==="A"&&(this[n][6]+=e,this[n][7]+=i);return this}parse(e="M0 0"){return Array.isArray(e)&&(e=Array.prototype.concat.apply([],e).toString()),function(i,s=!0){let r=0,n="";const o={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:s,p0:new Te,p:new Te};for(;o.lastToken=n,n=i.charAt(r++);)if(o.inSegment||!kX(o,n))if(n!==".")if(isNaN(parseInt(n)))if(DX.has(n))o.inNumber&&Vr(o,!1);else if(n!=="-"&&n!=="+")if(n.toUpperCase()!=="E"){if(vC.test(n)){if(o.inNumber)Vr(o,!1);else{if(!im(o))throw new Error("parser Error");sm(o)}--r}}else o.number+=n,o.hasExponent=!0;else{if(o.inNumber&&!TX(o)){Vr(o,!1),--r;continue}o.number+=n,o.inNumber=!0}else{if(o.number==="0"||MX(o)){o.inNumber=!0,o.number=n,Vr(o,!0);continue}o.inNumber=!0,o.number+=n}else{if(o.pointSeen||o.hasExponent){Vr(o,!1),--r;continue}o.inNumber=!0,o.pointSeen=!0,o.number+=n}return o.inNumber&&Vr(o,!1),o.inSegment&&im(o)&&sm(o),o.segments}(e)}size(e,i){const s=this.bbox();let r,n;for(s.width=s.width===0?1:s.width,s.height=s.height===0?1:s.height,r=this.length-1;r>=0;r--)n=this[r][0],n==="M"||n==="L"||n==="T"?(this[r][1]=(this[r][1]-s.x)*e/s.width+s.x,this[r][2]=(this[r][2]-s.y)*i/s.height+s.y):n==="H"?this[r][1]=(this[r][1]-s.x)*e/s.width+s.x:n==="V"?this[r][1]=(this[r][1]-s.y)*i/s.height+s.y:n==="C"||n==="S"||n==="Q"?(this[r][1]=(this[r][1]-s.x)*e/s.width+s.x,this[r][2]=(this[r][2]-s.y)*i/s.height+s.y,this[r][3]=(this[r][3]-s.x)*e/s.width+s.x,this[r][4]=(this[r][4]-s.y)*i/s.height+s.y,n==="C"&&(this[r][5]=(this[r][5]-s.x)*e/s.width+s.x,this[r][6]=(this[r][6]-s.y)*i/s.height+s.y)):n==="A"&&(this[r][1]=this[r][1]*e/s.width,this[r][2]=this[r][2]*i/s.height,this[r][6]=(this[r][6]-s.x)*e/s.width+s.x,this[r][7]=(this[r][7]-s.y)*i/s.height+s.y);return this}toString(){return function(e){let i="";for(let s=0,r=e.length;s<r;s++)i+=e[s][0],e[s][1]!=null&&(i+=e[s][1],e[s][2]!=null&&(i+=" ",i+=e[s][2],e[s][3]!=null&&(i+=" ",i+=e[s][3],i+=" ",i+=e[s][4],e[s][5]!=null&&(i+=" ",i+=e[s][5],i+=" ",i+=e[s][6],e[s][7]!=null&&(i+=" ",i+=e[s][7])))));return i+" "}(this)}}const bP=t=>{const e=typeof t;return e==="number"?fe:e==="string"?Ie.isColor(t)?Ie:Ys.test(t)?vC.test(t)?qi:kn:lP.test(t)?fe:rm:nm.indexOf(t.constructor)>-1?t.constructor:Array.isArray(t)?kn:e==="object"?El:rm};class _r{constructor(e){this._stepper=e||new em("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(e){return this._morphObj.morph(this._from,this._to,e,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce(function(e,i){return e&&i},!0)}from(e){return e==null?this._from:(this._from=this._set(e),this)}stepper(e){return e==null?this._stepper:(this._stepper=e,this)}to(e){return e==null?this._to:(this._to=this._set(e),this)}type(e){return e==null?this._type:(this._type=e,this)}_set(e){this._type||this.type(bP(e));let i=new this._type(e);return this._type===Ie&&(i=this._to?i[this._to[4]]():this._from?i[this._from[4]]():i),this._type===El&&(i=this._to?i.align(this._to):this._from?i.align(this._from):i),i=i.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(i.length)).map(Object).map(function(s){return s.done=!0,s}),i}}class rm{constructor(...e){this.init(...e)}init(e){return e=Array.isArray(e)?e[0]:e,this.value=e,this}toArray(){return[this.value]}valueOf(){return this.value}}class Jl{constructor(...e){this.init(...e)}init(e){return Array.isArray(e)&&(e={scaleX:e[0],scaleY:e[1],shear:e[2],rotate:e[3],translateX:e[4],translateY:e[5],originX:e[6],originY:e[7]}),Object.assign(this,Jl.defaults,e),this}toArray(){const e=this;return[e.scaleX,e.scaleY,e.shear,e.rotate,e.translateX,e.translateY,e.originX,e.originY]}}Jl.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const LX=(t,e)=>t[0]<e[0]?-1:t[0]>e[0]?1:0;class El{constructor(...e){this.init(...e)}align(e){const i=this.values;for(let s=0,r=i.length;s<r;++s){if(i[s+1]===e[s+1]){if(i[s+1]===Ie&&e[s+7]!==i[s+7]){const a=e[s+7],l=new Ie(this.values.splice(s+3,5))[a]().toArray();this.values.splice(s+3,0,...l)}s+=i[s+2]+2;continue}if(!e[s+1])return this;const n=new e[s+1]().toArray(),o=i[s+2]+3;i.splice(s,o,e[s],e[s+1],e[s+2],...n),s+=i[s+2]+2}return this}init(e){if(this.values=[],Array.isArray(e))return void(this.values=e.slice());e=e||{};const i=[];for(const s in e){const r=bP(e[s]),n=new r(e[s]).toArray();i.push([s,r,n.length,...n])}return i.sort(LX),this.values=i.reduce((s,r)=>s.concat(r),[]),this}toArray(){return this.values}valueOf(){const e={},i=this.values;for(;i.length;){const s=i.shift(),r=i.shift(),n=i.shift(),o=i.splice(0,n);e[s]=new r(o)}return e}}const nm=[rm,Jl,El];class Co extends yi{constructor(e,i=e){super(Be("path",e),i)}array(){return this._array||(this._array=new qi(this.attr("d")))}clear(){return delete this._array,this}height(e){return e==null?this.bbox().height:this.size(this.bbox().width,e)}move(e,i){return this.attr("d",this.array().move(e,i))}plot(e){return e==null?this.array():this.clear().attr("d",typeof e=="string"?e:this._array=new qi(e))}size(e,i){const s=ia(this,e,i);return this.attr("d",this.array().size(s.width,s.height))}width(e){return e==null?this.bbox().width:this.size(e,this.bbox().height)}x(e){return e==null?this.bbox().x:this.move(e,this.bbox().y)}y(e){return e==null?this.bbox().y:this.move(this.bbox().x,e)}}Co.prototype.MorphArray=qi,we({Container:{path:Ge(function(t){return this.put(new Co).plot(t||new qi)})}}),Ae(Co,"Path");var SP=Object.freeze({__proto__:null,array:function(){return this._array||(this._array=new Er(this.attr("points")))},clear:function(){return delete this._array,this},move:function(t,e){return this.attr("points",this.array().move(t,e))},plot:function(t){return t==null?this.array():this.clear().attr("points",typeof t=="string"?t:this._array=new Er(t))},size:function(t,e){const i=ia(this,t,e);return this.attr("points",this.array().size(i.width,i.height))}});class sn extends yi{constructor(e,i=e){super(Be("polygon",e),i)}}we({Container:{polygon:Ge(function(t){return this.put(new sn).plot(t||new Er)})}}),le(sn,xC),le(sn,SP),Ae(sn,"Polygon");class rn extends yi{constructor(e,i=e){super(Be("polyline",e),i)}}we({Container:{polyline:Ge(function(t){return this.put(new rn).plot(t||new Er)})}}),le(rn,xC),le(rn,SP),Ae(rn,"Polyline");class mu extends yi{constructor(e,i=e){super(Be("rect",e),i)}}le(mu,{rx:yC,ry:wC}),we({Container:{rect:Ge(function(t,e){return this.put(new mu).size(t,e)})}}),Ae(mu,"Rect");class Lg{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(e){const i=e.next!==void 0?e:{value:e,next:null,prev:null};return this._last?(i.prev=this._last,this._last.next=i,this._last=i):(this._last=i,this._first=i),i}remove(e){e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e===this._last&&(this._last=e.prev),e===this._first&&(this._first=e.next),e.prev=null,e.next=null}shift(){const e=this._first;return e?(this._first=e.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,e.value):null}}const De={nextDraw:null,frames:new Lg,timeouts:new Lg,immediates:new Lg,timer:()=>Fe.window.performance||Fe.window.Date,transforms:[],frame(t){const e=De.frames.push({run:t});return De.nextDraw===null&&(De.nextDraw=Fe.window.requestAnimationFrame(De._draw)),e},timeout(t,e){e=e||0;const i=De.timer().now()+e,s=De.timeouts.push({run:t,time:i});return De.nextDraw===null&&(De.nextDraw=Fe.window.requestAnimationFrame(De._draw)),s},immediate(t){const e=De.immediates.push(t);return De.nextDraw===null&&(De.nextDraw=Fe.window.requestAnimationFrame(De._draw)),e},cancelFrame(t){t!=null&&De.frames.remove(t)},clearTimeout(t){t!=null&&De.timeouts.remove(t)},cancelImmediate(t){t!=null&&De.immediates.remove(t)},_draw(t){let e=null;const i=De.timeouts.last();for(;(e=De.timeouts.shift())&&(t>=e.time?e.run():De.timeouts.push(e),e!==i););let s=null;const r=De.frames.last();for(;s!==r&&(s=De.frames.shift());)s.run(t);let n=null;for(;n=De.immediates.shift();)n();De.nextDraw=De.timeouts.first()||De.frames.first()?Fe.window.requestAnimationFrame(De._draw):null}},IX=function(t){const e=t.start,i=t.runner.duration();return{start:e,duration:i,end:e+i,runner:t.runner}},OX=function(){const t=Fe.window;return(t.performance||t.Date).now()};class RP extends Zl{constructor(e=OX){super(),this._timeSource=e,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const e=this.getLastRunnerInfo(),i=e?e.runner.duration():0;return(e?e.start:this._time)+i}getEndTimeOfTimeline(){const e=this._runners.map(i=>i.start+i.runner.duration());return Math.max(0,...e)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(e){return this._runners[this._runnerIds.indexOf(e)]||null}pause(){return this._paused=!0,this._continue()}persist(e){return e==null?this._persist:(this._persist=e,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(e){const i=this.speed();if(e==null)return this.speed(-i);const s=Math.abs(i);return this.speed(e?-s:s)}schedule(e,i,s){if(e==null)return this._runners.map(IX);let r=0;const n=this.getEndTime();if(i=i||0,s==null||s==="last"||s==="after")r=n;else if(s==="absolute"||s==="start")r=i,i=0;else if(s==="now")r=this._time;else if(s==="relative"){const l=this.getRunnerInfoById(e.id);l&&(r=l.start+i,i=0)}else{if(s!=="with-last")throw new Error('Invalid value for the "when" parameter');{const l=this.getLastRunnerInfo();r=l?l.start:this._time}}e.unschedule(),e.timeline(this);const o=e.persist(),a={persist:o===null?this._persist:o,start:r+i,runner:e};return this._lastRunnerId=e.id,this._runners.push(a),this._runners.sort((l,c)=>l.start-c.start),this._runnerIds=this._runners.map(l=>l.runner.id),this.updateTime()._continue(),this}seek(e){return this.time(this._time+e)}source(e){return e==null?this._timeSource:(this._timeSource=e,this)}speed(e){return e==null?this._speed:(this._speed=e,this)}stop(){return this.time(0),this.pause()}time(e){return e==null?this._time:(this._time=e,this._continue(!0))}unschedule(e){const i=this._runnerIds.indexOf(e.id);return i<0||(this._runners.splice(i,1),this._runnerIds.splice(i,1),e.timeline(null)),this}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(e=!1){return De.cancelFrame(this._nextFrame),this._nextFrame=null,e?this._stepImmediate():(this._paused||(this._nextFrame=De.frame(this._step)),this)}_stepFn(e=!1){const i=this._timeSource();let s=i-this._lastSourceTime;e&&(s=0);const r=this._speed*s+(this._time-this._lastStepTime);this._lastSourceTime=i,e||(this._time+=r,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let o=this._runners.length;o--;){const a=this._runners[o],l=a.runner;this._time-a.start<=0&&l.reset()}let n=!1;for(let o=0,a=this._runners.length;o<a;o++){const l=this._runners[o],c=l.runner;let u=r;const h=this._time-l.start;if(h<=0){n=!0;continue}h<u&&(u=h),c.active()&&(c.step(u).done?l.persist!==!0&&c.duration()-c.time()+this._time+l.persist<this._time&&(c.unschedule(),--o,--a):n=!0)}return n&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}}we({Element:{timeline:function(t){return t==null?(this._timeline=this._timeline||new RP,this._timeline):(this._timeline=t,this)}}});class pi extends Zl{constructor(e){super(),this.id=pi.id++,e=typeof(e=e??Tg)=="function"?new gh(e):e,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof e=="number"&&e,this._isDeclarative=e instanceof gh,this._stepper=this._isDeclarative?e:new em,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new ae,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=!!this._isDeclarative||null}static sanitise(e,i,s){let r=1,n=!1,o=0;return i=i??xX,s=s||"last",typeof(e=e??Tg)!="object"||e instanceof bC||(i=e.delay??i,s=e.when??s,n=e.swing||n,r=e.times??r,o=e.wait??o,e=e.duration??Tg),{duration:e,delay:i,swing:n,times:r,wait:o,when:s}}active(e){return e==null?this.enabled:(this.enabled=e,this)}addTransform(e){return this.transforms.lmultiplyO(e),this}after(e){return this.on("finished",e)}animate(e,i,s){const r=pi.sanitise(e,i,s),n=new pi(r.duration);return this._timeline&&n.timeline(this._timeline),this._element&&n.element(this._element),n.loop(r).schedule(r.delay,r.when)}clearTransform(){return this.transforms=new ae,this}clearTransformsFromQueue(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter(e=>!e.isTransform))}delay(e){return this.animate(0,e)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(e){return this.queue(null,e)}ease(e){return this._stepper=new em(e),this}element(e){return e==null?this._element:(this._element=e,e._prepareRunner(),this)}finish(){return this.step(1/0)}loop(e,i,s){return typeof e=="object"&&(i=e.swing,s=e.wait,e=e.times),this._times=e||1/0,this._swing=i||!1,this._wait=s||0,this._times===!0&&(this._times=1/0),this}loops(e){const i=this._duration+this._wait;if(e==null){const n=Math.floor(this._time/i),o=(this._time-n*i)/this._duration;return Math.min(n+o,this._times)}const s=e%1,r=i*Math.floor(e)+this._duration*s;return this.time(r)}persist(e){return e==null?this._persist:(this._persist=e,this)}position(e){const i=this._time,s=this._duration,r=this._wait,n=this._times,o=this._swing,a=this._reverse;let l;if(e==null){const h=function(g){const p=o*Math.floor(g%(2*(r+s))/(r+s)),f=p&&!a||!p&&a,C=Math.pow(-1,f)*(g%(r+s))/s+f;return Math.max(Math.min(C,1),0)},d=n*(r+s)-r;return l=i<=0?Math.round(h(1e-5)):i<d?h(i):Math.round(h(d-1e-5)),l}const c=Math.floor(this.loops()),u=o&&c%2==0;return l=c+(u&&!a||a&&u?e:1-e),this.loops(l)}progress(e){return e==null?Math.min(1,this._time/this.duration()):this.time(e*this.duration())}queue(e,i,s,r){return this._queue.push({initialiser:e||Mx,runner:i||Mx,retarget:s,isTransform:r,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted||(this.time(0),this._reseted=!0),this}reverse(e){return this._reverse=e??!this._reverse,this}schedule(e,i,s){if(e instanceof RP||(s=i,i=e,e=this.timeline()),!e)throw Error("Runner cannot be scheduled without timeline");return e.schedule(this,i,s),this}step(e){if(!this.enabled)return this;e=e??16,this._time+=e;const i=this.position(),s=this._lastPosition!==i&&this._time>=0;this._lastPosition=i;const r=this.duration(),n=this._lastTime<=0&&this._time>0,o=this._lastTime<r&&this._time>=r;this._lastTime=this._time,n&&this.fire("start",this);const a=this._isDeclarative;this.done=!a&&!o&&this._time>=r,this._reseted=!1;let l=!1;return(s||a)&&(this._initialise(s),this.transforms=new ae,l=this._run(a?e:i),this.fire("step",this)),this.done=this.done||l&&a,o&&this.fire("finished",this),this}time(e){if(e==null)return this._time;const i=e-this._time;return this.step(i),this}timeline(e){return e===void 0?this._timeline:(this._timeline=e,this)}unschedule(){const e=this.timeline();return e&&e.unschedule(this),this}_initialise(e){if(e||this._isDeclarative)for(let i=0,s=this._queue.length;i<s;++i){const r=this._queue[i],n=this._isDeclarative||!r.initialised&&e;e=!r.finished,n&&e&&(r.initialiser.call(this),r.initialised=!0)}}_rememberMorpher(e,i){if(this._history[e]={morpher:i,caller:this._queue[this._queue.length-1]},this._isDeclarative){const s=this.timeline();s&&s.play()}}_run(e){let i=!0;for(let s=0,r=this._queue.length;s<r;++s){const n=this._queue[s],o=n.runner.call(this,e);n.finished=n.finished||o===!0,i=i&&n.finished}return i}_tryRetarget(e,i,s){if(this._history[e]){if(!this._history[e].caller.initialised){const n=this._queue.indexOf(this._history[e].caller);return this._queue.splice(n,1),!1}this._history[e].caller.retarget?this._history[e].caller.retarget.call(this,i,s):this._history[e].morpher.to(i),this._history[e].caller.finished=!1;const r=this.timeline();return r&&r.play(),!0}return!1}}pi.id=0;class ph{constructor(e=new ae,i=-1,s=!0){this.transforms=e,this.id=i,this.done=s}clearTransformsFromQueue(){}}le([pi,ph],{mergeWith(t){return new ph(t.transforms.lmultiply(this.transforms),t.id)}});const FP=(t,e)=>t.lmultiplyO(e),AP=t=>t.transforms;function HX(){const t=this._transformationRunners.runners.map(AP).reduce(FP,new ae);this.transform(t),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}class NX{constructor(){this.runners=[],this.ids=[]}add(e){if(this.runners.includes(e))return;const i=e.id+1;return this.runners.push(e),this.ids.push(i),this}clearBefore(e){const i=this.ids.indexOf(e+1)||1;return this.ids.splice(0,i,0),this.runners.splice(0,i,new ph).forEach(s=>s.clearTransformsFromQueue()),this}edit(e,i){const s=this.ids.indexOf(e+1);return this.ids.splice(s,1,e+1),this.runners.splice(s,1,i),this}getByID(e){return this.runners[this.ids.indexOf(e+1)]}length(){return this.ids.length}merge(){let e=null;for(let i=0;i<this.runners.length;++i){const s=this.runners[i];if(e&&s.done&&e.done&&(!s._timeline||!s._timeline._runnerIds.includes(s.id))&&(!e._timeline||!e._timeline._runnerIds.includes(e.id))){this.remove(s.id);const r=s.mergeWith(e);this.edit(e.id,r),e=r,--i}else e=s}return this}remove(e){const i=this.ids.indexOf(e+1);return this.ids.splice(i,1),this.runners.splice(i,1),this}}we({Element:{animate(t,e,i){const s=pi.sanitise(t,e,i),r=this.timeline();return new pi(s.duration).loop(s).element(this).timeline(r.play()).schedule(s.delay,s.when)},delay(t,e){return this.animate(0,t,e)},_clearTransformRunnersBefore(t){this._transformationRunners.clearBefore(t.id)},_currentTransform(t){return this._transformationRunners.runners.filter(e=>e.id<=t.id).map(AP).reduce(FP,new ae)},_addRunner(t){this._transformationRunners.add(t),De.cancelImmediate(this._frameId),this._frameId=De.immediate(HX.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new NX().add(new ph(new ae(this))))}}});le(pi,{attr(t,e){return this.styleAttr("attr",t,e)},css(t,e){return this.styleAttr("css",t,e)},styleAttr(t,e,i){if(typeof e=="string")return this.styleAttr(t,{[e]:i});let s=e;if(this._tryRetarget(t,s))return this;let r=new _r(this._stepper).to(s),n=Object.keys(s);return this.queue(function(){r=r.from(this.element()[t](n))},function(o){return this.element()[t](r.at(o).valueOf()),r.done()},function(o){const a=Object.keys(o),l=(c=n,a.filter(h=>!c.includes(h)));var c;if(l.length){const h=this.element()[t](l),d=new El(r.from()).valueOf();Object.assign(d,h),r.from(d)}const u=new El(r.to()).valueOf();Object.assign(u,o),r.to(u),n=a,s=o}),this._rememberMorpher(t,r),this},zoom(t,e){if(this._tryRetarget("zoom",t,e))return this;let i=new _r(this._stepper).to(new fe(t));return this.queue(function(){i=i.from(this.element().zoom())},function(s){return this.element().zoom(i.at(s),e),i.done()},function(s,r){e=r,i.to(s)}),this._rememberMorpher("zoom",i),this},transform(t,e,i){if(e=t.relative||e,this._isDeclarative&&!e&&this._tryRetarget("transform",t))return this;const s=ae.isMatrixLike(t);i=t.affine!=null?t.affine:i??!s;const r=new _r(this._stepper).type(i?Jl:ae);let n,o,a,l,c;return this.queue(function(){o=o||this.element(),n=n||Zf(t,o),c=new ae(e?void 0:o),o._addRunner(this),e||o._clearTransformRunnersBefore(this)},function(u){e||this.clearTransform();const{x:h,y:d}=new Te(n).transform(o._currentTransform(this));let g=new ae({...t,origin:[h,d]}),p=this._isDeclarative&&a?a:c;if(i){g=g.decompose(h,d),p=p.decompose(h,d);const C=g.rotate,m=p.rotate,v=[C-360,C,C+360],y=v.map(S=>Math.abs(S-m)),w=Math.min(...y),x=y.indexOf(w);g.rotate=v[x]}e&&(s||(g.rotate=t.rotate||0),this._isDeclarative&&l&&(p.rotate=l)),r.from(p),r.to(g);const f=r.at(u);return l=f.rotate,a=new ae(f),this.addTransform(a),o._addRunner(this),r.done()},function(u){(u.origin||"center").toString()!==(t.origin||"center").toString()&&(n=Zf(u,o)),t={...u,origin:n}},!0),this._isDeclarative&&this._rememberMorpher("transform",r),this},x(t){return this._queueNumber("x",t)},y(t){return this._queueNumber("y",t)},ax(t){return this._queueNumber("ax",t)},ay(t){return this._queueNumber("ay",t)},dx(t=0){return this._queueNumberDelta("x",t)},dy(t=0){return this._queueNumberDelta("y",t)},dmove(t,e){return this.dx(t).dy(e)},_queueNumberDelta(t,e){if(e=new fe(e),this._tryRetarget(t,e))return this;const i=new _r(this._stepper).to(e);let s=null;return this.queue(function(){s=this.element()[t](),i.from(s),i.to(s+e)},function(r){return this.element()[t](i.at(r)),i.done()},function(r){i.to(s+new fe(r))}),this._rememberMorpher(t,i),this},_queueObject(t,e){if(this._tryRetarget(t,e))return this;const i=new _r(this._stepper).to(e);return this.queue(function(){i.from(this.element()[t]())},function(s){return this.element()[t](i.at(s)),i.done()}),this._rememberMorpher(t,i),this},_queueNumber(t,e){return this._queueObject(t,new fe(e))},cx(t){return this._queueNumber("cx",t)},cy(t){return this._queueNumber("cy",t)},move(t,e){return this.x(t).y(e)},amove(t,e){return this.ax(t).ay(e)},center(t,e){return this.cx(t).cy(e)},size(t,e){let i;return t&&e||(i=this._element.bbox()),t||(t=i.width/i.height*e),e||(e=i.height/i.width*t),this.width(t).height(e)},width(t){return this._queueNumber("width",t)},height(t){return this._queueNumber("height",t)},plot(t,e,i,s){if(arguments.length===4)return this.plot([t,e,i,s]);if(this._tryRetarget("plot",t))return this;const r=new _r(this._stepper).type(this._element.MorphArray).to(t);return this.queue(function(){r.from(this._element.array())},function(n){return this._element.plot(r.at(n)),r.done()}),this._rememberMorpher("plot",r),this},leading(t){return this._queueNumber("leading",t)},viewbox(t,e,i,s){return this._queueObject("viewbox",new rt(t,e,i,s))},update(t){return typeof t!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(t.opacity!=null&&this.attr("stop-opacity",t.opacity),t.color!=null&&this.attr("stop-color",t.color),t.offset!=null&&this.attr("offset",t.offset),this)}}),le(pi,{rx:yC,ry:wC,from:wP,to:xP}),Ae(pi,"Runner");class om extends Kt{constructor(e,i=e){super(Be("svg",e),i),this.namespace()}defs(){return this.isRoot()?Ri(this.node.querySelector("defs"))||this.put(new gd):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof Fe.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:pC,version:"1.1"}).attr("xmlns:xlink",sa,Eg):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,Eg).attr("xmlns:svgjs",null,Eg)}root(){return this.isRoot()?this:super.root()}}we({Container:{nested:Ge(function(){return this.put(new om)})}}),Ae(om,"Svg",!0);let am=class extends Kt{constructor(t,e=t){super(Be("symbol",t),e)}};we({Container:{symbol:Ge(function(){return this.put(new am)})}}),Ae(am,"Symbol");var PP=Object.freeze({__proto__:null,amove:function(t,e){return this.ax(t).ay(e)},ax:function(t){return this.attr("x",t)},ay:function(t){return this.attr("y",t)},build:function(t){return this._build=!!t,this},center:function(t,e,i=this.bbox()){return this.cx(t,i).cy(e,i)},cx:function(t,e=this.bbox()){return t==null?e.cx:this.attr("x",this.attr("x")+t-e.cx)},cy:function(t,e=this.bbox()){return t==null?e.cy:this.attr("y",this.attr("y")+t-e.cy)},length:function(){return this.node.getComputedTextLength()},move:function(t,e,i=this.bbox()){return this.x(t,i).y(e,i)},plain:function(t){return this._build===!1&&this.clear(),this.node.appendChild(Fe.document.createTextNode(t)),this},x:function(t,e=this.bbox()){return t==null?e.x:this.attr("x",this.attr("x")+t-e.x)},y:function(t,e=this.bbox()){return t==null?e.y:this.attr("y",this.attr("y")+t-e.y)}});class Qi extends yi{constructor(e,i=e){super(Be("text",e),i),this.dom.leading=this.dom.leading??new fe(1.3),this._rebuild=!0,this._build=!1}leading(e){return e==null?this.dom.leading:(this.dom.leading=new fe(e),this.rebuild())}rebuild(e){if(typeof e=="boolean"&&(this._rebuild=e),this._rebuild){const i=this;let s=0;const r=this.dom.leading;this.each(function(n){if(Jf(this.node))return;const o=Fe.window.getComputedStyle(this.node).getPropertyValue("font-size"),a=r*new fe(o);this.dom.newLined&&(this.attr("x",i.attr("x")),this.text()===`
`?s+=a:(this.attr("dy",n?a+s:0),s=0))}),this.fire("rebuild")}return this}setData(e){return this.dom=e,this.dom.leading=new fe(e.leading||1.3),this}writeDataToDom(){return nP(this,this.dom,{leading:1.3}),this}text(e){if(e===void 0){const i=this.node.childNodes;let s=0;e="";for(let r=0,n=i.length;r<n;++r)i[r].nodeName==="textPath"||Jf(i[r])?r===0&&(s=r+1):(r!==s&&i[r].nodeType!==3&&Ri(i[r]).dom.newLined===!0&&(e+=`
`),e+=i[r].textContent);return e}if(this.clear().build(!0),typeof e=="function")e.call(this,this);else for(let i=0,s=(e=(e+"").split(`
`)).length;i<s;i++)this.newLine(e[i]);return this.build(!1).rebuild()}}le(Qi,PP),we({Container:{text:Ge(function(t=""){return this.put(new Qi).text(t)}),plain:Ge(function(t=""){return this.put(new Qi).plain(t)})}}),Ae(Qi,"Text");class vu extends yi{constructor(e,i=e){super(Be("tspan",e),i),this._build=!1}dx(e){return this.attr("dx",e)}dy(e){return this.attr("dy",e)}newLine(){this.dom.newLined=!0;const e=this.parent();if(!(e instanceof Qi))return this;const i=e.index(this),s=Fe.window.getComputedStyle(this.node).getPropertyValue("font-size"),r=e.dom.leading*new fe(s);return this.dy(i?r:0).attr("x",e.x())}text(e){return e==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof e=="function"?(this.clear().build(!0),e.call(this,this),this.build(!1)):this.plain(e),this)}}le(vu,PP),we({Tspan:{tspan:Ge(function(t=""){const e=new vu;return this._build||this.clear(),this.put(e).text(t)})},Text:{newLine:function(t=""){return this.tspan(t).newLine()}}}),Ae(vu,"Tspan");class Ig extends yi{constructor(e,i=e){super(Be("circle",e),i)}radius(e){return this.attr("r",e)}rx(e){return this.attr("r",e)}ry(e){return this.rx(e)}size(e){return this.radius(new fe(e).divide(2))}}le(Ig,{x:gP,y:pP,cx:fP,cy:mP,width:vP,height:CP}),we({Container:{circle:Ge(function(t=0){return this.put(new Ig).size(t).move(0,0)})}}),Ae(Ig,"Circle");class Og extends Kt{constructor(e,i=e){super(Be("clipPath",e),i)}remove(){return this.targets().forEach(function(e){e.unclip()}),super.remove()}targets(){return Hn("svg [clip-path*="+this.id()+"]")}}we({Container:{clip:Ge(function(){return this.defs().put(new Og)})},Element:{clipper(){return this.reference("clip-path")},clipWith(t){const e=t instanceof Og?t:this.parent().clip().add(t);return this.attr("clip-path","url(#"+e.id()+")")},unclip(){return this.attr("clip-path",null)}}}),Ae(Og,"ClipPath");class Lx extends Et{constructor(e,i=e){super(Be("foreignObject",e),i)}}we({Container:{foreignObject:Ge(function(t,e){return this.put(new Lx).size(t,e)})}}),Ae(Lx,"ForeignObject");var EP=Object.freeze({__proto__:null,dmove:function(t,e){return this.children().forEach(i=>{let s;try{s=i.node instanceof Ql().SVGSVGElement?new rt(i.attr(["x","y","width","height"])):i.bbox()}catch{return}const r=new ae(i),n=r.translate(t,e).transform(r.inverse()),o=new Te(s.x,s.y).transform(n);i.move(o.x,o.y)}),this},dx:function(t){return this.dmove(t,0)},dy:function(t){return this.dmove(0,t)},height:function(t,e=this.bbox()){return t==null?e.height:this.size(e.width,t,e)},move:function(t=0,e=0,i=this.bbox()){const s=t-i.x,r=e-i.y;return this.dmove(s,r)},size:function(t,e,i=this.bbox()){const s=ia(this,t,e,i),r=s.width/i.width,n=s.height/i.height;return this.children().forEach(o=>{const a=new Te(i).transform(new ae(o).inverse());o.scale(r,n,a.x,a.y)}),this},width:function(t,e=this.bbox()){return t==null?e.width:this.size(t,e.height,e)},x:function(t,e=this.bbox()){return t==null?e.x:this.move(t,e.y,e)},y:function(t,e=this.bbox()){return t==null?e.y:this.move(e.x,t,e)}});class xr extends Kt{constructor(e,i=e){super(Be("g",e),i)}}le(xr,EP),we({Container:{group:Ge(function(){return this.put(new xr)})}}),Ae(xr,"G");class Gc extends Kt{constructor(e,i=e){super(Be("a",e),i)}target(e){return this.attr("target",e)}to(e){return this.attr("href",e,sa)}}le(Gc,EP),we({Container:{link:Ge(function(t){return this.put(new Gc).to(t)})},Element:{unlink(){const t=this.linker();if(!t)return this;const e=t.parent();if(!e)return this.remove();const i=e.index(t);return e.add(this,i),t.remove(),this},linkTo(t){let e=this.linker();return e||(e=new Gc,this.wrap(e)),typeof t=="function"?t.call(e,e):e.to(t),this},linker(){const t=this.parent();return t&&t.node.nodeName.toLowerCase()==="a"?t:null}}}),Ae(Gc,"A");class Hg extends Kt{constructor(e,i=e){super(Be("mask",e),i)}remove(){return this.targets().forEach(function(e){e.unmask()}),super.remove()}targets(){return Hn("svg [mask*="+this.id()+"]")}}we({Container:{mask:Ge(function(){return this.defs().put(new Hg)})},Element:{masker(){return this.reference("mask")},maskWith(t){const e=t instanceof Hg?t:this.parent().mask().add(t);return this.attr("mask","url(#"+e.id()+")")},unmask(){return this.attr("mask",null)}}}),Ae(Hg,"Mask");class Ix extends Et{constructor(e,i=e){super(Be("stop",e),i)}update(e){return(typeof e=="number"||e instanceof fe)&&(e={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),e.opacity!=null&&this.attr("stop-opacity",e.opacity),e.color!=null&&this.attr("stop-color",e.color),e.offset!=null&&this.attr("offset",new fe(e.offset)),this}}we({Gradient:{stop:function(t,e,i){return this.put(new Ix).update(t,e,i)}}}),Ae(Ix,"Stop");class Ng extends Et{constructor(e,i=e){super(Be("style",e),i)}addText(e=""){return this.node.textContent+=e,this}font(e,i,s={}){return this.rule("@font-face",{fontFamily:e,src:i,...s})}rule(e,i){return this.addText(function(s,r){if(!s)return"";if(!r)return s;let n=s+"{";for(const o in r)n+=o.replace(/([A-Z])/g,function(a,l){return"-"+l.toLowerCase()})+":"+r[o]+";";return n+="}",n}(e,i))}}we("Dom",{style(t,e){return this.put(new Ng).rule(t,e)},fontface(t,e,i){return this.put(new Ng).font(t,e,i)}}),Ae(Ng,"Style");class Gg extends Qi{constructor(e,i=e){super(Be("textPath",e),i)}array(){const e=this.track();return e?e.array():null}plot(e){const i=this.track();let s=null;return i&&(s=i.plot(e)),e==null?s:this}track(){return this.reference("href")}}we({Container:{textPath:Ge(function(t,e){return t instanceof Qi||(t=this.text(t)),t.path(e)})},Text:{path:Ge(function(t,e=!0){const i=new Gg;let s;if(t instanceof Co||(t=this.defs().path(t)),i.attr("href","#"+t,sa),e)for(;s=this.node.firstChild;)i.node.appendChild(s);return this.put(i)}),textPath(){return this.findOne("textPath")}},Path:{text:Ge(function(t){return t instanceof Qi||(t=new Qi().addTo(this.parent()).text(t)),t.path(this)}),targets(){return Hn("svg textPath").filter(t=>(t.attr("href")||"").includes(this.id()))}}}),Gg.prototype.MorphArray=qi,Ae(Gg,"TextPath");class Ox extends yi{constructor(e,i=e){super(Be("use",e),i)}use(e,i){return this.attr("href",(i||"")+"#"+e,sa)}}we({Container:{use:Ge(function(t,e){return this.put(new Ox).use(t,e)})}}),Ae(Ox,"Use");const GX=_t;le([om,am,pu,Pl,fu],Qt("viewbox")),le([tn,rn,sn,Co],Qt("marker")),le(Qi,Qt("Text")),le(Co,Qt("Path")),le(gd,Qt("Defs")),le([Qi,vu],Qt("Tspan")),le([mu,gu,ja,pi],Qt("radius")),le(Zl,Qt("EventTarget")),le(Pr,Qt("Dom")),le(Et,Qt("Element")),le(yi,Qt("Shape")),le([Kt,yP],Qt("Container")),le(ja,Qt("Gradient")),le(pi,Qt("Runner")),En.extend([...new Set(sP)]),function(t=[]){nm.push(...[].concat(t))}([fe,Ie,rt,ae,kn,Er,qi,Te]),le(nm,{to(t){return new _r().type(this.constructor).from(this.toArray()).to(t)},fromArray(t){return this.init(t),this},toConsumable(){return this.toArray()},morph(t,e,i,s,r){return this.fromArray(t.map(function(n,o){return s.step(n,e[o],i,r[o],r)}))}});class Ve extends Et{constructor(e){super(Be("filter",e),e),this.$source="SourceGraphic",this.$sourceAlpha="SourceAlpha",this.$background="BackgroundImage",this.$backgroundAlpha="BackgroundAlpha",this.$fill="FillPaint",this.$stroke="StrokePaint",this.$autoSetIn=!0}put(e,i){return!(e=super.put(e,i)).attr("in")&&this.$autoSetIn&&e.attr("in",this.$source),e.attr("result")||e.attr("result",e.id()),e}remove(){return this.targets().each("unfilter"),super.remove()}targets(){return Hn('svg [filter*="'+this.id()+'"]')}toString(){return"url(#"+this.id()+")"}}class SC extends Et{constructor(e,i){super(e,i),this.result(this.id())}in(e){if(e==null){const i=this.attr("in");return this.parent()&&this.parent().find(`[result="${i}"]`)[0]||i}return this.attr("in",e)}result(e){return this.attr("result",e)}toString(){return this.result()}}const bi=t=>function(...e){for(let i=t.length;i--;)e[i]!=null&&this.attr(t[i],e[i])},BX={blend:bi(["in","in2","mode"]),colorMatrix:bi(["type","values"]),composite:bi(["in","in2","operator"]),convolveMatrix:function(t){t=new kn(t).toString(),this.attr({order:Math.sqrt(t.split(" ").length),kernelMatrix:t})},diffuseLighting:bi(["surfaceScale","lightingColor","diffuseConstant","kernelUnitLength"]),displacementMap:bi(["in","in2","scale","xChannelSelector","yChannelSelector"]),dropShadow:bi(["in","dx","dy","stdDeviation"]),flood:bi(["flood-color","flood-opacity"]),gaussianBlur:function(t=0,e=t){this.attr("stdDeviation",t+" "+e)},image:function(t){this.attr("href",t,sa)},morphology:bi(["operator","radius"]),offset:bi(["dx","dy"]),specularLighting:bi(["surfaceScale","lightingColor","diffuseConstant","specularExponent","kernelUnitLength"]),tile:bi([]),turbulence:bi(["baseFrequency","numOctaves","seed","stitchTiles","type"])};["blend","colorMatrix","componentTransfer","composite","convolveMatrix","diffuseLighting","displacementMap","dropShadow","flood","gaussianBlur","image","merge","morphology","offset","specularLighting","tile","turbulence"].forEach(t=>{const e=ta(t),i=BX[t];Ve[e+"Effect"]=class extends SC{constructor(s){super(Be("fe"+e,s),s)}update(s){return i.apply(this,s),this}},Ve.prototype[t]=Ge(function(s,...r){const n=new Ve[e+"Effect"];return s==null?this.put(n):(typeof s=="function"?s.call(n,n):r.unshift(s),this.put(n).update(r))})}),le(Ve,{merge(t){const e=this.put(new Ve.MergeEffect);return typeof t=="function"?(t.call(e,e),e):((t instanceof Array?t:[...arguments]).forEach(i=>{i instanceof Ve.MergeNode?e.put(i):e.mergeNode(i)}),e)},componentTransfer(t={}){const e=this.put(new Ve.ComponentTransferEffect);if(typeof t=="function")return t.call(e,e),e;t.r||t.g||t.b||t.a||(t={r:t,g:t,b:t,a:t});for(const i in t)e.add(new Ve["Func"+i.toUpperCase()](t[i]));return e}});["distantLight","pointLight","spotLight","mergeNode","FuncR","FuncG","FuncB","FuncA"].forEach(t=>{const e=ta(t);Ve[e]=class extends SC{constructor(i){super(Be("fe"+e,i),i)}}});["funcR","funcG","funcB","funcA"].forEach(function(t){const e=Ve[ta(t)],i=Ge(function(){return this.put(new e)});Ve.ComponentTransferEffect.prototype[t]=i});["distantLight","pointLight","spotLight"].forEach(t=>{const e=Ve[ta(t)],i=Ge(function(){return this.put(new e)});Ve.DiffuseLightingEffect.prototype[t]=i,Ve.SpecularLightingEffect.prototype[t]=i}),le(Ve.MergeEffect,{mergeNode(t){return this.put(new Ve.MergeNode).attr("in",t)}}),le(gd,{filter:function(t){const e=this.put(new Ve);return typeof t=="function"&&t.call(e,e),e}}),le(Kt,{filter:function(t){return this.defs().filter(t)}}),le(Et,{filterWith:function(t){const e=t instanceof Ve?t:this.defs().filter(t);return this.attr("filter",e)},unfilter:function(t){return this.attr("filter",null)},filterer(){return this.reference("filter")}});const WX={blend:function(t,e){return this.parent()&&this.parent().blend(this,t,e)},colorMatrix:function(t,e){return this.parent()&&this.parent().colorMatrix(t,e).in(this)},componentTransfer:function(t){return this.parent()&&this.parent().componentTransfer(t).in(this)},composite:function(t,e){return this.parent()&&this.parent().composite(this,t,e)},convolveMatrix:function(t){return this.parent()&&this.parent().convolveMatrix(t).in(this)},diffuseLighting:function(t,e,i,s){return this.parent()&&this.parent().diffuseLighting(t,i,s).in(this)},displacementMap:function(t,e,i,s){return this.parent()&&this.parent().displacementMap(this,t,e,i,s)},dropShadow:function(t,e,i){return this.parent()&&this.parent().dropShadow(this,t,e,i).in(this)},flood:function(t,e){return this.parent()&&this.parent().flood(t,e)},gaussianBlur:function(t,e){return this.parent()&&this.parent().gaussianBlur(t,e).in(this)},image:function(t){return this.parent()&&this.parent().image(t)},merge:function(t){return t=t instanceof Array?t:[...t],this.parent()&&this.parent().merge(this,...t)},morphology:function(t,e){return this.parent()&&this.parent().morphology(t,e).in(this)},offset:function(t,e){return this.parent()&&this.parent().offset(t,e).in(this)},specularLighting:function(t,e,i,s,r){return this.parent()&&this.parent().specularLighting(t,i,s,r).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(t,e,i,s,r){return this.parent()&&this.parent().turbulence(t,e,i,s,r).in(this)}};le(SC,WX),le(Ve.MergeEffect,{in:function(t){return t instanceof Ve.MergeNode?this.add(t,0):this.add(new Ve.MergeNode().in(t),0),this}}),le([Ve.CompositeEffect,Ve.BlendEffect,Ve.DisplacementMapEffect],{in2:function(t){if(t==null){const e=this.attr("in2");return this.parent()&&this.parent().find(`[result="${e}"]`)[0]||e}return this.attr("in2",t)}}),Ve.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]};var St=function(){function t(e){J(this,t),this.ctx=e,this.w=e.w}return ee(t,[{key:"getDefaultFilter",value:function(e,i){var s=this.w;e.unfilter(!0),new Ve().size("120%","180%","-5%","-40%"),s.config.chart.dropShadow.enabled&&this.dropShadow(e,s.config.chart.dropShadow,i)}},{key:"applyFilter",value:function(e,i,s){var r,n=this,o=this.w;if(e.unfilter(!0),s!=="none"){var a,l,c=o.config.chart.dropShadow,u=s==="lighten"?2:.3;e.filterWith(function(h){h.colorMatrix({type:"matrix",values:`
          `.concat(u,` 0 0 0 0
          0 `).concat(u,` 0 0 0
          0 0 `).concat(u,` 0 0
          0 0 0 1 0
        `),in:"SourceGraphic",result:"brightness"}),c.enabled&&n.addShadow(h,i,c,"brightness")}),!c.noUserSpaceOnUse&&((a=e.filterer())===null||a===void 0||(l=a.node)===null||l===void 0||l.setAttribute("filterUnits","userSpaceOnUse")),this._scaleFilterSize((r=e.filterer())===null||r===void 0?void 0:r.node)}else this.getDefaultFilter(e,i)}},{key:"addShadow",value:function(e,i,s,r){var n,o=this.w,a=s.blur,l=s.top,c=s.left,u=s.color,h=s.opacity;if(u=Array.isArray(u)?u[i]:u,((n=o.config.chart.dropShadow.enabledOnSeries)===null||n===void 0?void 0:n.length)>0&&o.config.chart.dropShadow.enabledOnSeries.indexOf(i)===-1)return e;e.offset({in:r,dx:c,dy:l,result:"offset"}),e.gaussianBlur({in:"offset",stdDeviation:a,result:"blur"}),e.flood({"flood-color":u,"flood-opacity":h,result:"flood"}),e.composite({in:"flood",in2:"blur",operator:"in",result:"shadow"}),e.merge(["shadow",r])}},{key:"dropShadow",value:function(e,i){var s,r,n,o=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=this.w;return e.unfilter(!0),O.isMsEdge()&&l.config.chart.type==="radialBar"||((s=l.config.chart.dropShadow.enabledOnSeries)===null||s===void 0?void 0:s.length)>0&&((n=l.config.chart.dropShadow.enabledOnSeries)===null||n===void 0?void 0:n.indexOf(a))===-1||(e.filterWith(function(c){o.addShadow(c,a,i,"SourceGraphic")}),i.noUserSpaceOnUse||e.filterer().node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize((r=e.filterer())===null||r===void 0?void 0:r.node)),e}},{key:"setSelectionFilter",value:function(e,i,s){var r=this.w;if(r.globals.selectedDataPoints[i]!==void 0&&r.globals.selectedDataPoints[i].indexOf(s)>-1){e.node.setAttribute("selected",!0);var n=r.config.states.active.filter;n!=="none"&&this.applyFilter(e,i,n.type)}}},{key:"_scaleFilterSize",value:function(e){e&&function(i){for(var s in i)i.hasOwnProperty(s)&&e.setAttribute(s,i[s])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),t}(),Y=function(){function t(e){J(this,t),this.ctx=e,this.w=e.w}return ee(t,[{key:"roundPathCorners",value:function(e,i){function s(R,A,P){var E=A.x-R.x,L=A.y-R.y,M=Math.sqrt(E*E+L*L);return r(R,A,Math.min(1,P/M))}function r(R,A,P){return{x:R.x+(A.x-R.x)*P,y:R.y+(A.y-R.y)*P}}function n(R,A){R.length>2&&(R[R.length-2]=A.x,R[R.length-1]=A.y)}function o(R){return{x:parseFloat(R[R.length-2]),y:parseFloat(R[R.length-1])}}e.indexOf("NaN")>-1&&(e="");var a=e.split(/[,\s]/).reduce(function(R,A){var P=A.match("([a-zA-Z])(.+)");return P?(R.push(P[1]),R.push(P[2])):R.push(A),R},[]).reduce(function(R,A){return parseFloat(A)==A&&R.length?R[R.length-1].push(A):R.push([A]),R},[]),l=[];if(a.length>1){var c=o(a[0]),u=null;a[a.length-1][0]=="Z"&&a[0].length>2&&(u=["L",c.x,c.y],a[a.length-1]=u),l.push(a[0]);for(var h=1;h<a.length;h++){var d=l[l.length-1],g=a[h],p=g==u?a[1]:a[h+1];if(p&&d&&d.length>2&&g[0]=="L"&&p.length>2&&p[0]=="L"){var f,C,m=o(d),v=o(g),y=o(p);f=s(v,m,i),C=s(v,y,i),n(g,f),g.origPoint=v,l.push(g);var w=r(f,v,.5),x=r(v,C,.5),S=["C",w.x,w.y,x.x,x.y,C.x,C.y];S.origPoint=v,l.push(S)}else l.push(g)}if(u){var b=o(l[l.length-1]);l.push(["Z"]),n(l[0],b)}}else l=a;return l.reduce(function(R,A){return R+A.join(" ")+" "},"")}},{key:"drawLine",value:function(e,i,s,r){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:e,y1:i,x2:s,y2:r,stroke:n,"stroke-dasharray":o,"stroke-width":a,"stroke-linecap":l})}},{key:"drawRect",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,c=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,u=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,h=this.w.globals.dom.Paper.rect();return h.attr({x:e,y:i,width:s>0?s:0,height:r>0?r:0,rx:n,ry:n,opacity:a,"stroke-width":l!==null?l:0,stroke:c!==null?c:"none","stroke-dasharray":u}),h.node.setAttribute("fill",o),h}},{key:"drawPolygon",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(e).attr({fill:r,stroke:i,"stroke-width":s})}},{key:"drawCircle",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;e<0&&(e=0);var s=this.w.globals.dom.Paper.circle(2*e);return i!==null&&s.attr(i),s}},{key:"drawPath",value:function(e){var i=e.d,s=i===void 0?"":i,r=e.stroke,n=r===void 0?"#a8a8a8":r,o=e.strokeWidth,a=o===void 0?1:o,l=e.fill,c=e.fillOpacity,u=c===void 0?1:c,h=e.strokeOpacity,d=h===void 0?1:h,g=e.classes,p=e.strokeLinecap,f=p===void 0?null:p,C=e.strokeDashArray,m=C===void 0?0:C,v=this.w;return f===null&&(f=v.config.stroke.lineCap),(s.indexOf("undefined")>-1||s.indexOf("NaN")>-1)&&(s="M 0 ".concat(v.globals.gridHeight)),v.globals.dom.Paper.path(s).attr({fill:l,"fill-opacity":u,stroke:n,"stroke-opacity":d,"stroke-linecap":f,"stroke-width":a,"stroke-dasharray":m,class:g})}},{key:"group",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,i=this.w.globals.dom.Paper.group();return e!==null&&i.attr(e),i}},{key:"move",value:function(e,i){var s=["M",e,i].join(" ");return s}},{key:"line",value:function(e,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=null;return s===null?r=[" L",e,i].join(" "):s==="H"?r=[" H",e].join(" "):s==="V"&&(r=[" V",i].join(" ")),r}},{key:"curve",value:function(e,i,s,r,n,o){var a=["C",e,i,s,r,n,o].join(" ");return a}},{key:"quadraticCurve",value:function(e,i,s,r){return["Q",e,i,s,r].join(" ")}},{key:"arc",value:function(e,i,s,r,n,o,a){var l="A";arguments.length>7&&arguments[7]!==void 0&&arguments[7]&&(l="a");var c=[l,e,i,s,r,n,o,a].join(" ");return c}},{key:"renderPaths",value:function(e){var i,s=e.j,r=e.realIndex,n=e.pathFrom,o=e.pathTo,a=e.stroke,l=e.strokeWidth,c=e.strokeLinecap,u=e.fill,h=e.animationDelay,d=e.initialSpeed,g=e.dataChangeSpeed,p=e.className,f=e.chartType,C=e.shouldClipToGrid,m=C===void 0||C,v=e.bindEventsOnPaths,y=v===void 0||v,w=e.drawShadow,x=w===void 0||w,S=this.w,b=new St(this.ctx),R=new ea(this.ctx),A=this.w.config.chart.animations.enabled,P=A&&this.w.config.chart.animations.dynamicAnimation.enabled,E=!!(A&&!S.globals.resized||P&&S.globals.dataChanged&&S.globals.shouldAnimate);E?i=n:(i=o,S.globals.animationEnded=!0);var L=S.config.stroke.dashArray,M=0;M=Array.isArray(L)?L[r]:S.config.stroke.dashArray;var I=this.drawPath({d:i,stroke:a,strokeWidth:l,fill:u,fillOpacity:1,classes:p,strokeLinecap:c,strokeDashArray:M});I.attr("index",r),m&&(f==="bar"&&!S.globals.isHorizontal||S.globals.comboCharts?I.attr({"clip-path":"url(#gridRectBarMask".concat(S.globals.cuid,")")}):I.attr({"clip-path":"url(#gridRectMask".concat(S.globals.cuid,")")})),S.config.chart.dropShadow.enabled&&x&&b.dropShadow(I,S.config.chart.dropShadow,r),y&&(I.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,I)),I.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,I)),I.node.addEventListener("mousedown",this.pathMouseDown.bind(this,I))),I.attr({pathTo:o,pathFrom:n});var z={el:I,j:s,realIndex:r,pathFrom:n,pathTo:o,fill:u,strokeWidth:l,delay:h};return!A||S.globals.resized||S.globals.dataChanged?!S.globals.resized&&S.globals.dataChanged||R.showDelayedElements():R.animatePathsGradually(Q(Q({},z),{},{speed:d})),S.globals.dataChanged&&P&&E&&R.animatePathsGradually(Q(Q({},z),{},{speed:g})),I}},{key:"drawPattern",value:function(e,i,s){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;return this.w.globals.dom.Paper.pattern(i,s,function(o){e==="horizontalLines"?o.line(0,0,s,0).stroke({color:r,width:n+1}):e==="verticalLines"?o.line(0,0,0,i).stroke({color:r,width:n+1}):e==="slantedLines"?o.line(0,0,i,s).stroke({color:r,width:n}):e==="squares"?o.rect(i,s).fill("none").stroke({color:r,width:n}):e==="circles"&&o.circle(i).fill("none").stroke({color:r,width:n})})}},{key:"drawGradient",value:function(e,i,s,r,n){var o,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],u=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,h=this.w;i.length<9&&i.indexOf("#")===0&&(i=O.hexToRgba(i,r)),s.length<9&&s.indexOf("#")===0&&(s=O.hexToRgba(s,n));var d=0,g=1,p=1,f=null;l!==null&&(d=l[0]!==void 0?l[0]/100:0,g=l[1]!==void 0?l[1]/100:1,p=l[2]!==void 0?l[2]/100:1,f=l[3]!==void 0?l[3]/100:null);var C=!(h.config.chart.type!=="donut"&&h.config.chart.type!=="pie"&&h.config.chart.type!=="polarArea"&&h.config.chart.type!=="bubble");if(o=c&&c.length!==0?h.globals.dom.Paper.gradient(C?"radial":"linear",function(y){(Array.isArray(c[u])?c[u]:c).forEach(function(w){y.stop(w.offset/100,w.color,w.opacity)})}):h.globals.dom.Paper.gradient(C?"radial":"linear",function(y){y.stop(d,i,r),y.stop(g,s,n),y.stop(p,s,n),f!==null&&y.stop(f,i,r)}),C){var m=h.globals.gridWidth/2,v=h.globals.gridHeight/2;h.config.chart.type!=="bubble"?o.attr({gradientUnits:"userSpaceOnUse",cx:m,cy:v,r:a}):o.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else e==="vertical"?o.from(0,0).to(0,1):e==="diagonal"?o.from(0,0).to(1,1):e==="horizontal"?o.from(0,1).to(1,1):e==="diagonal2"&&o.from(1,0).to(0,1);return o}},{key:"getTextBasedOnMaxWidth",value:function(e){var i=e.text,s=e.maxWidth,r=e.fontSize,n=e.fontFamily,o=this.getTextRects(i,r,n),a=o.width/i.length,l=Math.floor(s/a);return s<o.width?i.slice(0,l-3)+"...":i}},{key:"drawText",value:function(e){var i=this,s=e.x,r=e.y,n=e.text,o=e.textAnchor,a=e.fontSize,l=e.fontFamily,c=e.fontWeight,u=e.foreColor,h=e.opacity,d=e.maxWidth,g=e.cssClass,p=g===void 0?"":g,f=e.isPlainText,C=f===void 0||f,m=e.dominantBaseline,v=m===void 0?"auto":m,y=this.w;n===void 0&&(n="");var w=n;o||(o="start"),u&&u.length||(u=y.config.chart.foreColor),l=l||y.config.chart.fontFamily,c=c||"regular";var x,S={maxWidth:d,fontSize:a=a||"11px",fontFamily:l};return Array.isArray(n)?x=y.globals.dom.Paper.text(function(b){for(var R=0;R<n.length;R++)w=n[R],d&&(w=i.getTextBasedOnMaxWidth(Q({text:n[R]},S))),R===0?b.tspan(w):b.tspan(w).newLine()}):(d&&(w=this.getTextBasedOnMaxWidth(Q({text:n},S))),x=C?y.globals.dom.Paper.plain(n):y.globals.dom.Paper.text(function(b){return b.tspan(w)})),x.attr({x:s,y:r,"text-anchor":o,"dominant-baseline":v,"font-size":a,"font-family":l,"font-weight":c,fill:u,class:"apexcharts-text "+p}),x.node.style.fontFamily=l,x.node.style.opacity=h,x}},{key:"getMarkerPath",value:function(e,i,s,r){var n="";switch(s){case"cross":n="M ".concat(e-(r/=1.4)," ").concat(i-r," L ").concat(e+r," ").concat(i+r,"  M ").concat(e-r," ").concat(i+r," L ").concat(e+r," ").concat(i-r);break;case"plus":n="M ".concat(e-(r/=1.12)," ").concat(i," L ").concat(e+r," ").concat(i,"  M ").concat(e," ").concat(i-r," L ").concat(e," ").concat(i+r);break;case"star":case"sparkle":var o=5;r*=1.15,s==="sparkle"&&(r/=1.1,o=4);for(var a=Math.PI/o,l=0;l<=2*o;l++){var c=l*a,u=l%2==0?r:r/2;n+=(l===0?"M":"L")+(e+u*Math.sin(c))+","+(i-u*Math.cos(c))}n+="Z";break;case"triangle":n="M ".concat(e," ").concat(i-r,` 
             L `).concat(e+r," ").concat(i+r,` 
             L `).concat(e-r," ").concat(i+r,` 
             Z`);break;case"square":case"rect":n="M ".concat(e-(r/=1.125)," ").concat(i-r,` 
           L `).concat(e+r," ").concat(i-r,` 
           L `).concat(e+r," ").concat(i+r,` 
           L `).concat(e-r," ").concat(i+r,` 
           Z`);break;case"diamond":r*=1.05,n="M ".concat(e," ").concat(i-r,` 
             L `).concat(e+r," ").concat(i,` 
             L `).concat(e," ").concat(i+r,` 
             L `).concat(e-r," ").concat(i,` 
            Z`);break;case"line":n="M ".concat(e-(r/=1.1)," ").concat(i,` 
           L `).concat(e+r," ").concat(i);break;default:r*=2,n="M ".concat(e,", ").concat(i,` 
           m -`).concat(r/2,`, 0 
           a `).concat(r/2,",").concat(r/2," 0 1,0 ").concat(r,`,0 
           a `).concat(r/2,",").concat(r/2," 0 1,0 -").concat(r,",0")}return n}},{key:"drawMarkerShape",value:function(e,i,s,r,n){var o=this.drawPath({d:this.getMarkerPath(e,i,s,r,n),stroke:n.pointStrokeColor,strokeDashArray:n.pointStrokeDashArray,strokeWidth:n.pointStrokeWidth,fill:n.pointFillColor,fillOpacity:n.pointFillOpacity,strokeOpacity:n.pointStrokeOpacity});return o.attr({cx:e,cy:i,shape:n.shape,class:n.class?n.class:""}),o}},{key:"drawMarker",value:function(e,i,s){e=e||0;var r=s.pSize||0;return O.isNumber(i)||(r=0,i=0),this.drawMarkerShape(e,i,s==null?void 0:s.shape,r,Q(Q({},s),s.shape==="line"||s.shape==="plus"||s.shape==="cross"?{pointStrokeColor:s.pointFillColor,pointStrokeOpacity:s.pointFillOpacity}:{}))}},{key:"pathMouseEnter",value:function(e,i){var s=this.w,r=new St(this.ctx),n=parseInt(e.node.getAttribute("index"),10),o=parseInt(e.node.getAttribute("j"),10);if(typeof s.config.chart.events.dataPointMouseEnter=="function"&&s.config.chart.events.dataPointMouseEnter(i,this.ctx,{seriesIndex:n,dataPointIndex:o,w:s}),this.ctx.events.fireEvent("dataPointMouseEnter",[i,this.ctx,{seriesIndex:n,dataPointIndex:o,w:s}]),(s.config.states.active.filter.type==="none"||e.node.getAttribute("selected")!=="true")&&s.config.states.hover.filter.type!=="none"&&!s.globals.isTouchDevice){var a=s.config.states.hover.filter;r.applyFilter(e,n,a.type)}}},{key:"pathMouseLeave",value:function(e,i){var s=this.w,r=new St(this.ctx),n=parseInt(e.node.getAttribute("index"),10),o=parseInt(e.node.getAttribute("j"),10);typeof s.config.chart.events.dataPointMouseLeave=="function"&&s.config.chart.events.dataPointMouseLeave(i,this.ctx,{seriesIndex:n,dataPointIndex:o,w:s}),this.ctx.events.fireEvent("dataPointMouseLeave",[i,this.ctx,{seriesIndex:n,dataPointIndex:o,w:s}]),s.config.states.active.filter.type!=="none"&&e.node.getAttribute("selected")==="true"||s.config.states.hover.filter.type!=="none"&&r.getDefaultFilter(e,n)}},{key:"pathMouseDown",value:function(e,i){var s=this.w,r=new St(this.ctx),n=parseInt(e.node.getAttribute("index"),10),o=parseInt(e.node.getAttribute("j"),10),a="false";if(e.node.getAttribute("selected")==="true"){if(e.node.setAttribute("selected","false"),s.globals.selectedDataPoints[n].indexOf(o)>-1){var l=s.globals.selectedDataPoints[n].indexOf(o);s.globals.selectedDataPoints[n].splice(l,1)}}else{if(!s.config.states.active.allowMultipleDataPointsSelection&&s.globals.selectedDataPoints.length>0){s.globals.selectedDataPoints=[];var c=s.globals.dom.Paper.find(".apexcharts-series path:not(.apexcharts-decoration-element)"),u=s.globals.dom.Paper.find(".apexcharts-series circle:not(.apexcharts-decoration-element), .apexcharts-series rect:not(.apexcharts-decoration-element)"),h=function(p){Array.prototype.forEach.call(p,function(f){f.node.setAttribute("selected","false"),r.getDefaultFilter(f,n)})};h(c),h(u)}e.node.setAttribute("selected","true"),a="true",s.globals.selectedDataPoints[n]===void 0&&(s.globals.selectedDataPoints[n]=[]),s.globals.selectedDataPoints[n].push(o)}if(a==="true"){var d=s.config.states.active.filter;if(d!=="none")r.applyFilter(e,n,d.type);else if(s.config.states.hover.filter!=="none"&&!s.globals.isTouchDevice){var g=s.config.states.hover.filter;r.applyFilter(e,n,g.type)}}else s.config.states.active.filter.type!=="none"&&(s.config.states.hover.filter.type==="none"||s.globals.isTouchDevice?r.getDefaultFilter(e,n):(g=s.config.states.hover.filter,r.applyFilter(e,n,g.type)));typeof s.config.chart.events.dataPointSelection=="function"&&s.config.chart.events.dataPointSelection(i,this.ctx,{selectedDataPoints:s.globals.selectedDataPoints,seriesIndex:n,dataPointIndex:o,w:s}),i&&this.ctx.events.fireEvent("dataPointSelection",[i,this.ctx,{selectedDataPoints:s.globals.selectedDataPoints,seriesIndex:n,dataPointIndex:o,w:s}])}},{key:"rotateAroundCenter",value:function(e){var i={};return e&&typeof e.getBBox=="function"&&(i=e.getBBox()),{x:i.x+i.width/2,y:i.y+i.height/2}}},{key:"getTextRects",value:function(e,i,s,r){var n=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],o=this.w,a=this.drawText({x:-200,y:-200,text:e,textAnchor:"start",fontSize:i,fontFamily:s,foreColor:"#fff",opacity:0});r&&a.attr("transform",r),o.globals.dom.Paper.add(a);var l=a.bbox();return n||(l=a.node.getBoundingClientRect()),a.remove(),{width:l.width,height:l.height}}},{key:"placeTextWithEllipsis",value:function(e,i,s){if(typeof e.getComputedTextLength=="function"&&(e.textContent=i,i.length>0&&e.getComputedTextLength()>=s/1.1)){for(var r=i.length-3;r>0;r-=3)if(e.getSubStringLength(0,r)<=s/1.1)return void(e.textContent=i.substring(0,r)+"...");e.textContent="."}}}],[{key:"setAttrs",value:function(e,i){for(var s in i)i.hasOwnProperty(s)&&e.setAttribute(s,i[s])}}]),t}(),at=function(){function t(e){J(this,t),this.ctx=e,this.w=e.w}return ee(t,[{key:"getStackedSeriesTotals",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=this.w,s=[];if(i.globals.series.length===0)return s;for(var r=0;r<i.globals.series[i.globals.maxValsInArrayIndex].length;r++){for(var n=0,o=0;o<i.globals.series.length;o++)i.globals.series[o][r]!==void 0&&e.indexOf(o)===-1&&(n+=i.globals.series[o][r]);s.push(n)}return s}},{key:"getSeriesTotalByIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return e===null?this.w.config.series.reduce(function(i,s){return i+s},0):this.w.globals.series[e].reduce(function(i,s){return i+s},0)}},{key:"getStackedSeriesTotalsByGroups",value:function(){var e=this,i=this.w,s=[];return i.globals.seriesGroups.forEach(function(r){var n=[];i.config.series.forEach(function(a,l){r.indexOf(i.globals.seriesNames[l])>-1&&n.push(l)});var o=i.globals.series.map(function(a,l){return n.indexOf(l)===-1?l:-1}).filter(function(a){return a!==-1});s.push(e.getStackedSeriesTotals(o))}),s}},{key:"setSeriesYAxisMappings",value:function(){var e=this.w.globals,i=this.w.config,s=[],r=[],n=[],o=e.series.length>i.yaxis.length||i.yaxis.some(function(h){return Array.isArray(h.seriesName)});i.series.forEach(function(h,d){n.push(d),r.push(null)}),i.yaxis.forEach(function(h,d){s[d]=[]});var a=[];i.yaxis.forEach(function(h,d){var g=!1;if(h.seriesName){var p=[];Array.isArray(h.seriesName)?p=h.seriesName:p.push(h.seriesName),p.forEach(function(f){i.series.forEach(function(C,m){if(C.name===f){var v=m;d===m||o?!o||n.indexOf(m)>-1?s[d].push([d,m]):console.warn("Series '"+C.name+"' referenced more than once in what looks like the new style. That is, when using either seriesName: [], or when there are more series than yaxes."):(s[m].push([m,d]),v=d),g=!0,(v=n.indexOf(v))!==-1&&n.splice(v,1)}})})}g||a.push(d)}),s=s.map(function(h,d){var g=[];return h.forEach(function(p){r[p[1]]=p[0],g.push(p[1])}),g});for(var l=i.yaxis.length-1,c=0;c<a.length&&(l=a[c],s[l]=[],n);c++){var u=n[0];n.shift(),s[l].push(u),r[u]=l}n.forEach(function(h){s[l].push(h),r[h]=l}),e.seriesYAxisMap=s.map(function(h){return h}),e.seriesYAxisReverseMap=r.map(function(h){return h}),e.seriesYAxisMap.forEach(function(h,d){h.forEach(function(g){i.series[g]&&i.series[g].group===void 0&&(i.series[g].group="apexcharts-axis-".concat(d.toString()))})})}},{key:"isSeriesNull",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(e===null?this.w.config.series.filter(function(i){return i!==null}):this.w.config.series[e].data.filter(function(i){return i!==null})).length===0}},{key:"seriesHaveSameValues",value:function(e){return this.w.globals.series[e].every(function(i,s,r){return i===r[0]})}},{key:"getCategoryLabels",value:function(e){var i=this.w,s=e.slice();return i.config.xaxis.convertedCatToNumeric&&(s=e.map(function(r,n){return i.config.xaxis.labels.formatter(r-i.globals.minX+1)})),s}},{key:"getLargestSeries",value:function(){var e=this.w;e.globals.maxValsInArrayIndex=e.globals.series.map(function(i){return i.length}).indexOf(Math.max.apply(Math,e.globals.series.map(function(i){return i.length})))}},{key:"getLargestMarkerSize",value:function(){var e=this.w,i=0;return e.globals.markers.size.forEach(function(s){i=Math.max(i,s)}),e.config.markers.discrete&&e.config.markers.discrete.length&&e.config.markers.discrete.forEach(function(s){i=Math.max(i,s.size)}),i>0&&(e.config.markers.hover.size>0?i=e.config.markers.hover.size:i+=e.config.markers.hover.sizeOffset),e.globals.markers.largestSize=i,i}},{key:"getSeriesTotals",value:function(){var e=this.w;e.globals.seriesTotals=e.globals.series.map(function(i,s){var r=0;if(Array.isArray(i))for(var n=0;n<i.length;n++)r+=i[n];else r+=i;return r})}},{key:"getSeriesTotalsXRange",value:function(e,i){var s=this.w;return s.globals.series.map(function(r,n){for(var o=0,a=0;a<r.length;a++)s.globals.seriesX[n][a]>e&&s.globals.seriesX[n][a]<i&&(o+=r[a]);return o})}},{key:"getPercentSeries",value:function(){var e=this.w;e.globals.seriesPercent=e.globals.series.map(function(i,s){var r=[];if(Array.isArray(i))for(var n=0;n<i.length;n++){var o=e.globals.stackedSeriesTotals[n],a=0;o&&(a=100*i[n]/o),r.push(a)}else{var l=100*i/e.globals.seriesTotals.reduce(function(c,u){return c+u},0);r.push(l)}return r})}},{key:"getCalculatedRatios",value:function(){var e,i,s,r=this,n=this.w,o=n.globals,a=[],l=0,c=[],u=.1,h=0;if(o.yRange=[],o.isMultipleYAxis)for(var d=0;d<o.minYArr.length;d++)o.yRange.push(Math.abs(o.minYArr[d]-o.maxYArr[d])),c.push(0);else o.yRange.push(Math.abs(o.minY-o.maxY));o.xRange=Math.abs(o.maxX-o.minX),o.zRange=Math.abs(o.maxZ-o.minZ);for(var g=0;g<o.yRange.length;g++)a.push(o.yRange[g]/o.gridHeight);if(i=o.xRange/o.gridWidth,e=o.yRange/o.gridWidth,s=o.xRange/o.gridHeight,(l=o.zRange/o.gridHeight*16)||(l=1),o.minY!==Number.MIN_VALUE&&Math.abs(o.minY)!==0&&(o.hasNegs=!0),n.globals.seriesYAxisReverseMap.length>0){var p=function(C,m){var v=n.config.yaxis[n.globals.seriesYAxisReverseMap[m]],y=C<0?-1:1;return C=Math.abs(C),v.logarithmic&&(C=r.getBaseLog(v.logBase,C)),-y*C/a[m]};if(o.isMultipleYAxis){c=[];for(var f=0;f<a.length;f++)c.push(p(o.minYArr[f],f))}else(c=[]).push(p(o.minY,0)),o.minY!==Number.MIN_VALUE&&Math.abs(o.minY)!==0&&(u=-o.minY/e,h=o.minX/i)}else(c=[]).push(0),u=0,h=0;return{yRatio:a,invertedYRatio:e,zRatio:l,xRatio:i,invertedXRatio:s,baseLineInvertedY:u,baseLineY:c,baseLineX:h}}},{key:"getLogSeries",value:function(e){var i=this,s=this.w;return s.globals.seriesLog=e.map(function(r,n){var o=s.globals.seriesYAxisReverseMap[n];return s.config.yaxis[o]&&s.config.yaxis[o].logarithmic?r.map(function(a){return a===null?null:i.getLogVal(s.config.yaxis[o].logBase,a,n)}):r}),s.globals.invalidLogScale?e:s.globals.seriesLog}},{key:"getBaseLog",value:function(e,i){return Math.log(i)/Math.log(e)}},{key:"getLogVal",value:function(e,i,s){if(i<=0)return 0;var r=this.w,n=r.globals.minYArr[s]===0?-1:this.getBaseLog(e,r.globals.minYArr[s]),o=(r.globals.maxYArr[s]===0?0:this.getBaseLog(e,r.globals.maxYArr[s]))-n;return i<1?i/o:(this.getBaseLog(e,i)-n)/o}},{key:"getLogYRatios",value:function(e){var i=this,s=this.w,r=this.w.globals;return r.yLogRatio=e.slice(),r.logYRange=r.yRange.map(function(n,o){var a=s.globals.seriesYAxisReverseMap[o];if(s.config.yaxis[a]&&i.w.config.yaxis[a].logarithmic){var l,c=-Number.MAX_VALUE,u=Number.MIN_VALUE;return r.seriesLog.forEach(function(h,d){h.forEach(function(g){s.config.yaxis[d]&&s.config.yaxis[d].logarithmic&&(c=Math.max(g,c),u=Math.min(g,u))})}),l=Math.pow(r.yRange[o],Math.abs(u-c)/r.yRange[o]),r.yLogRatio[o]=l/r.gridHeight,l}}),r.invalidLogScale?e.slice():r.yLogRatio}},{key:"drawSeriesByGroup",value:function(e,i,s,r){var n=this.w,o=[];return e.series.length>0&&i.forEach(function(a){var l=[],c=[];e.i.forEach(function(u,h){n.config.series[u].group===a&&(l.push(e.series[h]),c.push(u))}),l.length>0&&o.push(r.draw(l,s,c))}),o}}],[{key:"checkComboSeries",value:function(e,i){var s=!1,r=0,n=0;return i===void 0&&(i="line"),e.length&&e[0].type!==void 0&&e.forEach(function(o){o.type!=="bar"&&o.type!=="column"&&o.type!=="candlestick"&&o.type!=="boxPlot"||r++,o.type!==void 0&&o.type!==i&&n++}),n>0&&(s=!0),{comboBarCount:r,comboCharts:s}}},{key:"extendArrayProps",value:function(e,i,s){var r,n,o,a,l,c;return(r=i)!==null&&r!==void 0&&r.yaxis&&(i=e.extendYAxis(i,s)),(n=i)!==null&&n!==void 0&&n.annotations&&(i.annotations.yaxis&&(i=e.extendYAxisAnnotations(i)),(o=i)!==null&&o!==void 0&&(a=o.annotations)!==null&&a!==void 0&&a.xaxis&&(i=e.extendXAxisAnnotations(i)),(l=i)!==null&&l!==void 0&&(c=l.annotations)!==null&&c!==void 0&&c.points&&(i=e.extendPointAnnotations(i))),i}}]),t}(),pd=function(){function t(e){J(this,t),this.w=e.w,this.annoCtx=e}return ee(t,[{key:"setOrientations",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,s=this.w;if(e.label.orientation==="vertical"){var r=i!==null?i:0,n=s.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(r,"']"));if(n!==null){var o=n.getBoundingClientRect();n.setAttribute("x",parseFloat(n.getAttribute("x"))-o.height+4);var a=e.label.position==="top"?o.width:-o.width;n.setAttribute("y",parseFloat(n.getAttribute("y"))+a);var l=this.annoCtx.graphics.rotateAroundCenter(n),c=l.x,u=l.y;n.setAttribute("transform","rotate(-90 ".concat(c," ").concat(u,")"))}}}},{key:"addBackgroundToAnno",value:function(e,i){var s=this.w;if(!e||!i.label.text||!String(i.label.text).trim())return null;var r=s.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),n=e.getBoundingClientRect(),o=i.label.style.padding,a=o.left,l=o.right,c=o.top,u=o.bottom;if(i.label.orientation==="vertical"){var h=[a,l,c,u];c=h[0],u=h[1],a=h[2],l=h[3]}var d=n.left-r.left-a,g=n.top-r.top-c,p=this.annoCtx.graphics.drawRect(d-s.globals.barPadForNumericAxis,g,n.width+a+l,n.height+c+u,i.label.borderRadius,i.label.style.background,1,i.label.borderWidth,i.label.borderColor,0);return i.id&&p.node.classList.add(i.id),p}},{key:"annotationsBackground",value:function(){var e=this,i=this.w,s=function(r,n,o){var a=i.globals.dom.baseEl.querySelector(".apexcharts-".concat(o,"-annotations .apexcharts-").concat(o,"-annotation-label[rel='").concat(n,"']"));if(a){var l=a.parentNode,c=e.addBackgroundToAnno(a,r);c&&(l.insertBefore(c.node,a),r.label.mouseEnter&&c.node.addEventListener("mouseenter",r.label.mouseEnter.bind(e,r)),r.label.mouseLeave&&c.node.addEventListener("mouseleave",r.label.mouseLeave.bind(e,r)),r.label.click&&c.node.addEventListener("click",r.label.click.bind(e,r)))}};i.config.annotations.xaxis.forEach(function(r,n){return s(r,n,"xaxis")}),i.config.annotations.yaxis.forEach(function(r,n){return s(r,n,"yaxis")}),i.config.annotations.points.forEach(function(r,n){return s(r,n,"point")})}},{key:"getY1Y2",value:function(e,i){var s,r=this.w,n=e==="y1"?i.y:i.y2,o=!1;if(this.annoCtx.invertAxis){var a=r.config.xaxis.convertedCatToNumeric?r.globals.categoryLabels:r.globals.labels,l=a.indexOf(n),c=r.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child(".concat(l+1,")"));s=c?parseFloat(c.getAttribute("y")):(r.globals.gridHeight/a.length-1)*(l+1)-r.globals.barHeight,i.seriesIndex!==void 0&&r.globals.barHeight&&(s-=r.globals.barHeight/2*(r.globals.series.length-1)-r.globals.barHeight*i.seriesIndex)}else{var u,h=r.globals.seriesYAxisMap[i.yAxisIndex][0],d=r.config.yaxis[i.yAxisIndex].logarithmic?new at(this.annoCtx.ctx).getLogVal(r.config.yaxis[i.yAxisIndex].logBase,n,h)/r.globals.yLogRatio[h]:(n-r.globals.minYArr[h])/(r.globals.yRange[h]/r.globals.gridHeight);s=r.globals.gridHeight-Math.min(Math.max(d,0),r.globals.gridHeight),o=d>r.globals.gridHeight||d<0,!i.marker||i.y!==void 0&&i.y!==null||(s=0),(u=r.config.yaxis[i.yAxisIndex])!==null&&u!==void 0&&u.reversed&&(s=d)}return typeof n=="string"&&n.includes("px")&&(s=parseFloat(n)),{yP:s,clipped:o}}},{key:"getX1X2",value:function(e,i){var s=this.w,r=e==="x1"?i.x:i.x2,n=this.annoCtx.invertAxis?s.globals.minY:s.globals.minX,o=this.annoCtx.invertAxis?s.globals.maxY:s.globals.maxX,a=this.annoCtx.invertAxis?s.globals.yRange[0]:s.globals.xRange,l=!1,c=this.annoCtx.inversedReversedAxis?(o-r)/(a/s.globals.gridWidth):(r-n)/(a/s.globals.gridWidth);return s.config.xaxis.type!=="category"&&!s.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||s.globals.dataFormatXNumeric||s.config.chart.sparkline.enabled||(c=this.getStringX(r)),typeof r=="string"&&r.includes("px")&&(c=parseFloat(r)),r==null&&i.marker&&(c=s.globals.gridWidth),i.seriesIndex!==void 0&&s.globals.barWidth&&!this.annoCtx.invertAxis&&(c-=s.globals.barWidth/2*(s.globals.series.length-1)-s.globals.barWidth*i.seriesIndex),c>s.globals.gridWidth?(c=s.globals.gridWidth,l=!0):c<0&&(c=0,l=!0),{x:c,clipped:l}}},{key:"getStringX",value:function(e){var i=this.w,s=e;i.config.xaxis.convertedCatToNumeric&&i.globals.categoryLabels.length&&(e=i.globals.categoryLabels.indexOf(e)+1);var r=i.globals.labels.map(function(o){return Array.isArray(o)?o.join(" "):o}).indexOf(e),n=i.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child(".concat(r+1,")"));return n&&(s=parseFloat(n.getAttribute("x"))),s}}]),t}(),zX=function(){function t(e){J(this,t),this.w=e.w,this.annoCtx=e,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new pd(this.annoCtx)}return ee(t,[{key:"addXaxisAnnotation",value:function(e,i,s){var r,n=this.w,o=this.helpers.getX1X2("x1",e),a=o.x,l=o.clipped,c=!0,u=e.label.text,h=e.strokeDashArray;if(O.isNumber(a)){if(e.x2===null||e.x2===void 0){if(!l){var d=this.annoCtx.graphics.drawLine(a+e.offsetX,0+e.offsetY,a+e.offsetX,n.globals.gridHeight+e.offsetY,e.borderColor,h,e.borderWidth);i.appendChild(d.node),e.id&&d.node.classList.add(e.id)}}else{var g=this.helpers.getX1X2("x2",e);if(r=g.x,c=g.clipped,!l||!c){if(r<a){var p=a;a=r,r=p}var f=this.annoCtx.graphics.drawRect(a+e.offsetX,0+e.offsetY,r-a,n.globals.gridHeight+e.offsetY,0,e.fillColor,e.opacity,1,e.borderColor,h);f.node.classList.add("apexcharts-annotation-rect"),f.attr("clip-path","url(#gridRectMask".concat(n.globals.cuid,")")),i.appendChild(f.node),e.id&&f.node.classList.add(e.id)}}if(!l||!c){var C=this.annoCtx.graphics.getTextRects(u,parseFloat(e.label.style.fontSize)),m=e.label.position==="top"?4:e.label.position==="center"?n.globals.gridHeight/2+(e.label.orientation==="vertical"?C.width/2:0):n.globals.gridHeight,v=this.annoCtx.graphics.drawText({x:a+e.label.offsetX,y:m+e.label.offsetY-(e.label.orientation==="vertical"?e.label.position==="top"?C.width/2-12:-C.width/2:0),text:u,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});v.attr({rel:s}),i.appendChild(v.node),this.annoCtx.helpers.setOrientations(e,s)}}}},{key:"drawXAxisAnnotations",value:function(){var e=this,i=this.w,s=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return i.config.annotations.xaxis.map(function(r,n){e.addXaxisAnnotation(r,s.node,n)}),s}}]),t}(),bt=function(){function t(e){J(this,t),this.ctx=e,this.w=e.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return ee(t,[{key:"isValidDate",value:function(e){return typeof e!="number"&&!isNaN(this.parseDate(e))}},{key:"getTimeStamp",value:function(e){return Date.parse(e)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toISOString().substr(0,25)).getTime():new Date(e).getTime():e}},{key:"getDate",value:function(e){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toUTCString()):new Date(e)}},{key:"parseDate",value:function(e){var i=Date.parse(e);if(!isNaN(i))return this.getTimeStamp(e);var s=Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "));return s=this.getTimeStamp(s)}},{key:"parseDateWithTimezone",value:function(e){return Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(e,i){var s=this.w.globals.locale,r=this.w.config.xaxis.labels.datetimeUTC,n=["\0"].concat(pt(s.months)),o=[""].concat(pt(s.shortMonths)),a=[""].concat(pt(s.days)),l=[""].concat(pt(s.shortDays));function c(R,A){var P=R+"";for(A=A||2;P.length<A;)P="0"+P;return P}var u=r?e.getUTCFullYear():e.getFullYear();i=(i=(i=i.replace(/(^|[^\\])yyyy+/g,"$1"+u)).replace(/(^|[^\\])yy/g,"$1"+u.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+u);var h=(r?e.getUTCMonth():e.getMonth())+1;i=(i=(i=(i=i.replace(/(^|[^\\])MMMM+/g,"$1"+n[0])).replace(/(^|[^\\])MMM/g,"$1"+o[0])).replace(/(^|[^\\])MM/g,"$1"+c(h))).replace(/(^|[^\\])M/g,"$1"+h);var d=r?e.getUTCDate():e.getDate();i=(i=(i=(i=i.replace(/(^|[^\\])dddd+/g,"$1"+a[0])).replace(/(^|[^\\])ddd/g,"$1"+l[0])).replace(/(^|[^\\])dd/g,"$1"+c(d))).replace(/(^|[^\\])d/g,"$1"+d);var g=r?e.getUTCHours():e.getHours(),p=g>12?g-12:g===0?12:g;i=(i=(i=(i=i.replace(/(^|[^\\])HH+/g,"$1"+c(g))).replace(/(^|[^\\])H/g,"$1"+g)).replace(/(^|[^\\])hh+/g,"$1"+c(p))).replace(/(^|[^\\])h/g,"$1"+p);var f=r?e.getUTCMinutes():e.getMinutes();i=(i=i.replace(/(^|[^\\])mm+/g,"$1"+c(f))).replace(/(^|[^\\])m/g,"$1"+f);var C=r?e.getUTCSeconds():e.getSeconds();i=(i=i.replace(/(^|[^\\])ss+/g,"$1"+c(C))).replace(/(^|[^\\])s/g,"$1"+C);var m=r?e.getUTCMilliseconds():e.getMilliseconds();i=i.replace(/(^|[^\\])fff+/g,"$1"+c(m,3)),m=Math.round(m/10),i=i.replace(/(^|[^\\])ff/g,"$1"+c(m)),m=Math.round(m/10);var v=g<12?"AM":"PM";i=(i=(i=i.replace(/(^|[^\\])f/g,"$1"+m)).replace(/(^|[^\\])TT+/g,"$1"+v)).replace(/(^|[^\\])T/g,"$1"+v.charAt(0));var y=v.toLowerCase();i=(i=i.replace(/(^|[^\\])tt+/g,"$1"+y)).replace(/(^|[^\\])t/g,"$1"+y.charAt(0));var w=-e.getTimezoneOffset(),x=r||!w?"Z":w>0?"+":"-";if(!r){var S=(w=Math.abs(w))%60;x+=c(Math.floor(w/60))+":"+c(S)}i=i.replace(/(^|[^\\])K/g,"$1"+x);var b=(r?e.getUTCDay():e.getDay())+1;return i=(i=(i=(i=(i=i.replace(new RegExp(a[0],"g"),a[b])).replace(new RegExp(l[0],"g"),l[b])).replace(new RegExp(n[0],"g"),n[h])).replace(new RegExp(o[0],"g"),o[h])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(e,i,s){var r=this.w;r.config.xaxis.min!==void 0&&(e=r.config.xaxis.min),r.config.xaxis.max!==void 0&&(i=r.config.xaxis.max);var n=this.getDate(e),o=this.getDate(i),a=this.formatDate(n,"yyyy MM dd HH mm ss fff").split(" "),l=this.formatDate(o,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(a[6],10),maxMillisecond:parseInt(l[6],10),minSecond:parseInt(a[5],10),maxSecond:parseInt(l[5],10),minMinute:parseInt(a[4],10),maxMinute:parseInt(l[4],10),minHour:parseInt(a[3],10),maxHour:parseInt(l[3],10),minDate:parseInt(a[2],10),maxDate:parseInt(l[2],10),minMonth:parseInt(a[1],10)-1,maxMonth:parseInt(l[1],10)-1,minYear:parseInt(a[0],10),maxYear:parseInt(l[0],10)}}},{key:"isLeapYear",value:function(e){return e%4==0&&e%100!=0||e%400==0}},{key:"calculcateLastDaysOfMonth",value:function(e,i,s){return this.determineDaysOfMonths(e,i)-s}},{key:"determineDaysOfYear",value:function(e){var i=365;return this.isLeapYear(e)&&(i=366),i}},{key:"determineRemainingDaysOfYear",value:function(e,i,s){var r=this.daysCntOfYear[i]+s;return i>1&&this.isLeapYear()&&r++,r}},{key:"determineDaysOfMonths",value:function(e,i){var s=30;switch(e=O.monthMod(e),!0){case this.months30.indexOf(e)>-1:e===2&&(s=this.isLeapYear(i)?29:28);break;case this.months31.indexOf(e)>-1:default:s=31}return s}}]),t}(),ec=function(){function t(e){J(this,t),this.ctx=e,this.w=e.w,this.tooltipKeyFormat="dd MMM"}return ee(t,[{key:"xLabelFormat",value:function(e,i,s,r){var n=this.w;if(n.config.xaxis.type==="datetime"&&n.config.xaxis.labels.formatter===void 0&&n.config.tooltip.x.formatter===void 0){var o=new bt(this.ctx);return o.formatDate(o.getDate(i),n.config.tooltip.x.format)}return e(i,s,r)}},{key:"defaultGeneralFormatter",value:function(e){return Array.isArray(e)?e.map(function(i){return i}):e}},{key:"defaultYFormatter",value:function(e,i,s){var r=this.w;if(O.isNumber(e))if(r.globals.yValueDecimal!==0)e=e.toFixed(i.decimalsInFloat!==void 0?i.decimalsInFloat:r.globals.yValueDecimal);else{var n=e.toFixed(0);e=e==n?n:e.toFixed(1)}return e}},{key:"setLabelFormatters",value:function(){var e=this,i=this.w;return i.globals.xaxisTooltipFormatter=function(s){return e.defaultGeneralFormatter(s)},i.globals.ttKeyFormatter=function(s){return e.defaultGeneralFormatter(s)},i.globals.ttZFormatter=function(s){return s},i.globals.legendFormatter=function(s){return e.defaultGeneralFormatter(s)},i.config.xaxis.labels.formatter!==void 0?i.globals.xLabelFormatter=i.config.xaxis.labels.formatter:i.globals.xLabelFormatter=function(s){if(O.isNumber(s)){if(!i.config.xaxis.convertedCatToNumeric&&i.config.xaxis.type==="numeric"){if(O.isNumber(i.config.xaxis.decimalsInFloat))return s.toFixed(i.config.xaxis.decimalsInFloat);var r=i.globals.maxX-i.globals.minX;return r>0&&r<100?s.toFixed(1):s.toFixed(0)}return i.globals.isBarHorizontal&&i.globals.maxY-i.globals.minYArr<4?s.toFixed(1):s.toFixed(0)}return s},typeof i.config.tooltip.x.formatter=="function"?i.globals.ttKeyFormatter=i.config.tooltip.x.formatter:i.globals.ttKeyFormatter=i.globals.xLabelFormatter,typeof i.config.xaxis.tooltip.formatter=="function"&&(i.globals.xaxisTooltipFormatter=i.config.xaxis.tooltip.formatter),(Array.isArray(i.config.tooltip.y)||i.config.tooltip.y.formatter!==void 0)&&(i.globals.ttVal=i.config.tooltip.y),i.config.tooltip.z.formatter!==void 0&&(i.globals.ttZFormatter=i.config.tooltip.z.formatter),i.config.legend.formatter!==void 0&&(i.globals.legendFormatter=i.config.legend.formatter),i.config.yaxis.forEach(function(s,r){s.labels.formatter!==void 0?i.globals.yLabelFormatters[r]=s.labels.formatter:i.globals.yLabelFormatters[r]=function(n){return i.globals.xyCharts?Array.isArray(n)?n.map(function(o){return e.defaultYFormatter(o,s,r)}):e.defaultYFormatter(n,s,r):n}}),i.globals}},{key:"heatmapLabelFormatters",value:function(){var e=this.w;if(e.config.chart.type==="heatmap"){e.globals.yAxisScale[0].result=e.globals.seriesNames.slice();var i=e.globals.seriesNames.reduce(function(s,r){return s.length>r.length?s:r},0);e.globals.yAxisScale[0].niceMax=i,e.globals.yAxisScale[0].niceMin=i}}}]),t}(),kr=function(){function t(e){J(this,t),this.ctx=e,this.w=e.w}return ee(t,[{key:"getLabel",value:function(e,i,s,r){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",a=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],l=this.w,c=e[r]===void 0?"":e[r],u=c,h=l.globals.xLabelFormatter,d=l.config.xaxis.labels.formatter,g=!1,p=new ec(this.ctx),f=c;a&&(u=p.xLabelFormat(h,c,f,{i:r,dateFormatter:new bt(this.ctx).formatDate,w:l}),d!==void 0&&(u=d(c,e[r],{i:r,dateFormatter:new bt(this.ctx).formatDate,w:l})));var C,m;i.length>0?(C=i[r].unit,m=null,i.forEach(function(x){x.unit==="month"?m="year":x.unit==="day"?m="month":x.unit==="hour"?m="day":x.unit==="minute"&&(m="hour")}),g=m===C,s=i[r].position,u=i[r].value):l.config.xaxis.type==="datetime"&&d===void 0&&(u=""),u===void 0&&(u=""),u=Array.isArray(u)?u:u.toString();var v=new Y(this.ctx),y={};y=l.globals.rotateXLabels&&a?v.getTextRects(u,parseInt(o,10),null,"rotate(".concat(l.config.xaxis.labels.rotate," 0 0)"),!1):v.getTextRects(u,parseInt(o,10));var w=!l.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(u)&&(String(u)==="NaN"||n.indexOf(u)>=0&&w)&&(u=""),{x:s,text:u,textRect:y,isBold:g}}},{key:"checkLabelBasedOnTickamount",value:function(e,i,s){var r=this.w,n=r.config.xaxis.tickAmount;return n==="dataPoints"&&(n=Math.round(r.globals.gridWidth/120)),n>s||e%Math.round(s/(n+1))==0||(i.text=""),i}},{key:"checkForOverflowingLabels",value:function(e,i,s,r,n){var o=this.w;if(e===0&&o.globals.skipFirstTimelinelabel&&(i.text=""),e===s-1&&o.globals.skipLastTimelinelabel&&(i.text=""),o.config.xaxis.labels.hideOverlappingLabels&&r.length>0){var a=n[n.length-1];i.x<a.textRect.width/(o.globals.rotateXLabels?Math.abs(o.config.xaxis.labels.rotate)/12:1.01)+a.x&&(i.text="")}return i}},{key:"checkForReversedLabels",value:function(e,i){var s=this.w;return s.config.yaxis[e]&&s.config.yaxis[e].reversed&&i.reverse(),i}},{key:"yAxisAllSeriesCollapsed",value:function(e){var i=this.w.globals;return!i.seriesYAxisMap[e].some(function(s){return i.collapsedSeriesIndices.indexOf(s)===-1})}},{key:"translateYAxisIndex",value:function(e){var i=this.w,s=i.globals,r=i.config.yaxis;return s.series.length>r.length||r.some(function(n){return Array.isArray(n.seriesName)})?e:s.seriesYAxisReverseMap[e]}},{key:"isYAxisHidden",value:function(e){var i=this.w,s=i.config.yaxis[e];if(!s.show||this.yAxisAllSeriesCollapsed(e))return!0;if(!s.showForNullSeries){var r=i.globals.seriesYAxisMap[e],n=new at(this.ctx);return r.every(function(o){return n.isSeriesNull(o)})}return!1}},{key:"getYAxisForeColor",value:function(e,i){var s=this.w;return Array.isArray(e)&&s.globals.yAxisScale[i]&&this.ctx.theme.pushExtraColors(e,s.globals.yAxisScale[i].result.length,!1),e}},{key:"drawYAxisTicks",value:function(e,i,s,r,n,o,a){var l=this.w,c=new Y(this.ctx),u=l.globals.translateY+l.config.yaxis[n].labels.offsetY;if(l.globals.isBarHorizontal?u=0:l.config.chart.type==="heatmap"&&(u+=o/2),r.show&&i>0){l.config.yaxis[n].opposite===!0&&(e+=r.width);for(var h=i;h>=0;h--){var d=c.drawLine(e+s.offsetX-r.width+r.offsetX,u+r.offsetY,e+s.offsetX+r.offsetX,u+r.offsetY,r.color);a.add(d),u+=o}}}}]),t}(),VX=function(){function t(e){J(this,t),this.w=e.w,this.annoCtx=e,this.helpers=new pd(this.annoCtx),this.axesUtils=new kr(this.annoCtx)}return ee(t,[{key:"addYaxisAnnotation",value:function(e,i,s){var r,n=this.w,o=e.strokeDashArray,a=this.helpers.getY1Y2("y1",e),l=a.yP,c=a.clipped,u=!0,h=!1,d=e.label.text;if(e.y2===null||e.y2===void 0){if(!c){h=!0;var g=this.annoCtx.graphics.drawLine(0+e.offsetX,l+e.offsetY,this._getYAxisAnnotationWidth(e),l+e.offsetY,e.borderColor,o,e.borderWidth);i.appendChild(g.node),e.id&&g.node.classList.add(e.id)}}else{if(r=(a=this.helpers.getY1Y2("y2",e)).yP,u=a.clipped,r>l){var p=l;l=r,r=p}if(!c||!u){h=!0;var f=this.annoCtx.graphics.drawRect(0+e.offsetX,r+e.offsetY,this._getYAxisAnnotationWidth(e),l-r,0,e.fillColor,e.opacity,1,e.borderColor,o);f.node.classList.add("apexcharts-annotation-rect"),f.attr("clip-path","url(#gridRectMask".concat(n.globals.cuid,")")),i.appendChild(f.node),e.id&&f.node.classList.add(e.id)}}if(h){var C=e.label.position==="right"?n.globals.gridWidth:e.label.position==="center"?n.globals.gridWidth/2:0,m=this.annoCtx.graphics.drawText({x:C+e.label.offsetX,y:(r??l)+e.label.offsetY-3,text:d,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});m.attr({rel:s}),i.appendChild(m.node)}}},{key:"_getYAxisAnnotationWidth",value:function(e){var i=this.w;return i.globals.gridWidth,(e.width.indexOf("%")>-1?i.globals.gridWidth*parseInt(e.width,10)/100:parseInt(e.width,10))+e.offsetX}},{key:"drawYAxisAnnotations",value:function(){var e=this,i=this.w,s=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return i.config.annotations.yaxis.forEach(function(r,n){r.yAxisIndex=e.axesUtils.translateYAxisIndex(r.yAxisIndex),e.axesUtils.isYAxisHidden(r.yAxisIndex)&&e.axesUtils.yAxisAllSeriesCollapsed(r.yAxisIndex)||e.addYaxisAnnotation(r,s.node,n)}),s}}]),t}(),_X=function(){function t(e){J(this,t),this.w=e.w,this.annoCtx=e,this.helpers=new pd(this.annoCtx)}return ee(t,[{key:"addPointAnnotation",value:function(e,i,s){if(!(this.w.globals.collapsedSeriesIndices.indexOf(e.seriesIndex)>-1)){var r=this.helpers.getX1X2("x1",e),n=r.x,o=r.clipped,a=(r=this.helpers.getY1Y2("y1",e)).yP,l=r.clipped;if(O.isNumber(n)&&!l&&!o){var c={pSize:e.marker.size,pointStrokeWidth:e.marker.strokeWidth,pointFillColor:e.marker.fillColor,pointStrokeColor:e.marker.strokeColor,shape:e.marker.shape,pRadius:e.marker.radius,class:"apexcharts-point-annotation-marker ".concat(e.marker.cssClass," ").concat(e.id?e.id:"")},u=this.annoCtx.graphics.drawMarker(n+e.marker.offsetX,a+e.marker.offsetY,c);i.appendChild(u.node);var h=e.label.text?e.label.text:"",d=this.annoCtx.graphics.drawText({x:n+e.label.offsetX,y:a+e.label.offsetY-e.marker.size-parseFloat(e.label.style.fontSize)/1.6,text:h,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});if(d.attr({rel:s}),i.appendChild(d.node),e.customSVG.SVG){var g=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+e.customSVG.cssClass});g.attr({transform:"translate(".concat(n+e.customSVG.offsetX,", ").concat(a+e.customSVG.offsetY,")")}),g.node.innerHTML=e.customSVG.SVG,i.appendChild(g.node)}if(e.image.path){var p=e.image.width?e.image.width:20,f=e.image.height?e.image.height:20;u=this.annoCtx.addImage({x:n+e.image.offsetX-p/2,y:a+e.image.offsetY-f/2,width:p,height:f,path:e.image.path,appendTo:".apexcharts-point-annotations"})}e.mouseEnter&&u.node.addEventListener("mouseenter",e.mouseEnter.bind(this,e)),e.mouseLeave&&u.node.addEventListener("mouseleave",e.mouseLeave.bind(this,e)),e.click&&u.node.addEventListener("click",e.click.bind(this,e))}}}},{key:"drawPointAnnotations",value:function(){var e=this,i=this.w,s=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return i.config.annotations.points.map(function(r,n){e.addPointAnnotation(r,s.node,n)}),s}}]),t}(),kP={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},$r=function(){function t(){J(this,t),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,stepSize:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,showDuplicates:!1,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:void 0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return ee(t,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"",locales:[kP],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.7},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,nonce:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackOnlyBar:!0,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",categoryFormatter:void 0,valueFormatter:void 0},png:{filename:void 0},svg:{filename:void 0},scale:void 0,width:void 0},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,allowMouseWheelZoom:!0,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{line:{isSlopeChart:!1,colors:{threshold:0,colorAboveThreshold:void 0,colorBelowThreshold:void 0}},area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,borderRadius:4,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(e){return e}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(e){return e+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(i,s){return i+s},0)/e.globals.series.length+"%"}}},barLabels:{enabled:!1,offsetX:0,offsetY:0,useSeriesColors:!0,fontFamily:void 0,fontWeight:600,fontSize:"16px",formatter:function(e){return e},onClick:void 0}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(e){return e}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(e){return e}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(i,s){return i+s},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(e){return e!==null?e:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{size:7,fillColors:void 0,strokeWidth:1,shape:void 0,offsetX:0,offsetY:0,customHTML:void 0,onClick:void 0},itemMargin:{horizontal:5,vertical:4},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",offsetX:0,offsetY:0,showNullDataPoints:!0,onClick:void 0,onDblClick:void 0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{hover:{filter:{type:"lighten"}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken"}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,hideEmptySeries:!1,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(e){return e?e+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},stepSize:void 0,tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.8}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),t}(),UX=function(){function t(e){J(this,t),this.ctx=e,this.w=e.w,this.graphics=new Y(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new pd(this),this.xAxisAnnotations=new zX(this),this.yAxisAnnotations=new VX(this),this.pointsAnnotations=new _X(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return ee(t,[{key:"drawAxesAnnotations",value:function(){var e=this.w;if(e.globals.axisCharts&&e.globals.dataPoints){for(var i=this.yAxisAnnotations.drawYAxisAnnotations(),s=this.xAxisAnnotations.drawXAxisAnnotations(),r=this.pointsAnnotations.drawPointAnnotations(),n=e.config.chart.animations.enabled,o=[i,s,r],a=[s.node,i.node,r.node],l=0;l<3;l++)e.globals.dom.elGraphical.add(o[l]),!n||e.globals.resized||e.globals.dataChanged||e.config.chart.type!=="scatter"&&e.config.chart.type!=="bubble"&&e.globals.dataPoints>1&&a[l].classList.add("apexcharts-element-hidden"),e.globals.delayedElements.push({el:a[l],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var e=this;this.w.config.annotations.images.map(function(i,s){e.addImage(i,s)})}},{key:"drawTextAnnos",value:function(){var e=this;this.w.config.annotations.texts.map(function(i,s){e.addText(i,s)})}},{key:"addXaxisAnnotation",value:function(e,i,s){this.xAxisAnnotations.addXaxisAnnotation(e,i,s)}},{key:"addYaxisAnnotation",value:function(e,i,s){this.yAxisAnnotations.addYaxisAnnotation(e,i,s)}},{key:"addPointAnnotation",value:function(e,i,s){this.pointsAnnotations.addPointAnnotation(e,i,s)}},{key:"addText",value:function(e,i){var s=e.x,r=e.y,n=e.text,o=e.textAnchor,a=e.foreColor,l=e.fontSize,c=e.fontFamily,u=e.fontWeight,h=e.cssClass,d=e.backgroundColor,g=e.borderWidth,p=e.strokeDashArray,f=e.borderRadius,C=e.borderColor,m=e.appendTo,v=m===void 0?".apexcharts-svg":m,y=e.paddingLeft,w=y===void 0?4:y,x=e.paddingRight,S=x===void 0?4:x,b=e.paddingBottom,R=b===void 0?2:b,A=e.paddingTop,P=A===void 0?2:A,E=this.w,L=this.graphics.drawText({x:s,y:r,text:n,textAnchor:o||"start",fontSize:l||"12px",fontWeight:u||"regular",fontFamily:c||E.config.chart.fontFamily,foreColor:a||E.config.chart.foreColor,cssClass:h}),M=E.globals.dom.baseEl.querySelector(v);M&&M.appendChild(L.node);var I=L.bbox();if(n){var z=this.graphics.drawRect(I.x-w,I.y-P,I.width+w+S,I.height+R+P,f,d||"transparent",1,g,C,p);M.insertBefore(z.node,L.node)}}},{key:"addImage",value:function(e,i){var s=this.w,r=e.path,n=e.x,o=n===void 0?0:n,a=e.y,l=a===void 0?0:a,c=e.width,u=c===void 0?20:c,h=e.height,d=h===void 0?20:h,g=e.appendTo,p=g===void 0?".apexcharts-svg":g,f=s.globals.dom.Paper.image(r);f.size(u,d).move(o,l);var C=s.globals.dom.baseEl.querySelector(p);return C&&C.appendChild(f.node),f}},{key:"addXaxisAnnotationExternal",value:function(e,i,s){return this.addAnnotationExternal({params:e,pushToMemory:i,context:s,type:"xaxis",contextMethod:s.addXaxisAnnotation}),s}},{key:"addYaxisAnnotationExternal",value:function(e,i,s){return this.addAnnotationExternal({params:e,pushToMemory:i,context:s,type:"yaxis",contextMethod:s.addYaxisAnnotation}),s}},{key:"addPointAnnotationExternal",value:function(e,i,s){return this.invertAxis===void 0&&(this.invertAxis=s.w.globals.isBarHorizontal),this.addAnnotationExternal({params:e,pushToMemory:i,context:s,type:"point",contextMethod:s.addPointAnnotation}),s}},{key:"addAnnotationExternal",value:function(e){var i=e.params,s=e.pushToMemory,r=e.context,n=e.type,o=e.contextMethod,a=r,l=a.w,c=l.globals.dom.baseEl.querySelector(".apexcharts-".concat(n,"-annotations")),u=c.childNodes.length+1,h=new $r,d=Object.assign({},n==="xaxis"?h.xAxisAnnotation:n==="yaxis"?h.yAxisAnnotation:h.pointAnnotation),g=O.extend(d,i);switch(n){case"xaxis":this.addXaxisAnnotation(g,c,u);break;case"yaxis":this.addYaxisAnnotation(g,c,u);break;case"point":this.addPointAnnotation(g,c,u)}var p=l.globals.dom.baseEl.querySelector(".apexcharts-".concat(n,"-annotations .apexcharts-").concat(n,"-annotation-label[rel='").concat(u,"']")),f=this.helpers.addBackgroundToAnno(p,g);return f&&c.insertBefore(f.node,p),s&&l.globals.memory.methodsToExec.push({context:a,id:g.id?g.id:O.randomId(),method:o,label:"addAnnotation",params:i}),r}},{key:"clearAnnotations",value:function(e){for(var i=e.w,s=i.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations"),r=i.globals.memory.methodsToExec.length-1;r>=0;r--)i.globals.memory.methodsToExec[r].label!=="addText"&&i.globals.memory.methodsToExec[r].label!=="addAnnotation"||i.globals.memory.methodsToExec.splice(r,1);s=O.listToArray(s),Array.prototype.forEach.call(s,function(n){for(;n.firstChild;)n.removeChild(n.firstChild)})}},{key:"removeAnnotation",value:function(e,i){var s=e.w,r=s.globals.dom.baseEl.querySelectorAll(".".concat(i));r&&(s.globals.memory.methodsToExec.map(function(n,o){n.id===i&&s.globals.memory.methodsToExec.splice(o,1)}),Array.prototype.forEach.call(r,function(n){n.parentElement.removeChild(n)}))}}]),t}(),Bg=function(t){var e,i=t.isTimeline,s=t.ctx,r=t.seriesIndex,n=t.dataPointIndex,o=t.y1,a=t.y2,l=t.w,c=l.globals.seriesRangeStart[r][n],u=l.globals.seriesRangeEnd[r][n],h=l.globals.labels[n],d=l.config.series[r].name?l.config.series[r].name:"",g=l.globals.ttKeyFormatter,p=l.config.tooltip.y.title.formatter,f={w:l,seriesIndex:r,dataPointIndex:n,start:c,end:u};typeof p=="function"&&(d=p(d,f)),(e=l.config.series[r].data[n])!==null&&e!==void 0&&e.x&&(h=l.config.series[r].data[n].x),i||l.config.xaxis.type==="datetime"&&(h=new ec(s).xLabelFormat(l.globals.ttKeyFormatter,h,h,{i:void 0,dateFormatter:new bt(s).formatDate,w:l})),typeof g=="function"&&(h=g(h,f)),Number.isFinite(o)&&Number.isFinite(a)&&(c=o,u=a);var C="",m="",v=l.globals.colors[r];if(l.config.tooltip.x.formatter===void 0)if(l.config.xaxis.type==="datetime"){var y=new bt(s);C=y.formatDate(y.getDate(c),l.config.tooltip.x.format),m=y.formatDate(y.getDate(u),l.config.tooltip.x.format)}else C=c,m=u;else C=l.config.tooltip.x.formatter(c),m=l.config.tooltip.x.formatter(u);return{start:c,end:u,startVal:C,endVal:m,ylabel:h,color:v,seriesName:d}},Wg=function(t){var e=t.color,i=t.seriesName,s=t.ylabel,r=t.start,n=t.end,o=t.seriesIndex,a=t.dataPointIndex,l=t.ctx.tooltip.tooltipLabels.getFormatters(o);r=l.yLbFormatter(r),n=l.yLbFormatter(n);var c=l.yLbFormatter(t.w.globals.series[o][a]),u=`<span class="value start-value">
  `.concat(r,`
  </span> <span class="separator">-</span> <span class="value end-value">
  `).concat(n,`
  </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+e+'">'+(i||"")+'</span></div><div> <span class="category">'+s+": </span> "+(t.w.globals.comboCharts?t.w.config.series[o].type==="rangeArea"||t.w.config.series[o].type==="rangeBar"?u:"<span>".concat(c,"</span>"):u)+" </div></div>"},kl=function(){function t(e){J(this,t),this.opts=e}return ee(t,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(e){return this.hideYAxis(),O.extend(e,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"slope",value:function(){return this.hideYAxis(),{chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter:function(e,i){var s=i.w.config.series[i.seriesIndex].name;return e!==null?s+": "+e:""},background:{enabled:!1},offsetX:-5},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},xaxis:{position:"top",labels:{style:{fontSize:14,fontWeight:900}},tooltip:{enabled:!1},crosshairs:{show:!1}},markers:{size:8,hover:{sizeOffset:1}},legend:{show:!1},tooltip:{shared:!1,intersect:!0,followCursor:!0},stroke:{width:5,curve:"straight"}}}},{key:"bar",value:function(){return{chart:{stacked:!1},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square"}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),Q(Q({},this.bar()),{},{chart:{animations:{speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var e=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(i){var s=i.seriesIndex,r=i.dataPointIndex,n=i.w;return e._getBoxTooltip(n,s,r,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var e=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(i){var s=i.seriesIndex,r=i.dataPointIndex,n=i.w;return e._getBoxTooltip(n,s,r,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:7,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(e,i){i.ctx;var s=i.seriesIndex,r=i.dataPointIndex,n=i.w,o=function(){var a=n.globals.seriesRangeStart[s][r];return n.globals.seriesRangeEnd[s][r]-a};return n.globals.comboCharts?n.config.series[s].type==="rangeBar"||n.config.series[s].type==="rangeArea"?o():e:o()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(e){return e.w.config.plotOptions&&e.w.config.plotOptions.bar&&e.w.config.plotOptions.bar.horizontal?function(i){var s=Bg(Q(Q({},i),{},{isTimeline:!0})),r=s.color,n=s.seriesName,o=s.ylabel,a=s.startVal,l=s.endVal;return Wg(Q(Q({},i),{},{color:r,seriesName:n,ylabel:o,start:a,end:l}))}(e):function(i){var s=Bg(i),r=s.color,n=s.seriesName,o=s.ylabel,a=s.start,l=s.end;return Wg(Q(Q({},i),{},{color:r,seriesName:n,ylabel:o,start:a,end:l}))}(e)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(e){var i,s;return(i=e.plotOptions.bar)!==null&&i!==void 0&&i.barHeight||(e.plotOptions.bar.barHeight=2),(s=e.plotOptions.bar)!==null&&s!==void 0&&s.columnWidth||(e.plotOptions.bar.columnWidth=2),e}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(e){return function(i){var s=Bg(i),r=s.color,n=s.seriesName,o=s.ylabel,a=s.start,l=s.end;return Wg(Q(Q({},i),{},{color:r,seriesName:n,ylabel:o,start:a,end:l}))}(e)}}}}},{key:"brush",value:function(e){return O.extend(e,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(e){e.dataLabels=e.dataLabels||{},e.dataLabels.formatter=e.dataLabels.formatter||void 0;var i=e.dataLabels.formatter;return e.yaxis.forEach(function(s,r){e.yaxis[r].min=0,e.yaxis[r].max=100}),e.chart.type==="bar"&&(e.dataLabels.formatter=i||function(s){return typeof s=="number"&&s?s.toFixed(0)+"%":s}),e}},{key:"stackedBars",value:function(){var e=this.bar();return Q(Q({},e),{},{plotOptions:Q(Q({},e.plotOptions),{},{bar:Q(Q({},e.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(e){return e.xaxis.convertedCatToNumeric=!0,e}},{key:"convertCatToNumericXaxis",value:function(e,i,s){e.xaxis.type="numeric",e.xaxis.labels=e.xaxis.labels||{},e.xaxis.labels.formatter=e.xaxis.labels.formatter||function(o){return O.isNumber(o)?Math.floor(o):o};var r=e.xaxis.labels.formatter,n=e.xaxis.categories&&e.xaxis.categories.length?e.xaxis.categories:e.labels;return s&&s.length&&(n=s.map(function(o){return Array.isArray(o)?o:String(o)})),n&&n.length&&(e.xaxis.labels.formatter=function(o){return O.isNumber(o)?r(n[Math.floor(o)-1]):r(o)}),e.xaxis.categories=[],e.labels=[],e.xaxis.tickAmount=e.xaxis.tickAmount||"dataPoints",e}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square"}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{opacity:1,gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"polarArea",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:5,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},xaxis:{labels:{formatter:function(e){return e},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"_getBoxTooltip",value:function(e,i,s,r,n){var o=e.globals.seriesCandleO[i][s],a=e.globals.seriesCandleH[i][s],l=e.globals.seriesCandleM[i][s],c=e.globals.seriesCandleL[i][s],u=e.globals.seriesCandleC[i][s];return e.config.series[i].type&&e.config.series[i].type!==n?`<div class="apexcharts-custom-tooltip">
          `.concat(e.config.series[i].name?e.config.series[i].name:"series-"+(i+1),": <strong>").concat(e.globals.series[i][s],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(e.config.chart.type,'">')+"<div>".concat(r[0],': <span class="value">')+o+"</span></div>"+"<div>".concat(r[1],': <span class="value">')+a+"</span></div>"+(l?"<div>".concat(r[2],': <span class="value">')+l+"</span></div>":"")+"<div>".concat(r[3],': <span class="value">')+c+"</span></div>"+"<div>".concat(r[4],': <span class="value">')+u+"</span></div></div>"}}]),t}(),Ml=function(){function t(e){J(this,t),this.opts=e}return ee(t,[{key:"init",value:function(e){var i=e.responsiveOverride,s=this.opts,r=new $r,n=new kl(s);this.chartType=s.chart.type,s=this.extendYAxis(s),s=this.extendAnnotations(s);var o=r.init(),a={};if(s&&Ho(s)==="object"){var l,c,u,h,d,g,p,f,C,m,v={};v=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(s.chart.type)!==-1?n[s.chart.type]():n.line(),(l=s.plotOptions)!==null&&l!==void 0&&(c=l.bar)!==null&&c!==void 0&&c.isFunnel&&(v=n.funnel()),s.chart.stacked&&s.chart.type==="bar"&&(v=n.stackedBars()),(u=s.chart.brush)!==null&&u!==void 0&&u.enabled&&(v=n.brush(v)),(h=s.plotOptions)!==null&&h!==void 0&&(d=h.line)!==null&&d!==void 0&&d.isSlopeChart&&(v=n.slope()),s.chart.stacked&&s.chart.stackType==="100%"&&(s=n.stacked100(s)),(g=s.plotOptions)!==null&&g!==void 0&&(p=g.bar)!==null&&p!==void 0&&p.isDumbbell&&(s=n.dumbbell(s)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(s),s.xaxis=s.xaxis||window.Apex.xaxis||{},i||(s.xaxis.convertedCatToNumeric=!1),((f=(s=this.checkForCatToNumericXAxis(this.chartType,v,s)).chart.sparkline)!==null&&f!==void 0&&f.enabled||(C=window.Apex.chart)!==null&&C!==void 0&&(m=C.sparkline)!==null&&m!==void 0&&m.enabled)&&(v=n.sparkline(v)),a=O.extend(o,v)}var y=O.extend(a,window.Apex);return o=O.extend(y,s),o=this.handleUserInputErrors(o)}},{key:"checkForCatToNumericXAxis",value:function(e,i,s){var r,n,o=new kl(s),a=(e==="bar"||e==="boxPlot")&&((r=s.plotOptions)===null||r===void 0||(n=r.bar)===null||n===void 0?void 0:n.horizontal),l=e==="pie"||e==="polarArea"||e==="donut"||e==="radar"||e==="radialBar"||e==="heatmap",c=s.xaxis.type!=="datetime"&&s.xaxis.type!=="numeric",u=s.xaxis.tickPlacement?s.xaxis.tickPlacement:i.xaxis&&i.xaxis.tickPlacement;return a||l||!c||u==="between"||(s=o.convertCatToNumeric(s)),s}},{key:"extendYAxis",value:function(e,i){var s=new $r;(e.yaxis===void 0||!e.yaxis||Array.isArray(e.yaxis)&&e.yaxis.length===0)&&(e.yaxis={}),e.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(e.yaxis=O.extend(e.yaxis,window.Apex.yaxis)),e.yaxis.constructor!==Array?e.yaxis=[O.extend(s.yAxis,e.yaxis)]:e.yaxis=O.extendArray(e.yaxis,s.yAxis);var r=!1;e.yaxis.forEach(function(o){o.logarithmic&&(r=!0)});var n=e.series;return i&&!n&&(n=i.config.series),r&&n.length!==e.yaxis.length&&n.length&&(e.yaxis=n.map(function(o,a){if(o.name||(n[a].name="series-".concat(a+1)),e.yaxis[a])return e.yaxis[a].seriesName=n[a].name,e.yaxis[a];var l=O.extend(s.yAxis,e.yaxis[0]);return l.show=!1,l})),r&&n.length>1&&n.length!==e.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),e}},{key:"extendAnnotations",value:function(e){return e.annotations===void 0&&(e.annotations={},e.annotations.yaxis=[],e.annotations.xaxis=[],e.annotations.points=[]),e=this.extendYAxisAnnotations(e),e=this.extendXAxisAnnotations(e),e=this.extendPointAnnotations(e)}},{key:"extendYAxisAnnotations",value:function(e){var i=new $r;return e.annotations.yaxis=O.extendArray(e.annotations.yaxis!==void 0?e.annotations.yaxis:[],i.yAxisAnnotation),e}},{key:"extendXAxisAnnotations",value:function(e){var i=new $r;return e.annotations.xaxis=O.extendArray(e.annotations.xaxis!==void 0?e.annotations.xaxis:[],i.xAxisAnnotation),e}},{key:"extendPointAnnotations",value:function(e){var i=new $r;return e.annotations.points=O.extendArray(e.annotations.points!==void 0?e.annotations.points:[],i.pointAnnotation),e}},{key:"checkForDarkTheme",value:function(e){e.theme&&e.theme.mode==="dark"&&(e.tooltip||(e.tooltip={}),e.tooltip.theme!=="light"&&(e.tooltip.theme="dark"),e.chart.foreColor||(e.chart.foreColor="#f6f7f8"),e.theme.palette||(e.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(e){var i=e;if(i.tooltip.shared&&i.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(i.chart.type==="bar"&&i.plotOptions.bar.horizontal){if(i.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");i.yaxis[0].reversed&&(i.yaxis[0].opposite=!0),i.xaxis.tooltip.enabled=!1,i.yaxis[0].tooltip.enabled=!1,i.chart.zoom.enabled=!1}return i.chart.type!=="bar"&&i.chart.type!=="rangeBar"||i.tooltip.shared&&i.xaxis.crosshairs.width==="barWidth"&&i.series.length>1&&(i.xaxis.crosshairs.width="tickWidth"),i.chart.type!=="candlestick"&&i.chart.type!=="boxPlot"||i.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(i.chart.type," chart is not supported.")),i.yaxis[0].reversed=!1),i}}]),t}(),MP=function(){function t(){J(this,t)}return ee(t,[{key:"initGlobalVars",value:function(e){e.series=[],e.seriesCandleO=[],e.seriesCandleH=[],e.seriesCandleM=[],e.seriesCandleL=[],e.seriesCandleC=[],e.seriesRangeStart=[],e.seriesRangeEnd=[],e.seriesRange=[],e.seriesPercent=[],e.seriesGoals=[],e.seriesX=[],e.seriesZ=[],e.seriesNames=[],e.seriesTotals=[],e.seriesLog=[],e.seriesColors=[],e.stackedSeriesTotals=[],e.seriesXvalues=[],e.seriesYvalues=[],e.labels=[],e.hasXaxisGroups=!1,e.groups=[],e.barGroups=[],e.lineGroups=[],e.areaGroups=[],e.hasSeriesGroups=!1,e.seriesGroups=[],e.categoryLabels=[],e.timescaleLabels=[],e.noLabelsProvided=!1,e.resizeTimer=null,e.selectionResizeTimer=null,e.lastWheelExecution=0,e.delayedElements=[],e.pointsArray=[],e.dataLabelsRects=[],e.isXNumeric=!1,e.skipLastTimelinelabel=!1,e.skipFirstTimelinelabel=!1,e.isDataXYZ=!1,e.isMultiLineX=!1,e.isMultipleYAxis=!1,e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE,e.minYArr=[],e.maxYArr=[],e.maxX=-Number.MAX_VALUE,e.minX=Number.MAX_VALUE,e.initialMaxX=-Number.MAX_VALUE,e.initialMinX=Number.MAX_VALUE,e.maxDate=0,e.minDate=Number.MAX_VALUE,e.minZ=Number.MAX_VALUE,e.maxZ=-Number.MAX_VALUE,e.minXDiff=Number.MAX_VALUE,e.yAxisScale=[],e.xAxisScale=null,e.xAxisTicksPositions=[],e.yLabelsCoords=[],e.yTitleCoords=[],e.barPadForNumericAxis=0,e.padHorizontal=0,e.xRange=0,e.yRange=[],e.zRange=0,e.dataPoints=0,e.xTickAmount=0,e.multiAxisTickAmount=0}},{key:"globalVars",value:function(e){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:e.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],invalidLogScale:!1,ignoreYAxisIndexes:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:e.chart.toolbar.autoSelected==="zoom"&&e.chart.toolbar.tools.zoom&&e.chart.zoom.enabled,panEnabled:e.chart.toolbar.autoSelected==="pan"&&e.chart.toolbar.tools.pan,selectionEnabled:e.chart.toolbar.autoSelected==="selection"&&e.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,isSlopeChart:e.plotOptions.line.isSlopeChart,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null,niceScaleAllowedMagMsd:[[1,1,2,5,5,5,10,10,10,10,10],[1,1,2,5,5,5,10,10,10,10,10]],niceScaleDefaultTicks:[1,2,4,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,12,12,12,12,12,12,12,12,12,24],seriesYAxisMap:[],seriesYAxisReverseMap:[]}}},{key:"init",value:function(e){var i=this.globalVars(e);return this.initGlobalVars(i),i.initialConfig=O.extend({},e),i.initialSeries=O.clone(e.series),i.lastXAxis=O.clone(i.initialConfig.xaxis),i.lastYAxis=O.clone(i.initialConfig.yaxis),i}}]),t}(),XX=function(){function t(e){J(this,t),this.opts=e}return ee(t,[{key:"init",value:function(){var e=new Ml(this.opts).init({responsiveOverride:!1});return{config:e,globals:new MP().init(e)}}}]),t}(),ss=function(){function t(e){J(this,t),this.ctx=e,this.w=e.w,this.opts=null,this.seriesIndex=0,this.patternIDs=[]}return ee(t,[{key:"clippedImgArea",value:function(e){var i=this.w,s=i.config,r=parseInt(i.globals.gridWidth,10),n=parseInt(i.globals.gridHeight,10),o=r>n?r:n,a=e.image,l=0,c=0;e.width===void 0&&e.height===void 0?s.fill.image.width!==void 0&&s.fill.image.height!==void 0?(l=s.fill.image.width+1,c=s.fill.image.height):(l=o+1,c=o):(l=e.width,c=e.height);var u=document.createElementNS(i.globals.SVGNS,"pattern");Y.setAttrs(u,{id:e.patternID,patternUnits:e.patternUnits?e.patternUnits:"userSpaceOnUse",width:l+"px",height:c+"px"});var h=document.createElementNS(i.globals.SVGNS,"image");u.appendChild(h),h.setAttributeNS(window.SVG.xlink,"href",a),Y.setAttrs(h,{x:0,y:0,preserveAspectRatio:"none",width:l+"px",height:c+"px"}),h.style.opacity=e.opacity,i.globals.dom.elDefs.node.appendChild(u)}},{key:"getSeriesIndex",value:function(e){var i=this.w,s=i.config.chart.type;return(s==="bar"||s==="rangeBar")&&i.config.plotOptions.bar.distributed||s==="heatmap"||s==="treemap"?this.seriesIndex=e.seriesNumber:this.seriesIndex=e.seriesNumber%i.globals.series.length,this.seriesIndex}},{key:"computeColorStops",value:function(e,i){var s,r=this.w,n=null,o=null,a=ka(e);try{for(a.s();!(s=a.n()).done;){var l=s.value;l>=i.threshold?(n===null||l>n)&&(n=l):(o===null||l<o)&&(o=l)}}catch(h){a.e(h)}finally{a.f()}n===null&&(n=i.threshold),o===null&&(o=i.threshold);var c=n-i.threshold+(i.threshold-o);c===0&&(c=1);var u=100-(i.threshold-o)/c*100;return[{offset:u=Math.max(0,Math.min(u,100)),color:i.colorAboveThreshold,opacity:r.config.fill.opacity},{offset:0,color:i.colorBelowThreshold,opacity:r.config.fill.opacity}]}},{key:"fillPath",value:function(e){var i,s,r,n=this.w;this.opts=e;var o,a,l,c=this.w.config;this.seriesIndex=this.getSeriesIndex(e);var u=c.plotOptions.line.colors.colorAboveThreshold&&c.plotOptions.line.colors.colorBelowThreshold,h=this.getFillColors()[this.seriesIndex];n.globals.seriesColors[this.seriesIndex]!==void 0&&(h=n.globals.seriesColors[this.seriesIndex]),typeof h=="function"&&(h=h({seriesIndex:this.seriesIndex,dataPointIndex:e.dataPointIndex,value:e.value,w:n}));var d,g,p,f=e.fillType?e.fillType:this.getFillType(this.seriesIndex),C=Array.isArray(c.fill.opacity)?c.fill.opacity[this.seriesIndex]:c.fill.opacity,m=f==="gradient"||u;e.color&&(h=e.color),(i=n.config.series[this.seriesIndex])!==null&&i!==void 0&&(s=i.data)!==null&&s!==void 0&&(r=s[e.dataPointIndex])!==null&&r!==void 0&&r.fillColor&&(h=(d=n.config.series[this.seriesIndex])===null||d===void 0||(g=d.data)===null||g===void 0||(p=g[e.dataPointIndex])===null||p===void 0?void 0:p.fillColor),h||(h="#fff",console.warn("undefined color - ApexCharts"));var v=h;if(h.indexOf("rgb")===-1?h.indexOf("#")===-1?v=h:h.length<9&&(v=O.hexToRgba(h,C)):h.indexOf("rgba")>-1?C=O.getOpacityFromRGBA(h):v=O.hexToRgba(O.rgb2hex(h),C),e.opacity&&(C=e.opacity),f==="pattern"&&(a=this.handlePatternFill({fillConfig:e.fillConfig,patternFill:a,fillColor:h,fillOpacity:C,defaultColor:v})),m){var y=pt(c.fill.gradient.colorStops)||[],w=c.fill.gradient.type;u&&(y[this.seriesIndex]=this.computeColorStops(n.globals.series[this.seriesIndex],c.plotOptions.line.colors),w="vertical"),l=this.handleGradientFill({type:w,fillConfig:e.fillConfig,fillColor:h,fillOpacity:C,colorStops:y,i:this.seriesIndex})}if(f==="image"){var x=c.fill.image.src,S=e.patternID?e.patternID:"",b="pattern".concat(n.globals.cuid).concat(e.seriesNumber+1).concat(S);this.patternIDs.indexOf(b)===-1&&(this.clippedImgArea({opacity:C,image:Array.isArray(x)?e.seriesNumber<x.length?x[e.seriesNumber]:x[0]:x,width:e.width?e.width:void 0,height:e.height?e.height:void 0,patternUnits:e.patternUnits,patternID:b}),this.patternIDs.push(b)),o="url(#".concat(b,")")}else o=m?l:f==="pattern"?a:v;return e.solid&&(o=v),o}},{key:"getFillType",value:function(e){var i=this.w;return Array.isArray(i.config.fill.type)?i.config.fill.type[e]:i.config.fill.type}},{key:"getFillColors",value:function(){var e=this.w,i=e.config,s=this.opts,r=[];return e.globals.comboCharts?e.config.series[this.seriesIndex].type==="line"?Array.isArray(e.globals.stroke.colors)?r=e.globals.stroke.colors:r.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?r=e.globals.fill.colors:r.push(e.globals.fill.colors):i.chart.type==="line"?Array.isArray(e.globals.stroke.colors)?r=e.globals.stroke.colors:r.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?r=e.globals.fill.colors:r.push(e.globals.fill.colors),s.fillColors!==void 0&&(r=[],Array.isArray(s.fillColors)?r=s.fillColors.slice():r.push(s.fillColors)),r}},{key:"handlePatternFill",value:function(e){var i=e.fillConfig,s=e.patternFill,r=e.fillColor,n=e.fillOpacity,o=e.defaultColor,a=this.w.config.fill;i&&(a=i);var l=this.opts,c=new Y(this.ctx),u=Array.isArray(a.pattern.strokeWidth)?a.pattern.strokeWidth[this.seriesIndex]:a.pattern.strokeWidth,h=r;return Array.isArray(a.pattern.style)?s=a.pattern.style[l.seriesNumber]!==void 0?c.drawPattern(a.pattern.style[l.seriesNumber],a.pattern.width,a.pattern.height,h,u,n):o:s=c.drawPattern(a.pattern.style,a.pattern.width,a.pattern.height,h,u,n),s}},{key:"handleGradientFill",value:function(e){var i=e.type,s=e.fillColor,r=e.fillOpacity,n=e.fillConfig,o=e.colorStops,a=e.i,l=this.w.config.fill;n&&(l=Q(Q({},l),n));var c=this.opts,u=new Y(this.ctx),h=new O;i=i||l.gradient.type;var d,g=s,p=l.gradient.opacityFrom===void 0?r:Array.isArray(l.gradient.opacityFrom)?l.gradient.opacityFrom[a]:l.gradient.opacityFrom;g.indexOf("rgba")>-1&&(p=O.getOpacityFromRGBA(g));var f=l.gradient.opacityTo===void 0?r:Array.isArray(l.gradient.opacityTo)?l.gradient.opacityTo[a]:l.gradient.opacityTo;if(l.gradient.gradientToColors===void 0||l.gradient.gradientToColors.length===0)d=l.gradient.shade==="dark"?h.shadeColor(-1*parseFloat(l.gradient.shadeIntensity),s.indexOf("rgb")>-1?O.rgb2hex(s):s):h.shadeColor(parseFloat(l.gradient.shadeIntensity),s.indexOf("rgb")>-1?O.rgb2hex(s):s);else if(l.gradient.gradientToColors[c.seriesNumber]){var C=l.gradient.gradientToColors[c.seriesNumber];d=C,C.indexOf("rgba")>-1&&(f=O.getOpacityFromRGBA(C))}else d=s;if(l.gradient.gradientFrom&&(g=l.gradient.gradientFrom),l.gradient.gradientTo&&(d=l.gradient.gradientTo),l.gradient.inverseColors){var m=g;g=d,d=m}return g.indexOf("rgb")>-1&&(g=O.rgb2hex(g)),d.indexOf("rgb")>-1&&(d=O.rgb2hex(d)),u.drawGradient(i,g,d,p,f,c.size,l.gradient.stops,o,a)}}]),t}(),ra=function(){function t(e,i){J(this,t),this.ctx=e,this.w=e.w}return ee(t,[{key:"setGlobalMarkerSize",value:function(){var e=this.w;if(e.globals.markers.size=Array.isArray(e.config.markers.size)?e.config.markers.size:[e.config.markers.size],e.globals.markers.size.length>0){if(e.globals.markers.size.length<e.globals.series.length+1)for(var i=0;i<=e.globals.series.length;i++)e.globals.markers.size[i]===void 0&&e.globals.markers.size.push(e.globals.markers.size[0])}else e.globals.markers.size=e.config.series.map(function(s){return e.config.markers.size})}},{key:"plotChartMarkers",value:function(e,i,s,r){var n=arguments.length>4&&arguments[4]!==void 0&&arguments[4],o=this.w,a=i,l=e,c=null,u=new Y(this.ctx),h=o.config.markers.discrete&&o.config.markers.discrete.length;if(Array.isArray(l.x))for(var d=0;d<l.x.length;d++){var g=void 0,p=s,f=!O.isNumber(l.y[d]);s===1&&d===0&&(p=0),s===1&&d===1&&(p=1);var C="apexcharts-marker";if(o.config.chart.type!=="line"&&o.config.chart.type!=="area"||o.globals.comboCharts||o.config.tooltip.intersect||(C+=" no-pointer-events"),(Array.isArray(o.config.markers.size)?o.globals.markers.size[i]>0:o.config.markers.size>0)||n||h){f||(C+=" w".concat(O.randomId()));var m=this.getMarkerConfig({cssClass:C,seriesIndex:i,dataPointIndex:p});o.config.series[a].data[p]&&(o.config.series[a].data[p].fillColor&&(m.pointFillColor=o.config.series[a].data[p].fillColor),o.config.series[a].data[p].strokeColor&&(m.pointStrokeColor=o.config.series[a].data[p].strokeColor)),r!==void 0&&(m.pSize=r),(l.x[d]<-o.globals.markers.largestSize||l.x[d]>o.globals.gridWidth+o.globals.markers.largestSize||l.y[d]<-o.globals.markers.largestSize||l.y[d]>o.globals.gridHeight+o.globals.markers.largestSize)&&(m.pSize=0),!f&&((o.globals.markers.size[i]>0||n||h)&&!c&&(c=u.group({class:n||h?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(o.globals.cuid,")")),(g=u.drawMarker(l.x[d],l.y[d],m)).attr("rel",p),g.attr("j",p),g.attr("index",i),g.node.setAttribute("default-marker-size",m.pSize),new St(this.ctx).setSelectionFilter(g,i,p),this.addEvents(g),c&&c.add(g))}else o.globals.pointsArray[i]===void 0&&(o.globals.pointsArray[i]=[]),o.globals.pointsArray[i].push([l.x[d],l.y[d]])}return c}},{key:"getMarkerConfig",value:function(e){var i=e.cssClass,s=e.seriesIndex,r=e.dataPointIndex,n=r===void 0?null:r,o=e.radius,a=o===void 0?null:o,l=e.size,c=l===void 0?null:l,u=e.strokeWidth,h=u===void 0?null:u,d=this.w,g=this.getMarkerStyle(s),p=c===null?d.globals.markers.size[s]:c,f=d.config.markers;return n!==null&&f.discrete.length&&f.discrete.map(function(C){C.seriesIndex===s&&C.dataPointIndex===n&&(g.pointStrokeColor=C.strokeColor,g.pointFillColor=C.fillColor,p=C.size,g.pointShape=C.shape)}),{pSize:a===null?p:a,pRadius:a!==null?a:f.radius,pointStrokeWidth:h!==null?h:Array.isArray(f.strokeWidth)?f.strokeWidth[s]:f.strokeWidth,pointStrokeColor:g.pointStrokeColor,pointFillColor:g.pointFillColor,shape:g.pointShape||(Array.isArray(f.shape)?f.shape[s]:f.shape),class:i,pointStrokeOpacity:Array.isArray(f.strokeOpacity)?f.strokeOpacity[s]:f.strokeOpacity,pointStrokeDashArray:Array.isArray(f.strokeDashArray)?f.strokeDashArray[s]:f.strokeDashArray,pointFillOpacity:Array.isArray(f.fillOpacity)?f.fillOpacity[s]:f.fillOpacity,seriesIndex:s}}},{key:"addEvents",value:function(e){var i=this.w,s=new Y(this.ctx);e.node.addEventListener("mouseenter",s.pathMouseEnter.bind(this.ctx,e)),e.node.addEventListener("mouseleave",s.pathMouseLeave.bind(this.ctx,e)),e.node.addEventListener("mousedown",s.pathMouseDown.bind(this.ctx,e)),e.node.addEventListener("click",i.config.markers.onClick),e.node.addEventListener("dblclick",i.config.markers.onDblClick),e.node.addEventListener("touchstart",s.pathMouseDown.bind(this.ctx,e),{passive:!0})}},{key:"getMarkerStyle",value:function(e){var i=this.w,s=i.globals.markers.colors,r=i.config.markers.strokeColor||i.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(r)?r[e]:r,pointFillColor:Array.isArray(s)?s[e]:s}}}]),t}(),TP=function(){function t(e){J(this,t),this.ctx=e,this.w=e.w,this.initialAnim=this.w.config.chart.animations.enabled}return ee(t,[{key:"draw",value:function(e,i,s){var r=this.w,n=new Y(this.ctx),o=s.realIndex,a=s.pointsPos,l=s.zRatio,c=s.elParent,u=n.group({class:"apexcharts-series-markers apexcharts-series-".concat(r.config.chart.type)});if(u.attr("clip-path","url(#gridRectMarkerMask".concat(r.globals.cuid,")")),Array.isArray(a.x))for(var h=0;h<a.x.length;h++){var d=i+1,g=!0;i===0&&h===0&&(d=0),i===0&&h===1&&(d=1);var p=r.globals.markers.size[o];if(l!==1/0){var f=r.config.plotOptions.bubble;p=r.globals.seriesZ[o][d],f.zScaling&&(p/=l),f.minBubbleRadius&&p<f.minBubbleRadius&&(p=f.minBubbleRadius),f.maxBubbleRadius&&p>f.maxBubbleRadius&&(p=f.maxBubbleRadius)}var C=a.x[h],m=a.y[h];if(p=p||0,m!==null&&r.globals.series[o][d]!==void 0||(g=!1),g){var v=this.drawPoint(C,m,p,o,d,i);u.add(v)}c.add(u)}}},{key:"drawPoint",value:function(e,i,s,r,n,o){var a=this.w,l=r,c=new ea(this.ctx),u=new St(this.ctx),h=new ss(this.ctx),d=new ra(this.ctx),g=new Y(this.ctx),p=d.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:l,dataPointIndex:n,radius:a.config.chart.type==="bubble"||a.globals.comboCharts&&a.config.series[r]&&a.config.series[r].type==="bubble"?s:null}),f=h.fillPath({seriesNumber:r,dataPointIndex:n,color:p.pointFillColor,patternUnits:"objectBoundingBox",value:a.globals.series[r][o]}),C=g.drawMarker(e,i,p);if(a.config.series[l].data[n]&&a.config.series[l].data[n].fillColor&&(f=a.config.series[l].data[n].fillColor),C.attr({fill:f}),a.config.chart.dropShadow.enabled){var m=a.config.chart.dropShadow;u.dropShadow(C,m,r)}if(!this.initialAnim||a.globals.dataChanged||a.globals.resized)a.globals.animationEnded=!0;else{var v=a.config.chart.animations.speed;c.animateMarker(C,v,a.globals.easing,function(){window.setTimeout(function(){c.animationCompleted(C)},100)})}return C.attr({rel:n,j:n,index:r,"default-marker-size":p.pSize}),u.setSelectionFilter(C,r,n),d.addEvents(C),C.node.classList.add("apexcharts-marker"),C}},{key:"centerTextInBubble",value:function(e){var i=this.w;return{y:e+=parseInt(i.config.dataLabels.style.fontSize,10)/4}}}]),t}(),No=function(){function t(e){J(this,t),this.ctx=e,this.w=e.w}return ee(t,[{key:"dataLabelsCorrection",value:function(e,i,s,r,n,o,a){var l=this.w,c=!1,u=new Y(this.ctx).getTextRects(s,a),h=u.width,d=u.height;i<0&&(i=0),i>l.globals.gridHeight+d&&(i=l.globals.gridHeight+d/2),l.globals.dataLabelsRects[r]===void 0&&(l.globals.dataLabelsRects[r]=[]),l.globals.dataLabelsRects[r].push({x:e,y:i,width:h,height:d});var g=l.globals.dataLabelsRects[r].length-2,p=l.globals.lastDrawnDataLabelsIndexes[r]!==void 0?l.globals.lastDrawnDataLabelsIndexes[r][l.globals.lastDrawnDataLabelsIndexes[r].length-1]:0;if(l.globals.dataLabelsRects[r][g]!==void 0){var f=l.globals.dataLabelsRects[r][p];(e>f.x+f.width||i>f.y+f.height||i+d<f.y||e+h<f.x)&&(c=!0)}return(n===0||o)&&(c=!0),{x:e,y:i,textRects:u,drawnextLabel:c}}},{key:"drawDataLabel",value:function(e){var i=this,s=e.type,r=e.pos,n=e.i,o=e.j,a=e.isRangeStart,l=e.strokeWidth,c=l===void 0?2:l,u=this.w,h=new Y(this.ctx),d=u.config.dataLabels,g=0,p=0,f=o,C=null;if(u.globals.collapsedSeriesIndices.indexOf(n)!==-1||!d.enabled||!Array.isArray(r.x))return C;C=h.group({class:"apexcharts-data-labels"});for(var m=0;m<r.x.length;m++)if(g=r.x[m]+d.offsetX,p=r.y[m]+d.offsetY+c,!isNaN(g)){o===1&&m===0&&(f=0),o===1&&m===1&&(f=1);var v=u.globals.series[n][f];s==="rangeArea"&&(v=a?u.globals.seriesRangeStart[n][f]:u.globals.seriesRangeEnd[n][f]);var y="",w=function(S){return u.config.dataLabels.formatter(S,{ctx:i.ctx,seriesIndex:n,dataPointIndex:f,w:u})};u.config.chart.type==="bubble"?(y=w(v=u.globals.seriesZ[n][f]),p=r.y[m],p=new TP(this.ctx).centerTextInBubble(p,n,f).y):v!==void 0&&(y=w(v));var x=u.config.dataLabels.textAnchor;u.globals.isSlopeChart&&(x=f===0?"end":f===u.config.series[n].data.length-1?"start":"middle"),this.plotDataLabelsText({x:g,y:p,text:y,i:n,j:f,parent:C,offsetCorrection:!0,dataLabelsConfig:u.config.dataLabels,textAnchor:x})}return C}},{key:"plotDataLabelsText",value:function(e){var i=this.w,s=new Y(this.ctx),r=e.x,n=e.y,o=e.i,a=e.j,l=e.text,c=e.textAnchor,u=e.fontSize,h=e.parent,d=e.dataLabelsConfig,g=e.color,p=e.alwaysDrawDataLabel,f=e.offsetCorrection,C=e.className,m=null;if(Array.isArray(i.config.dataLabels.enabledOnSeries)&&i.config.dataLabels.enabledOnSeries.indexOf(o)<0)return m;var v={x:r,y:n,drawnextLabel:!0,textRects:null};f&&(v=this.dataLabelsCorrection(r,n,l,o,a,p,parseInt(d.style.fontSize,10))),i.globals.zoomed||(r=v.x,n=v.y),v.textRects&&(r<-20-v.textRects.width||r>i.globals.gridWidth+v.textRects.width+30)&&(l="");var y=i.globals.dataLabels.style.colors[o];((i.config.chart.type==="bar"||i.config.chart.type==="rangeBar")&&i.config.plotOptions.bar.distributed||i.config.dataLabels.distributed)&&(y=i.globals.dataLabels.style.colors[a]),typeof y=="function"&&(y=y({series:i.globals.series,seriesIndex:o,dataPointIndex:a,w:i})),g&&(y=g);var w=d.offsetX,x=d.offsetY;if(i.config.chart.type!=="bar"&&i.config.chart.type!=="rangeBar"||(w=0,x=0),i.globals.isSlopeChart&&(a!==0&&(w=-2*d.offsetX+5),a!==0&&a!==i.config.series[o].data.length-1&&(w=0)),v.drawnextLabel){if((m=s.drawText({width:100,height:parseInt(d.style.fontSize,10),x:r+w,y:n+x,foreColor:y,textAnchor:c||d.textAnchor,text:l,fontSize:u||d.style.fontSize,fontFamily:d.style.fontFamily,fontWeight:d.style.fontWeight||"normal"})).attr({class:C||"apexcharts-datalabel",cx:r,cy:n}),d.dropShadow.enabled){var S=d.dropShadow;new St(this.ctx).dropShadow(m,S)}h.add(m),i.globals.lastDrawnDataLabelsIndexes[o]===void 0&&(i.globals.lastDrawnDataLabelsIndexes[o]=[]),i.globals.lastDrawnDataLabelsIndexes[o].push(a)}return m}},{key:"addBackgroundToDataLabel",value:function(e,i){var s=this.w,r=s.config.dataLabels.background,n=r.padding,o=r.padding/2,a=i.width,l=i.height,c=new Y(this.ctx).drawRect(i.x-n,i.y-o/2,a+2*n,l+o,r.borderRadius,s.config.chart.background!=="transparent"&&s.config.chart.background?s.config.chart.background:"#fff",r.opacity,r.borderWidth,r.borderColor);return r.dropShadow.enabled&&new St(this.ctx).dropShadow(c,r.dropShadow),c}},{key:"dataLabelsBackground",value:function(){var e=this.w;if(e.config.chart.type!=="bubble")for(var i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),s=0;s<i.length;s++){var r=i[s],n=r.getBBox(),o=null;if(n.width&&n.height&&(o=this.addBackgroundToDataLabel(r,n)),o){r.parentNode.insertBefore(o.node,r);var a=r.getAttribute("fill");e.config.chart.animations.enabled&&!e.globals.resized&&!e.globals.dataChanged?o.animate().attr({fill:a}):o.attr({fill:a}),r.setAttribute("fill",e.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var e=this.w,i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),s=e.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),r=0;r<i.length;r++)s&&s.insertBefore(i[r],s.nextSibling)}}]),t}(),Ii=function(){function t(e){J(this,t),this.ctx=e,this.w=e.w,this.legendInactiveClass="legend-mouseover-inactive"}return ee(t,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(e){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(O.escapeString(e),"']"))}},{key:"isSeriesHidden",value:function(e){var i=this.getSeriesByName(e),s=parseInt(i.getAttribute("data:realIndex"),10);return{isHidden:i.classList.contains("apexcharts-series-collapsed"),realIndex:s}}},{key:"addCollapsedClassToSeries",value:function(e,i){var s=this.w;function r(n){for(var o=0;o<n.length;o++)n[o].index===i&&e.node.classList.add("apexcharts-series-collapsed")}r(s.globals.collapsedSeries),r(s.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(e){var i=this.isSeriesHidden(e);return this.ctx.legend.legendHelpers.toggleDataSeries(i.realIndex,i.isHidden),i.isHidden}},{key:"showSeries",value:function(e){var i=this.isSeriesHidden(e);i.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(i.realIndex,!0)}},{key:"hideSeries",value:function(e){var i=this.isSeriesHidden(e);i.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(i.realIndex,!1)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],r=this.w,n=O.clone(r.globals.initialSeries);r.globals.previousPaths=[],s?(r.globals.collapsedSeries=[],r.globals.ancillaryCollapsedSeries=[],r.globals.collapsedSeriesIndices=[],r.globals.ancillaryCollapsedSeriesIndices=[]):n=this.emptyCollapsedSeries(n),r.config.series=n,e&&(i&&(r.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(n,r.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(e){for(var i=this.w,s=0;s<e.length;s++)i.globals.collapsedSeriesIndices.indexOf(s)>-1&&(e[s].data=[]);return e}},{key:"highlightSeries",value:function(e){var i=this.w,s=this.getSeriesByName(e),r=parseInt(s==null?void 0:s.getAttribute("data:realIndex"),10),n=i.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis"),o=null,a=null,l=null;if(i.globals.axisCharts||i.config.chart.type==="radialBar")if(i.globals.axisCharts){o=i.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(r,"']")),a=i.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(r,"']"));var c=i.globals.seriesYAxisReverseMap[r];l=i.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(c,"']"))}else o=i.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(r+1,"']"));else o=i.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(r+1,"'] path"));for(var u=0;u<n.length;u++)n[u].classList.add(this.legendInactiveClass);if(o)i.globals.axisCharts||o.parentNode.classList.remove(this.legendInactiveClass),o.classList.remove(this.legendInactiveClass),a!==null&&a.classList.remove(this.legendInactiveClass),l!==null&&l.classList.remove(this.legendInactiveClass);else for(var h=0;h<n.length;h++)n[h].classList.remove(this.legendInactiveClass)}},{key:"toggleSeriesOnHover",value:function(e,i){var s=this.w;i||(i=e.target);var r=s.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis");if(e.type==="mousemove"){var n=parseInt(i.getAttribute("rel"),10)-1;this.highlightSeries(s.globals.seriesNames[n])}else if(e.type==="mouseout")for(var o=0;o<r.length;o++)r[o].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(e,i){var s=this,r=this.w,n=r.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),o=function(c){for(var u=0;u<n.length;u++)n[u].classList[c](s.legendInactiveClass)};if(e.type==="mousemove"){var a=parseInt(i.getAttribute("rel"),10)-1;o("add");var l=r.config.plotOptions.heatmap.colorScale.ranges;(function(c,u){for(var h=0;h<n.length;h++){var d=Number(n[h].getAttribute("val"));d>=c.from&&(d<c.to||c.to===u&&d===u)&&n[h].classList.remove(s.legendInactiveClass)}})(l[a],l.reduce(function(c,u){return Math.max(c,u.to)},0))}else e.type==="mouseout"&&o("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=this.w,r=0;if(s.config.series.length>1){for(var n=s.config.series.map(function(a,l){return a.data&&a.data.length>0&&s.globals.collapsedSeriesIndices.indexOf(l)===-1&&(!s.globals.comboCharts||i.length===0||i.length&&i.indexOf(s.config.series[l].type)>-1)?l:-1}),o=e==="asc"?0:n.length-1;e==="asc"?o<n.length:o>=0;e==="asc"?o++:o--)if(n[o]!==-1){r=n[o];break}}return r}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(e,i){return e.type==="bar"||e.type==="column"?i:-1}).filter(function(e){return e!==-1}):this.w.config.series.map(function(e,i){return i})}},{key:"getPreviousPaths",value:function(){var e=this.w;function i(o,a,l){for(var c=o[a].childNodes,u={type:l,paths:[],realIndex:o[a].getAttribute("data:realIndex")},h=0;h<c.length;h++)if(c[h].hasAttribute("pathTo")){var d=c[h].getAttribute("pathTo");u.paths.push({d})}e.globals.previousPaths.push(u)}e.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(o){for(var a,l=(a=o,e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(a,"-series .apexcharts-series"))),c=0;c<l.length;c++)i(l,c,o)});var s=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series"));if(s.length>0)for(var r=function(o){for(var a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(o,"'] rect")),l=[],c=function(h){var d=function(p){return a[h].getAttribute(p)},g={x:parseFloat(d("x")),y:parseFloat(d("y")),width:parseFloat(d("width")),height:parseFloat(d("height"))};l.push({rect:g,color:a[h].getAttribute("color")})},u=0;u<a.length;u++)c(u);e.globals.previousPaths.push(l)},n=0;n<s.length;n++)r(n);e.globals.axisCharts||(e.globals.previousPaths=e.globals.series)}},{key:"clearPreviousPaths",value:function(){var e=this.w;e.globals.previousPaths=[],e.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var e=this.w,i=e.config.noData,s=new Y(this.ctx),r=e.globals.svgWidth/2,n=e.globals.svgHeight/2,o="middle";if(e.globals.noData=!0,e.globals.animationEnded=!0,i.align==="left"?(r=10,o="start"):i.align==="right"&&(r=e.globals.svgWidth-10,o="end"),i.verticalAlign==="top"?n=50:i.verticalAlign==="bottom"&&(n=e.globals.svgHeight-50),r+=i.offsetX,n=n+parseInt(i.style.fontSize,10)+2+i.offsetY,i.text!==void 0&&i.text!==""){var a=s.drawText({x:r,y:n,text:i.text,textAnchor:o,fontSize:i.style.fontSize,fontFamily:i.style.fontFamily,foreColor:i.style.color,opacity:1,class:"apexcharts-text-nodata"});e.globals.dom.Paper.add(a)}}},{key:"setNullSeriesToZeroValues",value:function(e){for(var i=this.w,s=0;s<e.length;s++)if(e[s].length===0)for(var r=0;r<e[i.globals.maxValsInArrayIndex].length;r++)e[s].push(0);return e}},{key:"hasAllSeriesEqualX",value:function(){for(var e=!0,i=this.w,s=this.filteredSeriesX(),r=0;r<s.length-1;r++)if(s[r][0]!==s[r+1][0]){e=!1;break}return i.globals.allSeriesHasEqualX=e,e}},{key:"filteredSeriesX",value:function(){var e=this.w.globals.seriesX.map(function(i){return i.length>0?i:[]});return e}}]),t}(),RC=function(){function t(e){J(this,t),this.ctx=e,this.w=e.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new at(this.ctx)}return ee(t,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var e=this.w.config.series.slice(),i=new Ii(this.ctx);if(this.activeSeriesIndex=i.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].x!==void 0&&e[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var e=this.w.config.series.slice(),i=new Ii(this.ctx);if(this.activeSeriesIndex=i.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==void 0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(e,i){for(var s=this.w.config,r=this.w.globals,n=s.chart.type==="boxPlot"||s.series[i].type==="boxPlot",o=0;o<e[i].data.length;o++)if(e[i].data[o][1]!==void 0&&(Array.isArray(e[i].data[o][1])&&e[i].data[o][1].length===4&&!n?this.twoDSeries.push(O.parseNumber(e[i].data[o][1][3])):e[i].data[o].length>=5?this.twoDSeries.push(O.parseNumber(e[i].data[o][4])):this.twoDSeries.push(O.parseNumber(e[i].data[o][1])),r.dataFormatXNumeric=!0),s.xaxis.type==="datetime"){var a=new Date(e[i].data[o][0]);a=new Date(a).getTime(),this.twoDSeriesX.push(a)}else this.twoDSeriesX.push(e[i].data[o][0]);for(var l=0;l<e[i].data.length;l++)e[i].data[l][2]!==void 0&&(this.threeDSeries.push(e[i].data[l][2]),r.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(e,i){var s=this.w.config,r=this.w.globals,n=new bt(this.ctx),o=i;r.collapsedSeriesIndices.indexOf(i)>-1&&(o=this.activeSeriesIndex);for(var a=0;a<e[i].data.length;a++)e[i].data[a].y!==void 0&&(Array.isArray(e[i].data[a].y)?this.twoDSeries.push(O.parseNumber(e[i].data[a].y[e[i].data[a].y.length-1])):this.twoDSeries.push(O.parseNumber(e[i].data[a].y))),e[i].data[a].goals!==void 0&&Array.isArray(e[i].data[a].goals)?(this.seriesGoals[i]===void 0&&(this.seriesGoals[i]=[]),this.seriesGoals[i].push(e[i].data[a].goals)):(this.seriesGoals[i]===void 0&&(this.seriesGoals[i]=[]),this.seriesGoals[i].push(null));for(var l=0;l<e[o].data.length;l++){var c=typeof e[o].data[l].x=="string",u=Array.isArray(e[o].data[l].x),h=!u&&!!n.isValidDate(e[o].data[l].x);if(c||h)if(c||s.xaxis.convertedCatToNumeric){var d=r.isBarHorizontal&&r.isRangeData;s.xaxis.type!=="datetime"||d?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[o].data[l].x),isNaN(e[o].data[l].x)||this.w.config.xaxis.type==="category"||typeof e[o].data[l].x=="string"||(r.isXNumeric=!0)):this.twoDSeriesX.push(n.parseDate(e[o].data[l].x))}else s.xaxis.type==="datetime"?this.twoDSeriesX.push(n.parseDate(e[o].data[l].x.toString())):(r.dataFormatXNumeric=!0,r.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(e[o].data[l].x)));else u?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[o].data[l].x)):(r.isXNumeric=!0,r.dataFormatXNumeric=!0,this.twoDSeriesX.push(e[o].data[l].x))}if(e[i].data[0]&&e[i].data[0].z!==void 0){for(var g=0;g<e[i].data.length;g++)this.threeDSeries.push(e[i].data[g].z);r.isDataXYZ=!0}}},{key:"handleRangeData",value:function(e,i){var s=this.w.globals,r={};return this.isFormat2DArray()?r=this.handleRangeDataFormat("array",e,i):this.isFormatXY()&&(r=this.handleRangeDataFormat("xy",e,i)),s.seriesRangeStart.push(r.start===void 0?[]:r.start),s.seriesRangeEnd.push(r.end===void 0?[]:r.end),s.seriesRange.push(r.rangeUniques),s.seriesRange.forEach(function(n,o){n&&n.forEach(function(a,l){a.y.forEach(function(c,u){for(var h=0;h<a.y.length;h++)if(u!==h){var d=c.y1,g=c.y2,p=a.y[h].y1;d<=a.y[h].y2&&p<=g&&(a.overlaps.indexOf(c.rangeName)<0&&a.overlaps.push(c.rangeName),a.overlaps.indexOf(a.y[h].rangeName)<0&&a.overlaps.push(a.y[h].rangeName))}})})}),r}},{key:"handleCandleStickBoxData",value:function(e,i){var s=this.w.globals,r={};return this.isFormat2DArray()?r=this.handleCandleStickBoxDataFormat("array",e,i):this.isFormatXY()&&(r=this.handleCandleStickBoxDataFormat("xy",e,i)),s.seriesCandleO[i]=r.o,s.seriesCandleH[i]=r.h,s.seriesCandleM[i]=r.m,s.seriesCandleL[i]=r.l,s.seriesCandleC[i]=r.c,r}},{key:"handleRangeDataFormat",value:function(e,i,s){var r=[],n=[],o=i[s].data.filter(function(u,h,d){return h===d.findIndex(function(g){return g.x===u.x})}).map(function(u,h){return{x:u.x,overlaps:[],y:[]}});if(e==="array")for(var a=0;a<i[s].data.length;a++)Array.isArray(i[s].data[a])?(r.push(i[s].data[a][1][0]),n.push(i[s].data[a][1][1])):(r.push(i[s].data[a]),n.push(i[s].data[a]));else if(e==="xy")for(var l=function(u){var h=Array.isArray(i[s].data[u].y),d=O.randomId(),g=i[s].data[u].x,p={y1:h?i[s].data[u].y[0]:i[s].data[u].y,y2:h?i[s].data[u].y[1]:i[s].data[u].y,rangeName:d};i[s].data[u].rangeName=d;var f=o.findIndex(function(C){return C.x===g});o[f].y.push(p),r.push(p.y1),n.push(p.y2)},c=0;c<i[s].data.length;c++)l(c);return{start:r,end:n,rangeUniques:o}}},{key:"handleCandleStickBoxDataFormat",value:function(e,i,s){var r=this.w,n=r.config.chart.type==="boxPlot"||r.config.series[s].type==="boxPlot",o=[],a=[],l=[],c=[],u=[];if(e==="array")if(n&&i[s].data[0].length===6||!n&&i[s].data[0].length===5)for(var h=0;h<i[s].data.length;h++)o.push(i[s].data[h][1]),a.push(i[s].data[h][2]),n?(l.push(i[s].data[h][3]),c.push(i[s].data[h][4]),u.push(i[s].data[h][5])):(c.push(i[s].data[h][3]),u.push(i[s].data[h][4]));else for(var d=0;d<i[s].data.length;d++)Array.isArray(i[s].data[d][1])&&(o.push(i[s].data[d][1][0]),a.push(i[s].data[d][1][1]),n?(l.push(i[s].data[d][1][2]),c.push(i[s].data[d][1][3]),u.push(i[s].data[d][1][4])):(c.push(i[s].data[d][1][2]),u.push(i[s].data[d][1][3])));else if(e==="xy")for(var g=0;g<i[s].data.length;g++)Array.isArray(i[s].data[g].y)&&(o.push(i[s].data[g].y[0]),a.push(i[s].data[g].y[1]),n?(l.push(i[s].data[g].y[2]),c.push(i[s].data[g].y[3]),u.push(i[s].data[g].y[4])):(c.push(i[s].data[g].y[2]),u.push(i[s].data[g].y[3])));return{o,h:a,m:l,l:c,c:u}}},{key:"parseDataAxisCharts",value:function(e){var i=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,r=this.w.config,n=this.w.globals,o=new bt(s),a=r.labels.length>0?r.labels.slice():r.xaxis.categories.slice();n.isRangeBar=r.chart.type==="rangeBar"&&n.isBarHorizontal,n.hasXaxisGroups=r.xaxis.type==="category"&&r.xaxis.group.groups.length>0,n.hasXaxisGroups&&(n.groups=r.xaxis.group.groups),e.forEach(function(g,p){g.name!==void 0?n.seriesNames.push(g.name):n.seriesNames.push("series-"+parseInt(p+1,10))}),this.coreUtils.setSeriesYAxisMappings();var l=[],c=pt(new Set(r.series.map(function(g){return g.group})));r.series.forEach(function(g,p){var f=c.indexOf(g.group);l[f]||(l[f]=[]),l[f].push(n.seriesNames[p])}),n.seriesGroups=l;for(var u=function(){for(var g=0;g<a.length;g++)if(typeof a[g]=="string"){if(!o.isValidDate(a[g]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");i.twoDSeriesX.push(o.parseDate(a[g]))}else i.twoDSeriesX.push(a[g])},h=0;h<e.length;h++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],e[h].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(r.chart.type!=="rangeBar"&&r.chart.type!=="rangeArea"&&e[h].type!=="rangeBar"&&e[h].type!=="rangeArea"||(n.isRangeData=!0,r.chart.type!=="rangeBar"&&r.chart.type!=="rangeArea"||this.handleRangeData(e,h)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(e,h):this.isFormatXY()&&this.handleFormatXY(e,h),r.chart.type!=="candlestick"&&e[h].type!=="candlestick"&&r.chart.type!=="boxPlot"&&e[h].type!=="boxPlot"||this.handleCandleStickBoxData(e,h),n.series.push(this.twoDSeries),n.labels.push(this.twoDSeriesX),n.seriesX.push(this.twoDSeriesX),n.seriesGoals=this.seriesGoals,h!==this.activeSeriesIndex||this.fallbackToCategory||(n.isXNumeric=!0);else{r.xaxis.type==="datetime"?(n.isXNumeric=!0,u(),n.seriesX.push(this.twoDSeriesX)):r.xaxis.type==="numeric"&&(n.isXNumeric=!0,a.length>0&&(this.twoDSeriesX=a,n.seriesX.push(this.twoDSeriesX))),n.labels.push(this.twoDSeriesX);var d=e[h].data.map(function(g){return O.parseNumber(g)});n.series.push(d)}n.seriesZ.push(this.threeDSeries),e[h].color!==void 0?n.seriesColors.push(e[h].color):n.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(e){var i=this.w.globals,s=this.w.config;i.series=e.slice(),i.seriesNames=s.labels.slice();for(var r=0;r<i.series.length;r++)i.seriesNames[r]===void 0&&i.seriesNames.push("series-"+(r+1));return this.w}},{key:"handleExternalLabelsData",value:function(e){var i=this.w.config,s=this.w.globals;i.xaxis.categories.length>0?s.labels=i.xaxis.categories:i.labels.length>0?s.labels=i.labels.slice():this.fallbackToCategory?(s.labels=s.labels[0],s.seriesRange.length&&(s.seriesRange.map(function(r){r.forEach(function(n){s.labels.indexOf(n.x)<0&&n.x&&s.labels.push(n.x)})}),s.labels=Array.from(new Set(s.labels.map(JSON.stringify)),JSON.parse)),i.xaxis.convertedCatToNumeric&&(new kl(i).convertCatToNumericXaxis(i,this.ctx,s.seriesX[0]),this._generateExternalLabels(e))):this._generateExternalLabels(e)}},{key:"_generateExternalLabels",value:function(e){var i=this.w.globals,s=this.w.config,r=[];if(i.axisCharts){if(i.series.length>0)if(this.isFormatXY())for(var n=s.series.map(function(h,d){return h.data.filter(function(g,p,f){return f.findIndex(function(C){return C.x===g.x})===p})}),o=n.reduce(function(h,d,g,p){return p[h].length>d.length?h:g},0),a=0;a<n[o].length;a++)r.push(a+1);else for(var l=0;l<i.series[i.maxValsInArrayIndex].length;l++)r.push(l+1);i.seriesX=[];for(var c=0;c<e.length;c++)i.seriesX.push(r);this.w.globals.isBarHorizontal||(i.isXNumeric=!0)}if(r.length===0){r=i.axisCharts?[]:i.series.map(function(h,d){return d+1});for(var u=0;u<e.length;u++)i.seriesX.push(r)}i.labels=r,s.xaxis.convertedCatToNumeric&&(i.categoryLabels=r.map(function(h){return s.xaxis.labels.formatter(h)})),i.noLabelsProvided=!0}},{key:"parseData",value:function(e){var i=this.w,s=i.config,r=i.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),r.axisCharts?(this.parseDataAxisCharts(e),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(e),s.chart.stacked){var n=new Ii(this.ctx);r.series=n.setNullSeriesToZeroValues(r.series)}this.coreUtils.getSeriesTotals(),r.axisCharts&&(r.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals(),r.stackedSeriesTotalsByGroups=this.coreUtils.getStackedSeriesTotalsByGroups()),this.coreUtils.getPercentSeries(),r.dataFormatXNumeric||r.isXNumeric&&(s.xaxis.type!=="numeric"||s.labels.length!==0||s.xaxis.categories.length!==0)||this.handleExternalLabelsData(e);for(var o=this.coreUtils.getCategoryLabels(r.labels),a=0;a<o.length;a++)if(Array.isArray(o[a])){r.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var e=this.w,i=[];e.globals.seriesYAxisMap.forEach(function(s,r){var n=0;s.forEach(function(o){e.globals.collapsedSeriesIndices.indexOf(o)!==-1&&n++}),n>0&&n==s.length&&i.push(r)}),e.globals.ignoreYAxisIndexes=i.map(function(s){return s})}}]),t}(),fh=function(){function t(e){J(this,t),this.ctx=e,this.w=e.w}return ee(t,[{key:"scaleSvgNode",value:function(e,i){var s=parseFloat(e.getAttributeNS(null,"width")),r=parseFloat(e.getAttributeNS(null,"height"));e.setAttributeNS(null,"width",s*i),e.setAttributeNS(null,"height",r*i),e.setAttributeNS(null,"viewBox","0 0 "+s+" "+r)}},{key:"getSvgString",value:function(){var e=this;return new Promise(function(i){var s=e.w,r=s.config.chart.toolbar.export.width,n=s.config.chart.toolbar.export.scale||r/s.globals.svgWidth;n||(n=1);var o=e.w.globals.dom.Paper.svg(),a=e.w.globals.dom.Paper.node.cloneNode(!0);n!==1&&e.scaleSvgNode(a,n),e.convertImagesToBase64(a).then(function(){o=new XMLSerializer().serializeToString(a),i(o.replace(/&nbsp;/g,"&#160;"))})})}},{key:"convertImagesToBase64",value:function(e){var i=this,s=e.getElementsByTagName("image"),r=Array.from(s).map(function(n){var o=n.getAttributeNS("http://www.w3.org/1999/xlink","href");return o&&!o.startsWith("data:")?i.getBase64FromUrl(o).then(function(a){n.setAttributeNS("http://www.w3.org/1999/xlink","href",a)}).catch(function(a){console.error("Error converting image to base64:",a)}):Promise.resolve()});return Promise.all(r)}},{key:"getBase64FromUrl",value:function(e){return new Promise(function(i,s){var r=new Image;r.crossOrigin="Anonymous",r.onload=function(){var n=document.createElement("canvas");n.width=r.width,n.height=r.height,n.getContext("2d").drawImage(r,0,0),i(n.toDataURL())},r.onerror=s,r.src=e})}},{key:"cleanup",value:function(){var e=this.w,i=e.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),s=e.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(r,function(n){n.setAttribute("width",0)}),i&&i[0]&&(i[0].setAttribute("x",-500),i[0].setAttribute("x1",-500),i[0].setAttribute("x2",-500)),s&&s[0]&&(s[0].setAttribute("y",-100),s[0].setAttribute("y1",-100),s[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){var e=this;return new Promise(function(i){e.cleanup(),e.getSvgString().then(function(s){var r=new Blob([s],{type:"image/svg+xml;charset=utf-8"});i(URL.createObjectURL(r))})})}},{key:"dataURI",value:function(e){var i=this;return new Promise(function(s){var r=i.w,n=e?e.scale||e.width/r.globals.svgWidth:1;i.cleanup();var o=document.createElement("canvas");o.width=r.globals.svgWidth*n,o.height=parseInt(r.globals.dom.elWrap.style.height,10)*n;var a=r.config.chart.background!=="transparent"&&r.config.chart.background?r.config.chart.background:"#fff",l=o.getContext("2d");l.fillStyle=a,l.fillRect(0,0,o.width*n,o.height*n),i.getSvgString().then(function(c){var u="data:image/svg+xml,"+encodeURIComponent(c),h=new Image;h.crossOrigin="anonymous",h.onload=function(){if(l.drawImage(h,0,0),o.msToBlob){var d=o.msToBlob();s({blob:d})}else{var g=o.toDataURL("image/png");s({imgURI:g})}},h.src=u})})}},{key:"exportToSVG",value:function(){var e=this;this.svgUrl().then(function(i){e.triggerDownload(i,e.w.config.chart.toolbar.export.svg.filename,".svg")})}},{key:"exportToPng",value:function(){var e=this,i=this.w.config.chart.toolbar.export.scale,s=this.w.config.chart.toolbar.export.width,r=i?{scale:i}:s?{width:s}:void 0;this.dataURI(r).then(function(n){var o=n.imgURI,a=n.blob;a?navigator.msSaveOrOpenBlob(a,e.w.globals.chartID+".png"):e.triggerDownload(o,e.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(e){var i=this,s=e.series,r=e.fileName,n=e.columnDelimiter,o=n===void 0?",":n,a=e.lineDelimiter,l=a===void 0?`
`:a,c=this.w;s||(s=c.config.series);var u=[],h=[],d="",g=c.globals.series.map(function(x,S){return c.globals.collapsedSeriesIndices.indexOf(S)===-1?x:[]}),p=function(x){return typeof c.config.chart.toolbar.export.csv.categoryFormatter=="function"?c.config.chart.toolbar.export.csv.categoryFormatter(x):c.config.xaxis.type==="datetime"&&String(x).length>=10?new Date(x).toDateString():O.isNumber(x)?x:x.split(o).join("")},f=function(x){return typeof c.config.chart.toolbar.export.csv.valueFormatter=="function"?c.config.chart.toolbar.export.csv.valueFormatter(x):x},C=Math.max.apply(Math,pt(s.map(function(x){return x.data?x.data.length:0}))),m=new RC(this.ctx),v=new kr(this.ctx),y=function(x){var S="";if(c.globals.axisCharts){if(c.config.xaxis.type==="category"||c.config.xaxis.convertedCatToNumeric)if(c.globals.isBarHorizontal){var b=c.globals.yLabelFormatters[0],R=new Ii(i.ctx).getActiveConfigSeriesIndex();S=b(c.globals.labels[x],{seriesIndex:R,dataPointIndex:x,w:c})}else S=v.getLabel(c.globals.labels,c.globals.timescaleLabels,0,x).text;c.config.xaxis.type==="datetime"&&(c.config.xaxis.categories.length?S=c.config.xaxis.categories[x]:c.config.labels.length&&(S=c.config.labels[x]))}else S=c.config.labels[x];return S===null?"nullvalue":(Array.isArray(S)&&(S=S.join(" ")),O.isNumber(S)?S:S.split(o).join(""))},w=function(x,S){if(u.length&&S===0&&h.push(u.join(o)),x.data){x.data=x.data.length&&x.data||pt(Array(C)).map(function(){return""});for(var b=0;b<x.data.length;b++){u=[];var R=y(b);if(R!=="nullvalue"){if(R||(m.isFormatXY()?R=s[S].data[b].x:m.isFormat2DArray()&&(R=s[S].data[b]?s[S].data[b][0]:"")),S===0){u.push(p(R));for(var A=0;A<c.globals.series.length;A++){var P,E=m.isFormatXY()?(P=s[A].data[b])===null||P===void 0?void 0:P.y:g[A][b];u.push(f(E))}}(c.config.chart.type==="candlestick"||x.type&&x.type==="candlestick")&&(u.pop(),u.push(c.globals.seriesCandleO[S][b]),u.push(c.globals.seriesCandleH[S][b]),u.push(c.globals.seriesCandleL[S][b]),u.push(c.globals.seriesCandleC[S][b])),(c.config.chart.type==="boxPlot"||x.type&&x.type==="boxPlot")&&(u.pop(),u.push(c.globals.seriesCandleO[S][b]),u.push(c.globals.seriesCandleH[S][b]),u.push(c.globals.seriesCandleM[S][b]),u.push(c.globals.seriesCandleL[S][b]),u.push(c.globals.seriesCandleC[S][b])),c.config.chart.type==="rangeBar"&&(u.pop(),u.push(c.globals.seriesRangeStart[S][b]),u.push(c.globals.seriesRangeEnd[S][b])),u.length&&h.push(u.join(o))}}}};u.push(c.config.chart.toolbar.export.csv.headerCategory),c.config.chart.type==="boxPlot"?(u.push("minimum"),u.push("q1"),u.push("median"),u.push("q3"),u.push("maximum")):c.config.chart.type==="candlestick"?(u.push("open"),u.push("high"),u.push("low"),u.push("close")):c.config.chart.type==="rangeBar"?(u.push("minimum"),u.push("maximum")):s.map(function(x,S){var b=(x.name?x.name:"series-".concat(S))+"";c.globals.axisCharts&&u.push(b.split(o).join("")?b.split(o).join(""):"series-".concat(S))}),c.globals.axisCharts||(u.push(c.config.chart.toolbar.export.csv.headerValue),h.push(u.join(o))),c.globals.allSeriesHasEqualX||!c.globals.axisCharts||c.config.xaxis.categories.length||c.config.labels.length?s.map(function(x,S){c.globals.axisCharts?w(x,S):((u=[]).push(p(c.globals.labels[S])),u.push(f(g[S])),h.push(u.join(o)))}):function(){var x=new Set,S={};s.forEach(function(b,R){b==null||b.data.forEach(function(A){var P,E;if(m.isFormatXY())P=A.x,E=A.y;else{if(!m.isFormat2DArray())return;P=A[0],E=A[1]}S[P]||(S[P]=Array(s.length).fill("")),S[P][R]=f(E),x.add(P)})}),u.length&&h.push(u.join(o)),Array.from(x).sort().forEach(function(b){h.push([p(b),S[b].join(o)])})}(),d+=h.join(l),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+d),r||c.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(e,i,s){var r=document.createElement("a");r.href=e,r.download=(i||this.w.globals.chartID)+s,document.body.appendChild(r),r.click(),document.body.removeChild(r)}}]),t}(),Tl=function(){function t(e,i){J(this,t),this.ctx=e,this.elgrid=i,this.w=e.w;var s=this.w;this.axesUtils=new kr(e),this.xaxisLabels=s.globals.labels.slice(),s.globals.timescaleLabels.length>0&&!s.globals.isBarHorizontal&&(this.xaxisLabels=s.globals.timescaleLabels.slice()),s.config.xaxis.overwriteCategories&&(this.xaxisLabels=s.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],s.config.xaxis.position==="top"?this.offY=0:this.offY=s.globals.gridHeight,this.offY=this.offY+s.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=s.config.chart.type==="bar"&&s.config.plotOptions.bar.horizontal,this.xaxisFontSize=s.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=s.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=s.config.xaxis.labels.style.colors,this.xaxisBorderWidth=s.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=s.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=s.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=s.config.xaxis.axisBorder.height,this.yaxis=s.config.yaxis[0]}return ee(t,[{key:"drawXaxis",value:function(){var e=this.w,i=new Y(this.ctx),s=i.group({class:"apexcharts-xaxis",transform:"translate(".concat(e.config.xaxis.offsetX,", ").concat(e.config.xaxis.offsetY,")")}),r=i.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});s.add(r);for(var n=[],o=0;o<this.xaxisLabels.length;o++)n.push(this.xaxisLabels[o]);if(this.drawXAxisLabelAndGroup(!0,i,r,n,e.globals.isXNumeric,function(p,f){return f}),e.globals.hasXaxisGroups){var a=e.globals.groups;n=[];for(var l=0;l<a.length;l++)n.push(a[l].title);var c={};e.config.xaxis.group.style&&(c.xaxisFontSize=e.config.xaxis.group.style.fontSize,c.xaxisFontFamily=e.config.xaxis.group.style.fontFamily,c.xaxisForeColors=e.config.xaxis.group.style.colors,c.fontWeight=e.config.xaxis.group.style.fontWeight,c.cssClass=e.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,i,r,n,!1,function(p,f){return a[p].cols*f},c)}if(e.config.xaxis.title.text!==void 0){var u=i.group({class:"apexcharts-xaxis-title"}),h=i.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(e.config.xaxis.position==="bottom"?e.globals.xAxisLabelsHeight:-e.globals.xAxisLabelsHeight-10)+e.config.xaxis.title.offsetY,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+e.config.xaxis.title.style.cssClass});u.add(h),s.add(u)}if(e.config.xaxis.axisBorder.show){var d=e.globals.barPadForNumericAxis,g=i.drawLine(e.globals.padHorizontal+e.config.xaxis.axisBorder.offsetX-d,this.offY,this.xaxisBorderWidth+d,this.offY,e.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&e.config.grid.show?this.elgrid.elGridBorders.add(g):s.add(g)}return s}},{key:"drawXAxisLabelAndGroup",value:function(e,i,s,r,n,o){var a,l=this,c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},u=[],h=[],d=this.w,g=c.xaxisFontSize||this.xaxisFontSize,p=c.xaxisFontFamily||this.xaxisFontFamily,f=c.xaxisForeColors||this.xaxisForeColors,C=c.fontWeight||d.config.xaxis.labels.style.fontWeight,m=c.cssClass||d.config.xaxis.labels.style.cssClass,v=d.globals.padHorizontal,y=r.length,w=d.config.xaxis.type==="category"?d.globals.dataPoints:y;if(w===0&&y>w&&(w=y),n){var x=w>1?w-1:w;a=d.globals.gridWidth/Math.min(x,y-1),v=v+o(0,a)/2+d.config.xaxis.labels.offsetX}else a=d.globals.gridWidth/w,v=v+o(0,a)+d.config.xaxis.labels.offsetX;for(var S=function(R){var A=v-o(R,a)/2+d.config.xaxis.labels.offsetX;R===0&&y===1&&a/2===v&&w===1&&(A=d.globals.gridWidth/2);var P=l.axesUtils.getLabel(r,d.globals.timescaleLabels,A,R,u,g,e),E=28;if(d.globals.rotateXLabels&&e&&(E=22),d.config.xaxis.title.text&&d.config.xaxis.position==="top"&&(E+=parseFloat(d.config.xaxis.title.style.fontSize)+2),e||(E=E+parseFloat(g)+(d.globals.xAxisLabelsHeight-d.globals.xAxisGroupLabelsHeight)+(d.globals.rotateXLabels?10:0)),P=d.config.xaxis.tickAmount!==void 0&&d.config.xaxis.tickAmount!=="dataPoints"&&d.config.xaxis.type!=="datetime"?l.axesUtils.checkLabelBasedOnTickamount(R,P,y):l.axesUtils.checkForOverflowingLabels(R,P,y,u,h),d.config.xaxis.labels.show){var L=i.drawText({x:P.x,y:l.offY+d.config.xaxis.labels.offsetY+E-(d.config.xaxis.position==="top"?d.globals.xAxisHeight+d.config.xaxis.axisTicks.height-2:0),text:P.text,textAnchor:"middle",fontWeight:P.isBold?600:C,fontSize:g,fontFamily:p,foreColor:Array.isArray(f)?e&&d.config.xaxis.convertedCatToNumeric?f[d.globals.minX+R-1]:f[R]:f,isPlainText:!1,cssClass:(e?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+m});if(s.add(L),L.on("click",function(I){if(typeof d.config.chart.events.xAxisLabelClick=="function"){var z=Object.assign({},d,{labelIndex:R});d.config.chart.events.xAxisLabelClick(I,l.ctx,z)}}),e){var M=document.createElementNS(d.globals.SVGNS,"title");M.textContent=Array.isArray(P.text)?P.text.join(" "):P.text,L.node.appendChild(M),P.text!==""&&(u.push(P.text),h.push(P))}}R<y-1&&(v+=o(R+1,a))},b=0;b<=y-1;b++)S(b)}},{key:"drawXaxisInversed",value:function(e){var i,s,r=this,n=this.w,o=new Y(this.ctx),a=n.config.yaxis[0].opposite?n.globals.translateYAxisX[e]:0,l=o.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:e}),c=o.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+a+", 0)"});l.add(c);var u=[];if(n.config.yaxis[e].show)for(var h=0;h<this.xaxisLabels.length;h++)u.push(this.xaxisLabels[h]);i=n.globals.gridHeight/u.length,s=-i/2.2;var d=n.globals.yLabelFormatters[0],g=n.config.yaxis[0].labels;if(g.show)for(var p=function(x){var S=u[x]===void 0?"":u[x];S=d(S,{seriesIndex:e,dataPointIndex:x,w:n});var b=r.axesUtils.getYAxisForeColor(g.style.colors,e),R=0;Array.isArray(S)&&(R=S.length/2*parseInt(g.style.fontSize,10));var A=g.offsetX-15,P="end";r.yaxis.opposite&&(P="start"),n.config.yaxis[0].labels.align==="left"?(A=g.offsetX,P="start"):n.config.yaxis[0].labels.align==="center"?(A=g.offsetX,P="middle"):n.config.yaxis[0].labels.align==="right"&&(P="end");var E=o.drawText({x:A,y:s+i+g.offsetY-R,text:S,textAnchor:P,foreColor:Array.isArray(b)?b[x]:b,fontSize:g.style.fontSize,fontFamily:g.style.fontFamily,fontWeight:g.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+g.style.cssClass,maxWidth:g.maxWidth});c.add(E),E.on("click",function(I){if(typeof n.config.chart.events.xAxisLabelClick=="function"){var z=Object.assign({},n,{labelIndex:x});n.config.chart.events.xAxisLabelClick(I,r.ctx,z)}});var L=document.createElementNS(n.globals.SVGNS,"title");if(L.textContent=Array.isArray(S)?S.join(" "):S,E.node.appendChild(L),n.config.yaxis[e].labels.rotate!==0){var M=o.rotateAroundCenter(E.node);E.node.setAttribute("transform","rotate(".concat(n.config.yaxis[e].labels.rotate," 0 ").concat(M.y,")"))}s+=i},f=0;f<=u.length-1;f++)p(f);if(n.config.yaxis[0].title.text!==void 0){var C=o.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+a+", 0)"}),m=o.drawText({x:n.config.yaxis[0].title.offsetX,y:n.globals.gridHeight/2+n.config.yaxis[0].title.offsetY,text:n.config.yaxis[0].title.text,textAnchor:"middle",foreColor:n.config.yaxis[0].title.style.color,fontSize:n.config.yaxis[0].title.style.fontSize,fontWeight:n.config.yaxis[0].title.style.fontWeight,fontFamily:n.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+n.config.yaxis[0].title.style.cssClass});C.add(m),l.add(C)}var v=0;this.isCategoryBarHorizontal&&n.config.yaxis[0].opposite&&(v=n.globals.gridWidth);var y=n.config.xaxis.axisBorder;if(y.show){var w=o.drawLine(n.globals.padHorizontal+y.offsetX+v,1+y.offsetY,n.globals.padHorizontal+y.offsetX+v,n.globals.gridHeight+y.offsetY,y.color,0);this.elgrid&&this.elgrid.elGridBorders&&n.config.grid.show?this.elgrid.elGridBorders.add(w):l.add(w)}return n.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(v,u.length,n.config.yaxis[0].axisBorder,n.config.yaxis[0].axisTicks,0,i,l),l}},{key:"drawXaxisTicks",value:function(e,i,s){var r=this.w,n=e;if(!(e<0||e-2>r.globals.gridWidth)){var o=this.offY+r.config.xaxis.axisTicks.offsetY;if(i=i+o+r.config.xaxis.axisTicks.height,r.config.xaxis.position==="top"&&(i=o-r.config.xaxis.axisTicks.height),r.config.xaxis.axisTicks.show){var a=new Y(this.ctx).drawLine(e+r.config.xaxis.axisTicks.offsetX,o+r.config.xaxis.offsetY,n+r.config.xaxis.axisTicks.offsetX,i+r.config.xaxis.offsetY,r.config.xaxis.axisTicks.color);s.add(a),a.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var e=this.w,i=[],s=this.xaxisLabels.length,r=e.globals.padHorizontal;if(e.globals.timescaleLabels.length>0)for(var n=0;n<s;n++)r=this.xaxisLabels[n].position,i.push(r);else for(var o=s,a=0;a<o;a++){var l=o;e.globals.isXNumeric&&e.config.chart.type!=="bar"&&(l-=1),r+=e.globals.gridWidth/l,i.push(r)}return i}},{key:"xAxisLabelCorrections",value:function(){var e=this.w,i=new Y(this.ctx),s=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),n=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(e.globals.rotateXLabels||e.config.xaxis.labels.rotateAlways)for(var a=0;a<r.length;a++){var l=i.rotateAroundCenter(r[a]);l.y=l.y-1,l.x=l.x+1,r[a].setAttribute("transform","rotate(".concat(e.config.xaxis.labels.rotate," ").concat(l.x," ").concat(l.y,")")),r[a].setAttribute("text-anchor","end"),s.setAttribute("transform","translate(0, ".concat(-10,")"));var c=r[a].childNodes;e.config.xaxis.labels.trim&&Array.prototype.forEach.call(c,function(g){i.placeTextWithEllipsis(g,g.textContent,e.globals.xAxisLabelsHeight-(e.config.legend.position==="bottom"?20:10))})}else(function(){for(var g=e.globals.gridWidth/(e.globals.labels.length+1),p=0;p<r.length;p++){var f=r[p].childNodes;e.config.xaxis.labels.trim&&e.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(f,function(C){i.placeTextWithEllipsis(C,C.textContent,g)})}})();if(n.length>0){var u=n[n.length-1].getBBox(),h=n[0].getBBox();u.x<-20&&n[n.length-1].parentNode.removeChild(n[n.length-1]),h.x+h.width>e.globals.gridWidth&&!e.globals.isBarHorizontal&&n[0].parentNode.removeChild(n[0]);for(var d=0;d<o.length;d++)i.placeTextWithEllipsis(o[d],o[d].textContent,e.config.yaxis[0].labels.maxWidth-(e.config.yaxis[0].title.text?2*parseFloat(e.config.yaxis[0].title.style.fontSize):0)-15)}}}]),t}(),DP=function(){function t(e){J(this,t),this.ctx=e,this.w=e.w;var i=this.w;this.xaxisLabels=i.globals.labels.slice(),this.axesUtils=new kr(e),this.isRangeBar=i.globals.seriesRange.length&&i.globals.isBarHorizontal,i.globals.timescaleLabels.length>0&&(this.xaxisLabels=i.globals.timescaleLabels.slice())}return ee(t,[{key:"drawGridArea",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,i=this.w,s=new Y(this.ctx);e||(e=s.group({class:"apexcharts-grid"}));var r=s.drawLine(i.globals.padHorizontal,1,i.globals.padHorizontal,i.globals.gridHeight,"transparent"),n=s.drawLine(i.globals.padHorizontal,i.globals.gridHeight,i.globals.gridWidth,i.globals.gridHeight,"transparent");return e.add(n),e.add(r),e}},{key:"drawGrid",value:function(){if(this.w.globals.axisCharts){var e=this.renderGrid();return this.drawGridArea(e.el),e}return null}},{key:"createGridMask",value:function(){var e=this.w,i=e.globals,s=new Y(this.ctx),r=Array.isArray(e.config.stroke.width)?Math.max.apply(Math,pt(e.config.stroke.width)):e.config.stroke.width,n=function(u){var h=document.createElementNS(i.SVGNS,"clipPath");return h.setAttribute("id",u),h};i.dom.elGridRectMask=n("gridRectMask".concat(i.cuid)),i.dom.elGridRectBarMask=n("gridRectBarMask".concat(i.cuid)),i.dom.elGridRectMarkerMask=n("gridRectMarkerMask".concat(i.cuid)),i.dom.elForecastMask=n("forecastMask".concat(i.cuid)),i.dom.elNonForecastMask=n("nonForecastMask".concat(i.cuid));var o=0,a=0;(["bar","rangeBar","candlestick","boxPlot"].includes(e.config.chart.type)||e.globals.comboBarCount>0)&&e.globals.isXNumeric&&!e.globals.isBarHorizontal&&(o=Math.max(e.config.grid.padding.left,i.barPadForNumericAxis),a=Math.max(e.config.grid.padding.right,i.barPadForNumericAxis)),i.dom.elGridRect=s.drawRect(0,0,i.gridWidth,i.gridHeight,0,"#fff"),i.dom.elGridRectBar=s.drawRect(-r/2-o-2,-r/2-2,i.gridWidth+r+a+o+4,i.gridHeight+r+4,0,"#fff");var l=e.globals.markers.largestSize;i.dom.elGridRectMarker=s.drawRect(-l,-l,i.gridWidth+2*l,i.gridHeight+2*l,0,"#fff"),i.dom.elGridRectMask.appendChild(i.dom.elGridRect.node),i.dom.elGridRectBarMask.appendChild(i.dom.elGridRectBar.node),i.dom.elGridRectMarkerMask.appendChild(i.dom.elGridRectMarker.node);var c=i.dom.baseEl.querySelector("defs");c.appendChild(i.dom.elGridRectMask),c.appendChild(i.dom.elGridRectBarMask),c.appendChild(i.dom.elGridRectMarkerMask),c.appendChild(i.dom.elForecastMask),c.appendChild(i.dom.elNonForecastMask)}},{key:"_drawGridLines",value:function(e){var i=e.i,s=e.x1,r=e.y1,n=e.x2,o=e.y2,a=e.xCount,l=e.parent,c=this.w;if(!(i===0&&c.globals.skipFirstTimelinelabel||i===a-1&&c.globals.skipLastTimelinelabel&&!c.config.xaxis.labels.formatter||c.config.chart.type==="radar")){c.config.grid.xaxis.lines.show&&this._drawGridLine({i,x1:s,y1:r,x2:n,y2:o,xCount:a,parent:l});var u=0;if(c.globals.hasXaxisGroups&&c.config.xaxis.tickPlacement==="between"){var h=c.globals.groups;if(h){for(var d=0,g=0;d<i&&g<h.length;g++)d+=h[g].cols;d===i&&(u=.6*c.globals.xAxisLabelsHeight)}}new Tl(this.ctx).drawXaxisTicks(s,u,c.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(e){var i=e.i,s=e.x1,r=e.y1,n=e.x2,o=e.y2,a=e.xCount,l=e.parent,c=this.w,u=l.node.classList.contains("apexcharts-gridlines-horizontal"),h=c.globals.barPadForNumericAxis,d=r===0&&o===0||s===0&&n===0||r===c.globals.gridHeight&&o===c.globals.gridHeight||c.globals.isBarHorizontal&&(i===0||i===a-1),g=new Y(this).drawLine(s-(u?h:0),r,n+(u?h:0),o,c.config.grid.borderColor,c.config.grid.strokeDashArray);g.node.classList.add("apexcharts-gridline"),d&&c.config.grid.show?this.elGridBorders.add(g):l.add(g)}},{key:"_drawGridBandRect",value:function(e){var i=e.c,s=e.x1,r=e.y1,n=e.x2,o=e.y2,a=e.type,l=this.w,c=new Y(this.ctx),u=l.globals.barPadForNumericAxis,h=l.config.grid[a].colors[i],d=c.drawRect(s-(a==="row"?u:0),r,n+(a==="row"?2*u:0),o,0,h,l.config.grid[a].opacity);this.elg.add(d),d.attr("clip-path","url(#gridRectMask".concat(l.globals.cuid,")")),d.node.classList.add("apexcharts-grid-".concat(a))}},{key:"_drawXYLines",value:function(e){var i=this,s=e.xCount,r=e.tickAmount,n=this.w;if(n.config.grid.xaxis.lines.show||n.config.xaxis.axisTicks.show){var o,a=n.globals.padHorizontal,l=n.globals.gridHeight;n.globals.timescaleLabels.length?function(p){for(var f=p.xC,C=p.x1,m=p.y1,v=p.x2,y=p.y2,w=0;w<f;w++)C=i.xaxisLabels[w].position,v=i.xaxisLabels[w].position,i._drawGridLines({i:w,x1:C,y1:m,x2:v,y2:y,xCount:s,parent:i.elgridLinesV})}({xC:s,x1:a,y1:0,x2:o,y2:l}):(n.globals.isXNumeric&&(s=n.globals.xAxisScale.result.length),function(p){for(var f=p.xC,C=p.x1,m=p.y1,v=p.x2,y=p.y2,w=0;w<f+(n.globals.isXNumeric?0:1);w++)w===0&&f===1&&n.globals.dataPoints===1&&(v=C=n.globals.gridWidth/2),i._drawGridLines({i:w,x1:C,y1:m,x2:v,y2:y,xCount:s,parent:i.elgridLinesV}),v=C+=n.globals.gridWidth/(n.globals.isXNumeric?f-1:f)}({xC:s,x1:a,y1:0,x2:o,y2:l}))}if(n.config.grid.yaxis.lines.show){var c=0,u=0,h=n.globals.gridWidth,d=r+1;this.isRangeBar&&(d=n.globals.labels.length);for(var g=0;g<d+(this.isRangeBar?1:0);g++)this._drawGridLine({i:g,xCount:d+(this.isRangeBar?1:0),x1:0,y1:c,x2:h,y2:u,parent:this.elgridLinesH}),u=c+=n.globals.gridHeight/(this.isRangeBar?d:r)}}},{key:"_drawInvertedXYLines",value:function(e){var i=e.xCount,s=this.w;if(s.config.grid.xaxis.lines.show||s.config.xaxis.axisTicks.show)for(var r,n=s.globals.padHorizontal,o=s.globals.gridHeight,a=0;a<i+1;a++)s.config.grid.xaxis.lines.show&&this._drawGridLine({i:a,xCount:i+1,x1:n,y1:0,x2:r,y2:o,parent:this.elgridLinesV}),new Tl(this.ctx).drawXaxisTicks(n,0,s.globals.dom.elGraphical),r=n+=s.globals.gridWidth/i;if(s.config.grid.yaxis.lines.show)for(var l=0,c=0,u=s.globals.gridWidth,h=0;h<s.globals.dataPoints+1;h++)this._drawGridLine({i:h,xCount:s.globals.dataPoints+1,x1:0,y1:l,x2:u,y2:c,parent:this.elgridLinesH}),c=l+=s.globals.gridHeight/s.globals.dataPoints}},{key:"renderGrid",value:function(){var e=this.w,i=e.globals,s=new Y(this.ctx);this.elg=s.group({class:"apexcharts-grid"}),this.elgridLinesH=s.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=s.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=s.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),e.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var r=0;r<i.seriesYAxisMap.length&&i.ignoreYAxisIndexes.includes(r);)r++;r===i.seriesYAxisMap.length&&(r=0);var n,o=i.yAxisScale[r].result.length-1;if(!i.isBarHorizontal||this.isRangeBar){var a,l,c;n=this.xaxisLabels.length,this.isRangeBar&&(o=i.labels.length,e.config.xaxis.tickAmount&&e.config.xaxis.labels.formatter&&(n=e.config.xaxis.tickAmount),((a=i.yAxisScale)===null||a===void 0||(l=a[r])===null||l===void 0||(c=l.result)===null||c===void 0?void 0:c.length)>0&&e.config.xaxis.type!=="datetime"&&(n=i.yAxisScale[r].result.length-1)),this._drawXYLines({xCount:n,tickAmount:o})}else n=o,o=i.xTickAmount,this._drawInvertedXYLines({xCount:n,tickAmount:o});return this.drawGridBands(n,o),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:i.gridWidth/n}}},{key:"drawGridBands",value:function(e,i){var s,r,n=this,o=this.w;if(((s=o.config.grid.row.colors)===null||s===void 0?void 0:s.length)>0&&function(p,f,C,m,v,y){for(var w=0,x=0;w<f;w++,x++)x>=o.config.grid[p].colors.length&&(x=0),n._drawGridBandRect({c:x,x1:C,y1:m,x2:v,y2:y,type:p}),m+=o.globals.gridHeight/i}("row",i,0,0,o.globals.gridWidth,o.globals.gridHeight/i),((r=o.config.grid.column.colors)===null||r===void 0?void 0:r.length)>0){var a=o.globals.isBarHorizontal||o.config.xaxis.tickPlacement!=="on"||o.config.xaxis.type!=="category"&&!o.config.xaxis.convertedCatToNumeric?e:e-1;o.globals.isXNumeric&&(a=o.globals.xAxisScale.result.length-1);for(var l=o.globals.padHorizontal,c=o.globals.padHorizontal+o.globals.gridWidth/a,u=o.globals.gridHeight,h=0,d=0;h<e;h++,d++){var g;d>=o.config.grid.column.colors.length&&(d=0),o.config.xaxis.type==="datetime"&&(l=this.xaxisLabels[h].position,c=(((g=this.xaxisLabels[h+1])===null||g===void 0?void 0:g.position)||o.globals.gridWidth)-this.xaxisLabels[h].position),this._drawGridBandRect({c:d,x1:l,y1:0,x2:c,y2:u,type:"column"}),l+=o.globals.gridWidth/a}}}}]),t}(),LP=function(){function t(e){J(this,t),this.ctx=e,this.w=e.w,this.coreUtils=new at(this.ctx)}return ee(t,[{key:"niceScale",value:function(e,i){var s,r,n,o,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=1e-11,c=this.w,u=c.globals;u.isBarHorizontal?(s=c.config.xaxis,r=Math.max((u.svgWidth-100)/25,2)):(s=c.config.yaxis[a],r=Math.max((u.svgHeight-100)/15,2)),O.isNumber(r)||(r=10),n=s.min!==void 0&&s.min!==null,o=s.max!==void 0&&s.min!==null;var h=s.stepSize!==void 0&&s.stepSize!==null,d=s.tickAmount!==void 0&&s.tickAmount!==null,g=d?s.tickAmount:u.niceScaleDefaultTicks[Math.min(Math.round(r/2),u.niceScaleDefaultTicks.length-1)];if(u.isMultipleYAxis&&!d&&u.multiAxisTickAmount>0&&(g=u.multiAxisTickAmount,d=!0),g=g==="dataPoints"?u.dataPoints-1:Math.abs(Math.round(g)),(e===Number.MIN_VALUE&&i===0||!O.isNumber(e)&&!O.isNumber(i)||e===Number.MIN_VALUE&&i===-Number.MAX_VALUE)&&(e=O.isNumber(s.min)?s.min:0,i=O.isNumber(s.max)?s.max:e+g,u.allSeriesCollapsed=!1),e>i){console.warn("axis.min cannot be greater than axis.max: swapping min and max");var p=i;i=e,e=p}else e===i&&(e=e===0?0:e-1,i=i===0?2:i+1);var f=[];g<1&&(g=1);var C=g,m=Math.abs(i-e);!n&&e>0&&e/m<.15&&(e=0,n=!0),!o&&i<0&&-i/m<.15&&(i=0,o=!0);var v=(m=Math.abs(i-e))/C,y=v,w=Math.floor(Math.log10(y)),x=Math.pow(10,w),S=Math.ceil(y/x);if(v=y=(S=u.niceScaleAllowedMagMsd[u.yValueDecimal===0?0:1][S])*x,u.isBarHorizontal&&s.stepSize&&s.type!=="datetime"?(v=s.stepSize,h=!0):h&&(v=s.stepSize),h&&s.forceNiceScale){var b=Math.floor(Math.log10(v));v*=Math.pow(10,w-b)}if(n&&o){var R=m/C;if(d)if(h)if(O.mod(m,v)!=0){var A=O.getGCD(v,R);v=R/A<10?A:R}else O.mod(v,R)==0?v=R:(R=v,d=!1);else v=R;else if(h)O.mod(m,v)==0?R=v:v=R;else if(O.mod(m,v)==0)R=v;else{R=m/(C=Math.ceil(m/v));var P=O.getGCD(m,v);m/P<r&&(R=P),v=R}C=Math.round(m/v)}else{if(n||o){if(o)if(d)e=i-v*C;else{var E=e;e=v*Math.floor(e/v),Math.abs(i-e)/O.getGCD(m,v)>r&&(e=i-v*g,e+=v*Math.floor((E-e)/v))}else if(n)if(d)i=e+v*C;else{var L=i;i=v*Math.ceil(i/v),Math.abs(i-e)/O.getGCD(m,v)>r&&(i=e+v*g,i+=v*Math.ceil((L-i)/v))}}else if(u.isMultipleYAxis&&d){var M=v*Math.floor(e/v),I=M+v*C;I<i&&(v*=2),I=i,i=(e=M)+v*C,m=Math.abs(i-e),e>0&&e<Math.abs(I-i)&&(e=0,i=v*C),i<0&&-i<Math.abs(M-e)&&(i=0,e=-v*C)}else e=v*Math.floor(e/v),i=v*Math.ceil(i/v);m=Math.abs(i-e),v=O.getGCD(m,v),C=Math.round(m/v)}if(d||n||o||(C=Math.ceil((m-l)/(v+l)))>16&&O.getPrimeFactors(C).length<2&&C++,!d&&s.forceNiceScale&&u.yValueDecimal===0&&C>m&&(C=m,v=Math.round(m/C)),C>r&&(!d&&!h||s.forceNiceScale)){var z=O.getPrimeFactors(C),D=z.length-1,T=C;e:for(var k=0;k<D;k++)for(var H=0;H<=D-k;H++){for(var N=Math.min(H+k,D),G=T,U=1,te=H;te<=N;te++)U*=z[te];if((G/=U)<r){T=G;break e}}v=T===C?m:m/T,C=Math.round(m/v)}u.isMultipleYAxis&&u.multiAxisTickAmount==0&&u.ignoreYAxisIndexes.indexOf(a)<0&&(u.multiAxisTickAmount=C);var $=e-v,re=v*l;do $+=v,f.push(O.stripNumber($,7));while(i-$>re);return{result:f,niceMin:f[0],niceMax:f[f.length-1]}}},{key:"linearScale",value:function(e,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,o=Math.abs(i-e),a=[];if(e===i)return{result:a=[e],niceMin:a[0],niceMax:a[a.length-1]};(s=this._adjustTicksForSmallRange(s,r,o))==="dataPoints"&&(s=this.w.globals.dataPoints-1),n||(n=o/s),n=Math.round(10*(n+Number.EPSILON))/10,s===Number.MAX_VALUE&&(s=5,n=1);for(var l=e;s>=0;)a.push(l),l=O.preciseAddition(l,n),s-=1;return{result:a,niceMin:a[0],niceMax:a[a.length-1]}}},{key:"logarithmicScaleNice",value:function(e,i,s){i<=0&&(i=Math.max(e,s)),e<=0&&(e=Math.min(i,s));for(var r=[],n=Math.ceil(Math.log(i)/Math.log(s)+1),o=Math.floor(Math.log(e)/Math.log(s));o<n;o++)r.push(Math.pow(s,o));return{result:r,niceMin:r[0],niceMax:r[r.length-1]}}},{key:"logarithmicScale",value:function(e,i,s){i<=0&&(i=Math.max(e,s)),e<=0&&(e=Math.min(i,s));for(var r=[],n=Math.log(i)/Math.log(s),o=Math.log(e)/Math.log(s),a=n-o,l=Math.round(a),c=a/l,u=0,h=o;u<l;u++,h+=c)r.push(Math.pow(s,h));return r.push(Math.pow(s,n)),{result:r,niceMin:e,niceMax:i}}},{key:"_adjustTicksForSmallRange",value:function(e,i,s){var r=e;if(i!==void 0&&this.w.config.yaxis[i].labels.formatter&&this.w.config.yaxis[i].tickAmount===void 0){var n=Number(this.w.config.yaxis[i].labels.formatter(1));O.isNumber(n)&&this.w.globals.yValueDecimal===0&&(r=Math.ceil(s))}return r<e?r:e}},{key:"setYScaleForIndex",value:function(e,i,s){var r=this.w.globals,n=this.w.config,o=r.isBarHorizontal?n.xaxis:n.yaxis[e];r.yAxisScale[e]===void 0&&(r.yAxisScale[e]=[]);var a=Math.abs(s-i);o.logarithmic&&a<=5&&(r.invalidLogScale=!0),o.logarithmic&&a>5?(r.allSeriesCollapsed=!1,r.yAxisScale[e]=o.forceNiceScale?this.logarithmicScaleNice(i,s,o.logBase):this.logarithmicScale(i,s,o.logBase)):s!==-Number.MAX_VALUE&&O.isNumber(s)&&i!==Number.MAX_VALUE&&O.isNumber(i)?(r.allSeriesCollapsed=!1,r.yAxisScale[e]=this.niceScale(i,s,e)):r.yAxisScale[e]=this.niceScale(Number.MIN_VALUE,0,e)}},{key:"setXScale",value:function(e,i){var s=this.w,r=s.globals,n=Math.abs(i-e);if(i!==-Number.MAX_VALUE&&O.isNumber(i)){var o=r.xTickAmount+1;n<10&&n>1&&(o=n),r.xAxisScale=this.linearScale(e,i,o,0,s.config.xaxis.stepSize)}else r.xAxisScale=this.linearScale(0,10,10);return r.xAxisScale}},{key:"scaleMultipleYAxes",value:function(){var e=this,i=this.w.config,s=this.w.globals;this.coreUtils.setSeriesYAxisMappings();var r=s.seriesYAxisMap,n=s.minYArr,o=s.maxYArr;s.allSeriesCollapsed=!0,s.barGroups=[],r.forEach(function(a,l){var c=[];a.forEach(function(u){var h=i.series[u].group;c.indexOf(h)<0&&c.push(h)}),a.length>0?function(){var u,h,d=Number.MAX_VALUE,g=-Number.MAX_VALUE,p=d,f=g;if(i.chart.stacked)(function(){var v=new Array(s.dataPoints).fill(0),y=[],w=[],x=[];c.forEach(function(){y.push(v.map(function(){return Number.MIN_VALUE})),w.push(v.map(function(){return Number.MIN_VALUE})),x.push(v.map(function(){return Number.MIN_VALUE}))});for(var S=function(R){!u&&i.series[a[R]].type&&(u=i.series[a[R]].type);var A=a[R];h=i.series[A].group?i.series[A].group:"axis-".concat(l),!(s.collapsedSeriesIndices.indexOf(A)<0&&s.ancillaryCollapsedSeriesIndices.indexOf(A)<0)||(s.allSeriesCollapsed=!1,c.forEach(function(P,E){if(i.series[A].group===P)for(var L=0;L<s.series[A].length;L++){var M=s.series[A][L];M>=0?w[E][L]+=M:x[E][L]+=M,y[E][L]+=M,p=Math.min(p,M),f=Math.max(f,M)}})),u!=="bar"&&u!=="column"||s.barGroups.push(h)},b=0;b<a.length;b++)S(b);u||(u=i.chart.type),u==="bar"||u==="column"?c.forEach(function(R,A){d=Math.min(d,Math.min.apply(null,x[A])),g=Math.max(g,Math.max.apply(null,w[A]))}):(c.forEach(function(R,A){p=Math.min(p,Math.min.apply(null,y[A])),f=Math.max(f,Math.max.apply(null,y[A]))}),d=p,g=f),d===Number.MIN_VALUE&&g===Number.MIN_VALUE&&(g=-Number.MAX_VALUE)})();else for(var C=0;C<a.length;C++){var m=a[C];d=Math.min(d,n[m]),g=Math.max(g,o[m]),!(s.collapsedSeriesIndices.indexOf(m)<0&&s.ancillaryCollapsedSeriesIndices.indexOf(m)<0)||(s.allSeriesCollapsed=!1)}i.yaxis[l].min!==void 0&&(d=typeof i.yaxis[l].min=="function"?i.yaxis[l].min(d):i.yaxis[l].min),i.yaxis[l].max!==void 0&&(g=typeof i.yaxis[l].max=="function"?i.yaxis[l].max(g):i.yaxis[l].max),s.barGroups=s.barGroups.filter(function(v,y,w){return w.indexOf(v)===y}),e.setYScaleForIndex(l,d,g),a.forEach(function(v){n[v]=s.yAxisScale[l].niceMin,o[v]=s.yAxisScale[l].niceMax})}():e.setYScaleForIndex(l,0,-Number.MAX_VALUE)})}}]),t}(),lm=function(){function t(e){J(this,t),this.ctx=e,this.w=e.w,this.scales=new LP(e)}return ee(t,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,n=this.w.config,o=this.w.globals,a=-Number.MAX_VALUE,l=Number.MIN_VALUE;r===null&&(r=e+1);var c=o.series,u=c,h=c;n.chart.type==="candlestick"?(u=o.seriesCandleL,h=o.seriesCandleH):n.chart.type==="boxPlot"?(u=o.seriesCandleO,h=o.seriesCandleC):o.isRangeData&&(u=o.seriesRangeStart,h=o.seriesRangeEnd);var d=!1;if(o.seriesX.length>=r){var g,p=(g=o.brushSource)===null||g===void 0?void 0:g.w.config.chart.brush;(n.chart.zoom.enabled&&n.chart.zoom.autoScaleYaxis||p!=null&&p.enabled&&p!=null&&p.autoScaleYaxis)&&(d=!0)}for(var f=e;f<r;f++){o.dataPoints=Math.max(o.dataPoints,c[f].length);var C=n.series[f].type;o.categoryLabels.length&&(o.dataPoints=o.categoryLabels.filter(function(x){return x!==void 0}).length),o.labels.length&&n.xaxis.type!=="datetime"&&o.series.reduce(function(x,S){return x+S.length},0)!==0&&(o.dataPoints=Math.max(o.dataPoints,o.labels.length));var m=0,v=c[f].length-1;if(d){if(n.xaxis.min)for(;m<v&&o.seriesX[f][m]<n.xaxis.min;m++);if(n.xaxis.max)for(;v>m&&o.seriesX[f][v]>n.xaxis.max;v--);}for(var y=m;y<=v&&y<o.series[f].length;y++){var w=c[f][y];if(w!==null&&O.isNumber(w)){switch(h[f][y]!==void 0&&(a=Math.max(a,h[f][y]),i=Math.min(i,h[f][y])),u[f][y]!==void 0&&(i=Math.min(i,u[f][y]),s=Math.max(s,u[f][y])),C){case"candlestick":o.seriesCandleC[f][y]!==void 0&&(a=Math.max(a,o.seriesCandleH[f][y]),i=Math.min(i,o.seriesCandleL[f][y]));break;case"boxPlot":o.seriesCandleC[f][y]!==void 0&&(a=Math.max(a,o.seriesCandleC[f][y]),i=Math.min(i,o.seriesCandleO[f][y]))}C&&C!=="candlestick"&&C!=="boxPlot"&&C!=="rangeArea"&&C!=="rangeBar"&&(a=Math.max(a,o.series[f][y]),i=Math.min(i,o.series[f][y])),s=a,o.seriesGoals[f]&&o.seriesGoals[f][y]&&Array.isArray(o.seriesGoals[f][y])&&o.seriesGoals[f][y].forEach(function(x){l!==Number.MIN_VALUE&&(l=Math.min(l,x.value),i=l),a=Math.max(a,x.value),s=a}),O.isFloat(w)&&(w=O.noExponents(w),o.yValueDecimal=Math.max(o.yValueDecimal,w.toString().split(".")[1].length)),l>u[f][y]&&u[f][y]<0&&(l=u[f][y])}else o.hasNullValues=!0}C!=="bar"&&C!=="column"||(l<0&&a<0&&(a=0,s=Math.max(s,0)),l===Number.MIN_VALUE&&(l=0,i=Math.min(i,0)))}return n.chart.type==="rangeBar"&&o.seriesRangeStart.length&&o.isBarHorizontal&&(l=i),n.chart.type==="bar"&&(l<0&&a<0&&(a=0),l===Number.MIN_VALUE&&(l=0)),{minY:l,maxY:a,lowestY:i,highestY:s}}},{key:"setYRange",value:function(){var e=this.w.globals,i=this.w.config;e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE;var s,r=Number.MAX_VALUE;if(e.isMultipleYAxis){r=Number.MAX_VALUE;for(var n=0;n<e.series.length;n++)s=this.getMinYMaxY(n),e.minYArr[n]=s.lowestY,e.maxYArr[n]=s.highestY,r=Math.min(r,s.lowestY)}return s=this.getMinYMaxY(0,r,null,e.series.length),i.chart.type==="bar"?(e.minY=s.minY,e.maxY=s.maxY):(e.minY=s.lowestY,e.maxY=s.highestY),r=s.lowestY,i.chart.stacked&&this._setStackedMinMax(),i.chart.type==="line"||i.chart.type==="area"||i.chart.type==="scatter"||i.chart.type==="candlestick"||i.chart.type==="boxPlot"||i.chart.type==="rangeBar"&&!e.isBarHorizontal?e.minY===Number.MIN_VALUE&&r!==-Number.MAX_VALUE&&r!==e.maxY&&(e.minY=r):e.minY=e.minY!==Number.MIN_VALUE?Math.min(s.minY,e.minY):s.minY,i.yaxis.forEach(function(o,a){o.max!==void 0&&(typeof o.max=="number"?e.maxYArr[a]=o.max:typeof o.max=="function"&&(e.maxYArr[a]=o.max(e.isMultipleYAxis?e.maxYArr[a]:e.maxY)),e.maxY=e.maxYArr[a]),o.min!==void 0&&(typeof o.min=="number"?e.minYArr[a]=o.min:typeof o.min=="function"&&(e.minYArr[a]=o.min(e.isMultipleYAxis?e.minYArr[a]===Number.MIN_VALUE?0:e.minYArr[a]:e.minY)),e.minY=e.minYArr[a])}),e.isBarHorizontal&&["min","max"].forEach(function(o){i.xaxis[o]!==void 0&&typeof i.xaxis[o]=="number"&&(o==="min"?e.minY=i.xaxis[o]:e.maxY=i.xaxis[o])}),e.isMultipleYAxis?(this.scales.scaleMultipleYAxes(),e.minY=r):(this.scales.setYScaleForIndex(0,e.minY,e.maxY),e.minY=e.yAxisScale[0].niceMin,e.maxY=e.yAxisScale[0].niceMax,e.minYArr[0]=e.minY,e.maxYArr[0]=e.maxY),e.barGroups=[],e.lineGroups=[],e.areaGroups=[],i.series.forEach(function(o){switch(o.type||i.chart.type){case"bar":case"column":e.barGroups.push(o.group);break;case"line":e.lineGroups.push(o.group);break;case"area":e.areaGroups.push(o.group)}}),e.barGroups=e.barGroups.filter(function(o,a,l){return l.indexOf(o)===a}),e.lineGroups=e.lineGroups.filter(function(o,a,l){return l.indexOf(o)===a}),e.areaGroups=e.areaGroups.filter(function(o,a,l){return l.indexOf(o)===a}),{minY:e.minY,maxY:e.maxY,minYArr:e.minYArr,maxYArr:e.maxYArr,yAxisScale:e.yAxisScale}}},{key:"setXRange",value:function(){var e=this.w.globals,i=this.w.config,s=i.xaxis.type==="numeric"||i.xaxis.type==="datetime"||i.xaxis.type==="category"&&!e.noLabelsProvided||e.noLabelsProvided||e.isXNumeric;if(e.isXNumeric&&function(){for(var l=0;l<e.series.length;l++)if(e.labels[l])for(var c=0;c<e.labels[l].length;c++)e.labels[l][c]!==null&&O.isNumber(e.labels[l][c])&&(e.maxX=Math.max(e.maxX,e.labels[l][c]),e.initialMaxX=Math.max(e.maxX,e.labels[l][c]),e.minX=Math.min(e.minX,e.labels[l][c]),e.initialMinX=Math.min(e.minX,e.labels[l][c]))}(),e.noLabelsProvided&&i.xaxis.categories.length===0&&(e.maxX=e.labels[e.labels.length-1],e.initialMaxX=e.labels[e.labels.length-1],e.minX=1,e.initialMinX=1),e.isXNumeric||e.noLabelsProvided||e.dataFormatXNumeric){var r=10;if(i.xaxis.tickAmount===void 0)r=Math.round(e.svgWidth/150),i.xaxis.type==="numeric"&&e.dataPoints<30&&(r=e.dataPoints-1),r>e.dataPoints&&e.dataPoints!==0&&(r=e.dataPoints-1);else if(i.xaxis.tickAmount==="dataPoints"){if(e.series.length>1&&(r=e.series[e.maxValsInArrayIndex].length-1),e.isXNumeric){var n=e.maxX-e.minX;n<30&&(r=n-1)}}else r=i.xaxis.tickAmount;if(e.xTickAmount=r,i.xaxis.max!==void 0&&typeof i.xaxis.max=="number"&&(e.maxX=i.xaxis.max),i.xaxis.min!==void 0&&typeof i.xaxis.min=="number"&&(e.minX=i.xaxis.min),i.xaxis.range!==void 0&&(e.minX=e.maxX-i.xaxis.range),e.minX!==Number.MAX_VALUE&&e.maxX!==-Number.MAX_VALUE)if(i.xaxis.convertedCatToNumeric&&!e.dataFormatXNumeric){for(var o=[],a=e.minX-1;a<e.maxX;a++)o.push(a+1);e.xAxisScale={result:o,niceMin:o[0],niceMax:o[o.length-1]}}else e.xAxisScale=this.scales.setXScale(e.minX,e.maxX);else e.xAxisScale=this.scales.linearScale(0,r,r,0,i.xaxis.stepSize),e.noLabelsProvided&&e.labels.length>0&&(e.xAxisScale=this.scales.linearScale(1,e.labels.length,r-1,0,i.xaxis.stepSize),e.seriesX=e.labels.slice());s&&(e.labels=e.xAxisScale.result.slice())}return e.isBarHorizontal&&e.labels.length&&(e.xTickAmount=e.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:e.minX,maxX:e.maxX}}},{key:"setZRange",value:function(){var e=this.w.globals;if(e.isDataXYZ){for(var i=0;i<e.series.length;i++)if(e.seriesZ[i]!==void 0)for(var s=0;s<e.seriesZ[i].length;s++)e.seriesZ[i][s]!==null&&O.isNumber(e.seriesZ[i][s])&&(e.maxZ=Math.max(e.maxZ,e.seriesZ[i][s]),e.minZ=Math.min(e.minZ,e.seriesZ[i][s]))}}},{key:"_handleSingleDataPoint",value:function(){var e=this.w.globals,i=this.w.config;if(e.minX===e.maxX){var s=new bt(this.ctx);if(i.xaxis.type==="datetime"){var r=s.getDate(e.minX);i.xaxis.labels.datetimeUTC?r.setUTCDate(r.getUTCDate()-2):r.setDate(r.getDate()-2),e.minX=new Date(r).getTime();var n=s.getDate(e.maxX);i.xaxis.labels.datetimeUTC?n.setUTCDate(n.getUTCDate()+2):n.setDate(n.getDate()+2),e.maxX=new Date(n).getTime()}else(i.xaxis.type==="numeric"||i.xaxis.type==="category"&&!e.noLabelsProvided)&&(e.minX=e.minX-2,e.initialMinX=e.minX,e.maxX=e.maxX+2,e.initialMaxX=e.maxX)}}},{key:"_getMinXDiff",value:function(){var e=this.w.globals;e.isXNumeric&&e.seriesX.forEach(function(i,s){i.length===1&&i.push(e.seriesX[e.maxValsInArrayIndex][e.seriesX[e.maxValsInArrayIndex].length-1]);var r=i.slice();r.sort(function(n,o){return n-o}),r.forEach(function(n,o){if(o>0){var a=n-r[o-1];a>0&&(e.minXDiff=Math.min(a,e.minXDiff))}}),e.dataPoints!==1&&e.minXDiff!==Number.MAX_VALUE||(e.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var e=this,i=this.w.globals;if(i.series.length){var s=i.seriesGroups;s.length||(s=[this.w.globals.seriesNames.map(function(o){return o})]);var r={},n={};s.forEach(function(o){r[o]=[],n[o]=[],e.w.config.series.map(function(a,l){return o.indexOf(i.seriesNames[l])>-1?l:null}).filter(function(a){return a!==null}).forEach(function(a){for(var l=0;l<i.series[i.maxValsInArrayIndex].length;l++){var c,u,h,d;r[o][l]===void 0&&(r[o][l]=0,n[o][l]=0),(e.w.config.chart.stacked&&!i.comboCharts||e.w.config.chart.stacked&&i.comboCharts&&(!e.w.config.chart.stackOnlyBar||((c=e.w.config.series)===null||c===void 0||(u=c[a])===null||u===void 0?void 0:u.type)==="bar"||((h=e.w.config.series)===null||h===void 0||(d=h[a])===null||d===void 0?void 0:d.type)==="column"))&&i.series[a][l]!==null&&O.isNumber(i.series[a][l])&&(i.series[a][l]>0?r[o][l]+=parseFloat(i.series[a][l])+1e-4:n[o][l]+=parseFloat(i.series[a][l]))}})}),Object.entries(r).forEach(function(o){var a=tP(o,1)[0];r[a].forEach(function(l,c){i.maxY=Math.max(i.maxY,r[a][c]),i.minY=Math.min(i.minY,n[a][c])})})}}}]),t}(),FC=function(){function t(e,i){J(this,t),this.ctx=e,this.elgrid=i,this.w=e.w;var s=this.w;this.xaxisFontSize=s.config.xaxis.labels.style.fontSize,this.axisFontFamily=s.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=s.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=s.config.chart.type==="bar"&&s.config.plotOptions.bar.horizontal,this.xAxisoffX=s.config.xaxis.position==="bottom"?s.globals.gridHeight:0,this.drawnLabels=[],this.axesUtils=new kr(e)}return ee(t,[{key:"drawYaxis",value:function(e){var i=this.w,s=new Y(this.ctx),r=i.config.yaxis[e].labels.style,n=r.fontSize,o=r.fontFamily,a=r.fontWeight,l=s.group({class:"apexcharts-yaxis",rel:e,transform:"translate(".concat(i.globals.translateYAxisX[e],", 0)")});if(this.axesUtils.isYAxisHidden(e))return l;var c=s.group({class:"apexcharts-yaxis-texts-g"});l.add(c);var u=i.globals.yAxisScale[e].result.length-1,h=i.globals.gridHeight/u,d=i.globals.yLabelFormatters[e],g=this.axesUtils.checkForReversedLabels(e,i.globals.yAxisScale[e].result.slice());if(i.config.yaxis[e].labels.show){var p=i.globals.translateY+i.config.yaxis[e].labels.offsetY;i.globals.isBarHorizontal?p=0:i.config.chart.type==="heatmap"&&(p-=h/2),p+=parseInt(n,10)/3;for(var f=u;f>=0;f--){var C=d(g[f],f,i),m=i.config.yaxis[e].labels.padding;i.config.yaxis[e].opposite&&i.config.yaxis.length!==0&&(m*=-1);var v=this.getTextAnchor(i.config.yaxis[e].labels.align,i.config.yaxis[e].opposite),y=this.axesUtils.getYAxisForeColor(r.colors,e),w=Array.isArray(y)?y[f]:y,x=O.listToArray(i.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-label tspan"))).map(function(b){return b.textContent}),S=s.drawText({x:m,y:p,text:x.includes(C)&&!i.config.yaxis[e].labels.showDuplicates?"":C,textAnchor:v,fontSize:n,fontFamily:o,fontWeight:a,maxWidth:i.config.yaxis[e].labels.maxWidth,foreColor:w,isPlainText:!1,cssClass:"apexcharts-yaxis-label ".concat(r.cssClass)});c.add(S),this.addTooltip(S,C),i.config.yaxis[e].labels.rotate!==0&&this.rotateLabel(s,S,firstLabel,i.config.yaxis[e].labels.rotate),p+=h}}return this.addYAxisTitle(s,l,e),this.addAxisBorder(s,l,e,u,h),l}},{key:"getTextAnchor",value:function(e,i){return e==="left"?"start":e==="center"?"middle":e==="right"?"end":i?"start":"end"}},{key:"addTooltip",value:function(e,i){var s=document.createElementNS(this.w.globals.SVGNS,"title");s.textContent=Array.isArray(i)?i.join(" "):i,e.node.appendChild(s)}},{key:"rotateLabel",value:function(e,i,s,r){var n=e.rotateAroundCenter(s.node),o=e.rotateAroundCenter(i.node);i.node.setAttribute("transform","rotate(".concat(r," ").concat(n.x," ").concat(o.y,")"))}},{key:"addYAxisTitle",value:function(e,i,s){var r=this.w;if(r.config.yaxis[s].title.text!==void 0){var n=e.group({class:"apexcharts-yaxis-title"}),o=r.config.yaxis[s].opposite?r.globals.translateYAxisX[s]:0,a=e.drawText({x:o,y:r.globals.gridHeight/2+r.globals.translateY+r.config.yaxis[s].title.offsetY,text:r.config.yaxis[s].title.text,textAnchor:"end",foreColor:r.config.yaxis[s].title.style.color,fontSize:r.config.yaxis[s].title.style.fontSize,fontWeight:r.config.yaxis[s].title.style.fontWeight,fontFamily:r.config.yaxis[s].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text ".concat(r.config.yaxis[s].title.style.cssClass)});n.add(a),i.add(n)}}},{key:"addAxisBorder",value:function(e,i,s,r,n){var o=this.w,a=o.config.yaxis[s].axisBorder,l=31+a.offsetX;if(o.config.yaxis[s].opposite&&(l=-31-a.offsetX),a.show){var c=e.drawLine(l,o.globals.translateY+a.offsetY-2,l,o.globals.gridHeight+o.globals.translateY+a.offsetY+2,a.color,0,a.width);i.add(c)}o.config.yaxis[s].axisTicks.show&&this.axesUtils.drawYAxisTicks(l,r,a,o.config.yaxis[s].axisTicks,s,n,i)}},{key:"drawYaxisInversed",value:function(e){var i=this.w,s=new Y(this.ctx),r=s.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),n=s.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(i.globals.translateXAxisX,", ").concat(i.globals.translateXAxisY,")")});r.add(n);var o=i.globals.yAxisScale[e].result.length-1,a=i.globals.gridWidth/o+.1,l=a+i.config.xaxis.labels.offsetX,c=i.globals.xLabelFormatter,u=this.axesUtils.checkForReversedLabels(e,i.globals.yAxisScale[e].result.slice()),h=i.globals.timescaleLabels;if(h.length>0&&(this.xaxisLabels=h.slice(),o=(u=h.slice()).length),i.config.xaxis.labels.show)for(var d=h.length?0:o;h.length?d<h.length:d>=0;h.length?d++:d--){var g=c(u[d],d,i),p=i.globals.gridWidth+i.globals.padHorizontal-(l-a+i.config.xaxis.labels.offsetX);if(h.length){var f=this.axesUtils.getLabel(u,h,p,d,this.drawnLabels,this.xaxisFontSize);p=f.x,g=f.text,this.drawnLabels.push(f.text),d===0&&i.globals.skipFirstTimelinelabel&&(g=""),d===u.length-1&&i.globals.skipLastTimelinelabel&&(g="")}var C=s.drawText({x:p,y:this.xAxisoffX+i.config.xaxis.labels.offsetY+30-(i.config.xaxis.position==="top"?i.globals.xAxisHeight+i.config.xaxis.axisTicks.height-2:0),text:g,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[e]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:i.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label ".concat(i.config.xaxis.labels.style.cssClass)});n.add(C),C.tspan(g),this.addTooltip(C,g),l+=a}return this.inversedYAxisTitleText(r),this.inversedYAxisBorder(r),r}},{key:"inversedYAxisBorder",value:function(e){var i=this.w,s=new Y(this.ctx),r=i.config.xaxis.axisBorder;if(r.show){var n=0;i.config.chart.type==="bar"&&i.globals.isXNumeric&&(n-=15);var o=s.drawLine(i.globals.padHorizontal+n+r.offsetX,this.xAxisoffX,i.globals.gridWidth,this.xAxisoffX,r.color,0,r.height);this.elgrid&&this.elgrid.elGridBorders&&i.config.grid.show?this.elgrid.elGridBorders.add(o):e.add(o)}}},{key:"inversedYAxisTitleText",value:function(e){var i=this.w,s=new Y(this.ctx);if(i.config.xaxis.title.text!==void 0){var r=s.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),n=s.drawText({x:i.globals.gridWidth/2+i.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(i.config.xaxis.title.style.fontSize)+i.config.xaxis.title.offsetY+20,text:i.config.xaxis.title.text,textAnchor:"middle",fontSize:i.config.xaxis.title.style.fontSize,fontFamily:i.config.xaxis.title.style.fontFamily,fontWeight:i.config.xaxis.title.style.fontWeight,foreColor:i.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text ".concat(i.config.xaxis.title.style.cssClass)});r.add(n),e.add(r)}}},{key:"yAxisTitleRotate",value:function(e,i){var s=this.w,r=new Y(this.ctx),n=s.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-texts-g")),o=n?n.getBoundingClientRect():{width:0,height:0},a=s.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-title text")),l=a?a.getBoundingClientRect():{width:0,height:0};if(a){var c=this.xPaddingForYAxisTitle(e,o,l,i);a.setAttribute("x",c.xPos-(i?10:0));var u=r.rotateAroundCenter(a);a.setAttribute("transform","rotate(".concat(i?-1*s.config.yaxis[e].title.rotate:s.config.yaxis[e].title.rotate," ").concat(u.x," ").concat(u.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(e,i,s,r){var n=this.w,o=0,a=10;return n.config.yaxis[e].title.text===void 0||e<0?{xPos:o,padd:0}:(r?o=i.width+n.config.yaxis[e].title.offsetX+s.width/2+a/2:(o=-1*i.width+n.config.yaxis[e].title.offsetX+a/2+s.width/2,n.globals.isBarHorizontal&&(a=25,o=-1*i.width-n.config.yaxis[e].title.offsetX-a)),{xPos:o,padd:a})}},{key:"setYAxisXPosition",value:function(e,i){var s=this.w,r=0,n=0,o=18,a=1;s.config.yaxis.length>1&&(this.multipleYs=!0),s.config.yaxis.forEach(function(l,c){var u=s.globals.ignoreYAxisIndexes.includes(c)||!l.show||l.floating||e[c].width===0,h=e[c].width+i[c].width;l.opposite?s.globals.isBarHorizontal?(n=s.globals.gridWidth+s.globals.translateX-1,s.globals.translateYAxisX[c]=n-l.labels.offsetX):(n=s.globals.gridWidth+s.globals.translateX+a,u||(a+=h+20),s.globals.translateYAxisX[c]=n-l.labels.offsetX+20):(r=s.globals.translateX-o,u||(o+=h+20),s.globals.translateYAxisX[c]=r+l.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var e=this.w;O.listToArray(e.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis")).forEach(function(i,s){var r=e.config.yaxis[s];if(r&&!r.floating&&r.labels.align!==void 0){var n=e.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(s,"'] .apexcharts-yaxis-texts-g")),o=O.listToArray(e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(s,"'] .apexcharts-yaxis-label"))),a=n.getBoundingClientRect();o.forEach(function(l){l.setAttribute("text-anchor",r.labels.align)}),r.labels.align!=="left"||r.opposite?r.labels.align==="center"?n.setAttribute("transform","translate(".concat(a.width/2*(r.opposite?1:-1),", 0)")):r.labels.align==="right"&&r.opposite&&n.setAttribute("transform","translate(".concat(a.width,", 0)")):n.setAttribute("transform","translate(-".concat(a.width,", 0)"))}})}}]),t}(),jX=function(){function t(e){J(this,t),this.ctx=e,this.w=e.w,this.documentEvent=O.bind(this.documentEvent,this)}return ee(t,[{key:"addEventListener",value:function(e,i){var s=this.w;s.globals.events.hasOwnProperty(e)?s.globals.events[e].push(i):s.globals.events[e]=[i]}},{key:"removeEventListener",value:function(e,i){var s=this.w;if(s.globals.events.hasOwnProperty(e)){var r=s.globals.events[e].indexOf(i);r!==-1&&s.globals.events[e].splice(r,1)}}},{key:"fireEvent",value:function(e,i){var s=this.w;if(s.globals.events.hasOwnProperty(e)){i&&i.length||(i=[]);for(var r=s.globals.events[e],n=r.length,o=0;o<n;o++)r[o].apply(null,i)}}},{key:"setupEventHandlers",value:function(){var e=this,i=this.w,s=this.ctx,r=i.globals.dom.baseEl.querySelector(i.globals.chartClass);this.ctx.eventList.forEach(function(n){r.addEventListener(n,function(o){var a=Object.assign({},i,{seriesIndex:i.globals.axisCharts?i.globals.capturedSeriesIndex:0,dataPointIndex:i.globals.capturedDataPointIndex});o.type==="mousemove"||o.type==="touchmove"?typeof i.config.chart.events.mouseMove=="function"&&i.config.chart.events.mouseMove(o,s,a):o.type==="mouseleave"||o.type==="touchleave"?typeof i.config.chart.events.mouseLeave=="function"&&i.config.chart.events.mouseLeave(o,s,a):(o.type==="mouseup"&&o.which===1||o.type==="touchend")&&(typeof i.config.chart.events.click=="function"&&i.config.chart.events.click(o,s,a),s.ctx.events.fireEvent("click",[o,s,a]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(n){i.globals.dom.baseEl.addEventListener(n,e.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(e){var i=this.w,s=e.target.className;if(e.type==="click"){var r=i.globals.dom.baseEl.querySelector(".apexcharts-menu");r&&r.classList.contains("apexcharts-menu-open")&&s!=="apexcharts-menu-icon"&&r.classList.remove("apexcharts-menu-open")}i.globals.clientX=e.type==="touchmove"?e.touches[0].clientX:e.clientX,i.globals.clientY=e.type==="touchmove"?e.touches[0].clientY:e.clientY}}]),t}(),YX=function(){function t(e){J(this,t),this.ctx=e,this.w=e.w}return ee(t,[{key:"setCurrentLocaleValues",value:function(e){var i=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(i=this.w.config.chart.locales.concat(window.Apex.chart.locales));var s=i.filter(function(n){return n.name===e})[0];if(!s)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var r=O.extend(kP,s);this.w.globals.locale=r.options}}]),t}(),$X=function(){function t(e){J(this,t),this.ctx=e,this.w=e.w}return ee(t,[{key:"drawAxis",value:function(e,i){var s,r,n=this,o=this.w.globals,a=this.w.config,l=new Tl(this.ctx,i),c=new FC(this.ctx,i);o.axisCharts&&e!=="radar"&&(o.isBarHorizontal?(r=c.drawYaxisInversed(0),s=l.drawXaxisInversed(0),o.dom.elGraphical.add(s),o.dom.elGraphical.add(r)):(s=l.drawXaxis(),o.dom.elGraphical.add(s),a.yaxis.map(function(u,h){if(o.ignoreYAxisIndexes.indexOf(h)===-1&&(r=c.drawYaxis(h),o.dom.Paper.add(r),n.w.config.grid.position==="back")){var d=o.dom.Paper.children()[1];d.remove(),o.dom.Paper.add(d)}})))}}]),t}(),cm=function(){function t(e){J(this,t),this.ctx=e,this.w=e.w}return ee(t,[{key:"drawXCrosshairs",value:function(){var e=this.w,i=new Y(this.ctx),s=new St(this.ctx),r=e.config.xaxis.crosshairs.fill.gradient,n=e.config.xaxis.crosshairs.dropShadow,o=e.config.xaxis.crosshairs.fill.type,a=r.colorFrom,l=r.colorTo,c=r.opacityFrom,u=r.opacityTo,h=r.stops,d=n.enabled,g=n.left,p=n.top,f=n.blur,C=n.color,m=n.opacity,v=e.config.xaxis.crosshairs.fill.color;if(e.config.xaxis.crosshairs.show){o==="gradient"&&(v=i.drawGradient("vertical",a,l,c,u,null,h,null));var y=i.drawRect();e.config.xaxis.crosshairs.width===1&&(y=i.drawLine());var w=e.globals.gridHeight;(!O.isNumber(w)||w<0)&&(w=0);var x=e.config.xaxis.crosshairs.width;(!O.isNumber(x)||x<0)&&(x=0),y.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:w,width:x,height:w,fill:v,filter:"none","fill-opacity":e.config.xaxis.crosshairs.opacity,stroke:e.config.xaxis.crosshairs.stroke.color,"stroke-width":e.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":e.config.xaxis.crosshairs.stroke.dashArray}),d&&(y=s.dropShadow(y,{left:g,top:p,blur:f,color:C,opacity:m})),e.globals.dom.elGraphical.add(y)}}},{key:"drawYCrosshairs",value:function(){var e=this.w,i=new Y(this.ctx),s=e.config.yaxis[0].crosshairs,r=e.globals.barPadForNumericAxis;if(e.config.yaxis[0].crosshairs.show){var n=i.drawLine(-r,0,e.globals.gridWidth+r,0,s.stroke.color,s.stroke.dashArray,s.stroke.width);n.attr({class:"apexcharts-ycrosshairs"}),e.globals.dom.elGraphical.add(n)}var o=i.drawLine(-r,0,e.globals.gridWidth+r,0,s.stroke.color,0,0);o.attr({class:"apexcharts-ycrosshairs-hidden"}),e.globals.dom.elGraphical.add(o)}}]),t}(),KX=function(){function t(e){J(this,t),this.ctx=e,this.w=e.w}return ee(t,[{key:"checkResponsiveConfig",value:function(e){var i=this,s=this.w,r=s.config;if(r.responsive.length!==0){var n=r.responsive.slice();n.sort(function(c,u){return c.breakpoint>u.breakpoint?1:u.breakpoint>c.breakpoint?-1:0}).reverse();var o=new Ml({}),a=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=n[0].breakpoint,h=window.innerWidth>0?window.innerWidth:screen.width;if(h>u){var d=O.clone(s.globals.initialConfig);d.series=O.clone(s.config.series);var g=at.extendArrayProps(o,d,s);c=O.extend(g,c),c=O.extend(s.config,c),i.overrideResponsiveOptions(c)}else for(var p=0;p<n.length;p++)h<n[p].breakpoint&&(c=at.extendArrayProps(o,n[p].options,s),c=O.extend(s.config,c),i.overrideResponsiveOptions(c))};if(e){var l=at.extendArrayProps(o,e,s);l=O.extend(s.config,l),a(l=O.extend(l,e))}else a({})}}},{key:"overrideResponsiveOptions",value:function(e){var i=new Ml(e).init({responsiveOverride:!0});this.w.config=i}}]),t}(),qX=function(){function t(e){J(this,t),this.ctx=e,this.w=e.w,this.colors=[],this.isColorFn=!1,this.isHeatmapDistributed=this.checkHeatmapDistributed(),this.isBarDistributed=this.checkBarDistributed()}return ee(t,[{key:"checkHeatmapDistributed",value:function(){var e=this.w.config,i=e.chart,s=e.plotOptions;return i.type==="treemap"&&s.treemap&&s.treemap.distributed||i.type==="heatmap"&&s.heatmap&&s.heatmap.distributed}},{key:"checkBarDistributed",value:function(){var e=this.w.config,i=e.chart,s=e.plotOptions;return s.bar&&s.bar.distributed&&(i.type==="bar"||i.type==="rangeBar")}},{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var e=this.w,i=new O;e.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(e.config.theme.mode));var s=pt(e.config.colors||e.config.fill.colors||[]);e.globals.colors=this.getColors(s),this.applySeriesColors(e.globals.seriesColors,e.globals.colors),e.config.theme.monochrome.enabled&&(e.globals.colors=this.getMonochromeColors(e.config.theme.monochrome,e.globals.series,i));var r=e.globals.colors.slice();this.pushExtraColors(e.globals.colors),this.applyColorTypes(["fill","stroke"],r),this.applyDataLabelsColors(r),this.applyRadarPolygonsColors(),this.applyMarkersColors(r)}},{key:"getColors",value:function(e){var i=this,s=this.w;return e&&e.length!==0?Array.isArray(e)&&e.length>0&&typeof e[0]=="function"?(this.isColorFn=!0,s.config.series.map(function(r,n){var o=e[n]||e[0];return typeof o=="function"?o({value:s.globals.axisCharts?s.globals.series[n][0]||0:s.globals.series[n],seriesIndex:n,dataPointIndex:n,w:i.w}):o})):e:this.predefined()}},{key:"applySeriesColors",value:function(e,i){e.forEach(function(s,r){s&&(i[r]=s)})}},{key:"getMonochromeColors",value:function(e,i,s){var r=e.color,n=e.shadeIntensity,o=e.shadeTo,a=this.isBarDistributed||this.isHeatmapDistributed?i[0].length*i.length:i.length,l=1/(a/n),c=0;return Array.from({length:a},function(){var u=o==="dark"?s.shadeColor(-1*c,r):s.shadeColor(c,r);return c+=l,u})}},{key:"applyColorTypes",value:function(e,i){var s=this,r=this.w;e.forEach(function(n){r.globals[n].colors=r.config[n].colors===void 0?s.isColorFn?r.config.colors:i:r.config[n].colors.slice(),s.pushExtraColors(r.globals[n].colors)})}},{key:"applyDataLabelsColors",value:function(e){var i=this.w;i.globals.dataLabels.style.colors=i.config.dataLabels.style.colors===void 0?e:i.config.dataLabels.style.colors.slice(),this.pushExtraColors(i.globals.dataLabels.style.colors,50)}},{key:"applyRadarPolygonsColors",value:function(){var e=this.w;e.globals.radarPolygons.fill.colors=e.config.plotOptions.radar.polygons.fill.colors===void 0?[e.config.theme.mode==="dark"?"#424242":"none"]:e.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(e.globals.radarPolygons.fill.colors,20)}},{key:"applyMarkersColors",value:function(e){var i=this.w;i.globals.markers.colors=i.config.markers.colors===void 0?e:i.config.markers.colors.slice(),this.pushExtraColors(i.globals.markers.colors)}},{key:"pushExtraColors",value:function(e,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=this.w,n=i||r.globals.series.length;if(s===null&&(s=this.isBarDistributed||this.isHeatmapDistributed||r.config.chart.type==="heatmap"&&r.config.plotOptions.heatmap&&r.config.plotOptions.heatmap.colorScale.inverse),s&&r.globals.series.length&&(n=r.globals.series[r.globals.maxValsInArrayIndex].length*r.globals.series.length),e.length<n)for(var o=n-e.length,a=0;a<o;a++)e.push(e[a])}},{key:"updateThemeOptions",value:function(e){e.chart=e.chart||{},e.tooltip=e.tooltip||{};var i=e.theme.mode,s=i==="dark"?"palette4":i==="light"?"palette1":e.theme.palette||"palette1",r=i==="dark"?"#f6f7f8":i==="light"?"#373d3f":e.chart.foreColor||"#373d3f";return e.tooltip.theme=i||"light",e.chart.foreColor=r,e.theme.palette=s,e}},{key:"predefined",value:function(){var e={palette1:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"],palette2:["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"],palette3:["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"],palette4:["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"],palette5:["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"],palette6:["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"],palette7:["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"],palette8:["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"],palette9:["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"],palette10:["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"],default:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"]};return e[this.w.config.theme.palette]||e.default}}]),t}(),QX=function(){function t(e){J(this,t),this.ctx=e,this.w=e.w}return ee(t,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(e){var i=this.w,s=e==="title"?i.config.title:i.config.subtitle,r=i.globals.svgWidth/2,n=s.offsetY,o="middle";if(s.align==="left"?(r=10,o="start"):s.align==="right"&&(r=i.globals.svgWidth-10,o="end"),r+=s.offsetX,n=n+parseInt(s.style.fontSize,10)+s.margin/2,s.text!==void 0){var a=new Y(this.ctx).drawText({x:r,y:n,text:s.text,textAnchor:o,fontSize:s.style.fontSize,fontFamily:s.style.fontFamily,fontWeight:s.style.fontWeight,foreColor:s.style.color,opacity:1});a.node.setAttribute("class","apexcharts-".concat(e,"-text")),i.globals.dom.Paper.add(a)}}}]),t}(),ZX=function(){function t(e){J(this,t),this.w=e.w,this.dCtx=e}return ee(t,[{key:"getTitleSubtitleCoords",value:function(e){var i=this.w,s=0,r=0,n=e==="title"?i.config.title.floating:i.config.subtitle.floating,o=i.globals.dom.baseEl.querySelector(".apexcharts-".concat(e,"-text"));if(o!==null&&!n){var a=o.getBoundingClientRect();s=a.width,r=i.globals.axisCharts?a.height+5:a.height}return{width:s,height:r}}},{key:"getLegendsRect",value:function(){var e=this.w,i=e.globals.dom.elLegendWrap;e.config.legend.height||e.config.legend.position!=="top"&&e.config.legend.position!=="bottom"||(i.style.maxHeight=e.globals.svgHeight/2+"px");var s=Object.assign({},O.getBoundingClientRect(i));return i!==null&&!e.config.legend.floating&&e.config.legend.show?this.dCtx.lgRect={x:s.x,y:s.y,height:s.height,width:s.height===0?0:s.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},e.config.legend.position!=="left"&&e.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>e.globals.svgWidth&&(this.dCtx.lgRect.width=e.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getDatalabelsRect",value:function(){var e=this,i=this.w,s=[];i.config.series.forEach(function(l,c){l.data.forEach(function(u,h){var d;d=i.globals.series[c][h],r=i.config.dataLabels.formatter(d,{ctx:e.dCtx.ctx,seriesIndex:c,dataPointIndex:h,w:i}),s.push(r)})});var r=O.getLargestStringFromArr(s),n=new Y(this.dCtx.ctx),o=i.config.dataLabels.style,a=n.getTextRects(r,parseInt(o.fontSize),o.fontFamily);return{width:1.05*a.width,height:a.height}}},{key:"getLargestStringFromMultiArr",value:function(e,i){var s=e;if(this.w.globals.isMultiLineX){var r=i.map(function(o,a){return Array.isArray(o)?o.length:1}),n=Math.max.apply(Math,pt(r));s=i[r.indexOf(n)]}return s}}]),t}(),JX=function(){function t(e){J(this,t),this.w=e.w,this.dCtx=e}return ee(t,[{key:"getxAxisLabelsCoords",value:function(){var e,i=this.w,s=i.globals.labels.slice();if(i.config.xaxis.convertedCatToNumeric&&s.length===0&&(s=i.globals.categoryLabels),i.globals.timescaleLabels.length>0){var r=this.getxAxisTimeScaleLabelsCoords();e={width:r.width,height:r.height},i.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=i.config.legend.position!=="left"&&i.config.legend.position!=="right"||i.config.legend.floating?0:this.dCtx.lgRect.width;var n=i.globals.xLabelFormatter,o=O.getLargestStringFromArr(s),a=this.dCtx.dimHelpers.getLargestStringFromMultiArr(o,s);i.globals.isBarHorizontal&&(a=o=i.globals.yAxisScale[0].result.reduce(function(p,f){return p.length>f.length?p:f},0));var l=new ec(this.dCtx.ctx),c=o;o=l.xLabelFormat(n,o,c,{i:void 0,dateFormatter:new bt(this.dCtx.ctx).formatDate,w:i}),a=l.xLabelFormat(n,a,c,{i:void 0,dateFormatter:new bt(this.dCtx.ctx).formatDate,w:i}),(i.config.xaxis.convertedCatToNumeric&&o===void 0||String(o).trim()==="")&&(a=o="1");var u=new Y(this.dCtx.ctx),h=u.getTextRects(o,i.config.xaxis.labels.style.fontSize),d=h;if(o!==a&&(d=u.getTextRects(a,i.config.xaxis.labels.style.fontSize)),(e={width:h.width>=d.width?h.width:d.width,height:h.height>=d.height?h.height:d.height}).width*s.length>i.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&i.config.xaxis.labels.rotate!==0||i.config.xaxis.labels.rotateAlways){if(!i.globals.isBarHorizontal){i.globals.rotateXLabels=!0;var g=function(p){return u.getTextRects(p,i.config.xaxis.labels.style.fontSize,i.config.xaxis.labels.style.fontFamily,"rotate(".concat(i.config.xaxis.labels.rotate," 0 0)"),!1)};h=g(o),o!==a&&(d=g(a)),e.height=(h.height>d.height?h.height:d.height)/1.5,e.width=h.width>d.width?h.width:d.width}}else i.globals.rotateXLabels=!1}return i.config.xaxis.labels.show||(e={width:0,height:0}),{width:e.width,height:e.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var e,i=this.w;if(!i.globals.hasXaxisGroups)return{width:0,height:0};var s,r=((e=i.config.xaxis.group.style)===null||e===void 0?void 0:e.fontSize)||i.config.xaxis.labels.style.fontSize,n=i.globals.groups.map(function(h){return h.title}),o=O.getLargestStringFromArr(n),a=this.dCtx.dimHelpers.getLargestStringFromMultiArr(o,n),l=new Y(this.dCtx.ctx),c=l.getTextRects(o,r),u=c;return o!==a&&(u=l.getTextRects(a,r)),s={width:c.width>=u.width?c.width:u.width,height:c.height>=u.height?c.height:u.height},i.config.xaxis.labels.show||(s={width:0,height:0}),{width:s.width,height:s.height}}},{key:"getxAxisTitleCoords",value:function(){var e=this.w,i=0,s=0;if(e.config.xaxis.title.text!==void 0){var r=new Y(this.dCtx.ctx).getTextRects(e.config.xaxis.title.text,e.config.xaxis.title.style.fontSize);i=r.width,s=r.height}return{width:i,height:s}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var e,i=this.w;this.dCtx.timescaleLabels=i.globals.timescaleLabels.slice();var s=this.dCtx.timescaleLabels.map(function(n){return n.value}),r=s.reduce(function(n,o){return n===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):n.length>o.length?n:o},0);return 1.05*(e=new Y(this.dCtx.ctx).getTextRects(r,i.config.xaxis.labels.style.fontSize)).width*s.length>i.globals.gridWidth&&i.config.xaxis.labels.rotate!==0&&(i.globals.overlappingXLabels=!0),e}},{key:"additionalPaddingXLabels",value:function(e){var i=this,s=this.w,r=s.globals,n=s.config,o=n.xaxis.type,a=e.width;r.skipLastTimelinelabel=!1,r.skipFirstTimelinelabel=!1;var l=s.config.yaxis[0].opposite&&s.globals.isBarHorizontal,c=function(u,h){n.yaxis.length>1&&function(d){return r.collapsedSeriesIndices.indexOf(d)!==-1}(h)||function(d){if(i.dCtx.timescaleLabels&&i.dCtx.timescaleLabels.length){var g=i.dCtx.timescaleLabels[0],p=i.dCtx.timescaleLabels[i.dCtx.timescaleLabels.length-1].position+a/1.75-i.dCtx.yAxisWidthRight,f=g.position-a/1.75+i.dCtx.yAxisWidthLeft,C=s.config.legend.position==="right"&&i.dCtx.lgRect.width>0?i.dCtx.lgRect.width:0;p>r.svgWidth-r.translateX-C&&(r.skipLastTimelinelabel=!0),f<-(d.show&&!d.floating||n.chart.type!=="bar"&&n.chart.type!=="candlestick"&&n.chart.type!=="rangeBar"&&n.chart.type!=="boxPlot"?10:a/1.75)&&(r.skipFirstTimelinelabel=!0)}else o==="datetime"?i.dCtx.gridPad.right<a&&!r.rotateXLabels&&(r.skipLastTimelinelabel=!0):o!=="datetime"&&i.dCtx.gridPad.right<a/2-i.dCtx.yAxisWidthRight&&!r.rotateXLabels&&!s.config.xaxis.labels.trim&&(i.dCtx.xPadRight=a/2+1)}(u)};n.yaxis.forEach(function(u,h){l?(i.dCtx.gridPad.left<a&&(i.dCtx.xPadLeft=a/2+1),i.dCtx.xPadRight=a/2+1):c(u,h)})}}]),t}(),ej=function(){function t(e){J(this,t),this.w=e.w,this.dCtx=e}return ee(t,[{key:"getyAxisLabelsCoords",value:function(){var e=this,i=this.w,s=[],r=10,n=new kr(this.dCtx.ctx);return i.config.yaxis.map(function(o,a){var l={seriesIndex:a,dataPointIndex:-1,w:i},c=i.globals.yAxisScale[a],u=0;if(!n.isYAxisHidden(a)&&o.labels.show&&o.labels.minWidth!==void 0&&(u=o.labels.minWidth),!n.isYAxisHidden(a)&&o.labels.show&&c.result.length){var h=i.globals.yLabelFormatters[a],d=c.niceMin===Number.MIN_VALUE?0:c.niceMin,g=c.result.reduce(function(w,x){var S,b;return((S=String(h(w,l)))===null||S===void 0?void 0:S.length)>((b=String(h(x,l)))===null||b===void 0?void 0:b.length)?w:x},d),p=g=h(g,l);if(g!==void 0&&g.length!==0||(g=c.niceMax),i.globals.isBarHorizontal){r=0;var f=i.globals.labels.slice();g=O.getLargestStringFromArr(f),g=h(g,{seriesIndex:a,dataPointIndex:-1,w:i}),p=e.dCtx.dimHelpers.getLargestStringFromMultiArr(g,f)}var C=new Y(e.dCtx.ctx),m="rotate(".concat(o.labels.rotate," 0 0)"),v=C.getTextRects(g,o.labels.style.fontSize,o.labels.style.fontFamily,m,!1),y=v;g!==p&&(y=C.getTextRects(p,o.labels.style.fontSize,o.labels.style.fontFamily,m,!1)),s.push({width:(u>y.width||u>v.width?u:y.width>v.width?y.width:v.width)+r,height:y.height>v.height?y.height:v.height})}else s.push({width:0,height:0})}),s}},{key:"getyAxisTitleCoords",value:function(){var e=this,i=this.w,s=[];return i.config.yaxis.map(function(r,n){if(r.show&&r.title.text!==void 0){var o=new Y(e.dCtx.ctx),a="rotate(".concat(r.title.rotate," 0 0)"),l=o.getTextRects(r.title.text,r.title.style.fontSize,r.title.style.fontFamily,a,!1);s.push({width:l.width,height:l.height})}else s.push({width:0,height:0})}),s}},{key:"getTotalYAxisWidth",value:function(){var e=this.w,i=0,s=0,r=0,n=e.globals.yAxisScale.length>1?10:0,o=new kr(this.dCtx.ctx),a=function(l,c){var u=e.config.yaxis[c].floating,h=0;l.width>0&&!u?(h=l.width+n,function(d){return e.globals.ignoreYAxisIndexes.indexOf(d)>-1}(c)&&(h=h-l.width-n)):h=u||o.isYAxisHidden(c)?0:5,e.config.yaxis[c].opposite?r+=h:s+=h,i+=h};return e.globals.yLabelsCoords.map(function(l,c){a(l,c)}),e.globals.yTitleCoords.map(function(l,c){a(l,c)}),e.globals.isBarHorizontal&&!e.config.yaxis[0].floating&&(i=e.globals.yLabelsCoords[0].width+e.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=s,this.dCtx.yAxisWidthRight=r,i}}]),t}(),tj=function(){function t(e){J(this,t),this.w=e.w,this.dCtx=e}return ee(t,[{key:"gridPadForColumnsInNumericAxis",value:function(e){var i=this.w,s=i.config,r=i.globals;if(r.noData||r.collapsedSeries.length+r.ancillaryCollapsedSeries.length===s.series.length)return 0;var n=function(g){return["bar","rangeBar","candlestick","boxPlot"].includes(g)},o=s.chart.type,a=0,l=n(o)?s.series.length:1;r.comboBarCount>0&&(l=r.comboBarCount),r.collapsedSeries.forEach(function(g){n(g.type)&&(l-=1)}),s.chart.stacked&&(l=1);var c=n(o)||r.comboBarCount>0,u=Math.abs(r.initialMaxX-r.initialMinX);if(c&&r.isXNumeric&&!r.isBarHorizontal&&l>0&&u!==0){u<=3&&(u=r.dataPoints);var h=u/e,d=r.minXDiff&&r.minXDiff/h>0?r.minXDiff/h:0;d>e/2&&(d/=2),(a=d*parseInt(s.plotOptions.bar.columnWidth,10)/100)<1&&(a=1),r.barPadForNumericAxis=a}return a}},{key:"gridPadFortitleSubtitle",value:function(){var e=this,i=this.w,s=i.globals,r=this.dCtx.isSparkline||!s.axisCharts?0:10;["title","subtitle"].forEach(function(a){i.config[a].text!==void 0?r+=i.config[a].margin:r+=e.dCtx.isSparkline||!s.axisCharts?0:5}),!i.config.legend.show||i.config.legend.position!=="bottom"||i.config.legend.floating||s.axisCharts||(r+=10);var n=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),o=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");s.gridHeight-=n.height+o.height+r,s.translateY+=n.height+o.height+r}},{key:"setGridXPosForDualYAxis",value:function(e,i){var s=this.w,r=new kr(this.dCtx.ctx);s.config.yaxis.forEach(function(n,o){s.globals.ignoreYAxisIndexes.indexOf(o)!==-1||n.floating||r.isYAxisHidden(o)||(n.opposite&&(s.globals.translateX-=i[o].width+e[o].width+parseInt(n.labels.style.fontSize,10)/1.2+12),s.globals.translateX<2&&(s.globals.translateX=2))})}}]),t}(),mh=function(){function t(e){J(this,t),this.ctx=e,this.w=e.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new ZX(this),this.dimYAxis=new ej(this),this.dimXAxis=new JX(this),this.dimGrid=new tj(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return ee(t,[{key:"plotCoords",value:function(){var e=this,i=this.w,s=i.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.datalabelsCoords={width:0,height:0};var r=Array.isArray(i.config.stroke.width)?Math.max.apply(Math,pt(i.config.stroke.width)):i.config.stroke.width;this.isSparkline&&((i.config.markers.discrete.length>0||i.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(o){var a=tP(o,2),l=a[0],c=a[1];e.gridPad[l]=Math.max(c,e.w.globals.markers.largestSize/1.5)}),this.gridPad.top=Math.max(r/2,this.gridPad.top),this.gridPad.bottom=Math.max(r/2,this.gridPad.bottom)),s.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),s.gridHeight=s.gridHeight-this.gridPad.top-this.gridPad.bottom,s.gridWidth=s.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var n=this.dimGrid.gridPadForColumnsInNumericAxis(s.gridWidth);s.gridWidth=s.gridWidth-2*n,s.translateX=s.translateX+this.gridPad.left+this.xPadLeft+(n>0?n:0),s.translateY=s.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var e=this,i=this.w,s=i.globals,r=this.dimYAxis.getyAxisLabelsCoords(),n=this.dimYAxis.getyAxisTitleCoords();s.isSlopeChart&&(this.datalabelsCoords=this.dimHelpers.getDatalabelsRect()),i.globals.yLabelsCoords=[],i.globals.yTitleCoords=[],i.config.yaxis.map(function(g,p){i.globals.yLabelsCoords.push({width:r[p].width,index:p}),i.globals.yTitleCoords.push({width:n[p].width,index:p})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var o=this.dimXAxis.getxAxisLabelsCoords(),a=this.dimXAxis.getxAxisGroupLabelsCoords(),l=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(o,l,a),s.translateXAxisY=i.globals.rotateXLabels?this.xAxisHeight/8:-4,s.translateXAxisX=i.globals.rotateXLabels&&i.globals.isXNumeric&&i.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,i.globals.isBarHorizontal&&(s.rotateXLabels=!1,s.translateXAxisY=parseInt(i.config.xaxis.labels.style.fontSize,10)/1.5*-1),s.translateXAxisY=s.translateXAxisY+i.config.xaxis.labels.offsetY,s.translateXAxisX=s.translateXAxisX+i.config.xaxis.labels.offsetX;var c=this.yAxisWidth,u=this.xAxisHeight;s.xAxisLabelsHeight=this.xAxisHeight-l.height,s.xAxisGroupLabelsHeight=s.xAxisLabelsHeight-o.height,s.xAxisLabelsWidth=this.xAxisWidth,s.xAxisHeight=this.xAxisHeight;var h=10;(i.config.chart.type==="radar"||this.isSparkline)&&(c=0,u=0),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||i.config.chart.type==="treemap")&&(c=0,u=0,h=0),this.isSparkline||i.config.chart.type==="treemap"||this.dimXAxis.additionalPaddingXLabels(o);var d=function(){s.translateX=c+e.datalabelsCoords.width,s.gridHeight=s.svgHeight-e.lgRect.height-u-(e.isSparkline||i.config.chart.type==="treemap"?0:i.globals.rotateXLabels?10:15),s.gridWidth=s.svgWidth-c-2*e.datalabelsCoords.width};switch(i.config.xaxis.position==="top"&&(h=s.xAxisHeight-i.config.xaxis.axisTicks.height-5),i.config.legend.position){case"bottom":s.translateY=h,d();break;case"top":s.translateY=this.lgRect.height+h,d();break;case"left":s.translateY=h,s.translateX=this.lgRect.width+c+this.datalabelsCoords.width,s.gridHeight=s.svgHeight-u-12,s.gridWidth=s.svgWidth-this.lgRect.width-c-2*this.datalabelsCoords.width;break;case"right":s.translateY=h,s.translateX=c+this.datalabelsCoords.width,s.gridHeight=s.svgHeight-u-12,s.gridWidth=s.svgWidth-this.lgRect.width-c-2*this.datalabelsCoords.width-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(n,r),new FC(this.ctx).setYAxisXPosition(r,n)}},{key:"setDimensionsForNonAxisCharts",value:function(){var e=this.w,i=e.globals,s=e.config,r=0;e.config.legend.show&&!e.config.legend.floating&&(r=20);var n=s.chart.type==="pie"||s.chart.type==="polarArea"||s.chart.type==="donut"?"pie":"radialBar",o=s.plotOptions[n].offsetY,a=s.plotOptions[n].offsetX;if(!s.legend.show||s.legend.floating){i.gridHeight=i.svgHeight;var l=i.dom.elWrap.getBoundingClientRect().width;return i.gridWidth=Math.min(l,i.gridHeight),i.translateY=o,void(i.translateX=a+(i.svgWidth-i.gridWidth)/2)}switch(s.legend.position){case"bottom":i.gridHeight=i.svgHeight-this.lgRect.height,i.gridWidth=i.svgWidth,i.translateY=o-10,i.translateX=a+(i.svgWidth-i.gridWidth)/2;break;case"top":i.gridHeight=i.svgHeight-this.lgRect.height,i.gridWidth=i.svgWidth,i.translateY=this.lgRect.height+o+10,i.translateX=a+(i.svgWidth-i.gridWidth)/2;break;case"left":i.gridWidth=i.svgWidth-this.lgRect.width-r,i.gridHeight=s.chart.height!=="auto"?i.svgHeight:i.gridWidth,i.translateY=o,i.translateX=a+this.lgRect.width+r;break;case"right":i.gridWidth=i.svgWidth-this.lgRect.width-r-5,i.gridHeight=s.chart.height!=="auto"?i.svgHeight:i.gridWidth,i.translateY=o,i.translateX=a+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(e,i,s){var r=this.w,n=r.globals.hasXaxisGroups?2:1,o=s.height+e.height+i.height,a=r.globals.isMultiLineX?1.2:r.globals.LINE_HEIGHT_RATIO,l=r.globals.rotateXLabels?22:10,c=r.globals.rotateXLabels&&r.config.legend.position==="bottom"?10:0;this.xAxisHeight=o*a+n*l+c,this.xAxisWidth=e.width,this.xAxisHeight-i.height>r.config.xaxis.labels.maxHeight&&(this.xAxisHeight=r.config.xaxis.labels.maxHeight),r.config.xaxis.labels.minHeight&&this.xAxisHeight<r.config.xaxis.labels.minHeight&&(this.xAxisHeight=r.config.xaxis.labels.minHeight),r.config.xaxis.floating&&(this.xAxisHeight=0);var u=0,h=0;r.config.yaxis.forEach(function(d){u+=d.labels.minWidth,h+=d.labels.maxWidth}),this.yAxisWidth<u&&(this.yAxisWidth=u),this.yAxisWidth>h&&(this.yAxisWidth=h)}}]),t}(),ij=function(){function t(e){J(this,t),this.w=e.w,this.lgCtx=e}return ee(t,[{key:"getLegendStyles",value:function(){var e,i,s,r=document.createElement("style");r.setAttribute("type","text/css");var n=((e=this.lgCtx.ctx)===null||e===void 0||(i=e.opts)===null||i===void 0||(s=i.chart)===null||s===void 0?void 0:s.nonce)||this.w.config.chart.nonce;n&&r.setAttribute("nonce",n);var o=document.createTextNode(`
      .apexcharts-flip-y {
        transform: scaleY(-1) translateY(-100%);
        transform-origin: top;
        transform-box: fill-box;
      }
      .apexcharts-flip-x {
        transform: scaleX(-1);
        transform-origin: center;
        transform-box: fill-box;
      }
      .apexcharts-legend {
        display: flex;
        overflow: auto;
        padding: 0 10px;
      }
      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {
        flex-wrap: wrap
      }
      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
        flex-direction: column;
        bottom: 0;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
        justify-content: flex-start;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {
        justify-content: center;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {
        justify-content: flex-end;
      }
      .apexcharts-legend-series {
        cursor: pointer;
        line-height: normal;
        display: flex;
        align-items: center;
      }
      .apexcharts-legend-text {
        position: relative;
        font-size: 14px;
      }
      .apexcharts-legend-text *, .apexcharts-legend-marker * {
        pointer-events: none;
      }
      .apexcharts-legend-marker {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        margin-right: 1px;
      }

      .apexcharts-legend-series.apexcharts-no-click {
        cursor: auto;
      }
      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {
        display: none !important;
      }
      .apexcharts-inactive-legend {
        opacity: 0.45;
      }

    `);return r.appendChild(o),r}},{key:"getLegendDimensions",value:function(){var e=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),i=e.width;return{clwh:e.height,clww:i}}},{key:"appendToForeignObject",value:function(){this.w.globals.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(e,i){var s=this,r=this.w;if(r.globals.axisCharts||r.config.chart.type==="radialBar"){r.globals.resized=!0;var n=null,o=null;r.globals.risingSeries=[],r.globals.axisCharts?(n=r.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"']")),o=parseInt(n.getAttribute("data:realIndex"),10)):(n=r.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(e+1,"']")),o=parseInt(n.getAttribute("rel"),10)-1),i?[{cs:r.globals.collapsedSeries,csi:r.globals.collapsedSeriesIndices},{cs:r.globals.ancillaryCollapsedSeries,csi:r.globals.ancillaryCollapsedSeriesIndices}].forEach(function(u){s.riseCollapsedSeries(u.cs,u.csi,o)}):this.hideSeries({seriesEl:n,realIndex:o})}else{var a=r.globals.dom.Paper.findOne(" .apexcharts-series[rel='".concat(e+1,"'] path")),l=r.config.chart.type;if(l==="pie"||l==="polarArea"||l==="donut"){var c=r.config.plotOptions.pie.donut.labels;new Y(this.lgCtx.ctx).pathMouseDown(a,null),this.lgCtx.ctx.pie.printDataLabelsInner(a.node,c)}a.fire("click")}}},{key:"getSeriesAfterCollapsing",value:function(e){var i=e.realIndex,s=this.w,r=s.globals,n=O.clone(s.config.series);if(r.axisCharts){var o=s.config.yaxis[r.seriesYAxisReverseMap[i]],a={index:i,data:n[i].data.slice(),type:n[i].type||s.config.chart.type};if(o&&o.show&&o.showAlways)r.ancillaryCollapsedSeriesIndices.indexOf(i)<0&&(r.ancillaryCollapsedSeries.push(a),r.ancillaryCollapsedSeriesIndices.push(i));else if(r.collapsedSeriesIndices.indexOf(i)<0){r.collapsedSeries.push(a),r.collapsedSeriesIndices.push(i);var l=r.risingSeries.indexOf(i);r.risingSeries.splice(l,1)}}else r.collapsedSeries.push({index:i,data:n[i]}),r.collapsedSeriesIndices.push(i);return r.allSeriesCollapsed=r.collapsedSeries.length+r.ancillaryCollapsedSeries.length===s.config.series.length,this._getSeriesBasedOnCollapsedState(n)}},{key:"hideSeries",value:function(e){for(var i=e.seriesEl,s=e.realIndex,r=this.w,n=this.getSeriesAfterCollapsing({realIndex:s}),o=i.childNodes,a=0;a<o.length;a++)o[a].classList.contains("apexcharts-series-markers-wrap")&&(o[a].classList.contains("apexcharts-hide")?o[a].classList.remove("apexcharts-hide"):o[a].classList.add("apexcharts-hide"));this.lgCtx.ctx.updateHelpers._updateSeries(n,r.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(e,i,s){var r=this.w,n=O.clone(r.config.series);if(e.length>0){for(var o=0;o<e.length;o++)e[o].index===s&&(r.globals.axisCharts?n[s].data=e[o].data.slice():n[s]=e[o].data,typeof n[s]!="number"&&(n[s].hidden=!1),e.splice(o,1),i.splice(o,1),r.globals.risingSeries.push(s));n=this._getSeriesBasedOnCollapsedState(n),this.lgCtx.ctx.updateHelpers._updateSeries(n,r.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(e){var i=this.w,s=0;return i.globals.axisCharts?e.forEach(function(r,n){i.globals.collapsedSeriesIndices.indexOf(n)<0&&i.globals.ancillaryCollapsedSeriesIndices.indexOf(n)<0||(e[n].data=[],s++)}):e.forEach(function(r,n){!i.globals.collapsedSeriesIndices.indexOf(n)<0&&(e[n]=0,s++)}),i.globals.allSeriesCollapsed=s===e.length,e}}]),t}(),IP=function(){function t(e){J(this,t),this.ctx=e,this.w=e.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new ij(this)}return ee(t,[{key:"init",value:function(){var e=this.w,i=e.globals,s=e.config,r=s.legend.showForSingleSeries&&i.series.length===1||this.isBarsDistributed||i.series.length>1;if(this.legendHelpers.appendToForeignObject(),(r||!i.axisCharts)&&s.legend.show){for(;i.dom.elLegendWrap.firstChild;)i.dom.elLegendWrap.removeChild(i.dom.elLegendWrap.firstChild);this.drawLegends(),s.legend.position==="bottom"||s.legend.position==="top"?this.legendAlignHorizontal():s.legend.position!=="right"&&s.legend.position!=="left"||this.legendAlignVertical()}}},{key:"createLegendMarker",value:function(e){var i=e.i,s=e.fillcolor,r=this.w,n=document.createElement("span");n.classList.add("apexcharts-legend-marker");var o=r.config.legend.markers.shape||r.config.markers.shape,a=o;Array.isArray(o)&&(a=o[i]);var l=Array.isArray(r.config.legend.markers.size)?parseFloat(r.config.legend.markers.size[i]):parseFloat(r.config.legend.markers.size),c=Array.isArray(r.config.legend.markers.offsetX)?parseFloat(r.config.legend.markers.offsetX[i]):parseFloat(r.config.legend.markers.offsetX),u=Array.isArray(r.config.legend.markers.offsetY)?parseFloat(r.config.legend.markers.offsetY[i]):parseFloat(r.config.legend.markers.offsetY),h=Array.isArray(r.config.legend.markers.strokeWidth)?parseFloat(r.config.legend.markers.strokeWidth[i]):parseFloat(r.config.legend.markers.strokeWidth),d=n.style;if(d.height=2*(l+h)+"px",d.width=2*(l+h)+"px",d.left=c+"px",d.top=u+"px",r.config.legend.markers.customHTML)d.background="transparent",d.color=s[i],Array.isArray(r.config.legend.markers.customHTML)?r.config.legend.markers.customHTML[i]&&(n.innerHTML=r.config.legend.markers.customHTML[i]()):n.innerHTML=r.config.legend.markers.customHTML();else{var g=new ra(this.ctx).getMarkerConfig({cssClass:"apexcharts-legend-marker apexcharts-marker apexcharts-marker-".concat(a),seriesIndex:i,strokeWidth:h,size:l}),p=window.SVG().addTo(n).size("100%","100%"),f=new Y(this.ctx).drawMarker(0,0,Q(Q({},g),{},{pointFillColor:Array.isArray(s)?s[i]:g.pointFillColor,shape:a}));r.globals.dom.Paper.find(".apexcharts-legend-marker.apexcharts-marker").forEach(function(C){C.node.classList.contains("apexcharts-marker-triangle")?C.node.style.transform="translate(50%, 45%)":C.node.style.transform="translate(50%, 50%)"}),p.add(f)}return n}},{key:"drawLegends",value:function(){var e=this,i=this.w,s=i.config.legend.fontFamily,r=i.globals.seriesNames,n=i.config.legend.markers.fillColors?i.config.legend.markers.fillColors.slice():i.globals.colors.slice();if(i.config.chart.type==="heatmap"){var o=i.config.plotOptions.heatmap.colorScale.ranges;r=o.map(function(x){return x.name?x.name:x.from+" - "+x.to}),n=o.map(function(x){return x.color})}else this.isBarsDistributed&&(r=i.globals.labels.slice());i.config.legend.customLegendItems.length&&(r=i.config.legend.customLegendItems);for(var a=i.globals.legendFormatter,l=i.config.legend.inverseOrder,c=l?r.length-1:0;l?c>=0:c<=r.length-1;l?c--:c++){var u,h=a(r[c],{seriesIndex:c,w:i}),d=!1,g=!1;if(i.globals.collapsedSeries.length>0)for(var p=0;p<i.globals.collapsedSeries.length;p++)i.globals.collapsedSeries[p].index===c&&(d=!0);if(i.globals.ancillaryCollapsedSeriesIndices.length>0)for(var f=0;f<i.globals.ancillaryCollapsedSeriesIndices.length;f++)i.globals.ancillaryCollapsedSeriesIndices[f]===c&&(g=!0);var C=this.createLegendMarker({i:c,fillcolor:n});Y.setAttrs(C,{rel:c+1,"data:collapsed":d||g}),(d||g)&&C.classList.add("apexcharts-inactive-legend");var m=document.createElement("div"),v=document.createElement("span");v.classList.add("apexcharts-legend-text"),v.innerHTML=Array.isArray(h)?h.join(" "):h;var y=i.config.legend.labels.useSeriesColors?i.globals.colors[c]:Array.isArray(i.config.legend.labels.colors)?(u=i.config.legend.labels.colors)===null||u===void 0?void 0:u[c]:i.config.legend.labels.colors;y||(y=i.config.chart.foreColor),v.style.color=y,v.style.fontSize=parseFloat(i.config.legend.fontSize)+"px",v.style.fontWeight=i.config.legend.fontWeight,v.style.fontFamily=s||i.config.chart.fontFamily,Y.setAttrs(v,{rel:c+1,i:c,"data:default-text":encodeURIComponent(h),"data:collapsed":d||g}),m.appendChild(C),m.appendChild(v);var w=new at(this.ctx);i.config.legend.showForZeroSeries||w.getSeriesTotalByIndex(c)===0&&w.seriesHaveSameValues(c)&&!w.isSeriesNull(c)&&i.globals.collapsedSeriesIndices.indexOf(c)===-1&&i.globals.ancillaryCollapsedSeriesIndices.indexOf(c)===-1&&m.classList.add("apexcharts-hidden-zero-series"),i.config.legend.showForNullSeries||w.isSeriesNull(c)&&i.globals.collapsedSeriesIndices.indexOf(c)===-1&&i.globals.ancillaryCollapsedSeriesIndices.indexOf(c)===-1&&m.classList.add("apexcharts-hidden-null-series"),i.globals.dom.elLegendWrap.appendChild(m),i.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(i.config.legend.horizontalAlign)),i.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+i.config.legend.position),m.classList.add("apexcharts-legend-series"),m.style.margin="".concat(i.config.legend.itemMargin.vertical,"px ").concat(i.config.legend.itemMargin.horizontal,"px"),i.globals.dom.elLegendWrap.style.width=i.config.legend.width?i.config.legend.width+"px":"",i.globals.dom.elLegendWrap.style.height=i.config.legend.height?i.config.legend.height+"px":"",Y.setAttrs(m,{rel:c+1,seriesName:O.escapeString(r[c]),"data:collapsed":d||g}),(d||g)&&m.classList.add("apexcharts-inactive-legend"),i.config.legend.onItemClick.toggleDataSeries||m.classList.add("apexcharts-no-click")}i.globals.dom.elWrap.addEventListener("click",e.onLegendClick,!0),i.config.legend.onItemHover.highlightDataSeries&&i.config.legend.customLegendItems.length===0&&(i.globals.dom.elWrap.addEventListener("mousemove",e.onLegendHovered,!0),i.globals.dom.elWrap.addEventListener("mouseout",e.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(e,i){var s=this.w,r=s.globals.dom.elLegendWrap,n=r.clientHeight,o=0,a=0;if(s.config.legend.position==="bottom")a=s.globals.svgHeight-Math.min(n,s.globals.svgHeight/2)-5;else if(s.config.legend.position==="top"){var l=new mh(this.ctx),c=l.dimHelpers.getTitleSubtitleCoords("title").height,u=l.dimHelpers.getTitleSubtitleCoords("subtitle").height;a=(c>0?c-10:0)+(u>0?u-10:0)}r.style.position="absolute",o=o+e+s.config.legend.offsetX,a=a+i+s.config.legend.offsetY,r.style.left=o+"px",r.style.top=a+"px",s.config.legend.position==="right"&&(r.style.left="auto",r.style.right=25+s.config.legend.offsetX+"px"),["width","height"].forEach(function(h){r.style[h]&&(r.style[h]=parseInt(s.config.legend[h],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var e=this.w;e.globals.dom.elLegendWrap.style.right=0;var i=new mh(this.ctx),s=i.dimHelpers.getTitleSubtitleCoords("title"),r=i.dimHelpers.getTitleSubtitleCoords("subtitle"),n=0;e.config.legend.position==="top"&&(n=s.height+r.height+e.config.title.margin+e.config.subtitle.margin-10),this.setLegendWrapXY(20,n)}},{key:"legendAlignVertical",value:function(){var e=this.w,i=this.legendHelpers.getLegendDimensions(),s=0;e.config.legend.position==="left"&&(s=20),e.config.legend.position==="right"&&(s=e.globals.svgWidth-i.clww-10),this.setLegendWrapXY(s,20)}},{key:"onLegendHovered",value:function(e){var i=this.w,s=e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker");if(i.config.chart.type==="heatmap"||this.isBarsDistributed){if(s){var r=parseInt(e.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,r,this.w]),new Ii(this.ctx).highlightRangeInSeries(e,e.target)}}else!e.target.classList.contains("apexcharts-inactive-legend")&&s&&new Ii(this.ctx).toggleSeriesOnHover(e,e.target)}},{key:"onLegendClick",value:function(e){var i=this.w;if(!i.config.legend.customLegendItems.length&&(e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker"))){var s=parseInt(e.target.getAttribute("rel"),10)-1,r=e.target.getAttribute("data:collapsed")==="true",n=this.w.config.chart.events.legendClick;typeof n=="function"&&n(this.ctx,s,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,s,this.w]);var o=this.w.config.legend.markers.onClick;typeof o=="function"&&e.target.classList.contains("apexcharts-legend-marker")&&(o(this.ctx,s,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,s,this.w])),i.config.chart.type!=="treemap"&&i.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&i.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(s,r)}}}]),t}(),OP=function(){function t(e){J(this,t),this.ctx=e,this.w=e.w;var i=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=i.globals.minX,this.maxX=i.globals.maxX}return ee(t,[{key:"createToolbar",value:function(){var e=this,i=this.w,s=function(){return document.createElement("div")},r=s();if(r.setAttribute("class","apexcharts-toolbar"),r.style.top=i.config.chart.toolbar.offsetY+"px",r.style.right=3-i.config.chart.toolbar.offsetX+"px",i.globals.dom.elWrap.appendChild(r),this.elZoom=s(),this.elZoomIn=s(),this.elZoomOut=s(),this.elPan=s(),this.elSelection=s(),this.elZoomReset=s(),this.elMenuIcon=s(),this.elMenu=s(),this.elCustomIcons=[],this.t=i.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var n=0;n<this.t.customIcons.length;n++)this.elCustomIcons.push(s());var o=[],a=function(h,d,g){var p=h.toLowerCase();e.t[p]&&i.config.chart.zoom.enabled&&o.push({el:d,icon:typeof e.t[p]=="string"?e.t[p]:g,title:e.localeValues[h],class:"apexcharts-".concat(p,"-icon")})};a("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),a("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var l=function(h){e.t[h]&&i.config.chart[h].enabled&&o.push({el:h==="zoom"?e.elZoom:e.elSelection,icon:typeof e.t[h]=="string"?e.t[h]:h==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:e.localeValues[h==="zoom"?"selectionZoom":"selection"],class:i.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(h,"-icon")})};l("zoom"),l("selection"),this.t.pan&&i.config.chart.zoom.enabled&&o.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:i.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),a("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&o.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var c=0;c<this.elCustomIcons.length;c++)o.push({el:this.elCustomIcons[c],icon:this.t.customIcons[c].icon,title:this.t.customIcons[c].title,index:this.t.customIcons[c].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[c].class});o.forEach(function(h,d){h.index&&O.moveIndexInArray(o,d,h.index)});for(var u=0;u<o.length;u++)Y.setAttrs(o[u].el,{class:o[u].class,title:o[u].title}),o[u].el.innerHTML=o[u].icon,r.appendChild(o[u].el);this._createHamburgerMenu(r),i.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):i.globals.panEnabled?this.elPan.classList.add(this.selectedClass):i.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(e){this.elMenuItems=[],e.appendChild(this.elMenu),Y.setAttrs(this.elMenu,{class:"apexcharts-menu"});for(var i=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}],s=0;s<i.length;s++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[s].innerHTML=i[s].title,Y.setAttrs(this.elMenuItems[s],{class:"apexcharts-menu-item ".concat(i[s].name),title:i[s].title}),this.elMenu.appendChild(this.elMenuItems[s])}},{key:"addToolbarEventListeners",value:function(){var e=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(s){s.classList.contains("exportSVG")?s.addEventListener("click",e.handleDownload.bind(e,"svg")):s.classList.contains("exportPNG")?s.addEventListener("click",e.handleDownload.bind(e,"png")):s.classList.contains("exportCSV")&&s.addEventListener("click",e.handleDownload.bind(e,"csv"))});for(var i=0;i<this.t.customIcons.length;i++)this.elCustomIcons[i].addEventListener("click",this.t.customIcons[i].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(e){this.ctx.getSyncedCharts().forEach(function(i){i.ctx.toolbar.toggleOtherControls();var s=e==="selection"?i.ctx.toolbar.elSelection:i.ctx.toolbar.elZoom,r=e==="selection"?"selectionEnabled":"zoomEnabled";i.w.globals[r]=!i.w.globals[r],s.classList.contains(i.ctx.toolbar.selectedClass)?s.classList.remove(i.ctx.toolbar.selectedClass):s.classList.add(i.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var e=this.w;this.elZoom||(this.elZoom=e.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=e.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=e.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(e){this.toggleOtherControls(),e==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var i=e==="pan"?this.elPan:this.elZoom,s=e==="pan"?this.elZoom:this.elPan;i&&i.classList.add(this.selectedClass),s&&s.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(e){e.ctx.toolbar.toggleOtherControls(),e.w.globals.panEnabled=!e.w.globals.panEnabled,e.ctx.toolbar.elPan.classList.contains(e.ctx.toolbar.selectedClass)?e.ctx.toolbar.elPan.classList.remove(e.ctx.toolbar.selectedClass):e.ctx.toolbar.elPan.classList.add(e.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var e=this,i=this.w;i.globals.panEnabled=!1,i.globals.zoomEnabled=!1,i.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(s){s&&s.classList.remove(e.selectedClass)})}},{key:"handleZoomIn",value:function(){var e=this.w;e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY);var i=(this.minX+this.maxX)/2,s=(this.minX+i)/2,r=(this.maxX+i)/2,n=this._getNewMinXMaxX(s,r);e.globals.disableZoomIn||this.zoomUpdateOptions(n.minX,n.maxX)}},{key:"handleZoomOut",value:function(){var e=this.w;if(e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY),!(e.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var i=(this.minX+this.maxX)/2,s=this.minX-(i-this.minX),r=this.maxX-(i-this.maxX),n=this._getNewMinXMaxX(s,r);e.globals.disableZoomOut||this.zoomUpdateOptions(n.minX,n.maxX)}}},{key:"_getNewMinXMaxX",value:function(e,i){var s=this.w.config.xaxis.convertedCatToNumeric;return{minX:s?Math.floor(e):e,maxX:s?Math.floor(i):i}}},{key:"zoomUpdateOptions",value:function(e,i){var s=this.w;if(e!==void 0||i!==void 0){if(!(s.config.xaxis.convertedCatToNumeric&&(e<1&&(e=1,i=s.globals.dataPoints),i-e<2))){var r={min:e,max:i},n=this.getBeforeZoomRange(r);n&&(r=n.xaxis);var o={xaxis:r},a=O.clone(s.globals.initialConfig.yaxis);s.config.chart.group||(o.yaxis=a),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(o,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(r,a)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(e,i){typeof this.ev.zoomed=="function"&&this.ev.zoomed(this.ctx,{xaxis:e,yaxis:i})}},{key:"getBeforeZoomRange",value:function(e,i){var s=null;return typeof this.ev.beforeZoom=="function"&&(s=this.ev.beforeZoom(this,{xaxis:e,yaxis:i})),s}},{key:"toggleMenu",value:function(){var e=this;window.setTimeout(function(){e.elMenu.classList.contains("apexcharts-menu-open")?e.elMenu.classList.remove("apexcharts-menu-open"):e.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(e){var i=this.w,s=new fh(this.ctx);switch(e){case"svg":s.exportToSVG(this.ctx);break;case"png":s.exportToPng(this.ctx);break;case"csv":s.exportToCSV({series:i.config.series,columnDelimiter:i.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(e){this.ctx.getSyncedCharts().forEach(function(i){var s=i.w;if(s.globals.lastXAxis.min=s.globals.initialConfig.xaxis.min,s.globals.lastXAxis.max=s.globals.initialConfig.xaxis.max,i.updateHelpers.revertDefaultAxisMinMax(),typeof s.config.chart.events.beforeResetZoom=="function"){var r=s.config.chart.events.beforeResetZoom(i,s);r&&i.updateHelpers.revertDefaultAxisMinMax(r)}typeof s.config.chart.events.zoomed=="function"&&i.ctx.toolbar.zoomCallback({min:s.config.xaxis.min,max:s.config.xaxis.max}),s.globals.zoomed=!1;var n=i.ctx.series.emptyCollapsedSeries(O.clone(s.globals.initialSeries));i.updateHelpers._updateSeries(n,s.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),t}(),sj=function(t){ql(i,OP);var e=Kl(i);function i(s){var r;return J(this,i),(r=e.call(this,s)).ctx=s,r.w=s.w,r.dragged=!1,r.graphics=new Y(r.ctx),r.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend","wheel"],r.clientX=0,r.clientY=0,r.startX=0,r.endX=0,r.dragX=0,r.startY=0,r.endY=0,r.dragY=0,r.moveDirection="none",r.debounceTimer=null,r.debounceDelay=100,r.wheelDelay=400,r}return ee(i,[{key:"init",value:function(s){var r=this,n=s.xyRatios,o=this.w,a=this;this.xyRatios=n,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=o.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.constraints=new rt(0,0,o.globals.gridWidth,o.globals.gridHeight),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),o.globals.dom.Paper.add(this.zoomRect),o.globals.dom.Paper.add(this.selectionRect),o.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:o.globals.gridWidth,maxY:o.globals.gridHeight}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):o.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:o.globals.gridWidth}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=o.globals.dom.baseEl.querySelector("".concat(o.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(l){r.hoverArea.addEventListener(l,a.svgMouseEvents.bind(a,n),{capture:!1,passive:!0})}),o.config.chart.zoom.enabled&&o.config.chart.zoom.allowMouseWheelZoom&&this.hoverArea.addEventListener("wheel",a.mouseWheelEvent.bind(a),{capture:!1,passive:!1})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(s,r){var n=this.w,o=this,a=this.ctx.toolbar,l=n.globals.zoomEnabled?n.config.chart.zoom.type:n.config.chart.selection.type,c=n.config.chart.toolbar.autoSelected;if(r.shiftKey?(this.shiftWasPressed=!0,a.enableZoomPanFromToolbar(c==="pan"?"zoom":"pan")):this.shiftWasPressed&&(a.enableZoomPanFromToolbar(c),this.shiftWasPressed=!1),r.target){var u,h=r.target.classList;if(r.target.parentNode&&r.target.parentNode!==null&&(u=r.target.parentNode.classList),!(h.contains("apexcharts-selection-rect")||h.contains("apexcharts-legend-marker")||h.contains("apexcharts-legend-text")||u&&u.contains("apexcharts-toolbar"))){if(o.clientX=r.type==="touchmove"||r.type==="touchstart"?r.touches[0].clientX:r.type==="touchend"?r.changedTouches[0].clientX:r.clientX,o.clientY=r.type==="touchmove"||r.type==="touchstart"?r.touches[0].clientY:r.type==="touchend"?r.changedTouches[0].clientY:r.clientY,r.type==="mousedown"&&r.which===1||r.type==="touchstart"){var d=o.gridRect.getBoundingClientRect();o.startX=o.clientX-d.left,o.startY=o.clientY-d.top,o.dragged=!1,o.w.globals.mousedown=!0}if((r.type==="mousemove"&&r.which===1||r.type==="touchmove")&&(o.dragged=!0,n.globals.panEnabled?(n.globals.selection=null,o.w.globals.mousedown&&o.panDragging({context:o,zoomtype:l,xyRatios:s})):(o.w.globals.mousedown&&n.globals.zoomEnabled||o.w.globals.mousedown&&n.globals.selectionEnabled)&&(o.selection=o.selectionDrawing({context:o,zoomtype:l}))),r.type==="mouseup"||r.type==="touchend"||r.type==="mouseleave"){var g,p=(g=o.gridRect)===null||g===void 0?void 0:g.getBoundingClientRect();p&&o.w.globals.mousedown&&(o.endX=o.clientX-p.left,o.endY=o.clientY-p.top,o.dragX=Math.abs(o.endX-o.startX),o.dragY=Math.abs(o.endY-o.startY),(n.globals.zoomEnabled||n.globals.selectionEnabled)&&o.selectionDrawn({context:o,zoomtype:l}),n.globals.panEnabled&&n.config.xaxis.convertedCatToNumeric&&o.delayedPanScrolled()),n.globals.zoomEnabled&&o.hideSelectionRect(this.selectionRect),o.dragged=!1,o.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"mouseWheelEvent",value:function(s){var r=this,n=this.w;s.preventDefault();var o=Date.now();o-n.globals.lastWheelExecution>this.wheelDelay&&(this.executeMouseWheelZoom(s),n.globals.lastWheelExecution=o),this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(function(){o-n.globals.lastWheelExecution>r.wheelDelay&&(r.executeMouseWheelZoom(s),n.globals.lastWheelExecution=o)},this.debounceDelay)}},{key:"executeMouseWheelZoom",value:function(s){var r,n=this.w;this.minX=n.globals.isRangeBar?n.globals.minY:n.globals.minX,this.maxX=n.globals.isRangeBar?n.globals.maxY:n.globals.maxX;var o=(r=this.gridRect)===null||r===void 0?void 0:r.getBoundingClientRect();if(o){var a,l,c,u=(s.clientX-o.left)/o.width,h=this.minX,d=this.maxX,g=d-h;if(s.deltaY<0){var p=h+u*g;l=p-(a=.5*g)/2,c=p+a/2}else l=h-(a=1.5*g)/2,c=d+a/2;if(!n.globals.isRangeBar){l=Math.max(l,n.globals.initialMinX),c=Math.min(c,n.globals.initialMaxX);var f=.01*(n.globals.initialMaxX-n.globals.initialMinX);if(c-l<f){var C=(l+c)/2;l=C-f/2,c=C+f/2}}var m=this._getNewMinXMaxX(l,c);isNaN(m.minX)||isNaN(m.maxX)||this.zoomUpdateOptions(m.minX,m.maxX)}}},{key:"makeSelectionRectDraggable",value:function(){if(this.w,this.selectionRect){var s=this.selectionRect.node.getBoundingClientRect();s.width>0&&s.height>0&&(this.selectionRect.select(!1).resize(!1),this.selectionRect.select({createRot:function(){},updateRot:function(){},createHandle:function(r,n,o,a,l){return l==="l"||l==="r"?r.circle(8).css({"stroke-width":1,stroke:"#333",fill:"#fff"}):r.circle(0)},updateHandle:function(r,n){return r.center(n[0],n[1])}}).resize().on("resizing",this.selectionDragging.bind(this,"resizing")))}}},{key:"preselectedSelection",value:function(){var s=this.w,r=this.xyRatios;if(!s.globals.zoomEnabled){if(s.globals.selection!==void 0&&s.globals.selection!==null)this.drawSelectionRect(Q(Q({},s.globals.selection),{},{translateX:s.globals.translateX,translateY:s.globals.translateY}));else if(s.config.chart.selection.xaxis.min!==void 0&&s.config.chart.selection.xaxis.max!==void 0){var n=(s.config.chart.selection.xaxis.min-s.globals.minX)/r.xRatio,o=s.globals.gridWidth-(s.globals.maxX-s.config.chart.selection.xaxis.max)/r.xRatio-n;s.globals.isRangeBar&&(n=(s.config.chart.selection.xaxis.min-s.globals.yAxisScale[0].niceMin)/r.invertedYRatio,o=(s.config.chart.selection.xaxis.max-s.config.chart.selection.xaxis.min)/r.invertedYRatio);var a={x:n,y:0,width:o,height:s.globals.gridHeight,translateX:s.globals.translateX,translateY:s.globals.translateY,selectionEnabled:!0};this.drawSelectionRect(a),this.makeSelectionRectDraggable(),typeof s.config.chart.events.selection=="function"&&s.config.chart.events.selection(this.ctx,{xaxis:{min:s.config.chart.selection.xaxis.min,max:s.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(s){var r=s.x,n=s.y,o=s.width,a=s.height,l=s.translateX,c=l===void 0?0:l,u=s.translateY,h=u===void 0?0:u,d=this.w,g=this.zoomRect,p=this.selectionRect;if(this.dragged||d.globals.selection!==null){var f={transform:"translate("+c+", "+h+")"};d.globals.zoomEnabled&&this.dragged&&(o<0&&(o=1),g.attr({x:r,y:n,width:o,height:a,fill:d.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":d.config.chart.zoom.zoomedArea.fill.opacity,stroke:d.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":d.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":d.config.chart.zoom.zoomedArea.stroke.opacity}),Y.setAttrs(g.node,f)),d.globals.selectionEnabled&&(p.attr({x:r,y:n,width:o>0?o:0,height:a>0?a:0,fill:d.config.chart.selection.fill.color,"fill-opacity":d.config.chart.selection.fill.opacity,stroke:d.config.chart.selection.stroke.color,"stroke-width":d.config.chart.selection.stroke.width,"stroke-dasharray":d.config.chart.selection.stroke.dashArray,"stroke-opacity":d.config.chart.selection.stroke.opacity}),Y.setAttrs(p.node,f))}}},{key:"hideSelectionRect",value:function(s){s&&s.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(s){var r=s.context,n=s.zoomtype,o=this.w,a=r,l=this.gridRect.getBoundingClientRect(),c=a.startX-1,u=a.startY,h=!1,d=!1,g=a.clientX-l.left-c,p=a.clientY-l.top-u,f={translateX:o.globals.translateX,translateY:o.globals.translateY};return Math.abs(g+c)>o.globals.gridWidth?g=o.globals.gridWidth-c:a.clientX-l.left<0&&(g=c),c>a.clientX-l.left&&(h=!0,g=Math.abs(g)),u>a.clientY-l.top&&(d=!0,p=Math.abs(p)),f=Q(Q({},f=n==="x"?{x:h?c-g:c,y:0,width:g,height:o.globals.gridHeight}:n==="y"?{x:0,y:d?u-p:u,width:o.globals.gridWidth,height:p}:{x:h?c-g:c,y:d?u-p:u,width:g,height:p}),{},{translateX:o.globals.translateX,translateY:o.globals.translateY}),a.drawSelectionRect(f),a.selectionDragging("resizing"),f}},{key:"selectionDragging",value:function(s,r){var n=this,o=this.w;if(r){r.preventDefault();var a=r.detail,l=a.handler,c=a.box,u=c.x,h=c.y;u<this.constraints.x&&(u=this.constraints.x),h<this.constraints.y&&(h=this.constraints.y),c.x2>this.constraints.x2&&(u=this.constraints.x2-c.w),c.y2>this.constraints.y2&&(h=this.constraints.y2-c.h),l.move(u,h);var d=this.xyRatios,g=this.selectionRect,p=0;s==="resizing"&&(p=30);var f=function(m){return parseFloat(g.node.getAttribute(m))},C={x:f("x"),y:f("y"),width:f("width"),height:f("height")};o.globals.selection=C,typeof o.config.chart.events.selection=="function"&&o.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var m,v,y,w,x=n.gridRect.getBoundingClientRect(),S=g.node.getBoundingClientRect();o.globals.isRangeBar?(m=o.globals.yAxisScale[0].niceMin+(S.left-x.left)*d.invertedYRatio,v=o.globals.yAxisScale[0].niceMin+(S.right-x.left)*d.invertedYRatio,y=0,w=1):(m=o.globals.xAxisScale.niceMin+(S.left-x.left)*d.xRatio,v=o.globals.xAxisScale.niceMin+(S.right-x.left)*d.xRatio,y=o.globals.yAxisScale[0].niceMin+(x.bottom-S.bottom)*d.yRatio[0],w=o.globals.yAxisScale[0].niceMax-(S.top-x.top)*d.yRatio[0]);var b={xaxis:{min:m,max:v},yaxis:{min:y,max:w}};o.config.chart.events.selection(n.ctx,b),o.config.chart.brush.enabled&&o.config.chart.events.brushScrolled!==void 0&&o.config.chart.events.brushScrolled(n.ctx,b)},p))}}},{key:"selectionDrawn",value:function(s){var r=s.context,n=s.zoomtype,o=this.w,a=r,l=this.xyRatios,c=this.ctx.toolbar;if(a.startX>a.endX){var u=a.startX;a.startX=a.endX,a.endX=u}if(a.startY>a.endY){var h=a.startY;a.startY=a.endY,a.endY=h}var d=void 0,g=void 0;o.globals.isRangeBar?(d=o.globals.yAxisScale[0].niceMin+a.startX*l.invertedYRatio,g=o.globals.yAxisScale[0].niceMin+a.endX*l.invertedYRatio):(d=o.globals.xAxisScale.niceMin+a.startX*l.xRatio,g=o.globals.xAxisScale.niceMin+a.endX*l.xRatio);var p=[],f=[];if(o.config.yaxis.forEach(function(S,b){var R=o.globals.seriesYAxisMap[b][0];p.push(o.globals.yAxisScale[b].niceMax-l.yRatio[R]*a.startY),f.push(o.globals.yAxisScale[b].niceMax-l.yRatio[R]*a.endY)}),a.dragged&&(a.dragX>10||a.dragY>10)&&d!==g){if(o.globals.zoomEnabled){var C=O.clone(o.globals.initialConfig.yaxis),m=O.clone(o.globals.initialConfig.xaxis);if(o.globals.zoomed=!0,o.config.xaxis.convertedCatToNumeric&&(d=Math.floor(d),g=Math.floor(g),d<1&&(d=1,g=o.globals.dataPoints),g-d<2&&(g=d+1)),n!=="xy"&&n!=="x"||(m={min:d,max:g}),n!=="xy"&&n!=="y"||C.forEach(function(S,b){C[b].min=f[b],C[b].max=p[b]}),c){var v=c.getBeforeZoomRange(m,C);v&&(m=v.xaxis?v.xaxis:m,C=v.yaxis?v.yaxis:C)}var y={xaxis:m};o.config.chart.group||(y.yaxis=C),a.ctx.updateHelpers._updateOptions(y,!1,a.w.config.chart.animations.dynamicAnimation.enabled),typeof o.config.chart.events.zoomed=="function"&&c.zoomCallback(m,C)}else if(o.globals.selectionEnabled){var w,x=null;w={min:d,max:g},n!=="xy"&&n!=="y"||(x=O.clone(o.config.yaxis)).forEach(function(S,b){x[b].min=f[b],x[b].max=p[b]}),o.globals.selection=a.selection,typeof o.config.chart.events.selection=="function"&&o.config.chart.events.selection(a.ctx,{xaxis:w,yaxis:x})}}}},{key:"panDragging",value:function(s){var r=s.context,n=this.w,o=r;if(n.globals.lastClientPosition.x!==void 0){var a=n.globals.lastClientPosition.x-o.clientX,l=n.globals.lastClientPosition.y-o.clientY;Math.abs(a)>Math.abs(l)&&a>0?this.moveDirection="left":Math.abs(a)>Math.abs(l)&&a<0?this.moveDirection="right":Math.abs(l)>Math.abs(a)&&l>0?this.moveDirection="up":Math.abs(l)>Math.abs(a)&&l<0&&(this.moveDirection="down")}n.globals.lastClientPosition={x:o.clientX,y:o.clientY};var c=n.globals.isRangeBar?n.globals.minY:n.globals.minX,u=n.globals.isRangeBar?n.globals.maxY:n.globals.maxX;n.config.xaxis.convertedCatToNumeric||o.panScrolled(c,u)}},{key:"delayedPanScrolled",value:function(){var s=this.w,r=s.globals.minX,n=s.globals.maxX,o=(s.globals.maxX-s.globals.minX)/2;this.moveDirection==="left"?(r=s.globals.minX+o,n=s.globals.maxX+o):this.moveDirection==="right"&&(r=s.globals.minX-o,n=s.globals.maxX-o),r=Math.floor(r),n=Math.floor(n),this.updateScrolledChart({xaxis:{min:r,max:n}},r,n)}},{key:"panScrolled",value:function(s,r){var n=this.w,o=this.xyRatios,a=O.clone(n.globals.initialConfig.yaxis),l=o.xRatio,c=n.globals.minX,u=n.globals.maxX;n.globals.isRangeBar&&(l=o.invertedYRatio,c=n.globals.minY,u=n.globals.maxY),this.moveDirection==="left"?(s=c+n.globals.gridWidth/15*l,r=u+n.globals.gridWidth/15*l):this.moveDirection==="right"&&(s=c-n.globals.gridWidth/15*l,r=u-n.globals.gridWidth/15*l),n.globals.isRangeBar||(s<n.globals.initialMinX||r>n.globals.initialMaxX)&&(s=c,r=u);var h={xaxis:{min:s,max:r}};n.config.chart.group||(h.yaxis=a),this.updateScrolledChart(h,s,r)}},{key:"updateScrolledChart",value:function(s,r,n){var o=this.w;this.ctx.updateHelpers._updateOptions(s,!1,!1),typeof o.config.chart.events.scrolled=="function"&&o.config.chart.events.scrolled(this.ctx,{xaxis:{min:r,max:n}})}}]),i}(),HP=function(){function t(e){J(this,t),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx}return ee(t,[{key:"getNearestValues",value:function(e){var i=e.hoverArea,s=e.elGrid,r=e.clientX,n=e.clientY,o=this.w,a=s.getBoundingClientRect(),l=a.width,c=a.height,u=l/(o.globals.dataPoints-1),h=c/o.globals.dataPoints,d=this.hasBars();!o.globals.comboCharts&&!d||o.config.xaxis.convertedCatToNumeric||(u=l/o.globals.dataPoints);var g=r-a.left-o.globals.barPadForNumericAxis,p=n-a.top;g<0||p<0||g>l||p>c?(i.classList.remove("hovering-zoom"),i.classList.remove("hovering-pan")):o.globals.zoomEnabled?(i.classList.remove("hovering-pan"),i.classList.add("hovering-zoom")):o.globals.panEnabled&&(i.classList.remove("hovering-zoom"),i.classList.add("hovering-pan"));var f=Math.round(g/u),C=Math.floor(p/h);d&&!o.config.xaxis.convertedCatToNumeric&&(f=Math.ceil(g/u),f-=1);var m=null,v=null,y=o.globals.seriesXvalues.map(function(R){return R.filter(function(A){return O.isNumber(A)})}),w=o.globals.seriesYvalues.map(function(R){return R.filter(function(A){return O.isNumber(A)})});if(o.globals.isXNumeric){var x=this.ttCtx.getElGrid().getBoundingClientRect(),S=g*(x.width/l),b=p*(x.height/c);m=(v=this.closestInMultiArray(S,b,y,w)).index,f=v.j,m!==null&&(y=o.globals.seriesXvalues[m],f=(v=this.closestInArray(S,y)).index)}return o.globals.capturedSeriesIndex=m===null?-1:m,(!f||f<1)&&(f=0),o.globals.isBarHorizontal?o.globals.capturedDataPointIndex=C:o.globals.capturedDataPointIndex=f,{capturedSeries:m,j:o.globals.isBarHorizontal?C:f,hoverX:g,hoverY:p}}},{key:"closestInMultiArray",value:function(e,i,s,r){var n=this.w,o=0,a=null,l=-1;n.globals.series.length>1?o=this.getFirstActiveXArray(s):a=0;var c=s[o][0],u=Math.abs(e-c);if(s.forEach(function(g){g.forEach(function(p,f){var C=Math.abs(e-p);C<=u&&(u=C,l=f)})}),l!==-1){var h=r[o][l],d=Math.abs(i-h);a=o,r.forEach(function(g,p){var f=Math.abs(i-g[l]);f<=d&&(d=f,a=p)})}return{index:a,j:l}}},{key:"getFirstActiveXArray",value:function(e){for(var i=this.w,s=0,r=e.map(function(o,a){return o.length>0?a:-1}),n=0;n<r.length;n++)if(r[n]!==-1&&i.globals.collapsedSeriesIndices.indexOf(n)===-1&&i.globals.ancillaryCollapsedSeriesIndices.indexOf(n)===-1){s=r[n];break}return s}},{key:"closestInArray",value:function(e,i){for(var s=i[0],r=null,n=Math.abs(e-s),o=0;o<i.length;o++){var a=Math.abs(e-i[o]);a<n&&(n=a,r=o)}return{index:r}}},{key:"isXoverlap",value:function(e){var i=[],s=this.w.globals.seriesX.filter(function(n){return n[0]!==void 0});if(s.length>0)for(var r=0;r<s.length-1;r++)s[r][e]!==void 0&&s[r+1][e]!==void 0&&s[r][e]!==s[r+1][e]&&i.push("unEqual");return i.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var e=!0,i=this.w.globals.initialSeries,s=0;s<i.length-1;s++)if(i[s].data.length!==i[s+1].data.length){e=!1;break}return e}},{key:"getBarsHeight",value:function(e){return pt(e).reduce(function(i,s){return i+s.getBBox().height},0)}},{key:"getElMarkers",value:function(e){return typeof e=="number"?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(e=pt(e)).sort(function(s,r){var n=Number(s.getAttribute("data:realIndex")),o=Number(r.getAttribute("data:realIndex"));return o<n?1:o>n?-1:0});var i=[];return e.forEach(function(s){i.push(s.querySelector(".apexcharts-marker"))}),i}},{key:"hasMarkers",value:function(e){return this.getElMarkers(e).length>0}},{key:"getPathFromPoint",value:function(e,i){var s=Number(e.getAttribute("cx")),r=Number(e.getAttribute("cy")),n=e.getAttribute("shape");return new Y(this.ctx).getMarkerPath(s,r,n,i)}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(e){var i=this.w,s=i.config.markers.hover.size;return s===void 0&&(s=i.globals.markers.size[e]+i.config.markers.hover.sizeOffset),s}},{key:"toggleAllTooltipSeriesGroups",value:function(e){var i=this.w,s=this.ttCtx;s.allTooltipSeriesGroups.length===0&&(s.allTooltipSeriesGroups=i.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var r=s.allTooltipSeriesGroups,n=0;n<r.length;n++)e==="enable"?(r[n].classList.add("apexcharts-active"),r[n].style.display=i.config.tooltip.items.display):(r[n].classList.remove("apexcharts-active"),r[n].style.display="none")}}]),t}(),rj=function(){function t(e){J(this,t),this.w=e.w,this.ctx=e.ctx,this.ttCtx=e,this.tooltipUtil=new HP(e)}return ee(t,[{key:"drawSeriesTexts",value:function(e){var i=e.shared,s=i===void 0||i,r=e.ttItems,n=e.i,o=n===void 0?0:n,a=e.j,l=a===void 0?null:a,c=e.y1,u=e.y2,h=e.e,d=this.w;d.config.tooltip.custom!==void 0?this.handleCustomTooltip({i:o,j:l,y1:c,y2:u,w:d}):this.toggleActiveInactiveSeries(s,o);var g=this.getValuesToPrint({i:o,j:l});this.printLabels({i:o,j:l,values:g,ttItems:r,shared:s,e:h});var p=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=p.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=p.getBoundingClientRect().height}},{key:"printLabels",value:function(e){var i,s=this,r=e.i,n=e.j,o=e.values,a=e.ttItems,l=e.shared,c=e.e,u=this.w,h=[],d=function(x){return u.globals.seriesGoals[x]&&u.globals.seriesGoals[x][n]&&Array.isArray(u.globals.seriesGoals[x][n])},g=o.xVal,p=o.zVal,f=o.xAxisTTVal,C="",m=u.globals.colors[r];n!==null&&u.config.plotOptions.bar.distributed&&(m=u.globals.colors[n]);for(var v=function(x,S){var b=s.getFormatters(r);C=s.getSeriesName({fn:b.yLbTitleFormatter,index:r,seriesIndex:r,j:n}),u.config.chart.type==="treemap"&&(C=b.yLbTitleFormatter(String(u.config.series[r].data[n].x),{series:u.globals.series,seriesIndex:r,dataPointIndex:n,w:u}));var R=u.config.tooltip.inverseOrder?S:x;if(u.globals.axisCharts){var A=function(L){var M,I,z,D;return u.globals.isRangeData?b.yLbFormatter((M=u.globals.seriesRangeStart)===null||M===void 0||(I=M[L])===null||I===void 0?void 0:I[n],{series:u.globals.seriesRangeStart,seriesIndex:L,dataPointIndex:n,w:u})+" - "+b.yLbFormatter((z=u.globals.seriesRangeEnd)===null||z===void 0||(D=z[L])===null||D===void 0?void 0:D[n],{series:u.globals.seriesRangeEnd,seriesIndex:L,dataPointIndex:n,w:u}):b.yLbFormatter(u.globals.series[L][n],{series:u.globals.series,seriesIndex:L,dataPointIndex:n,w:u})};if(l)b=s.getFormatters(R),C=s.getSeriesName({fn:b.yLbTitleFormatter,index:R,seriesIndex:r,j:n}),m=u.globals.colors[R],i=A(R),d(R)&&(h=u.globals.seriesGoals[R][n].map(function(L){return{attrs:L,val:b.yLbFormatter(L.value,{seriesIndex:R,dataPointIndex:n,w:u})}}));else{var P,E=c==null||(P=c.target)===null||P===void 0?void 0:P.getAttribute("fill");E&&(E.indexOf("url")!==-1?E.indexOf("Pattern")!==-1&&(m=u.globals.dom.baseEl.querySelector(E.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke")):m=E),i=A(r),d(r)&&Array.isArray(u.globals.seriesGoals[r][n])&&(h=u.globals.seriesGoals[r][n].map(function(L){return{attrs:L,val:b.yLbFormatter(L.value,{seriesIndex:r,dataPointIndex:n,w:u})}}))}}n===null&&(i=b.yLbFormatter(u.globals.series[r],Q(Q({},u),{},{seriesIndex:r,dataPointIndex:r}))),s.DOMHandling({i:r,t:R,j:n,ttItems:a,values:{val:i,goalVals:h,xVal:g,xAxisTTVal:f,zVal:p},seriesName:C,shared:l,pColor:m})},y=0,w=u.globals.series.length-1;y<u.globals.series.length;y++,w--)v(y,w)}},{key:"getFormatters",value:function(e){var i,s=this.w,r=s.globals.yLabelFormatters[e];return s.globals.ttVal!==void 0?Array.isArray(s.globals.ttVal)?(r=s.globals.ttVal[e]&&s.globals.ttVal[e].formatter,i=s.globals.ttVal[e]&&s.globals.ttVal[e].title&&s.globals.ttVal[e].title.formatter):(r=s.globals.ttVal.formatter,typeof s.globals.ttVal.title.formatter=="function"&&(i=s.globals.ttVal.title.formatter)):i=s.config.tooltip.y.title.formatter,typeof r!="function"&&(r=s.globals.yLabelFormatters[0]?s.globals.yLabelFormatters[0]:function(n){return n}),typeof i!="function"&&(i=function(n){return n?n+": ":""}),{yLbFormatter:r,yLbTitleFormatter:i}}},{key:"getSeriesName",value:function(e){var i=e.fn,s=e.index,r=e.seriesIndex,n=e.j,o=this.w;return i(String(o.globals.seriesNames[s]),{series:o.globals.series,seriesIndex:r,dataPointIndex:n,w:o})}},{key:"DOMHandling",value:function(e){e.i;var i=e.t,s=e.j,r=e.ttItems,n=e.values,o=e.seriesName,a=e.shared,l=e.pColor,c=this.w,u=this.ttCtx,h=n.val,d=n.goalVals,g=n.xVal,p=n.xAxisTTVal,f=n.zVal,C=null;C=r[i].children,c.config.tooltip.fillSeriesColor&&(r[i].style.backgroundColor=l,C[0].style.display="none"),u.showTooltipTitle&&(u.tooltipTitle===null&&(u.tooltipTitle=c.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),u.tooltipTitle.innerHTML=g),u.isXAxisTooltipEnabled&&(u.xaxisTooltipText.innerHTML=p!==""?p:g);var m=r[i].querySelector(".apexcharts-tooltip-text-y-label");m&&(m.innerHTML=o||"");var v=r[i].querySelector(".apexcharts-tooltip-text-y-value");v&&(v.innerHTML=h!==void 0?h:""),C[0]&&C[0].classList.contains("apexcharts-tooltip-marker")&&(c.config.tooltip.marker.fillColors&&Array.isArray(c.config.tooltip.marker.fillColors)&&(l=c.config.tooltip.marker.fillColors[i]),C[0].style.backgroundColor=l),c.config.tooltip.marker.show||(C[0].style.display="none");var y=r[i].querySelector(".apexcharts-tooltip-text-goals-label"),w=r[i].querySelector(".apexcharts-tooltip-text-goals-value");if(d.length&&c.globals.seriesGoals[i]){var x=function(){var R="<div >",A="<div>";d.forEach(function(P,E){R+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(P.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(P.attrs.name,"</div>"),A+="<div>".concat(P.val,"</div>")}),y.innerHTML=R+"</div>",w.innerHTML=A+"</div>"};a?c.globals.seriesGoals[i][s]&&Array.isArray(c.globals.seriesGoals[i][s])?x():(y.innerHTML="",w.innerHTML=""):x()}else y.innerHTML="",w.innerHTML="";if(f!==null&&(r[i].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=c.config.tooltip.z.title,r[i].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=f!==void 0?f:""),a&&C[0]){if(c.config.tooltip.hideEmptySeries){var S=r[i].querySelector(".apexcharts-tooltip-marker"),b=r[i].querySelector(".apexcharts-tooltip-text");parseFloat(h)==0?(S.style.display="none",b.style.display="none"):(S.style.display="block",b.style.display="block")}h==null||c.globals.ancillaryCollapsedSeriesIndices.indexOf(i)>-1||c.globals.collapsedSeriesIndices.indexOf(i)>-1||Array.isArray(u.tConfig.enabledOnSeries)&&u.tConfig.enabledOnSeries.indexOf(i)===-1?C[0].parentNode.style.display="none":C[0].parentNode.style.display=c.config.tooltip.items.display}else Array.isArray(u.tConfig.enabledOnSeries)&&u.tConfig.enabledOnSeries.indexOf(i)===-1&&(C[0].parentNode.style.display="none")}},{key:"toggleActiveInactiveSeries",value:function(e,i){var s=this.w;if(e)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var r=s.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group-".concat(i));r&&(r.classList.add("apexcharts-active"),r.style.display=s.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(e){var i=e.i,s=e.j,r=this.w,n=this.ctx.series.filteredSeriesX(),o="",a="",l=null,c=null,u={series:r.globals.series,seriesIndex:i,dataPointIndex:s,w:r},h=r.globals.ttZFormatter;s===null?c=r.globals.series[i]:r.globals.isXNumeric&&r.config.chart.type!=="treemap"?(o=n[i][s],n[i].length===0&&(o=n[this.tooltipUtil.getFirstActiveXArray(n)][s])):o=new RC(this.ctx).isFormatXY()?r.config.series[i].data[s]!==void 0?r.config.series[i].data[s].x:"":r.globals.labels[s]!==void 0?r.globals.labels[s]:"";var d=o;return r.globals.isXNumeric&&r.config.xaxis.type==="datetime"?o=new ec(this.ctx).xLabelFormat(r.globals.ttKeyFormatter,d,d,{i:void 0,dateFormatter:new bt(this.ctx).formatDate,w:this.w}):o=r.globals.isBarHorizontal?r.globals.yLabelFormatters[0](d,u):r.globals.xLabelFormatter(d,u),r.config.tooltip.x.formatter!==void 0&&(o=r.globals.ttKeyFormatter(d,u)),r.globals.seriesZ.length>0&&r.globals.seriesZ[i].length>0&&(l=h(r.globals.seriesZ[i][s],r)),a=typeof r.config.xaxis.tooltip.formatter=="function"?r.globals.xaxisTooltipFormatter(d,u):o,{val:Array.isArray(c)?c.join(" "):c,xVal:Array.isArray(o)?o.join(" "):o,xAxisTTVal:Array.isArray(a)?a.join(" "):a,zVal:l}}},{key:"handleCustomTooltip",value:function(e){var i=e.i,s=e.j,r=e.y1,n=e.y2,o=e.w,a=this.ttCtx.getElTooltip(),l=o.config.tooltip.custom;Array.isArray(l)&&l[i]&&(l=l[i]),a.innerHTML=l({ctx:this.ctx,series:o.globals.series,seriesIndex:i,dataPointIndex:s,y1:r,y2:n,w:o})}}]),t}(),NP=function(){function t(e){J(this,t),this.ttCtx=e,this.ctx=e.ctx,this.w=e.w}return ee(t,[{key:"moveXCrosshairs",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,s=this.ttCtx,r=this.w,n=s.getElXCrosshairs(),o=e-s.xcrosshairsWidth/2,a=r.globals.labels.slice().length;if(i!==null&&(o=r.globals.gridWidth/a*i),n===null||r.globals.isBarHorizontal||(n.setAttribute("x",o),n.setAttribute("x1",o),n.setAttribute("x2",o),n.setAttribute("y2",r.globals.gridHeight),n.classList.add("apexcharts-active")),o<0&&(o=0),o>r.globals.gridWidth&&(o=r.globals.gridWidth),s.isXAxisTooltipEnabled){var l=o;r.config.xaxis.crosshairs.width!=="tickWidth"&&r.config.xaxis.crosshairs.width!=="barWidth"||(l=o+s.xcrosshairsWidth/2),this.moveXAxisTooltip(l)}}},{key:"moveYCrosshairs",value:function(e){var i=this.ttCtx;i.ycrosshairs!==null&&Y.setAttrs(i.ycrosshairs,{y1:e,y2:e}),i.ycrosshairsHidden!==null&&Y.setAttrs(i.ycrosshairsHidden,{y1:e,y2:e})}},{key:"moveXAxisTooltip",value:function(e){var i=this.w,s=this.ttCtx;if(s.xaxisTooltip!==null&&s.xcrosshairsWidth!==0){s.xaxisTooltip.classList.add("apexcharts-active");var r=s.xaxisOffY+i.config.xaxis.tooltip.offsetY+i.globals.translateY+1+i.config.xaxis.offsetY;if(e-=s.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(e)){e+=i.globals.translateX;var n;n=new Y(this.ctx).getTextRects(s.xaxisTooltipText.innerHTML),s.xaxisTooltipText.style.minWidth=n.width+"px",s.xaxisTooltip.style.left=e+"px",s.xaxisTooltip.style.top=r+"px"}}}},{key:"moveYAxisTooltip",value:function(e){var i=this.w,s=this.ttCtx;s.yaxisTTEls===null&&(s.yaxisTTEls=i.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var r=parseInt(s.ycrosshairsHidden.getAttribute("y1"),10),n=i.globals.translateY+r,o=s.yaxisTTEls[e].getBoundingClientRect().height,a=i.globals.translateYAxisX[e]-2;i.config.yaxis[e].opposite&&(a-=26),n-=o/2,i.globals.ignoreYAxisIndexes.indexOf(e)===-1?(s.yaxisTTEls[e].classList.add("apexcharts-active"),s.yaxisTTEls[e].style.top=n+"px",s.yaxisTTEls[e].style.left=a+i.config.yaxis[e].tooltip.offsetX+"px"):s.yaxisTTEls[e].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(e,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=this.w,n=this.ttCtx,o=n.getElTooltip(),a=n.tooltipRect,l=s!==null?parseFloat(s):1,c=parseFloat(e)+l+5,u=parseFloat(i)+l/2;if(c>r.globals.gridWidth/2&&(c=c-a.ttWidth-l-10),c>r.globals.gridWidth-a.ttWidth-10&&(c=r.globals.gridWidth-a.ttWidth),c<-20&&(c=-20),r.config.tooltip.followCursor){var h=n.getElGrid().getBoundingClientRect();(c=n.e.clientX-h.left)>r.globals.gridWidth/2&&(c-=n.tooltipRect.ttWidth),(u=n.e.clientY+r.globals.translateY-h.top)>r.globals.gridHeight/2&&(u-=n.tooltipRect.ttHeight)}else r.globals.isBarHorizontal||a.ttHeight/2+u>r.globals.gridHeight&&(u=r.globals.gridHeight-a.ttHeight+r.globals.translateY);isNaN(c)||(c+=r.globals.translateX,o.style.left=c+"px",o.style.top=u+"px")}},{key:"moveMarkers",value:function(e,i){var s=this.w,r=this.ttCtx;if(s.globals.markers.size[e]>0)for(var n=s.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-marker")),o=0;o<n.length;o++)parseInt(n[o].getAttribute("rel"),10)===i&&(r.marker.resetPointsSize(),r.marker.enlargeCurrentPoint(i,n[o]));else r.marker.resetPointsSize(),this.moveDynamicPointOnHover(i,e)}},{key:"moveDynamicPointOnHover",value:function(e,i){var s,r,n,o,a=this.w,l=this.ttCtx,c=new Y(this.ctx),u=a.globals.pointsArray,h=l.tooltipUtil.getHoverMarkerSize(i),d=a.config.series[i].type;if(!d||d!=="column"&&d!=="candlestick"&&d!=="boxPlot"){n=(s=u[i][e])===null||s===void 0?void 0:s[0],o=((r=u[i][e])===null||r===void 0?void 0:r[1])||0;var g=a.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(i,"'] .apexcharts-series-markers path"));if(g&&o<a.globals.gridHeight&&o>0){var p=g.getAttribute("shape"),f=c.getMarkerPath(n,o,p,1.5*h);g.setAttribute("d",f)}this.moveXCrosshairs(n),l.fixedTooltip||this.moveTooltip(n,o,h)}}},{key:"moveDynamicPointsOnHover",value:function(e){var i,s=this.ttCtx,r=s.w,n=0,o=0,a=r.globals.pointsArray,l=new Ii(this.ctx),c=new Y(this.ctx);i=l.getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var u=s.tooltipUtil.getHoverMarkerSize(i);a[i]&&(n=a[i][e][0],o=a[i][e][1]);var h=s.tooltipUtil.getAllMarkers();if(h!==null)for(var d=0;d<r.globals.series.length;d++){var g=a[d];if(r.globals.comboCharts&&g===void 0&&h.splice(d,0,null),g&&g.length){var p=a[d][e][1],f=void 0;h[d].setAttribute("cx",n);var C=h[d].getAttribute("shape");if(r.config.chart.type==="rangeArea"&&!r.globals.comboCharts){var m=e+r.globals.series[d].length;f=a[d][m][1],p-=Math.abs(p-f)/2}if(p!==null&&!isNaN(p)&&p<r.globals.gridHeight+u&&p+u>0){var v=c.getMarkerPath(n,p,C,u);h[d].setAttribute("d",v)}else h[d].setAttribute("d","")}}this.moveXCrosshairs(n),s.fixedTooltip||this.moveTooltip(n,o||r.globals.gridHeight,u)}},{key:"moveStickyTooltipOverBars",value:function(e,i){var s=this.w,r=this.ttCtx,n=s.globals.columnSeries?s.globals.columnSeries.length:s.globals.series.length,o=n>=2&&n%2==0?Math.floor(n/2):Math.floor(n/2)+1;s.globals.isBarHorizontal&&(o=new Ii(this.ctx).getActiveConfigSeriesIndex("desc")+1);var a=s.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(o,"'] path[j='").concat(e,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(o,"'] path[j='").concat(e,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(o,"'] path[j='").concat(e,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(o,"'] path[j='").concat(e,"']"));a||typeof i!="number"||(a=s.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(i,"'] path[j='").concat(e,`'],
        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='`).concat(i,"'] path[j='").concat(e,`'],
        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='`).concat(i,"'] path[j='").concat(e,`'],
        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='`).concat(i,"'] path[j='").concat(e,"']")));var l=a?parseFloat(a.getAttribute("cx")):0,c=a?parseFloat(a.getAttribute("cy")):0,u=a?parseFloat(a.getAttribute("barWidth")):0,h=r.getElGrid().getBoundingClientRect(),d=a&&(a.classList.contains("apexcharts-candlestick-area")||a.classList.contains("apexcharts-boxPlot-area"));s.globals.isXNumeric?(a&&!d&&(l-=n%2!=0?u/2:0),a&&d&&s.globals.comboCharts&&(l-=u/2)):s.globals.isBarHorizontal||(l=r.xAxisTicksPositions[e-1]+r.dataPointsDividedWidth/2,isNaN(l)&&(l=r.xAxisTicksPositions[e]-r.dataPointsDividedWidth/2)),s.globals.isBarHorizontal?c-=r.tooltipRect.ttHeight:s.config.tooltip.followCursor?c=r.e.clientY-h.top-r.tooltipRect.ttHeight/2:c+r.tooltipRect.ttHeight+15>s.globals.gridHeight&&(c=s.globals.gridHeight),s.globals.isBarHorizontal||this.moveXCrosshairs(l),r.fixedTooltip||this.moveTooltip(l,c||s.globals.gridHeight)}}]),t}(),nj=function(){function t(e){J(this,t),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx,this.tooltipPosition=new NP(e)}return ee(t,[{key:"drawDynamicPoints",value:function(){var e=this.w,i=new Y(this.ctx),s=new ra(this.ctx),r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");r=pt(r),e.config.chart.stacked&&r.sort(function(h,d){return parseFloat(h.getAttribute("data:realIndex"))-parseFloat(d.getAttribute("data:realIndex"))});for(var n=0;n<r.length;n++){var o=r[n].querySelector(".apexcharts-series-markers-wrap");if(o!==null){var a=void 0,l="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));e.config.chart.type!=="line"&&e.config.chart.type!=="area"||e.globals.comboCharts||e.config.tooltip.intersect||(l+=" no-pointer-events");var c=s.getMarkerConfig({cssClass:l,seriesIndex:Number(o.getAttribute("data:realIndex"))});(a=i.drawMarker(0,0,c)).node.setAttribute("default-marker-size",0);var u=document.createElementNS(e.globals.SVGNS,"g");u.classList.add("apexcharts-series-markers"),u.appendChild(a.node),o.appendChild(u)}}}},{key:"enlargeCurrentPoint",value:function(e,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,n=this.w;n.config.chart.type!=="bubble"&&this.newPointSize(e,i);var o=i.getAttribute("cx"),a=i.getAttribute("cy");if(s!==null&&r!==null&&(o=s,a=r),this.tooltipPosition.moveXCrosshairs(o),!this.fixedTooltip){if(n.config.chart.type==="radar"){var l=this.ttCtx.getElGrid().getBoundingClientRect();o=this.ttCtx.e.clientX-l.left}this.tooltipPosition.moveTooltip(o,a,n.config.markers.hover.size)}}},{key:"enlargePoints",value:function(e){for(var i=this.w,s=this,r=this.ttCtx,n=e,o=i.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),a=i.config.markers.hover.size,l=0;l<o.length;l++){var c=o[l].getAttribute("rel"),u=o[l].getAttribute("index");if(a===void 0&&(a=i.globals.markers.size[u]+i.config.markers.hover.sizeOffset),n===parseInt(c,10)){s.newPointSize(n,o[l]);var h=o[l].getAttribute("cx"),d=o[l].getAttribute("cy");s.tooltipPosition.moveXCrosshairs(h),r.fixedTooltip||s.tooltipPosition.moveTooltip(h,d,a)}else s.oldPointSize(o[l])}}},{key:"newPointSize",value:function(e,i){var s=this.w,r=s.config.markers.hover.size,n=e===0?i.parentNode.firstChild:i.parentNode.lastChild;if(n.getAttribute("default-marker-size")!=="0"){var o=parseInt(n.getAttribute("index"),10);r===void 0&&(r=s.globals.markers.size[o]+s.config.markers.hover.sizeOffset),r<0&&(r=0);var a=this.ttCtx.tooltipUtil.getPathFromPoint(i,r);i.setAttribute("d",a)}}},{key:"oldPointSize",value:function(e){var i=parseFloat(e.getAttribute("default-marker-size")),s=this.ttCtx.tooltipUtil.getPathFromPoint(e,i);e.setAttribute("d",s)}},{key:"resetPointsSize",value:function(){for(var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),i=0;i<e.length;i++){var s=parseFloat(e[i].getAttribute("default-marker-size"));if(O.isNumber(s)&&s>0){var r=this.ttCtx.tooltipUtil.getPathFromPoint(e[i],s);e[i].setAttribute("d",r)}else e[i].setAttribute("d","M0,0")}}}]),t}(),oj=function(){function t(e){J(this,t),this.w=e.w;var i=this.w;this.ttCtx=e,this.isVerticalGroupedRangeBar=!i.globals.isBarHorizontal&&i.config.chart.type==="rangeBar"&&i.config.plotOptions.bar.rangeBarGroupRows}return ee(t,[{key:"getAttr",value:function(e,i){return parseFloat(e.target.getAttribute(i))}},{key:"handleHeatTreeTooltip",value:function(e){var i=e.e,s=e.opt,r=e.x,n=e.y,o=e.type,a=this.ttCtx,l=this.w;if(i.target.classList.contains("apexcharts-".concat(o,"-rect"))){var c=this.getAttr(i,"i"),u=this.getAttr(i,"j"),h=this.getAttr(i,"cx"),d=this.getAttr(i,"cy"),g=this.getAttr(i,"width"),p=this.getAttr(i,"height");if(a.tooltipLabels.drawSeriesTexts({ttItems:s.ttItems,i:c,j:u,shared:!1,e:i}),l.globals.capturedSeriesIndex=c,l.globals.capturedDataPointIndex=u,r=h+a.tooltipRect.ttWidth/2+g,n=d+a.tooltipRect.ttHeight/2-p/2,a.tooltipPosition.moveXCrosshairs(h+g/2),r>l.globals.gridWidth/2&&(r=h-a.tooltipRect.ttWidth/2+g),a.w.config.tooltip.followCursor){var f=l.globals.dom.elWrap.getBoundingClientRect();r=l.globals.clientX-f.left-(r>l.globals.gridWidth/2?a.tooltipRect.ttWidth:0),n=l.globals.clientY-f.top-(n>l.globals.gridHeight/2?a.tooltipRect.ttHeight:0)}}return{x:r,y:n}}},{key:"handleMarkerTooltip",value:function(e){var i,s,r=e.e,n=e.opt,o=e.x,a=e.y,l=this.w,c=this.ttCtx;if(r.target.classList.contains("apexcharts-marker")){var u=parseInt(n.paths.getAttribute("cx"),10),h=parseInt(n.paths.getAttribute("cy"),10),d=parseFloat(n.paths.getAttribute("val"));if(s=parseInt(n.paths.getAttribute("rel"),10),i=parseInt(n.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,c.intersect){var g=O.findAncestor(n.paths,"apexcharts-series");g&&(i=parseInt(g.getAttribute("data:realIndex"),10))}if(c.tooltipLabels.drawSeriesTexts({ttItems:n.ttItems,i,j:s,shared:!c.showOnIntersect&&l.config.tooltip.shared,e:r}),r.type==="mouseup"&&c.markerClick(r,i,s),l.globals.capturedSeriesIndex=i,l.globals.capturedDataPointIndex=s,o=u,a=h+l.globals.translateY-1.4*c.tooltipRect.ttHeight,c.w.config.tooltip.followCursor){var p=c.getElGrid().getBoundingClientRect();a=c.e.clientY+l.globals.translateY-p.top}d<0&&(a=h),c.marker.enlargeCurrentPoint(s,n.paths,o,a)}return{x:o,y:a}}},{key:"handleBarTooltip",value:function(e){var i,s,r=e.e,n=e.opt,o=this.w,a=this.ttCtx,l=a.getElTooltip(),c=0,u=0,h=0,d=this.getBarTooltipXY({e:r,opt:n});if(d.j!==null||d.barHeight!==0||d.barWidth!==0){i=d.i;var g=d.j;if(o.globals.capturedSeriesIndex=i,o.globals.capturedDataPointIndex=g,o.globals.isBarHorizontal&&a.tooltipUtil.hasBars()||!o.config.tooltip.shared?(u=d.x,h=d.y,s=Array.isArray(o.config.stroke.width)?o.config.stroke.width[i]:o.config.stroke.width,c=u):o.globals.comboCharts||o.config.tooltip.shared||(c/=2),isNaN(h)&&(h=o.globals.svgHeight-a.tooltipRect.ttHeight),parseInt(n.paths.parentNode.getAttribute("data:realIndex"),10),u+a.tooltipRect.ttWidth>o.globals.gridWidth?u-=a.tooltipRect.ttWidth:u<0&&(u=0),a.w.config.tooltip.followCursor){var p=a.getElGrid().getBoundingClientRect();h=a.e.clientY-p.top}a.tooltip===null&&(a.tooltip=o.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),o.config.tooltip.shared||(o.globals.comboBarCount>0?a.tooltipPosition.moveXCrosshairs(c+s/2):a.tooltipPosition.moveXCrosshairs(c)),!a.fixedTooltip&&(!o.config.tooltip.shared||o.globals.isBarHorizontal&&a.tooltipUtil.hasBars())&&(h=h+o.globals.translateY-a.tooltipRect.ttHeight/2,l.style.left=u+o.globals.translateX+"px",l.style.top=h+"px")}}},{key:"getBarTooltipXY",value:function(e){var i=this,s=e.e,r=e.opt,n=this.w,o=null,a=this.ttCtx,l=0,c=0,u=0,h=0,d=0,g=s.target.classList;if(g.contains("apexcharts-bar-area")||g.contains("apexcharts-candlestick-area")||g.contains("apexcharts-boxPlot-area")||g.contains("apexcharts-rangebar-area")){var p=s.target,f=p.getBoundingClientRect(),C=r.elGrid.getBoundingClientRect(),m=f.height;d=f.height;var v=f.width,y=parseInt(p.getAttribute("cx"),10),w=parseInt(p.getAttribute("cy"),10);h=parseFloat(p.getAttribute("barWidth"));var x=s.type==="touchmove"?s.touches[0].clientX:s.clientX;o=parseInt(p.getAttribute("j"),10),l=parseInt(p.parentNode.getAttribute("rel"),10)-1;var S=p.getAttribute("data-range-y1"),b=p.getAttribute("data-range-y2");n.globals.comboCharts&&(l=parseInt(p.parentNode.getAttribute("data:realIndex"),10));var R=function(P){return n.globals.isXNumeric?y-v/2:i.isVerticalGroupedRangeBar?y+v/2:y-a.dataPointsDividedWidth+v/2},A=function(){return w-a.dataPointsDividedHeight+m/2-a.tooltipRect.ttHeight/2};a.tooltipLabels.drawSeriesTexts({ttItems:r.ttItems,i:l,j:o,y1:S?parseInt(S,10):null,y2:b?parseInt(b,10):null,shared:!a.showOnIntersect&&n.config.tooltip.shared,e:s}),n.config.tooltip.followCursor?n.globals.isBarHorizontal?(c=x-C.left+15,u=A()):(c=R(),u=s.clientY-C.top-a.tooltipRect.ttHeight/2-15):n.globals.isBarHorizontal?((c=y)<a.xyRatios.baseLineInvertedY&&(c=y-a.tooltipRect.ttWidth),u=A()):(c=R(),u=w)}return{x:c,y:u,barHeight:d,barWidth:h,i:l,j:o}}}]),t}(),aj=function(){function t(e){J(this,t),this.w=e.w,this.ttCtx=e}return ee(t,[{key:"drawXaxisTooltip",value:function(){var e=this.w,i=this.ttCtx,s=e.config.xaxis.position==="bottom";i.xaxisOffY=s?e.globals.gridHeight+1:-e.globals.xAxisHeight-e.config.xaxis.axisTicks.height+3;var r=s?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",n=e.globals.dom.elWrap;i.isXAxisTooltipEnabled&&e.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(i.xaxisTooltip=document.createElement("div"),i.xaxisTooltip.setAttribute("class",r+" apexcharts-theme-"+e.config.tooltip.theme),n.appendChild(i.xaxisTooltip),i.xaxisTooltipText=document.createElement("div"),i.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),i.xaxisTooltipText.style.fontFamily=e.config.xaxis.tooltip.style.fontFamily||e.config.chart.fontFamily,i.xaxisTooltipText.style.fontSize=e.config.xaxis.tooltip.style.fontSize,i.xaxisTooltip.appendChild(i.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var e=this.w,i=this.ttCtx,s=0;s<e.config.yaxis.length;s++){var r=e.config.yaxis[s].opposite||e.config.yaxis[s].crosshairs.opposite;i.yaxisOffX=r?e.globals.gridWidth+1:1;var n="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(s,r?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left"),o=e.globals.dom.elWrap;e.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(s))===null&&(i.yaxisTooltip=document.createElement("div"),i.yaxisTooltip.setAttribute("class",n+" apexcharts-theme-"+e.config.tooltip.theme),o.appendChild(i.yaxisTooltip),s===0&&(i.yaxisTooltipText=[]),i.yaxisTooltipText[s]=document.createElement("div"),i.yaxisTooltipText[s].classList.add("apexcharts-yaxistooltip-text"),i.yaxisTooltip.appendChild(i.yaxisTooltipText[s]))}}},{key:"setXCrosshairWidth",value:function(){var e=this.w,i=this.ttCtx,s=i.getElXCrosshairs();if(i.xcrosshairsWidth=parseInt(e.config.xaxis.crosshairs.width,10),e.globals.comboCharts){var r=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(r!==null&&e.config.xaxis.crosshairs.width==="barWidth"){var n=parseFloat(r.getAttribute("barWidth"));i.xcrosshairsWidth=n}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var o=e.globals.labels.length;i.xcrosshairsWidth=e.globals.gridWidth/o}}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var a=e.globals.labels.length;i.xcrosshairsWidth=e.globals.gridWidth/a}else if(e.config.xaxis.crosshairs.width==="barWidth"){var l=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(l!==null){var c=parseFloat(l.getAttribute("barWidth"));i.xcrosshairsWidth=c}else i.xcrosshairsWidth=1}e.globals.isBarHorizontal&&(i.xcrosshairsWidth=0),s!==null&&i.xcrosshairsWidth>0&&s.setAttribute("width",i.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var e=this.w,i=this.ttCtx;i.ycrosshairs=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),i.ycrosshairsHidden=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(e,i,s){var r=this.ttCtx,n=this.w,o=n.globals,a=o.seriesYAxisMap[e];if(r.yaxisTooltips[e]&&a.length>0){var l=o.yLabelFormatters[e],c=r.getElGrid().getBoundingClientRect(),u=a[0],h=0;s.yRatio.length>1&&(h=u);var d=(i-c.top)*s.yRatio[h],g=o.maxYArr[u]-o.minYArr[u],p=o.minYArr[u]+(g-d);n.config.yaxis[e].reversed&&(p=o.maxYArr[u]-(g-d)),r.tooltipPosition.moveYCrosshairs(i-c.top),r.yaxisTooltipText[e].innerHTML=l(p),r.tooltipPosition.moveYAxisTooltip(e)}}}]),t}(),Hx=function(){function t(e){J(this,t),this.ctx=e,this.w=e.w;var i=this.w;this.tConfig=i.config.tooltip,this.tooltipUtil=new HP(this),this.tooltipLabels=new rj(this),this.tooltipPosition=new NP(this),this.marker=new nj(this),this.intersect=new oj(this),this.axesTooltip=new aj(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!i.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return ee(t,[{key:"getElTooltip",value:function(e){return e||(e=this),e.w.globals.dom.baseEl?e.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(e){var i=this.w;this.xyRatios=e,this.isXAxisTooltipEnabled=i.config.xaxis.tooltip.enabled&&i.globals.axisCharts,this.yaxisTooltips=i.config.yaxis.map(function(o,a){return!!(o.show&&o.tooltip.enabled&&i.globals.axisCharts)}),this.allTooltipSeriesGroups=[],i.globals.axisCharts||(this.showTooltipTitle=!1);var s=document.createElement("div");if(s.classList.add("apexcharts-tooltip"),i.config.tooltip.cssClass&&s.classList.add(i.config.tooltip.cssClass),s.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),i.globals.dom.elWrap.appendChild(s),i.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var r=new Tl(this.ctx);this.xAxisTicksPositions=r.getXAxisTicksPositions()}if(!i.globals.comboCharts&&!this.tConfig.intersect&&i.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),i.config.markers.size!==0&&i.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),i.globals.collapsedSeries.length!==i.globals.series.length){this.dataPointsDividedHeight=i.globals.gridHeight/i.globals.dataPoints,this.dataPointsDividedWidth=i.globals.gridWidth/i.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||i.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,s.appendChild(this.tooltipTitle));var n=i.globals.series.length;(i.globals.xyCharts||i.globals.comboCharts)&&this.tConfig.shared&&(n=this.showOnIntersect?1:i.globals.series.length),this.legendLabels=i.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(n),this.addSVGEvents()}}},{key:"createTTElements",value:function(e){for(var i=this,s=this.w,r=[],n=this.getElTooltip(),o=function(l){var c=document.createElement("div");c.classList.add("apexcharts-tooltip-series-group","apexcharts-tooltip-series-group-".concat(l)),c.style.order=s.config.tooltip.inverseOrder?e-l:l+1;var u=document.createElement("span");u.classList.add("apexcharts-tooltip-marker"),u.style.backgroundColor=s.globals.colors[l],c.appendChild(u);var h=document.createElement("div");h.classList.add("apexcharts-tooltip-text"),h.style.fontFamily=i.tConfig.style.fontFamily||s.config.chart.fontFamily,h.style.fontSize=i.tConfig.style.fontSize,["y","goals","z"].forEach(function(d){var g=document.createElement("div");g.classList.add("apexcharts-tooltip-".concat(d,"-group"));var p=document.createElement("span");p.classList.add("apexcharts-tooltip-text-".concat(d,"-label")),g.appendChild(p);var f=document.createElement("span");f.classList.add("apexcharts-tooltip-text-".concat(d,"-value")),g.appendChild(f),h.appendChild(g)}),c.appendChild(h),n.appendChild(c),r.push(c)},a=0;a<e;a++)o(a);return r}},{key:"addSVGEvents",value:function(){var e=this.w,i=e.config.chart.type,s=this.getElTooltip(),r=!(i!=="bar"&&i!=="candlestick"&&i!=="boxPlot"&&i!=="rangeBar"),n=i==="area"||i==="line"||i==="scatter"||i==="bubble"||i==="radar",o=e.globals.dom.Paper.node,a=this.getElGrid();a&&(this.seriesBound=a.getBoundingClientRect());var l,c=[],u=[],h={hoverArea:o,elGrid:a,tooltipEl:s,tooltipY:c,tooltipX:u,ttItems:this.ttItems};if(e.globals.axisCharts&&(n?l=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):r?l=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):i!=="heatmap"&&i!=="treemap"||(l=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),l&&l.length))for(var d=0;d<l.length;d++)c.push(l[d].getAttribute("cy")),u.push(l[d].getAttribute("cx"));if(e.globals.xyCharts&&!this.showOnIntersect||e.globals.comboCharts&&!this.showOnIntersect||r&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([o],h);else if(r&&!e.globals.comboCharts||n&&this.showOnIntersect)this.addDatapointEventsListeners(h);else if(!e.globals.axisCharts||i==="heatmap"||i==="treemap"){var g=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(g,h)}if(this.showOnIntersect){var p=e.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");p.length>0&&this.addPathsEventListeners(p,h),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(h)}}},{key:"drawFixedTooltipRect",value:function(){var e=this.w,i=this.getElTooltip(),s=i.getBoundingClientRect(),r=s.width+10,n=s.height+10,o=this.tConfig.fixed.offsetX,a=this.tConfig.fixed.offsetY,l=this.tConfig.fixed.position.toLowerCase();return l.indexOf("right")>-1&&(o=o+e.globals.svgWidth-r+10),l.indexOf("bottom")>-1&&(a=a+e.globals.svgHeight-n-10),i.style.left=o+"px",i.style.top=a+"px",{x:o,y:a,ttWidth:r,ttHeight:n}}},{key:"addDatapointEventsListeners",value:function(e){var i=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(i,e)}},{key:"addPathsEventListeners",value:function(e,i){for(var s=this,r=function(o){var a={paths:e[o],tooltipEl:i.tooltipEl,tooltipY:i.tooltipY,tooltipX:i.tooltipX,elGrid:i.elGrid,hoverArea:i.hoverArea,ttItems:i.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(l){return e[o].addEventListener(l,s.onSeriesHover.bind(s,a),{capture:!1,passive:!0})})},n=0;n<e.length;n++)r(n)}},{key:"onSeriesHover",value:function(e,i){var s=this,r=Date.now()-this.lastHoverTime;r>=20?this.seriesHover(e,i):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){s.seriesHover(e,i)},20-r))}},{key:"seriesHover",value:function(e,i){var s=this;this.lastHoverTime=Date.now();var r=[],n=this.w;n.config.chart.group&&(r=this.ctx.getGroupedCharts()),n.globals.axisCharts&&(n.globals.minX===-1/0&&n.globals.maxX===1/0||n.globals.dataPoints===0)||(r.length?r.forEach(function(o){var a=s.getElTooltip(o),l={paths:e.paths,tooltipEl:a,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:o.w.globals.tooltip.ttItems};o.w.globals.minX===s.w.globals.minX&&o.w.globals.maxX===s.w.globals.maxX&&o.w.globals.tooltip.seriesHoverByContext({chartCtx:o,ttCtx:o.w.globals.tooltip,opt:l,e:i})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:e,e:i}))}},{key:"seriesHoverByContext",value:function(e){var i=e.chartCtx,s=e.ttCtx,r=e.opt,n=e.e,o=i.w,a=this.getElTooltip(i);a&&(s.tooltipRect={x:0,y:0,ttWidth:a.getBoundingClientRect().width,ttHeight:a.getBoundingClientRect().height},s.e=n,s.tooltipUtil.hasBars()&&!o.globals.comboCharts&&!s.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new Ii(i).toggleSeriesOnHover(n,n.target.parentNode),s.fixedTooltip&&s.drawFixedTooltipRect(),o.globals.axisCharts?s.axisChartsTooltips({e:n,opt:r,tooltipRect:s.tooltipRect}):s.nonAxisChartsTooltips({e:n,opt:r,tooltipRect:s.tooltipRect}))}},{key:"axisChartsTooltips",value:function(e){var i,s,r=e.e,n=e.opt,o=this.w,a=n.elGrid.getBoundingClientRect(),l=r.type==="touchmove"?r.touches[0].clientX:r.clientX,c=r.type==="touchmove"?r.touches[0].clientY:r.clientY;if(this.clientY=c,this.clientX=l,o.globals.capturedSeriesIndex=-1,o.globals.capturedDataPointIndex=-1,c<a.top||c>a.top+a.height)this.handleMouseOut(n);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!o.config.tooltip.shared){var u=parseInt(n.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(u)<0)return void this.handleMouseOut(n)}var h=this.getElTooltip(),d=this.getElXCrosshairs(),g=[];o.config.chart.group&&(g=this.ctx.getSyncedCharts());var p=o.globals.xyCharts||o.config.chart.type==="bar"&&!o.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||o.globals.comboCharts&&this.tooltipUtil.hasBars();if(r.type==="mousemove"||r.type==="touchmove"||r.type==="mouseup"){if(o.globals.collapsedSeries.length+o.globals.ancillaryCollapsedSeries.length===o.globals.series.length)return;d!==null&&d.classList.add("apexcharts-active");var f=this.yaxisTooltips.filter(function(v){return v===!0});if(this.ycrosshairs!==null&&f.length&&this.ycrosshairs.classList.add("apexcharts-active"),p&&!this.showOnIntersect||g.length>1)this.handleStickyTooltip(r,l,c,n);else if(o.config.chart.type==="heatmap"||o.config.chart.type==="treemap"){var C=this.intersect.handleHeatTreeTooltip({e:r,opt:n,x:i,y:s,type:o.config.chart.type});i=C.x,s=C.y,h.style.left=i+"px",h.style.top=s+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:r,opt:n}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:r,opt:n,x:i,y:s});if(this.yaxisTooltips.length)for(var m=0;m<o.config.yaxis.length;m++)this.axesTooltip.drawYaxisTooltipText(m,c,this.xyRatios);o.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),n.tooltipEl.classList.add("apexcharts-active")}else r.type!=="mouseout"&&r.type!=="touchend"||this.handleMouseOut(n)}}},{key:"nonAxisChartsTooltips",value:function(e){var i=e.e,s=e.opt,r=e.tooltipRect,n=this.w,o=s.paths.getAttribute("rel"),a=this.getElTooltip(),l=n.globals.dom.elWrap.getBoundingClientRect();if(i.type==="mousemove"||i.type==="touchmove"){n.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),a.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:s.ttItems,i:parseInt(o,10)-1,shared:!1});var c=n.globals.clientX-l.left-r.ttWidth/2,u=n.globals.clientY-l.top-r.ttHeight-10;if(a.style.left=c+"px",a.style.top=u+"px",n.config.legend.tooltipHoverFormatter){var h=o-1,d=(0,n.config.legend.tooltipHoverFormatter)(this.legendLabels[h].getAttribute("data:default-text"),{seriesIndex:h,dataPointIndex:h,w:n});this.legendLabels[h].innerHTML=d}}else i.type!=="mouseout"&&i.type!=="touchend"||(a.classList.remove("apexcharts-active"),n.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),n.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(g){var p=g.getAttribute("data:default-text");g.innerHTML=decodeURIComponent(p)}))}},{key:"handleStickyTooltip",value:function(e,i,s,r){var n=this.w,o=this.tooltipUtil.getNearestValues({context:this,hoverArea:r.hoverArea,elGrid:r.elGrid,clientX:i,clientY:s}),a=o.j,l=o.capturedSeries;n.globals.collapsedSeriesIndices.includes(l)&&(l=null);var c=r.elGrid.getBoundingClientRect();if(o.hoverX<0||o.hoverX>c.width)this.handleMouseOut(r);else if(l!==null)this.handleStickyCapturedSeries(e,l,r,a);else if(this.tooltipUtil.isXoverlap(a)||n.globals.isBarHorizontal){var u=n.globals.series.findIndex(function(h,d){return!n.globals.collapsedSeriesIndices.includes(d)});this.create(e,this,u,a,r.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(e,i,s,r){var n=this.w;if(!this.tConfig.shared&&n.globals.series[i][r]===null)return void this.handleMouseOut(s);if(n.globals.series[i][r]!==void 0)this.tConfig.shared&&this.tooltipUtil.isXoverlap(r)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(e,this,i,r,s.ttItems):this.create(e,this,i,r,s.ttItems,!1);else if(this.tooltipUtil.isXoverlap(r)){var o=n.globals.series.findIndex(function(a,l){return!n.globals.collapsedSeriesIndices.includes(l)});this.create(e,this,o,r,s.ttItems)}}},{key:"deactivateHoverFilter",value:function(){for(var e=this.w,i=new Y(this.ctx),s=e.globals.dom.Paper.find(".apexcharts-bar-area"),r=0;r<s.length;r++)i.pathMouseLeave(s[r])}},{key:"handleMouseOut",value:function(e){var i=this.w,s=this.getElXCrosshairs();if(i.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),e.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),i.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),s!==null&&s.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=i.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var r=0;r<this.yaxisTTEls.length;r++)this.yaxisTTEls[r].classList.remove("apexcharts-active")}i.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(n){var o=n.getAttribute("data:default-text");n.innerHTML=decodeURIComponent(o)})}},{key:"markerClick",value:function(e,i,s){var r=this.w;typeof r.config.chart.events.markerClick=="function"&&r.config.chart.events.markerClick(e,this.ctx,{seriesIndex:i,dataPointIndex:s,w:r}),this.ctx.events.fireEvent("markerClick",[e,this.ctx,{seriesIndex:i,dataPointIndex:s,w:r}])}},{key:"create",value:function(e,i,s,r,n){var o,a,l,c,u,h,d,g,p,f,C,m,v,y,w,x,S=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,b=this.w,R=i;e.type==="mouseup"&&this.markerClick(e,s,r),S===null&&(S=this.tConfig.shared);var A=this.tooltipUtil.hasMarkers(s),P=this.tooltipUtil.getElBars();if(b.config.legend.tooltipHoverFormatter){var E=b.config.legend.tooltipHoverFormatter,L=Array.from(this.legendLabels);L.forEach(function(U){var te=U.getAttribute("data:default-text");U.innerHTML=decodeURIComponent(te)});for(var M=0;M<L.length;M++){var I=L[M],z=parseInt(I.getAttribute("i"),10),D=decodeURIComponent(I.getAttribute("data:default-text")),T=E(D,{seriesIndex:S?z:s,dataPointIndex:r,w:b});if(S)I.innerHTML=b.globals.collapsedSeriesIndices.indexOf(z)<0?T:D;else if(I.innerHTML=z===s?T:D,s===z)break}}var k=Q(Q({ttItems:n,i:s,j:r},((o=b.globals.seriesRange)===null||o===void 0||(a=o[s])===null||a===void 0||(l=a[r])===null||l===void 0||(c=l.y[0])===null||c===void 0?void 0:c.y1)!==void 0&&{y1:(u=b.globals.seriesRange)===null||u===void 0||(h=u[s])===null||h===void 0||(d=h[r])===null||d===void 0||(g=d.y[0])===null||g===void 0?void 0:g.y1}),((p=b.globals.seriesRange)===null||p===void 0||(f=p[s])===null||f===void 0||(C=f[r])===null||C===void 0||(m=C.y[0])===null||m===void 0?void 0:m.y2)!==void 0&&{y2:(v=b.globals.seriesRange)===null||v===void 0||(y=v[s])===null||y===void 0||(w=y[r])===null||w===void 0||(x=w.y[0])===null||x===void 0?void 0:x.y2});if(S){if(R.tooltipLabels.drawSeriesTexts(Q(Q({},k),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),A)b.globals.markers.largestSize>0?R.marker.enlargePoints(r):R.tooltipPosition.moveDynamicPointsOnHover(r);else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(P),this.barSeriesHeight>0)){var H=new Y(this.ctx),N=b.globals.dom.Paper.find(".apexcharts-bar-area[j='".concat(r,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(r,s);for(var G=0;G<N.length;G++)H.pathMouseEnter(N[G])}}else R.tooltipLabels.drawSeriesTexts(Q({shared:!1},k)),this.tooltipUtil.hasBars()&&R.tooltipPosition.moveStickyTooltipOverBars(r,s),A&&R.tooltipPosition.moveMarkers(s,r)}}]),t}(),lj=function(){function t(e){J(this,t),this.w=e.w,this.barCtx=e,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return ee(t,[{key:"handleBarDataLabels",value:function(e){var i,s,r=e.x,n=e.y,o=e.y1,a=e.y2,l=e.i,c=e.j,u=e.realIndex,h=e.columnGroupIndex,d=e.series,g=e.barHeight,p=e.barWidth,f=e.barXPosition,C=e.barYPosition,m=e.visibleSeries,v=e.renderedPath,y=this.w,w=new Y(this.barCtx.ctx),x=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[u]:this.barCtx.strokeWidth;y.globals.isXNumeric&&!y.globals.isBarHorizontal?(i=r+parseFloat(p*(m+1)),s=n+parseFloat(g*(m+1))-x):(i=r+parseFloat(p*m),s=n+parseFloat(g*m));var S,b=null,R=r,A=n,P={},E=y.config.dataLabels,L=this.barCtx.barOptions.dataLabels,M=this.barCtx.barOptions.dataLabels.total;C!==void 0&&this.barCtx.isRangeBar&&(s=C,A=C),f!==void 0&&this.barCtx.isVerticalGroupedRangeBar&&(i=f,R=f);var I=E.offsetX,z=E.offsetY,D={width:0,height:0};if(y.config.dataLabels.enabled){var T=y.globals.series[l][c];D=w.getTextRects(y.config.dataLabels.formatter?y.config.dataLabels.formatter(T,Q(Q({},y),{},{seriesIndex:l,dataPointIndex:c,w:y})):y.globals.yLabelFormatters[0](T),parseFloat(E.style.fontSize))}var k={x:r,y:n,i:l,j:c,realIndex:u,columnGroupIndex:h,renderedPath:v,bcx:i,bcy:s,barHeight:g,barWidth:p,textRects:D,strokeWidth:x,dataLabelsX:R,dataLabelsY:A,dataLabelsConfig:E,barDataLabelsConfig:L,barTotalDataLabelsConfig:M,offX:I,offY:z};return P=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(k):this.calculateColumnsDataLabelsPosition(k),v.attr({cy:P.bcy,cx:P.bcx,j:c,val:y.globals.series[l][c],barHeight:g,barWidth:p}),S=this.drawCalculatedDataLabels({x:P.dataLabelsX,y:P.dataLabelsY,val:this.barCtx.isRangeBar?[o,a]:y.config.chart.stackType==="100%"?d[u][c]:y.globals.series[u][c],i:u,j:c,barWidth:p,barHeight:g,textRects:D,dataLabelsConfig:E}),y.config.chart.stacked&&M.enabled&&(b=this.drawTotalDataLabels({x:P.totalDataLabelsX,y:P.totalDataLabelsY,barWidth:p,barHeight:g,realIndex:u,textAnchor:P.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:u,j:c}),dataLabelsConfig:E,barTotalDataLabelsConfig:M})),{dataLabels:S,totalDataLabels:b}}},{key:"getStackedTotalDataLabel",value:function(e){var i=e.realIndex,s=e.j,r=this.w,n=this.barCtx.stackedSeriesTotals[s];return this.totalFormatter&&(n=this.totalFormatter(n,Q(Q({},r),{},{seriesIndex:i,dataPointIndex:s,w:r}))),n}},{key:"calculateColumnsDataLabelsPosition",value:function(e){var i=this.w,s=e.i,r=e.j,n=e.realIndex;e.columnGroupIndex;var o,a,l=e.y,c=e.bcx,u=e.barWidth,h=e.barHeight,d=e.textRects,g=e.dataLabelsX,p=e.dataLabelsY,f=e.dataLabelsConfig,C=e.barDataLabelsConfig,m=e.barTotalDataLabelsConfig,v=e.strokeWidth,y=e.offX,w=e.offY,x=c;h=Math.abs(h);var S=i.config.plotOptions.bar.dataLabels.orientation==="vertical",b=this.barCtx.barHelpers.getZeroValueEncounters({i:s,j:r}).zeroEncounters;c-=v/2;var R=i.globals.gridWidth/i.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?g+=u/2:(g=i.globals.isXNumeric?c-u/2+y:c-R+u/2+y,b>0&&i.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(g-=u*b)),S&&(g=g+d.height/2-v/2-2);var A=i.globals.series[s][r]<0,P=l;switch(this.barCtx.isReversed&&(P=l+(A?h:-h)),C.position){case"center":p=S?A?P-h/2+w:P+h/2-w:A?P-h/2+d.height/2+w:P+h/2+d.height/2-w;break;case"bottom":p=S?A?P-h+w:P+h-w:A?P-h+d.height+v+w:P+h-d.height/2+v-w;break;case"top":p=S?A?P+w:P-w:A?P-d.height/2-w:P+d.height+w}if(this.barCtx.lastActiveBarSerieIndex===n&&m.enabled){var E=new Y(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:n,j:r}),f.fontSize);o=A?P-E.height/2-w-m.offsetY+18:P+E.height+w+m.offsetY-18;var L=R;a=x+(i.globals.isXNumeric?-u*i.globals.barGroups.length/2:i.globals.barGroups.length*u/2-(i.globals.barGroups.length-1)*u-L)+m.offsetX}return i.config.chart.stacked||(p<0?p=0+v:p+d.height/3>i.globals.gridHeight&&(p=i.globals.gridHeight-v)),{bcx:c,bcy:l,dataLabelsX:g,dataLabelsY:p,totalDataLabelsX:a,totalDataLabelsY:o,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(e){var i=this.w,s=e.x,r=e.i,n=e.j,o=e.realIndex,a=e.bcy,l=e.barHeight,c=e.barWidth,u=e.textRects,h=e.dataLabelsX,d=e.strokeWidth,g=e.dataLabelsConfig,p=e.barDataLabelsConfig,f=e.barTotalDataLabelsConfig,C=e.offX,m=e.offY,v=i.globals.gridHeight/i.globals.dataPoints;c=Math.abs(c);var y,w,x=a-(this.barCtx.isRangeBar?0:v)+l/2+u.height/2+m-3,S="start",b=i.globals.series[r][n]<0,R=s;switch(this.barCtx.isReversed&&(R=s+(b?-c:c),S=b?"start":"end"),p.position){case"center":h=b?R+c/2-C:Math.max(u.width/2,R-c/2)+C;break;case"bottom":h=b?R+c-d-C:R-c+d+C;break;case"top":h=b?R-d-C:R-d+C}if(this.barCtx.lastActiveBarSerieIndex===o&&f.enabled){var A=new Y(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:o,j:n}),g.fontSize);b?(y=R-d-C-f.offsetX,S="end"):y=R+C+f.offsetX+(this.barCtx.isReversed?-(c+d):d),w=x-u.height/2+A.height/2+f.offsetY+d}return i.config.chart.stacked||(g.textAnchor==="start"?h-u.width<0?h=b?u.width+d:d:h+u.width>i.globals.gridWidth&&(h=b?i.globals.gridWidth-d:i.globals.gridWidth-u.width-d):g.textAnchor==="middle"?h-u.width/2<0?h=u.width/2+d:h+u.width/2>i.globals.gridWidth&&(h=i.globals.gridWidth-u.width/2-d):g.textAnchor==="end"&&(h<1?h=u.width+d:h+1>i.globals.gridWidth&&(h=i.globals.gridWidth-u.width-d))),{bcx:s,bcy:a,dataLabelsX:h,dataLabelsY:x,totalDataLabelsX:y,totalDataLabelsY:w,totalDataLabelsAnchor:S}}},{key:"drawCalculatedDataLabels",value:function(e){var i=e.x,s=e.y,r=e.val,n=e.i,o=e.j,a=e.textRects,l=e.barHeight,c=e.barWidth,u=e.dataLabelsConfig,h=this.w,d="rotate(0)";h.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(d="rotate(-90, ".concat(i,", ").concat(s,")"));var g=new No(this.barCtx.ctx),p=new Y(this.barCtx.ctx),f=u.formatter,C=null,m=h.globals.collapsedSeriesIndices.indexOf(n)>-1;if(u.enabled&&!m){C=p.group({class:"apexcharts-data-labels",transform:d});var v="";r!==void 0&&(v=f(r,Q(Q({},h),{},{seriesIndex:n,dataPointIndex:o,w:h}))),!r&&h.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(v="");var y=h.globals.series[n][o]<0,w=h.config.plotOptions.bar.dataLabels.position;h.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(w==="top"&&(u.textAnchor=y?"end":"start"),w==="center"&&(u.textAnchor="middle"),w==="bottom"&&(u.textAnchor=y?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&c<p.getTextRects(v,parseFloat(u.style.fontSize)).width&&(v=""),h.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?a.width/1.6>Math.abs(c)&&(v=""):a.height/1.6>Math.abs(l)&&(v=""));var x=Q({},u);this.barCtx.isHorizontal&&r<0&&(u.textAnchor==="start"?x.textAnchor="end":u.textAnchor==="end"&&(x.textAnchor="start")),g.plotDataLabelsText({x:i,y:s,text:v,i:n,j:o,parent:C,dataLabelsConfig:x,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return C}},{key:"drawTotalDataLabels",value:function(e){var i=e.x,s=e.y,r=e.val,n=e.realIndex,o=e.textAnchor,a=e.barTotalDataLabelsConfig;this.w;var l,c=new Y(this.barCtx.ctx);return a.enabled&&i!==void 0&&s!==void 0&&this.barCtx.lastActiveBarSerieIndex===n&&(l=c.drawText({x:i,y:s,foreColor:a.style.color,text:r,textAnchor:o,fontFamily:a.style.fontFamily,fontSize:a.style.fontSize,fontWeight:a.style.fontWeight})),l}}]),t}(),cj=function(){function t(e){J(this,t),this.w=e.w,this.barCtx=e}return ee(t,[{key:"initVariables",value:function(e){var i=this.w;this.barCtx.series=e,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var s=0;s<e.length;s++)if(e[s].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=e[s].length),i.globals.isXNumeric)for(var r=0;r<e[s].length;r++)i.globals.seriesX[s][r]>i.globals.minX&&i.globals.seriesX[s][r]<i.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=i.globals.dataPoints;this.arrBorderRadius=this.createBorderRadiusArr(i.globals.series),this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],i.globals.comboCharts||this.checkZeroSeries({series:e})}},{key:"initialPositions",value:function(){var e,i,s,r,n,o,a,l,c=this.w,u=c.globals.dataPoints;this.barCtx.isRangeBar&&(u=c.globals.labels.length);var h=this.barCtx.seriesLen;if(c.config.plotOptions.bar.rangeBarGroupRows&&(h=1),this.barCtx.isHorizontal)n=(s=c.globals.gridHeight/u)/h,c.globals.isXNumeric&&(n=(s=c.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),n=n*parseInt(this.barCtx.barOptions.barHeight,10)/100,String(this.barCtx.barOptions.barHeight).indexOf("%")===-1&&(n=parseInt(this.barCtx.barOptions.barHeight,10)),l=this.barCtx.baseLineInvertedY+c.globals.padHorizontal+(this.barCtx.isReversed?c.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(l=c.globals.gridWidth/2),i=(s-n*this.barCtx.seriesLen)/2;else{if(r=c.globals.gridWidth/this.barCtx.visibleItems,c.config.xaxis.convertedCatToNumeric&&(r=c.globals.gridWidth/c.globals.dataPoints),o=r/h*parseInt(this.barCtx.barOptions.columnWidth,10)/100,c.globals.isXNumeric){var d=this.barCtx.xRatio;c.globals.minXDiff&&c.globals.minXDiff!==.5&&c.globals.minXDiff/d>0&&(r=c.globals.minXDiff/d),(o=r/h*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(o=1)}String(this.barCtx.barOptions.columnWidth).indexOf("%")===-1&&(o=parseInt(this.barCtx.barOptions.columnWidth,10)),a=c.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.translationsIndex]-(this.barCtx.isReversed?c.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.translationsIndex]:0),e=c.globals.padHorizontal+(r-o*this.barCtx.seriesLen)/2}return c.globals.barHeight=n,c.globals.barWidth=o,{x:e,y:i,yDivision:s,xDivision:r,barHeight:n,barWidth:o,zeroH:a,zeroW:l}}},{key:"initializeStackedPrevVars",value:function(e){e.w.globals.seriesGroups.forEach(function(i){e[i]||(e[i]={}),e[i].prevY=[],e[i].prevX=[],e[i].prevYF=[],e[i].prevXF=[],e[i].prevYVal=[],e[i].prevXVal=[]})}},{key:"initializeStackedXYVars",value:function(e){e.w.globals.seriesGroups.forEach(function(i){e[i]||(e[i]={}),e[i].xArrj=[],e[i].xArrjF=[],e[i].xArrjVal=[],e[i].yArrj=[],e[i].yArrjF=[],e[i].yArrjVal=[]})}},{key:"getPathFillColor",value:function(e,i,s,r){var n,o,a,l,c=this.w,u=this.barCtx.ctx.fill,h=null,d=this.barCtx.barOptions.distributed?s:i;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(g){e[i][s]>=g.from&&e[i][s]<=g.to&&(h=g.color)}),u.fillPath({seriesNumber:this.barCtx.barOptions.distributed?d:r,dataPointIndex:s,color:h,value:e[i][s],fillConfig:(n=c.config.series[i].data[s])===null||n===void 0?void 0:n.fill,fillType:(o=c.config.series[i].data[s])!==null&&o!==void 0&&(a=o.fill)!==null&&a!==void 0&&a.type?(l=c.config.series[i].data[s])===null||l===void 0?void 0:l.fill.type:Array.isArray(c.config.fill.type)?c.config.fill.type[r]:c.config.fill.type})}},{key:"getStrokeWidth",value:function(e,i,s){var r=0,n=this.w;return this.barCtx.series[e][i]?this.barCtx.isNullValue=!1:this.barCtx.isNullValue=!0,n.config.stroke.show&&(this.barCtx.isNullValue||(r=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[s]:this.barCtx.strokeWidth)),r}},{key:"createBorderRadiusArr",value:function(e){var i,s=this.w,r=!this.w.config.chart.stacked||s.config.plotOptions.bar.borderRadius<=0,n=e.length,o=0|((i=e[0])===null||i===void 0?void 0:i.length),a=Array.from({length:n},function(){return Array(o).fill(r?"top":"none")});if(r)return a;for(var l=0;l<o;l++){for(var c=[],u=[],h=0,d=0;d<n;d++){var g=e[d][l];g>0?(c.push(d),h++):g<0&&(u.push(d),h++)}if(c.length>0&&u.length===0)if(c.length===1)a[c[0]][l]="both";else{var p,f=c[0],C=c[c.length-1],m=ka(c);try{for(m.s();!(p=m.n()).done;){var v=p.value;a[v][l]=v===f?"bottom":v===C?"top":"none"}}catch(D){m.e(D)}finally{m.f()}}else if(u.length>0&&c.length===0)if(u.length===1)a[u[0]][l]="both";else{var y,w=Math.max.apply(Math,u),x=Math.min.apply(Math,u),S=ka(u);try{for(S.s();!(y=S.n()).done;){var b=y.value;a[b][l]=b===w?"bottom":b===x?"top":"none"}}catch(D){S.e(D)}finally{S.f()}}else if(c.length>0&&u.length>0){var R,A=c[c.length-1],P=ka(c);try{for(P.s();!(R=P.n()).done;){var E=R.value;a[E][l]=E===A?"top":"none"}}catch(D){P.e(D)}finally{P.f()}var L,M=Math.max.apply(Math,u),I=ka(u);try{for(I.s();!(L=I.n()).done;){var z=L.value;a[z][l]=z===M?"bottom":"none"}}catch(D){I.e(D)}finally{I.f()}}else h===1&&(a[c[0]||u[0]][l]="both")}return a}},{key:"barBackground",value:function(e){var i=e.j,s=e.i,r=e.x1,n=e.x2,o=e.y1,a=e.y2,l=e.elSeries,c=this.w,u=new Y(this.barCtx.ctx),h=new Ii(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&h===s){i>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(i%=this.barCtx.barOptions.colors.backgroundBarColors.length);var d=this.barCtx.barOptions.colors.backgroundBarColors[i],g=u.drawRect(r!==void 0?r:0,o!==void 0?o:0,n!==void 0?n:c.globals.gridWidth,a!==void 0?a:c.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,d,this.barCtx.barOptions.colors.backgroundBarOpacity);l.add(g),g.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(e){var i,s=e.barWidth,r=e.barXPosition,n=e.y1,o=e.y2,a=e.strokeWidth,l=e.isReversed,c=e.series,u=e.seriesGroup,h=e.realIndex,d=e.i,g=e.j,p=e.w,f=new Y(this.barCtx.ctx);(a=Array.isArray(a)?a[h]:a)||(a=0);var C=s,m=r;(i=p.config.series[h].data[g])!==null&&i!==void 0&&i.columnWidthOffset&&(m=r-p.config.series[h].data[g].columnWidthOffset/2,C=s+p.config.series[h].data[g].columnWidthOffset);var v=a/2,y=m+v,w=m+C-v,x=(c[d][g]>=0?1:-1)*(l?-1:1);n+=.001-v*x,o+=.001+v*x;var S=f.move(y,n),b=f.move(y,n),R=f.line(w,n);if(p.globals.previousPaths.length>0&&(b=this.barCtx.getPreviousPath(h,g,!1)),S=S+f.line(y,o)+f.line(w,o)+R+(p.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[h][g]==="both"?" Z":" z"),b=b+f.line(y,n)+R+R+R+R+R+f.line(y,n)+(p.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[h][g]==="both"?" Z":" z"),this.arrBorderRadius[h][g]!=="none"&&(S=f.roundPathCorners(S,p.config.plotOptions.bar.borderRadius)),p.config.chart.stacked){var A=this.barCtx;(A=this.barCtx[u]).yArrj.push(o-v*x),A.yArrjF.push(Math.abs(n-o+a*x)),A.yArrjVal.push(this.barCtx.series[d][g])}return{pathTo:S,pathFrom:b}}},{key:"getBarpaths",value:function(e){var i,s=e.barYPosition,r=e.barHeight,n=e.x1,o=e.x2,a=e.strokeWidth,l=e.isReversed,c=e.series,u=e.seriesGroup,h=e.realIndex,d=e.i,g=e.j,p=e.w,f=new Y(this.barCtx.ctx);(a=Array.isArray(a)?a[h]:a)||(a=0);var C=s,m=r;(i=p.config.series[h].data[g])!==null&&i!==void 0&&i.barHeightOffset&&(C=s-p.config.series[h].data[g].barHeightOffset/2,m=r+p.config.series[h].data[g].barHeightOffset);var v=a/2,y=C+v,w=C+m-v,x=(c[d][g]>=0?1:-1)*(l?-1:1);n+=.001+v*x,o+=.001-v*x;var S=f.move(n,y),b=f.move(n,y);p.globals.previousPaths.length>0&&(b=this.barCtx.getPreviousPath(h,g,!1));var R=f.line(n,w);if(S=S+f.line(o,y)+f.line(o,w)+R+(p.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[h][g]==="both"?" Z":" z"),b=b+f.line(n,y)+R+R+R+R+R+f.line(n,y)+(p.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[h][g]==="both"?" Z":" z"),this.arrBorderRadius[h][g]!=="none"&&(S=f.roundPathCorners(S,p.config.plotOptions.bar.borderRadius)),p.config.chart.stacked){var A=this.barCtx;(A=this.barCtx[u]).xArrj.push(o+v*x),A.xArrjF.push(Math.abs(n-o-a*x)),A.xArrjVal.push(this.barCtx.series[d][g])}return{pathTo:S,pathFrom:b}}},{key:"checkZeroSeries",value:function(e){for(var i=e.series,s=this.w,r=0;r<i.length;r++){for(var n=0,o=0;o<i[s.globals.maxValsInArrayIndex].length;o++)n+=i[r][o];n===0&&this.barCtx.zeroSerieses.push(r)}}},{key:"getXForValue",value:function(e,i){var s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?i:null;return e!=null&&(s=i+e/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?e/this.barCtx.invertedYRatio:0)),s}},{key:"getYForValue",value:function(e,i,s){var r=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3]?i:null;return e!=null&&(r=i-e/this.barCtx.yRatio[s]+2*(this.barCtx.isReversed?e/this.barCtx.yRatio[s]:0)),r}},{key:"getGoalValues",value:function(e,i,s,r,n,o){var a=this,l=this.w,c=[],u=function(g,p){var f;c.push((hh(f={},e,e==="x"?a.getXForValue(g,i,!1):a.getYForValue(g,s,o,!1)),hh(f,"attrs",p),f))};if(l.globals.seriesGoals[r]&&l.globals.seriesGoals[r][n]&&Array.isArray(l.globals.seriesGoals[r][n])&&l.globals.seriesGoals[r][n].forEach(function(g){u(g.value,g)}),this.barCtx.barOptions.isDumbbell&&l.globals.seriesRange.length){var h=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:l.globals.colors,d={strokeHeight:e==="x"?0:l.globals.markers.size[r],strokeWidth:e==="x"?l.globals.markers.size[r]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(h[r])?h[r][0]:h[r]};u(l.globals.seriesRangeStart[r][n],d),u(l.globals.seriesRangeEnd[r][n],Q(Q({},d),{},{strokeColor:Array.isArray(h[r])?h[r][1]:h[r]}))}return c}},{key:"drawGoalLine",value:function(e){var i=e.barXPosition,s=e.barYPosition,r=e.goalX,n=e.goalY,o=e.barWidth,a=e.barHeight,l=new Y(this.barCtx.ctx),c=l.group({className:"apexcharts-bar-goals-groups"});c.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:c.node}),c.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var u=null;return this.barCtx.isHorizontal?Array.isArray(r)&&r.forEach(function(h){if(h.x>=-1&&h.x<=l.w.globals.gridWidth+1){var d=h.attrs.strokeHeight!==void 0?h.attrs.strokeHeight:a/2,g=s+d+a/2;u=l.drawLine(h.x,g-2*d,h.x,g,h.attrs.strokeColor?h.attrs.strokeColor:void 0,h.attrs.strokeDashArray,h.attrs.strokeWidth?h.attrs.strokeWidth:2,h.attrs.strokeLineCap),c.add(u)}}):Array.isArray(n)&&n.forEach(function(h){if(h.y>=-1&&h.y<=l.w.globals.gridHeight+1){var d=h.attrs.strokeWidth!==void 0?h.attrs.strokeWidth:o/2,g=i+d+o/2;u=l.drawLine(g-2*d,h.y,g,h.y,h.attrs.strokeColor?h.attrs.strokeColor:void 0,h.attrs.strokeDashArray,h.attrs.strokeHeight?h.attrs.strokeHeight:2,h.attrs.strokeLineCap),c.add(u)}}),c}},{key:"drawBarShadow",value:function(e){var i=e.prevPaths,s=e.currPaths,r=e.color,n=this.w,o=i.x,a=i.x1,l=i.barYPosition,c=s.x,u=s.x1,h=s.barYPosition,d=l+s.barHeight,g=new Y(this.barCtx.ctx),p=new O,f=g.move(a,d)+g.line(o,d)+g.line(c,h)+g.line(u,h)+g.line(a,d)+(n.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[realIndex][j]==="both"?" Z":" z");return g.drawPath({d:f,fill:p.shadeColor(.5,O.rgb2hex(r)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadow apexcharts-decoration-element"})}},{key:"getZeroValueEncounters",value:function(e){var i,s=e.i,r=e.j,n=this.w,o=0,a=0;return(n.config.plotOptions.bar.horizontal?n.globals.series.map(function(l,c){return c}):((i=n.globals.columnSeries)===null||i===void 0?void 0:i.i.map(function(l){return l}))||[]).forEach(function(l){var c=n.globals.seriesPercent[l][r];c&&o++,l<s&&c===0&&a++}),{nonZeroColumns:o,zeroEncounters:a}}},{key:"getGroupIndex",value:function(e){var i=this.w,s=i.globals.seriesGroups.findIndex(function(o){return o.indexOf(i.globals.seriesNames[e])>-1}),r=this.barCtx.columnGroupIndices,n=r.indexOf(s);return n<0&&(r.push(s),n=r.length-1),{groupIndex:s,columnGroupIndex:n}}}]),t}(),Go=function(){function t(e,i){J(this,t),this.ctx=e,this.w=e.w;var s=this.w;this.barOptions=s.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=s.config.stroke.width,this.isNullValue=!1,this.isRangeBar=s.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!s.globals.isBarHorizontal&&s.globals.seriesRange.length&&s.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=i,this.xyRatios!==null&&(this.xRatio=i.xRatio,this.yRatio=i.yRatio,this.invertedXRatio=i.invertedXRatio,this.invertedYRatio=i.invertedYRatio,this.baseLineY=i.baseLineY,this.baseLineInvertedY=i.baseLineInvertedY),this.yaxisIndex=0,this.translationsIndex=0,this.seriesLen=0,this.pathArr=[];var r=new Ii(this.ctx);this.lastActiveBarSerieIndex=r.getActiveConfigSeriesIndex("desc",["bar","column"]),this.columnGroupIndices=[];var n=r.getBarSeriesIndices(),o=new at(this.ctx);this.stackedSeriesTotals=o.getStackedSeriesTotals(this.w.config.series.map(function(a,l){return n.indexOf(l)===-1?l:-1}).filter(function(a){return a!==-1})),this.barHelpers=new cj(this)}return ee(t,[{key:"draw",value:function(e,i){var s=this.w,r=new Y(this.ctx),n=new at(this.ctx,s);e=n.getLogSeries(e),this.series=e,this.yRatio=n.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e);var o=r.group({class:"apexcharts-bar-series apexcharts-plot-series"});s.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var a=0,l=0;a<e.length;a++,l++){var c,u,h,d,g=void 0,p=void 0,f=[],C=[],m=s.globals.comboCharts?i[a]:a,v=this.barHelpers.getGroupIndex(m).columnGroupIndex,y=r.group({class:"apexcharts-series",rel:a+1,seriesName:O.escapeString(s.globals.seriesNames[m]),"data:realIndex":m});this.ctx.series.addCollapsedClassToSeries(y,m),e[a].length>0&&(this.visibleI=this.visibleI+1);var w=0,x=0;this.yRatio.length>1&&(this.yaxisIndex=s.globals.seriesYAxisReverseMap[m],this.translationsIndex=m);var S=this.translationsIndex;this.isReversed=s.config.yaxis[this.yaxisIndex]&&s.config.yaxis[this.yaxisIndex].reversed;var b=this.barHelpers.initialPositions();p=b.y,w=b.barHeight,u=b.yDivision,d=b.zeroW,g=b.x,x=b.barWidth,c=b.xDivision,h=b.zeroH,this.isHorizontal||C.push(g+x/2);var R=r.group({class:"apexcharts-datalabels","data:realIndex":m});s.globals.delayedElements.push({el:R.node}),R.node.classList.add("apexcharts-element-hidden");var A=r.group({class:"apexcharts-bar-goals-markers"}),P=r.group({class:"apexcharts-bar-shadows"});s.globals.delayedElements.push({el:P.node}),P.node.classList.add("apexcharts-element-hidden");for(var E=0;E<e[a].length;E++){var L=this.barHelpers.getStrokeWidth(a,E,m),M=null,I={indexes:{i:a,j:E,realIndex:m,translationsIndex:S,bc:l},x:g,y:p,strokeWidth:L,elSeries:y};this.isHorizontal?(M=this.drawBarPaths(Q(Q({},I),{},{barHeight:w,zeroW:d,yDivision:u})),x=this.series[a][E]/this.invertedYRatio):(M=this.drawColumnPaths(Q(Q({},I),{},{xDivision:c,barWidth:x,zeroH:h})),w=this.series[a][E]/this.yRatio[S]);var z=this.barHelpers.getPathFillColor(e,a,E,m);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&E>0){var D=this.barHelpers.drawBarShadow({color:typeof z=="string"&&(z==null?void 0:z.indexOf("url"))===-1?z:O.hexToRgba(s.globals.colors[a]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:M});P.add(D),s.config.chart.dropShadow.enabled&&new St(this.ctx).dropShadow(D,s.config.chart.dropShadow,m)}this.pathArr.push(M);var T=this.barHelpers.drawGoalLine({barXPosition:M.barXPosition,barYPosition:M.barYPosition,goalX:M.goalX,goalY:M.goalY,barHeight:w,barWidth:x});T&&A.add(T),p=M.y,g=M.x,E>0&&C.push(g+x/2),f.push(p),this.renderSeries({realIndex:m,pathFill:z,j:E,i:a,columnGroupIndex:v,pathFrom:M.pathFrom,pathTo:M.pathTo,strokeWidth:L,elSeries:y,x:g,y:p,series:e,barHeight:Math.abs(M.barHeight?M.barHeight:w),barWidth:Math.abs(M.barWidth?M.barWidth:x),elDataLabelsWrap:R,elGoalsMarkers:A,elBarShadows:P,visibleSeries:this.visibleI,type:"bar"})}s.globals.seriesXvalues[m]=C,s.globals.seriesYvalues[m]=f,o.add(y)}return o}},{key:"renderSeries",value:function(e){var i=e.realIndex,s=e.pathFill,r=e.lineFill,n=e.j,o=e.i,a=e.columnGroupIndex,l=e.pathFrom,c=e.pathTo,u=e.strokeWidth,h=e.elSeries,d=e.x,g=e.y,p=e.y1,f=e.y2,C=e.series,m=e.barHeight,v=e.barWidth,y=e.barXPosition,w=e.barYPosition,x=e.elDataLabelsWrap,S=e.elGoalsMarkers,b=e.elBarShadows,R=e.visibleSeries,A=e.type,P=e.classes,E=this.w,L=new Y(this.ctx);if(!r){var M=typeof E.globals.stroke.colors[i]=="function"?function(k){var H,N=E.config.stroke.colors;return Array.isArray(N)&&N.length>0&&((H=N[k])||(H=""),typeof H=="function")?H({value:E.globals.series[k][n],dataPointIndex:n,w:E}):H}(i):E.globals.stroke.colors[i];r=this.barOptions.distributed?E.globals.stroke.colors[n]:M}E.config.series[o].data[n]&&E.config.series[o].data[n].strokeColor&&(r=E.config.series[o].data[n].strokeColor),this.isNullValue&&(s="none");var I=n/E.config.chart.animations.animateGradually.delay*(E.config.chart.animations.speed/E.globals.dataPoints)/2.4,z=L.renderPaths({i:o,j:n,realIndex:i,pathFrom:l,pathTo:c,stroke:r,strokeWidth:u,strokeLineCap:E.config.stroke.lineCap,fill:s,animationDelay:I,initialSpeed:E.config.chart.animations.speed,dataChangeSpeed:E.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(A,"-area ").concat(P),chartType:A});z.attr("clip-path","url(#gridRectBarMask".concat(E.globals.cuid,")"));var D=E.config.forecastDataPoints;D.count>0&&n>=E.globals.dataPoints-D.count&&(z.node.setAttribute("stroke-dasharray",D.dashArray),z.node.setAttribute("stroke-width",D.strokeWidth),z.node.setAttribute("fill-opacity",D.fillOpacity)),p!==void 0&&f!==void 0&&(z.attr("data-range-y1",p),z.attr("data-range-y2",f)),new St(this.ctx).setSelectionFilter(z,i,n),h.add(z);var T=new lj(this).handleBarDataLabels({x:d,y:g,y1:p,y2:f,i:o,j:n,series:C,realIndex:i,columnGroupIndex:a,barHeight:m,barWidth:v,barXPosition:y,barYPosition:w,renderedPath:z,visibleSeries:R});return T.dataLabels!==null&&x.add(T.dataLabels),T.totalDataLabels&&x.add(T.totalDataLabels),h.add(x),S&&h.add(S),b&&h.add(b),h}},{key:"drawBarPaths",value:function(e){var i,s=e.indexes,r=e.barHeight,n=e.strokeWidth,o=e.zeroW,a=e.x,l=e.y,c=e.yDivision,u=e.elSeries,h=this.w,d=s.i,g=s.j;if(h.globals.isXNumeric)i=(l=(h.globals.seriesX[d][g]-h.globals.minX)/this.invertedXRatio-r)+r*this.visibleI;else if(h.config.plotOptions.bar.hideZeroBarsWhenGrouped){var p=0,f=0;h.globals.seriesPercent.forEach(function(m,v){m[g]&&p++,v<d&&m[g]===0&&f++}),p>0&&(r=this.seriesLen*r/p),i=l+r*this.visibleI,i-=r*f}else i=l+r*this.visibleI;this.isFunnel&&(o-=(this.barHelpers.getXForValue(this.series[d][g],o)-o)/2),a=this.barHelpers.getXForValue(this.series[d][g],o);var C=this.barHelpers.getBarpaths({barYPosition:i,barHeight:r,x1:o,x2:a,strokeWidth:n,isReversed:this.isReversed,series:this.series,realIndex:s.realIndex,i:d,j:g,w:h});return h.globals.isXNumeric||(l+=c),this.barHelpers.barBackground({j:g,i:d,y1:i-r*this.visibleI,y2:r*this.seriesLen,elSeries:u}),{pathTo:C.pathTo,pathFrom:C.pathFrom,x1:o,x:a,y:l,goalX:this.barHelpers.getGoalValues("x",o,null,d,g),barYPosition:i,barHeight:r}}},{key:"drawColumnPaths",value:function(e){var i,s=e.indexes,r=e.x,n=e.y,o=e.xDivision,a=e.barWidth,l=e.zeroH,c=e.strokeWidth,u=e.elSeries,h=this.w,d=s.realIndex,g=s.translationsIndex,p=s.i,f=s.j,C=s.bc;if(h.globals.isXNumeric){var m=this.getBarXForNumericXAxis({x:r,j:f,realIndex:d,barWidth:a});r=m.x,i=m.barXPosition}else if(h.config.plotOptions.bar.hideZeroBarsWhenGrouped){var v=this.barHelpers.getZeroValueEncounters({i:p,j:f}),y=v.nonZeroColumns,w=v.zeroEncounters;y>0&&(a=this.seriesLen*a/y),i=r+a*this.visibleI,i-=a*w}else i=r+a*this.visibleI;n=this.barHelpers.getYForValue(this.series[p][f],l,g);var x=this.barHelpers.getColumnPaths({barXPosition:i,barWidth:a,y1:l,y2:n,strokeWidth:c,isReversed:this.isReversed,series:this.series,realIndex:d,i:p,j:f,w:h});return h.globals.isXNumeric||(r+=o),this.barHelpers.barBackground({bc:C,j:f,i:p,x1:i-c/2-a*this.visibleI,x2:a*this.seriesLen+c/2,elSeries:u}),{pathTo:x.pathTo,pathFrom:x.pathFrom,x:r,y:n,goalY:this.barHelpers.getGoalValues("y",null,l,p,f,g),barXPosition:i,barWidth:a}}},{key:"getBarXForNumericXAxis",value:function(e){var i=e.x,s=e.barWidth,r=e.realIndex,n=e.j,o=this.w,a=r;return o.globals.seriesX[r].length||(a=o.globals.maxValsInArrayIndex),O.isNumber(o.globals.seriesX[a][n])&&(i=(o.globals.seriesX[a][n]-o.globals.minX)/this.xRatio-s*this.seriesLen/2),{barXPosition:i+s*this.visibleI,x:i}}},{key:"getPreviousPath",value:function(e,i){for(var s,r=this.w,n=0;n<r.globals.previousPaths.length;n++){var o=r.globals.previousPaths[n];o.paths&&o.paths.length>0&&parseInt(o.realIndex,10)===parseInt(e,10)&&r.globals.previousPaths[n].paths[i]!==void 0&&(s=r.globals.previousPaths[n].paths[i].d)}return s}}]),t}(),Nx=function(t){ql(i,Go);var e=Kl(i);function i(){return J(this,i),e.apply(this,arguments)}return ee(i,[{key:"draw",value:function(s,r){var n=this,o=this.w;this.graphics=new Y(this.ctx),this.bar=new Go(this.ctx,this.xyRatios);var a=new at(this.ctx,o);s=a.getLogSeries(s),this.yRatio=a.getLogYRatios(this.yRatio),this.barHelpers.initVariables(s),o.config.chart.stackType==="100%"&&(s=o.globals.comboCharts?r.map(function(p){return o.globals.seriesPercent[p]}):o.globals.seriesPercent.slice()),this.series=s,this.barHelpers.initializeStackedPrevVars(this);for(var l=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),c=0,u=0,h=function(p,f){var C=void 0,m=void 0,v=void 0,y=void 0,w=o.globals.comboCharts?r[p]:p,x=n.barHelpers.getGroupIndex(w),S=x.groupIndex,b=x.columnGroupIndex;n.groupCtx=n[o.globals.seriesGroups[S]];var R=[],A=[],P=0;n.yRatio.length>1&&(n.yaxisIndex=o.globals.seriesYAxisReverseMap[w][0],P=w),n.isReversed=o.config.yaxis[n.yaxisIndex]&&o.config.yaxis[n.yaxisIndex].reversed;var E=n.graphics.group({class:"apexcharts-series",seriesName:O.escapeString(o.globals.seriesNames[w]),rel:p+1,"data:realIndex":w});n.ctx.series.addCollapsedClassToSeries(E,w);var L=n.graphics.group({class:"apexcharts-datalabels","data:realIndex":w}),M=n.graphics.group({class:"apexcharts-bar-goals-markers"}),I=0,z=0,D=n.initialPositions(c,u,C,m,v,y,P);u=D.y,I=D.barHeight,m=D.yDivision,y=D.zeroW,c=D.x,z=D.barWidth,C=D.xDivision,v=D.zeroH,o.globals.barHeight=I,o.globals.barWidth=z,n.barHelpers.initializeStackedXYVars(n),n.groupCtx.prevY.length===1&&n.groupCtx.prevY[0].every(function(re){return isNaN(re)})&&(n.groupCtx.prevY[0]=n.groupCtx.prevY[0].map(function(){return v}),n.groupCtx.prevYF[0]=n.groupCtx.prevYF[0].map(function(){return 0}));for(var T=0;T<o.globals.dataPoints;T++){var k=n.barHelpers.getStrokeWidth(p,T,w),H={indexes:{i:p,j:T,realIndex:w,translationsIndex:P,bc:f},strokeWidth:k,x:c,y:u,elSeries:E,columnGroupIndex:b,seriesGroup:o.globals.seriesGroups[S]},N=null;n.isHorizontal?(N=n.drawStackedBarPaths(Q(Q({},H),{},{zeroW:y,barHeight:I,yDivision:m})),z=n.series[p][T]/n.invertedYRatio):(N=n.drawStackedColumnPaths(Q(Q({},H),{},{xDivision:C,barWidth:z,zeroH:v})),I=n.series[p][T]/n.yRatio[P]);var G=n.barHelpers.drawGoalLine({barXPosition:N.barXPosition,barYPosition:N.barYPosition,goalX:N.goalX,goalY:N.goalY,barHeight:I,barWidth:z});G&&M.add(G),u=N.y,c=N.x,R.push(c),A.push(u);var U=n.barHelpers.getPathFillColor(s,p,T,w),te="",$=o.globals.isBarHorizontal?"apexcharts-flip-x":"apexcharts-flip-y";(n.barHelpers.arrBorderRadius[w][T]==="bottom"&&o.globals.series[w][T]>0||n.barHelpers.arrBorderRadius[w][T]==="top"&&o.globals.series[w][T]<0)&&(te=$),E=n.renderSeries({realIndex:w,pathFill:U,j:T,i:p,columnGroupIndex:b,pathFrom:N.pathFrom,pathTo:N.pathTo,strokeWidth:k,elSeries:E,x:c,y:u,series:s,barHeight:I,barWidth:z,elDataLabelsWrap:L,elGoalsMarkers:M,type:"bar",visibleSeries:b,classes:te})}o.globals.seriesXvalues[w]=R,o.globals.seriesYvalues[w]=A,n.groupCtx.prevY.push(n.groupCtx.yArrj),n.groupCtx.prevYF.push(n.groupCtx.yArrjF),n.groupCtx.prevYVal.push(n.groupCtx.yArrjVal),n.groupCtx.prevX.push(n.groupCtx.xArrj),n.groupCtx.prevXF.push(n.groupCtx.xArrjF),n.groupCtx.prevXVal.push(n.groupCtx.xArrjVal),l.add(E)},d=0,g=0;d<s.length;d++,g++)h(d,g);return l}},{key:"initialPositions",value:function(s,r,n,o,a,l,c){var u,h,d=this.w;if(this.isHorizontal){o=d.globals.gridHeight/d.globals.dataPoints;var g=d.config.plotOptions.bar.barHeight;u=String(g).indexOf("%")===-1?parseInt(g,10):o*parseInt(g,10)/100,l=d.globals.padHorizontal+(this.isReversed?d.globals.gridWidth-this.baseLineInvertedY:this.baseLineInvertedY),r=(o-u)/2}else{h=n=d.globals.gridWidth/d.globals.dataPoints;var p=d.config.plotOptions.bar.columnWidth;d.globals.isXNumeric&&d.globals.dataPoints>1?h=(n=d.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:String(p).indexOf("%")===-1?h=parseInt(p,10):h*=parseInt(p,10)/100,a=this.isReversed?this.baseLineY[c]:d.globals.gridHeight-this.baseLineY[c],s=d.globals.padHorizontal+(n-h)/2}var f=d.globals.barGroups.length||1;return{x:s,y:r,yDivision:o,xDivision:n,barHeight:u/f,barWidth:h/f,zeroH:a,zeroW:l}}},{key:"drawStackedBarPaths",value:function(s){for(var r,n=s.indexes,o=s.barHeight,a=s.strokeWidth,l=s.zeroW,c=s.x,u=s.y,h=s.columnGroupIndex,d=s.seriesGroup,g=s.yDivision,p=s.elSeries,f=this.w,C=u+h*o,m=n.i,v=n.j,y=n.realIndex,w=n.translationsIndex,x=0,S=0;S<this.groupCtx.prevXF.length;S++)x+=this.groupCtx.prevXF[S][v];var b;if((b=d.indexOf(f.config.series[y].name))>0){var R=l;this.groupCtx.prevXVal[b-1][v]<0?R=this.series[m][v]>=0?this.groupCtx.prevX[b-1][v]+x-2*(this.isReversed?x:0):this.groupCtx.prevX[b-1][v]:this.groupCtx.prevXVal[b-1][v]>=0&&(R=this.series[m][v]>=0?this.groupCtx.prevX[b-1][v]:this.groupCtx.prevX[b-1][v]-x+2*(this.isReversed?x:0)),r=R}else r=l;c=this.series[m][v]===null?r:r+this.series[m][v]/this.invertedYRatio-2*(this.isReversed?this.series[m][v]/this.invertedYRatio:0);var A=this.barHelpers.getBarpaths({barYPosition:C,barHeight:o,x1:r,x2:c,strokeWidth:a,isReversed:this.isReversed,series:this.series,realIndex:n.realIndex,seriesGroup:d,i:m,j:v,w:f});return this.barHelpers.barBackground({j:v,i:m,y1:C,y2:o,elSeries:p}),u+=g,{pathTo:A.pathTo,pathFrom:A.pathFrom,goalX:this.barHelpers.getGoalValues("x",l,null,m,v,w),barXPosition:r,barYPosition:C,x:c,y:u}}},{key:"drawStackedColumnPaths",value:function(s){var r=s.indexes,n=s.x,o=s.y,a=s.xDivision,l=s.barWidth,c=s.zeroH,u=s.columnGroupIndex,h=s.seriesGroup,d=s.elSeries,g=this.w,p=r.i,f=r.j,C=r.bc,m=r.realIndex,v=r.translationsIndex;if(g.globals.isXNumeric){var y=g.globals.seriesX[m][f];y||(y=0),n=(y-g.globals.minX)/this.xRatio-l/2*g.globals.barGroups.length}for(var w,x=n+u*l,S=0,b=0;b<this.groupCtx.prevYF.length;b++)S+=isNaN(this.groupCtx.prevYF[b][f])?0:this.groupCtx.prevYF[b][f];var R=p;if(h&&(R=h.indexOf(g.globals.seriesNames[m])),R>0&&!g.globals.isXNumeric||R>0&&g.globals.isXNumeric&&g.globals.seriesX[m-1][f]===g.globals.seriesX[m][f]){var A,P,E,L=Math.min(this.yRatio.length+1,m+1);if(this.groupCtx.prevY[R-1]!==void 0&&this.groupCtx.prevY[R-1].length)for(var M=1;M<L;M++){var I;if(!isNaN((I=this.groupCtx.prevY[R-M])===null||I===void 0?void 0:I[f])){E=this.groupCtx.prevY[R-M][f];break}}for(var z=1;z<L;z++){var D,T;if(((D=this.groupCtx.prevYVal[R-z])===null||D===void 0?void 0:D[f])<0){P=this.series[p][f]>=0?E-S+2*(this.isReversed?S:0):E;break}if(((T=this.groupCtx.prevYVal[R-z])===null||T===void 0?void 0:T[f])>=0){P=this.series[p][f]>=0?E:E+S-2*(this.isReversed?S:0);break}}P===void 0&&(P=g.globals.gridHeight),w=(A=this.groupCtx.prevYF[0])!==null&&A!==void 0&&A.every(function(H){return H===0})&&this.groupCtx.prevYF.slice(1,R).every(function(H){return H.every(function(N){return isNaN(N)})})?c:P}else w=c;o=this.series[p][f]?w-this.series[p][f]/this.yRatio[v]+2*(this.isReversed?this.series[p][f]/this.yRatio[v]:0):w;var k=this.barHelpers.getColumnPaths({barXPosition:x,barWidth:l,y1:w,y2:o,yRatio:this.yRatio[v],strokeWidth:this.strokeWidth,isReversed:this.isReversed,series:this.series,seriesGroup:h,realIndex:r.realIndex,i:p,j:f,w:g});return this.barHelpers.barBackground({bc:C,j:f,i:p,x1:x,x2:l,elSeries:d}),{pathTo:k.pathTo,pathFrom:k.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,c,p,f),barXPosition:x,x:g.globals.isXNumeric?n:n+a,y:o}}}]),i}(),zg=function(t){ql(i,Go);var e=Kl(i);function i(){return J(this,i),e.apply(this,arguments)}return ee(i,[{key:"draw",value:function(s,r,n){var o=this,a=this.w,l=new Y(this.ctx),c=a.globals.comboCharts?r:a.config.chart.type,u=new ss(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=a.config.plotOptions.bar.horizontal;var h=new at(this.ctx,a);s=h.getLogSeries(s),this.series=s,this.yRatio=h.getLogYRatios(this.yRatio),this.barHelpers.initVariables(s);for(var d=l.group({class:"apexcharts-".concat(c,"-series apexcharts-plot-series")}),g=function(f){o.isBoxPlot=a.config.chart.type==="boxPlot"||a.config.series[f].type==="boxPlot";var C,m,v,y,w=void 0,x=void 0,S=[],b=[],R=a.globals.comboCharts?n[f]:f,A=o.barHelpers.getGroupIndex(R).columnGroupIndex,P=l.group({class:"apexcharts-series",seriesName:O.escapeString(a.globals.seriesNames[R]),rel:f+1,"data:realIndex":R});o.ctx.series.addCollapsedClassToSeries(P,R),s[f].length>0&&(o.visibleI=o.visibleI+1);var E,L,M=0;o.yRatio.length>1&&(o.yaxisIndex=a.globals.seriesYAxisReverseMap[R][0],M=R);var I=o.barHelpers.initialPositions();x=I.y,E=I.barHeight,m=I.yDivision,y=I.zeroW,w=I.x,L=I.barWidth,C=I.xDivision,v=I.zeroH,b.push(w+L/2);for(var z=l.group({class:"apexcharts-datalabels","data:realIndex":R}),D=l.group({class:"apexcharts-bar-goals-markers"}),T=function(H){var N=o.barHelpers.getStrokeWidth(f,H,R),G=null,U={indexes:{i:f,j:H,realIndex:R,translationsIndex:M},x:w,y:x,strokeWidth:N,elSeries:P};G=o.isHorizontal?o.drawHorizontalBoxPaths(Q(Q({},U),{},{yDivision:m,barHeight:E,zeroW:y})):o.drawVerticalBoxPaths(Q(Q({},U),{},{xDivision:C,barWidth:L,zeroH:v})),x=G.y,w=G.x;var te=o.barHelpers.drawGoalLine({barXPosition:G.barXPosition,barYPosition:G.barYPosition,goalX:G.goalX,goalY:G.goalY,barHeight:E,barWidth:L});te&&D.add(te),H>0&&b.push(w+L/2),S.push(x),G.pathTo.forEach(function($,re){var Z=!o.isBoxPlot&&o.candlestickOptions.wick.useFillColor?G.color[re]:a.globals.stroke.colors[f],ie=u.fillPath({seriesNumber:R,dataPointIndex:H,color:G.color[re],value:s[f][H]});o.renderSeries({realIndex:R,pathFill:ie,lineFill:Z,j:H,i:f,pathFrom:G.pathFrom,pathTo:$,strokeWidth:N,elSeries:P,x:w,y:x,series:s,columnGroupIndex:A,barHeight:E,barWidth:L,elDataLabelsWrap:z,elGoalsMarkers:D,visibleSeries:o.visibleI,type:a.config.chart.type})})},k=0;k<a.globals.dataPoints;k++)T(k);a.globals.seriesXvalues[R]=b,a.globals.seriesYvalues[R]=S,d.add(P)},p=0;p<s.length;p++)g(p);return d}},{key:"drawVerticalBoxPaths",value:function(s){var r=s.indexes,n=s.x;s.y;var o=s.xDivision,a=s.barWidth,l=s.zeroH,c=s.strokeWidth,u=this.w,h=new Y(this.ctx),d=r.i,g=r.j,p=!0,f=u.config.plotOptions.candlestick.colors.upward,C=u.config.plotOptions.candlestick.colors.downward,m="";this.isBoxPlot&&(m=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var v=this.yRatio[r.translationsIndex],y=r.realIndex,w=this.getOHLCValue(y,g),x=l,S=l;w.o>w.c&&(p=!1);var b=Math.min(w.o,w.c),R=Math.max(w.o,w.c),A=w.m;u.globals.isXNumeric&&(n=(u.globals.seriesX[y][g]-u.globals.minX)/this.xRatio-a/2);var P=n+a*this.visibleI;this.series[d][g]===void 0||this.series[d][g]===null?(b=l,R=l):(b=l-b/v,R=l-R/v,x=l-w.h/v,S=l-w.l/v,A=l-w.m/v);var E=h.move(P,l),L=h.move(P+a/2,b);return u.globals.previousPaths.length>0&&(L=this.getPreviousPath(y,g,!0)),E=this.isBoxPlot?[h.move(P,b)+h.line(P+a/2,b)+h.line(P+a/2,x)+h.line(P+a/4,x)+h.line(P+a-a/4,x)+h.line(P+a/2,x)+h.line(P+a/2,b)+h.line(P+a,b)+h.line(P+a,A)+h.line(P,A)+h.line(P,b+c/2),h.move(P,A)+h.line(P+a,A)+h.line(P+a,R)+h.line(P+a/2,R)+h.line(P+a/2,S)+h.line(P+a-a/4,S)+h.line(P+a/4,S)+h.line(P+a/2,S)+h.line(P+a/2,R)+h.line(P,R)+h.line(P,A)+"z"]:[h.move(P,R)+h.line(P+a/2,R)+h.line(P+a/2,x)+h.line(P+a/2,R)+h.line(P+a,R)+h.line(P+a,b)+h.line(P+a/2,b)+h.line(P+a/2,S)+h.line(P+a/2,b)+h.line(P,b)+h.line(P,R-c/2)],L+=h.move(P,b),u.globals.isXNumeric||(n+=o),{pathTo:E,pathFrom:L,x:n,y:R,goalY:this.barHelpers.getGoalValues("y",null,l,d,g,r.translationsIndex),barXPosition:P,color:this.isBoxPlot?m:p?[f]:[C]}}},{key:"drawHorizontalBoxPaths",value:function(s){var r=s.indexes;s.x;var n=s.y,o=s.yDivision,a=s.barHeight,l=s.zeroW,c=s.strokeWidth,u=this.w,h=new Y(this.ctx),d=r.i,g=r.j,p=this.boxOptions.colors.lower;this.isBoxPlot&&(p=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var f=this.invertedYRatio,C=r.realIndex,m=this.getOHLCValue(C,g),v=l,y=l,w=Math.min(m.o,m.c),x=Math.max(m.o,m.c),S=m.m;u.globals.isXNumeric&&(n=(u.globals.seriesX[C][g]-u.globals.minX)/this.invertedXRatio-a/2);var b=n+a*this.visibleI;this.series[d][g]===void 0||this.series[d][g]===null?(w=l,x=l):(w=l+w/f,x=l+x/f,v=l+m.h/f,y=l+m.l/f,S=l+m.m/f);var R=h.move(l,b),A=h.move(w,b+a/2);return u.globals.previousPaths.length>0&&(A=this.getPreviousPath(C,g,!0)),R=[h.move(w,b)+h.line(w,b+a/2)+h.line(v,b+a/2)+h.line(v,b+a/2-a/4)+h.line(v,b+a/2+a/4)+h.line(v,b+a/2)+h.line(w,b+a/2)+h.line(w,b+a)+h.line(S,b+a)+h.line(S,b)+h.line(w+c/2,b),h.move(S,b)+h.line(S,b+a)+h.line(x,b+a)+h.line(x,b+a/2)+h.line(y,b+a/2)+h.line(y,b+a-a/4)+h.line(y,b+a/4)+h.line(y,b+a/2)+h.line(x,b+a/2)+h.line(x,b)+h.line(S,b)+"z"],A+=h.move(w,b),u.globals.isXNumeric||(n+=o),{pathTo:R,pathFrom:A,x,y:n,goalX:this.barHelpers.getGoalValues("x",l,null,d,g),barYPosition:b,color:p}}},{key:"getOHLCValue",value:function(s,r){var n=this.w;return{o:this.isBoxPlot?n.globals.seriesCandleH[s][r]:n.globals.seriesCandleO[s][r],h:this.isBoxPlot?n.globals.seriesCandleO[s][r]:n.globals.seriesCandleH[s][r],m:n.globals.seriesCandleM[s][r],l:this.isBoxPlot?n.globals.seriesCandleC[s][r]:n.globals.seriesCandleL[s][r],c:this.isBoxPlot?n.globals.seriesCandleL[s][r]:n.globals.seriesCandleC[s][r]}}}]),i}(),GP=function(){function t(e){J(this,t),this.ctx=e,this.w=e.w}return ee(t,[{key:"checkColorRange",value:function(){var e=this.w,i=!1,s=e.config.plotOptions[e.config.chart.type];return s.colorScale.ranges.length>0&&s.colorScale.ranges.map(function(r,n){r.from<=0&&(i=!0)}),i}},{key:"getShadeColor",value:function(e,i,s,r){var n=this.w,o=1,a=n.config.plotOptions[e].shadeIntensity,l=this.determineColor(e,i,s);n.globals.hasNegs||r?o=n.config.plotOptions[e].reverseNegativeShade?l.percent<0?l.percent/100*(1.25*a):(1-l.percent/100)*(1.25*a):l.percent<=0?1-(1+l.percent/100)*a:(1-l.percent/100)*a:(o=1-l.percent/100,e==="treemap"&&(o=(1-l.percent/100)*(1.25*a)));var c=l.color,u=new O;if(n.config.plotOptions[e].enableShades)if(this.w.config.theme.mode==="dark"){var h=u.shadeColor(-1*o,l.color);c=O.hexToRgba(O.isColorHex(h)?h:O.rgb2hex(h),n.config.fill.opacity)}else{var d=u.shadeColor(o,l.color);c=O.hexToRgba(O.isColorHex(d)?d:O.rgb2hex(d),n.config.fill.opacity)}return{color:c,colorProps:l}}},{key:"determineColor",value:function(e,i,s){var r=this.w,n=r.globals.series[i][s],o=r.config.plotOptions[e],a=o.colorScale.inverse?s:i;o.distributed&&r.config.chart.type==="treemap"&&(a=s);var l=r.globals.colors[a],c=null,u=Math.min.apply(Math,pt(r.globals.series[i])),h=Math.max.apply(Math,pt(r.globals.series[i]));o.distributed||e!=="heatmap"||(u=r.globals.minY,h=r.globals.maxY),o.colorScale.min!==void 0&&(u=o.colorScale.min<r.globals.minY?o.colorScale.min:r.globals.minY,h=o.colorScale.max>r.globals.maxY?o.colorScale.max:r.globals.maxY);var d=Math.abs(h)+Math.abs(u),g=100*n/(d===0?d-1e-6:d);return o.colorScale.ranges.length>0&&o.colorScale.ranges.map(function(p,f){if(n>=p.from&&n<=p.to){l=p.color,c=p.foreColor?p.foreColor:null,u=p.from,h=p.to;var C=Math.abs(h)+Math.abs(u);g=100*n/(C===0?C-1e-6:C)}}),{color:l,foreColor:c,percent:g}}},{key:"calculateDataLabels",value:function(e){var i=e.text,s=e.x,r=e.y,n=e.i,o=e.j,a=e.colorProps,l=e.fontSize,c=this.w.config.dataLabels,u=new Y(this.ctx),h=new No(this.ctx),d=null;if(c.enabled){d=u.group({class:"apexcharts-data-labels"});var g=c.offsetX,p=c.offsetY,f=s+g,C=r+parseFloat(c.style.fontSize)/3+p;h.plotDataLabelsText({x:f,y:C,text:i,i:n,j:o,color:a.foreColor,parent:d,fontSize:l,dataLabelsConfig:c})}return d}},{key:"addListeners",value:function(e){var i=new Y(this.ctx);e.node.addEventListener("mouseenter",i.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",i.pathMouseLeave.bind(this,e)),e.node.addEventListener("mousedown",i.pathMouseDown.bind(this,e))}}]),t}(),uj=function(){function t(e,i){J(this,t),this.ctx=e,this.w=e.w,this.xRatio=i.xRatio,this.yRatio=i.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new GP(e),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return ee(t,[{key:"draw",value:function(e){var i=this.w,s=new Y(this.ctx),r=s.group({class:"apexcharts-heatmap"});r.attr("clip-path","url(#gridRectMask".concat(i.globals.cuid,")"));var n=i.globals.gridWidth/i.globals.dataPoints,o=i.globals.gridHeight/i.globals.series.length,a=0,l=!1;this.negRange=this.helpers.checkColorRange();var c=e.slice();i.config.yaxis[0].reversed&&(l=!0,c.reverse());for(var u=l?0:c.length-1;l?u<c.length:u>=0;l?u++:u--){var h=s.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:O.escapeString(i.globals.seriesNames[u]),rel:u+1,"data:realIndex":u});if(this.ctx.series.addCollapsedClassToSeries(h,u),i.config.chart.dropShadow.enabled){var d=i.config.chart.dropShadow;new St(this.ctx).dropShadow(h,d,u)}for(var g=0,p=i.config.plotOptions.heatmap.shadeIntensity,f=0;f<c[u].length;f++){var C=this.helpers.getShadeColor(i.config.chart.type,u,f,this.negRange),m=C.color,v=C.colorProps;i.config.fill.type==="image"&&(m=new ss(this.ctx).fillPath({seriesNumber:u,dataPointIndex:f,opacity:i.globals.hasNegs?v.percent<0?1-(1+v.percent/100):p+v.percent/100:v.percent/100,patternID:O.randomId(),width:i.config.fill.image.width?i.config.fill.image.width:n,height:i.config.fill.image.height?i.config.fill.image.height:o}));var y=this.rectRadius,w=s.drawRect(g,a,n,o,y);if(w.attr({cx:g,cy:a}),w.node.classList.add("apexcharts-heatmap-rect"),h.add(w),w.attr({fill:m,i:u,index:u,j:f,val:e[u][f],"stroke-width":this.strokeWidth,stroke:i.config.plotOptions.heatmap.useFillColorAsStroke?m:i.globals.stroke.colors[0],color:m}),this.helpers.addListeners(w),i.config.chart.animations.enabled&&!i.globals.dataChanged){var x=1;i.globals.resized||(x=i.config.chart.animations.speed),this.animateHeatMap(w,g,a,n,o,x)}if(i.globals.dataChanged){var S=1;if(this.dynamicAnim.enabled&&i.globals.shouldAnimate){S=this.dynamicAnim.speed;var b=i.globals.previousPaths[u]&&i.globals.previousPaths[u][f]&&i.globals.previousPaths[u][f].color;b||(b="rgba(255, 255, 255, 0)"),this.animateHeatColor(w,O.isColorHex(b)?b:O.rgb2hex(b),O.isColorHex(m)?m:O.rgb2hex(m),S)}}var R=(0,i.config.dataLabels.formatter)(i.globals.series[u][f],{value:i.globals.series[u][f],seriesIndex:u,dataPointIndex:f,w:i}),A=this.helpers.calculateDataLabels({text:R,x:g+n/2,y:a+o/2,i:u,j:f,colorProps:v,series:c});A!==null&&h.add(A),g+=n}a+=o,r.add(h)}var P=i.globals.yAxisScale[0].result.slice();return i.config.yaxis[0].reversed?P.unshift(""):P.push(""),i.globals.yAxisScale[0].result=P,r}},{key:"animateHeatMap",value:function(e,i,s,r,n,o){var a=new ea(this.ctx);a.animateRect(e,{x:i+r/2,y:s+n/2,width:0,height:0},{x:i,y:s,width:r,height:n},o,function(){a.animationCompleted(e)})}},{key:"animateHeatColor",value:function(e,i,s,r){e.attr({fill:i}).animate(r).attr({fill:s})}}]),t}(),BP=function(){function t(e){J(this,t),this.ctx=e,this.w=e.w}return ee(t,[{key:"drawYAxisTexts",value:function(e,i,s,r){var n=this.w,o=n.config.yaxis[0],a=n.globals.yLabelFormatters[0];return new Y(this.ctx).drawText({x:e+o.labels.offsetX,y:i+o.labels.offsetY,text:a(r,s),textAnchor:"middle",fontSize:o.labels.style.fontSize,fontFamily:o.labels.style.fontFamily,foreColor:Array.isArray(o.labels.style.colors)?o.labels.style.colors[s]:o.labels.style.colors})}}]),t}(),WP=function(){function t(e){J(this,t),this.ctx=e,this.w=e.w;var i=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=i.globals.stroke.colors!==void 0?i.globals.stroke.colors:i.globals.colors,this.defaultSize=Math.min(i.globals.gridWidth,i.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=i.globals.gridWidth/2,i.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(i.config.plotOptions.pie.endAngle-i.config.plotOptions.pie.startAngle),this.initialAngle=i.config.plotOptions.pie.startAngle%this.fullAngle,i.globals.radialSize=this.defaultSize/2.05-i.config.stroke.width-(i.config.chart.sparkline.enabled?0:i.config.chart.dropShadow.blur),this.donutSize=i.globals.radialSize*parseInt(i.config.plotOptions.pie.donut.size,10)/100;var s=i.config.plotOptions.pie.customScale,r=i.globals.gridWidth/2,n=i.globals.gridHeight/2;this.translateX=r-r*s,this.translateY=n-n*s,this.dataLabelsGroup=new Y(this.ctx).group({class:"apexcharts-datalabels-group",transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(s,")")}),this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return ee(t,[{key:"draw",value:function(e){var i=this,s=this.w,r=new Y(this.ctx),n=r.group({class:"apexcharts-pie"});if(s.globals.noData)return n;for(var o=0,a=0;a<e.length;a++)o+=O.negToZero(e[a]);var l=[],c=r.group();o===0&&(o=1e-5),e.forEach(function(y){i.maxY=Math.max(i.maxY,y)}),s.config.yaxis[0].max&&(this.maxY=s.config.yaxis[0].max),s.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(n);for(var u=0;u<e.length;u++){var h=this.fullAngle*O.negToZero(e[u])/o;l.push(h),this.chartType==="polarArea"?(l[u]=this.fullAngle/e.length,this.sliceSizes.push(s.globals.radialSize*e[u]/this.maxY)):this.sliceSizes.push(s.globals.radialSize)}if(s.globals.dataChanged){for(var d,g=0,p=0;p<s.globals.previousPaths.length;p++)g+=O.negToZero(s.globals.previousPaths[p]);for(var f=0;f<s.globals.previousPaths.length;f++)d=this.fullAngle*O.negToZero(s.globals.previousPaths[f])/g,this.prevSectorAngleArr.push(d)}if(this.donutSize<0&&(this.donutSize=0),this.chartType==="donut"){var C=r.drawCircle(this.donutSize);C.attr({cx:this.centerX,cy:this.centerY,fill:s.config.plotOptions.pie.donut.background?s.config.plotOptions.pie.donut.background:"transparent"}),c.add(C)}var m=this.drawArcs(l,e);if(this.sliceLabels.forEach(function(y){m.add(y)}),c.attr({transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(s.config.plotOptions.pie.customScale,")")}),c.add(m),n.add(c),this.donutDataLabels.show){var v=this.renderInnerDataLabels(this.dataLabelsGroup,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});n.add(v)}return s.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(n),n}},{key:"drawArcs",value:function(e,i){var s=this.w,r=new St(this.ctx),n=new Y(this.ctx),o=new ss(this.ctx),a=n.group({class:"apexcharts-slices"}),l=this.initialAngle,c=this.initialAngle,u=this.initialAngle,h=this.initialAngle;this.strokeWidth=s.config.stroke.show?s.config.stroke.width:0;for(var d=0;d<e.length;d++){var g=n.group({class:"apexcharts-series apexcharts-pie-series",seriesName:O.escapeString(s.globals.seriesNames[d]),rel:d+1,"data:realIndex":d});a.add(g),c=h,u=(l=u)+e[d],h=c+this.prevSectorAngleArr[d];var p=u<l?this.fullAngle+u-l:u-l,f=o.fillPath({seriesNumber:d,size:this.sliceSizes[d],value:i[d]}),C=this.getChangedPath(c,h),m=n.drawPath({d:C,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[d]:this.lineColorArr,strokeWidth:0,fill:f,fillOpacity:s.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(d)});if(m.attr({index:0,j:d}),r.setSelectionFilter(m,0,d),s.config.chart.dropShadow.enabled){var v=s.config.chart.dropShadow;r.dropShadow(m,v,d)}this.addListeners(m,this.donutDataLabels),Y.setAttrs(m.node,{"data:angle":p,"data:startAngle":l,"data:strokeWidth":this.strokeWidth,"data:value":i[d]});var y={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?y=O.polarToCartesian(this.centerX,this.centerY,s.globals.radialSize/1.25+s.config.plotOptions.pie.dataLabels.offset,(l+p/2)%this.fullAngle):this.chartType==="donut"&&(y=O.polarToCartesian(this.centerX,this.centerY,(s.globals.radialSize+this.donutSize)/2+s.config.plotOptions.pie.dataLabels.offset,(l+p/2)%this.fullAngle)),g.add(m);var w=0;if(!this.initialAnim||s.globals.resized||s.globals.dataChanged?this.animBeginArr.push(0):((w=p/this.fullAngle*s.config.chart.animations.speed)===0&&(w=1),this.animDur=w+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&s.globals.dataChanged?this.animatePaths(m,{size:this.sliceSizes[d],endAngle:u,startAngle:l,prevStartAngle:c,prevEndAngle:h,animateStartingPos:!0,i:d,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:s.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(m,{size:this.sliceSizes[d],endAngle:u,startAngle:l,i:d,totalItems:e.length-1,animBeginArr:this.animBeginArr,dur:w}),s.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&m.node.addEventListener("mouseup",this.pieClicked.bind(this,d)),s.globals.selectedDataPoints[0]!==void 0&&s.globals.selectedDataPoints[0].indexOf(d)>-1&&this.pieClicked(d),s.config.dataLabels.enabled){var x=y.x,S=y.y,b=100*p/this.fullAngle+"%";if(p!==0&&s.config.plotOptions.pie.dataLabels.minAngleToShowLabel<e[d]){var R=s.config.dataLabels.formatter;R!==void 0&&(b=R(s.globals.seriesPercent[d][0],{seriesIndex:d,w:s}));var A=s.globals.dataLabels.style.colors[d],P=n.group({class:"apexcharts-datalabels"}),E=n.drawText({x,y:S,text:b,textAnchor:"middle",fontSize:s.config.dataLabels.style.fontSize,fontFamily:s.config.dataLabels.style.fontFamily,fontWeight:s.config.dataLabels.style.fontWeight,foreColor:A});if(P.add(E),s.config.dataLabels.dropShadow.enabled){var L=s.config.dataLabels.dropShadow;r.dropShadow(E,L)}E.node.classList.add("apexcharts-pie-label"),s.config.chart.animations.animate&&s.globals.resized===!1&&(E.node.classList.add("apexcharts-pie-label-delay"),E.node.style.animationDelay=s.config.chart.animations.speed/940+"s"),this.sliceLabels.push(P)}}}return a}},{key:"addListeners",value:function(e,i){var s=new Y(this.ctx);e.node.addEventListener("mouseenter",s.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",s.pathMouseLeave.bind(this,e)),e.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,e.node,i)),e.node.addEventListener("mousedown",s.pathMouseDown.bind(this,e)),this.donutDataLabels.total.showAlways||(e.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,e.node,i)),e.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,e.node,i)))}},{key:"animatePaths",value:function(e,i){var s=this.w,r=i.endAngle<i.startAngle?this.fullAngle+i.endAngle-i.startAngle:i.endAngle-i.startAngle,n=r,o=i.startAngle,a=i.startAngle;i.prevStartAngle!==void 0&&i.prevEndAngle!==void 0&&(o=i.prevEndAngle,n=i.prevEndAngle<i.prevStartAngle?this.fullAngle+i.prevEndAngle-i.prevStartAngle:i.prevEndAngle-i.prevStartAngle),i.i===s.config.series.length-1&&(r+a>this.fullAngle?i.endAngle=i.endAngle-(r+a):r+a<this.fullAngle&&(i.endAngle=i.endAngle+(this.fullAngle-(r+a)))),r===this.fullAngle&&(r=this.fullAngle-.01),this.animateArc(e,o,a,r,n,i)}},{key:"animateArc",value:function(e,i,s,r,n,o){var a,l=this,c=this.w,u=new ea(this.ctx),h=o.size;(isNaN(i)||isNaN(n))&&(i=s,n=r,o.dur=0);var d=r,g=s,p=i<s?this.fullAngle+i-s:i-s;c.globals.dataChanged&&o.shouldSetPrevPaths&&o.prevEndAngle&&(a=l.getPiePath({me:l,startAngle:o.prevStartAngle,angle:o.prevEndAngle<o.prevStartAngle?this.fullAngle+o.prevEndAngle-o.prevStartAngle:o.prevEndAngle-o.prevStartAngle,size:h}),e.attr({d:a})),o.dur!==0?e.animate(o.dur,o.animBeginArr[o.i]).after(function(){l.chartType!=="pie"&&l.chartType!=="donut"&&l.chartType!=="polarArea"||this.animate(c.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":l.strokeWidth}),o.i===c.config.series.length-1&&u.animationCompleted(e)}).during(function(f){d=p+(r-p)*f,o.animateStartingPos&&(d=n+(r-n)*f,g=i-n+(s-(i-n))*f),a=l.getPiePath({me:l,startAngle:g,angle:d,size:h}),e.node.setAttribute("data:pathOrig",a),e.attr({d:a})}):(a=l.getPiePath({me:l,startAngle:g,angle:r,size:h}),o.isTrack||(c.globals.animationEnded=!0),e.node.setAttribute("data:pathOrig",a),e.attr({d:a,"stroke-width":l.strokeWidth}))}},{key:"pieClicked",value:function(e){var i,s=this.w,r=this,n=r.sliceSizes[e]+(s.config.plotOptions.pie.expandOnClick?4:0),o=s.globals.dom.Paper.findOne(".apexcharts-".concat(r.chartType.toLowerCase(),"-slice-").concat(e));if(o.attr("data:pieClicked")!=="true"){var a=s.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(a,function(h){h.setAttribute("data:pieClicked","false");var d=h.getAttribute("data:pathOrig");d&&h.setAttribute("d",d)}),s.globals.capturedDataPointIndex=e,o.attr("data:pieClicked","true");var l=parseInt(o.attr("data:startAngle"),10),c=parseInt(o.attr("data:angle"),10);i=r.getPiePath({me:r,startAngle:l,angle:c,size:n}),c!==360&&o.plot(i)}else{o.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(o.node,this.donutDataLabels);var u=o.attr("data:pathOrig");o.attr({d:u})}}},{key:"getChangedPath",value:function(e,i){var s="";return this.dynamicAnim&&this.w.globals.dataChanged&&(s=this.getPiePath({me:this,startAngle:e,angle:i-e,size:this.size})),s}},{key:"getPiePath",value:function(e){var i,s=e.me,r=e.startAngle,n=e.angle,o=e.size,a=new Y(this.ctx),l=r,c=Math.PI*(l-90)/180,u=n+r;Math.ceil(u)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(u=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(u)>this.fullAngle&&(u-=this.fullAngle);var h=Math.PI*(u-90)/180,d=s.centerX+o*Math.cos(c),g=s.centerY+o*Math.sin(c),p=s.centerX+o*Math.cos(h),f=s.centerY+o*Math.sin(h),C=O.polarToCartesian(s.centerX,s.centerY,s.donutSize,u),m=O.polarToCartesian(s.centerX,s.centerY,s.donutSize,l),v=n>180?1:0,y=["M",d,g,"A",o,o,0,v,1,p,f];return i=s.chartType==="donut"?[].concat(y,["L",C.x,C.y,"A",s.donutSize,s.donutSize,0,v,0,m.x,m.y,"L",d,g,"z"]).join(" "):s.chartType==="pie"||s.chartType==="polarArea"?[].concat(y,["L",s.centerX,s.centerY,"L",d,g]).join(" "):[].concat(y).join(" "),a.roundPathCorners(i,2*this.strokeWidth)}},{key:"drawPolarElements",value:function(e){var i=this.w,s=new LP(this.ctx),r=new Y(this.ctx),n=new BP(this.ctx),o=r.group(),a=r.group(),l=s.niceScale(0,Math.ceil(this.maxY),0),c=l.result.reverse(),u=l.result.length;this.maxY=l.niceMax;for(var h=i.globals.radialSize,d=h/(u-1),g=0;g<u-1;g++){var p=r.drawCircle(h);if(p.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":i.config.plotOptions.polarArea.rings.strokeWidth,stroke:i.config.plotOptions.polarArea.rings.strokeColor}),i.config.yaxis[0].show){var f=n.drawYAxisTexts(this.centerX,this.centerY-h+parseInt(i.config.yaxis[0].labels.style.fontSize,10)/2,g,c[g]);a.add(f)}o.add(p),h-=d}this.drawSpokes(e),e.add(o),e.add(a)}},{key:"renderInnerDataLabels",value:function(e,i,s){var r=this.w,n=new Y(this.ctx),o=i.total.show;e.node.innerHTML="",e.node.style.opacity=s.opacity;var a,l,c=s.centerX,u=this.donutDataLabels.total.label?s.centerY:s.centerY-s.centerY/6;a=i.name.color===void 0?r.globals.colors[0]:i.name.color;var h=i.name.fontSize,d=i.name.fontFamily,g=i.name.fontWeight;l=i.value.color===void 0?r.config.chart.foreColor:i.value.color;var p=i.value.formatter,f="",C="";if(o?(a=i.total.color,h=i.total.fontSize,d=i.total.fontFamily,g=i.total.fontWeight,C=this.donutDataLabels.total.label?i.total.label:"",f=i.total.formatter(r)):r.globals.series.length===1&&(f=p(r.globals.series[0],r),C=r.globals.seriesNames[0]),C&&(C=i.name.formatter(C,i.total.show,r)),i.name.show){var m=n.drawText({x:c,y:u+parseFloat(i.name.offsetY),text:C,textAnchor:"middle",foreColor:a,fontSize:h,fontWeight:g,fontFamily:d});m.node.classList.add("apexcharts-datalabel-label"),e.add(m)}if(i.value.show){var v=i.name.show?parseFloat(i.value.offsetY)+16:i.value.offsetY,y=n.drawText({x:c,y:u+v,text:f,textAnchor:"middle",foreColor:l,fontWeight:i.value.fontWeight,fontSize:i.value.fontSize,fontFamily:i.value.fontFamily});y.node.classList.add("apexcharts-datalabel-value"),e.add(y)}return e}},{key:"printInnerLabels",value:function(e,i,s,r){var n,o=this.w;r?n=e.name.color===void 0?o.globals.colors[parseInt(r.parentNode.getAttribute("rel"),10)-1]:e.name.color:o.globals.series.length>1&&e.total.show&&(n=e.total.color);var a=o.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),l=o.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");s=(0,e.value.formatter)(s,o),r||typeof e.total.formatter!="function"||(s=e.total.formatter(o));var c=i===e.total.label;i=this.donutDataLabels.total.label?e.name.formatter(i,c,o):"",a!==null&&(a.textContent=i),l!==null&&(l.textContent=s),a!==null&&(a.style.fill=n)}},{key:"printDataLabelsInner",value:function(e,i){var s=this.w,r=e.getAttribute("data:value"),n=s.globals.seriesNames[parseInt(e.parentNode.getAttribute("rel"),10)-1];s.globals.series.length>1&&this.printInnerLabels(i,n,r,e);var o=s.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");o!==null&&(o.style.opacity=1)}},{key:"drawSpokes",value:function(e){var i=this,s=this.w,r=new Y(this.ctx),n=s.config.plotOptions.polarArea.spokes;if(n.strokeWidth!==0){for(var o=[],a=360/s.globals.series.length,l=0;l<s.globals.series.length;l++)o.push(O.polarToCartesian(this.centerX,this.centerY,s.globals.radialSize,s.config.plotOptions.pie.startAngle+a*l));o.forEach(function(c,u){var h=r.drawLine(c.x,c.y,i.centerX,i.centerY,Array.isArray(n.connectorColors)?n.connectorColors[u]:n.connectorColors);e.add(h)})}}},{key:"revertDataLabelsInner",value:function(){var e=this.w;if(this.donutDataLabels.show){var i=e.globals.dom.Paper.findOne(".apexcharts-datalabels-group"),s=this.renderInnerDataLabels(i,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});e.globals.dom.Paper.findOne(".apexcharts-radialbar, .apexcharts-pie").add(s)}}}]),t}(),hj=function(){function t(e){J(this,t),this.ctx=e,this.w=e.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var i=this.w;this.graphics=new Y(this.ctx),this.lineColorArr=i.globals.stroke.colors!==void 0?i.globals.stroke.colors:i.globals.colors,this.defaultSize=i.globals.svgHeight<i.globals.svgWidth?i.globals.gridHeight:i.globals.gridWidth,this.isLog=i.config.yaxis[0].logarithmic,this.logBase=i.config.yaxis[0].logBase,this.coreUtils=new at(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(this.logBase,i.globals.maxY,0):i.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.logBase,this.w.globals.minY,0):i.globals.minY,this.polygons=i.config.plotOptions.radar.polygons,this.strokeWidth=i.config.stroke.show?i.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-i.config.chart.dropShadow.blur,i.config.xaxis.labels.show&&(this.size=this.size-i.globals.xAxisLabelsWidth/1.75),i.config.plotOptions.radar.size!==void 0&&(this.size=i.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return ee(t,[{key:"draw",value:function(e){var i=this,s=this.w,r=new ss(this.ctx),n=[],o=new No(this.ctx);e.length&&(this.dataPointsLen=e[s.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var a=s.globals.gridWidth/2,l=s.globals.gridHeight/2,c=a+s.config.plotOptions.radar.offsetX,u=l+s.config.plotOptions.radar.offsetY,h=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(c||0,", ").concat(u||0,")")}),d=[],g=null,p=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),e.forEach(function(C,m){var v=C.length===s.globals.dataPoints,y=i.graphics.group().attr({class:"apexcharts-series","data:longestSeries":v,seriesName:O.escapeString(s.globals.seriesNames[m]),rel:m+1,"data:realIndex":m});i.dataRadiusOfPercent[m]=[],i.dataRadius[m]=[],i.angleArr[m]=[],C.forEach(function(M,I){var z=Math.abs(i.maxValue-i.minValue);M-=i.minValue,i.isLog&&(M=i.coreUtils.getLogVal(i.logBase,M,0)),i.dataRadiusOfPercent[m][I]=M/z,i.dataRadius[m][I]=i.dataRadiusOfPercent[m][I]*i.size,i.angleArr[m][I]=I*i.disAngle}),d=i.getDataPointsPos(i.dataRadius[m],i.angleArr[m]);var w=i.createPaths(d,{x:0,y:0});g=i.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),p=i.graphics.group({class:"apexcharts-datalabels","data:realIndex":m}),s.globals.delayedElements.push({el:g.node,index:m});var x={i:m,realIndex:m,animationDelay:m,initialSpeed:s.config.chart.animations.speed,dataChangeSpeed:s.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:s.globals.stroke.colors[m],strokeLineCap:s.config.stroke.lineCap},S=null;s.globals.previousPaths.length>0&&(S=i.getPreviousPath(m));for(var b=0;b<w.linePathsTo.length;b++){var R=i.graphics.renderPaths(Q(Q({},x),{},{pathFrom:S===null?w.linePathsFrom[b]:S,pathTo:w.linePathsTo[b],strokeWidth:Array.isArray(i.strokeWidth)?i.strokeWidth[m]:i.strokeWidth,fill:"none",drawShadow:!1}));y.add(R);var A=r.fillPath({seriesNumber:m}),P=i.graphics.renderPaths(Q(Q({},x),{},{pathFrom:S===null?w.areaPathsFrom[b]:S,pathTo:w.areaPathsTo[b],strokeWidth:0,fill:A,drawShadow:!1}));if(s.config.chart.dropShadow.enabled){var E=new St(i.ctx),L=s.config.chart.dropShadow;E.dropShadow(P,Object.assign({},L,{noUserSpaceOnUse:!0}),m)}y.add(P)}C.forEach(function(M,I){var z=new ra(i.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:m,dataPointIndex:I}),D=i.graphics.drawMarker(d[I].x,d[I].y,z);D.attr("rel",I),D.attr("j",I),D.attr("index",m),D.node.setAttribute("default-marker-size",z.pSize);var T=i.graphics.group({class:"apexcharts-series-markers"});T&&T.add(D),g.add(T),y.add(g);var k=s.config.dataLabels;if(k.enabled){var H=k.formatter(s.globals.series[m][I],{seriesIndex:m,dataPointIndex:I,w:s});o.plotDataLabelsText({x:d[I].x,y:d[I].y,text:H,textAnchor:"middle",i:m,j:m,parent:p,offsetCorrection:!1,dataLabelsConfig:Q({},k)})}y.add(p)}),n.push(y)}),this.drawPolygons({parent:h}),s.config.xaxis.labels.show){var f=this.drawXAxisTexts();h.add(f)}return n.forEach(function(C){h.add(C)}),h.add(this.yaxisLabels),h}},{key:"drawPolygons",value:function(e){for(var i=this,s=this.w,r=e.parent,n=new BP(this.ctx),o=s.globals.yAxisScale[0].result.reverse(),a=o.length,l=[],c=this.size/(a-1),u=0;u<a;u++)l[u]=c*u;l.reverse();var h=[],d=[];l.forEach(function(g,p){var f=O.getPolygonPos(g,i.dataPointsLen),C="";f.forEach(function(m,v){if(p===0){var y=i.graphics.drawLine(m.x,m.y,0,0,Array.isArray(i.polygons.connectorColors)?i.polygons.connectorColors[v]:i.polygons.connectorColors);d.push(y)}v===0&&i.yaxisLabelsTextsPos.push({x:m.x,y:m.y}),C+=m.x+","+m.y+" "}),h.push(C)}),h.forEach(function(g,p){var f=i.polygons.strokeColors,C=i.polygons.strokeWidth,m=i.graphics.drawPolygon(g,Array.isArray(f)?f[p]:f,Array.isArray(C)?C[p]:C,s.globals.radarPolygons.fill.colors[p]);r.add(m)}),d.forEach(function(g){r.add(g)}),s.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(g,p){var f=n.drawYAxisTexts(g.x,g.y,p,o[p]);i.yaxisLabels.add(f)})}},{key:"drawXAxisTexts",value:function(){var e=this,i=this.w,s=i.config.xaxis.labels,r=this.graphics.group({class:"apexcharts-xaxis"}),n=O.getPolygonPos(this.size,this.dataPointsLen);return i.globals.labels.forEach(function(o,a){var l=i.config.xaxis.labels.formatter,c=new No(e.ctx);if(n[a]){var u=e.getTextPos(n[a],e.size),h=l(o,{seriesIndex:-1,dataPointIndex:a,w:i});c.plotDataLabelsText({x:u.newX,y:u.newY,text:h,textAnchor:u.textAnchor,i:a,j:a,parent:r,className:"apexcharts-xaxis-label",color:Array.isArray(s.style.colors)&&s.style.colors[a]?s.style.colors[a]:"#a8a8a8",dataLabelsConfig:Q({textAnchor:u.textAnchor,dropShadow:{enabled:!1}},s),offsetCorrection:!1}).on("click",function(d){if(typeof i.config.chart.events.xAxisLabelClick=="function"){var g=Object.assign({},i,{labelIndex:a});i.config.chart.events.xAxisLabelClick(d,e.ctx,g)}})}}),r}},{key:"createPaths",value:function(e,i){var s=this,r=[],n=[],o=[],a=[];if(e.length){n=[this.graphics.move(i.x,i.y)],a=[this.graphics.move(i.x,i.y)];var l=this.graphics.move(e[0].x,e[0].y),c=this.graphics.move(e[0].x,e[0].y);e.forEach(function(u,h){l+=s.graphics.line(u.x,u.y),c+=s.graphics.line(u.x,u.y),h===e.length-1&&(l+="Z",c+="Z")}),r.push(l),o.push(c)}return{linePathsFrom:n,linePathsTo:r,areaPathsFrom:a,areaPathsTo:o}}},{key:"getTextPos",value:function(e,i){var s="middle",r=e.x,n=e.y;return Math.abs(e.x)>=10?e.x>0?(s="start",r+=10):e.x<0&&(s="end",r-=10):s="middle",Math.abs(e.y)>=i-10&&(e.y<0?n-=10:e.y>0&&(n+=10)),{textAnchor:s,newX:r,newY:n}}},{key:"getPreviousPath",value:function(e){for(var i=this.w,s=null,r=0;r<i.globals.previousPaths.length;r++){var n=i.globals.previousPaths[r];n.paths.length>0&&parseInt(n.realIndex,10)===parseInt(e,10)&&i.globals.previousPaths[r].paths[0]!==void 0&&(s=i.globals.previousPaths[r].paths[0].d)}return s}},{key:"getDataPointsPos",value:function(e,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;e=e||[],i=i||[];for(var r=[],n=0;n<s;n++){var o={};o.x=e[n]*Math.sin(i[n]),o.y=-e[n]*Math.cos(i[n]),r.push(o)}return r}}]),t}(),dj=function(t){ql(i,WP);var e=Kl(i);function i(s){var r;J(this,i),(r=e.call(this,s)).ctx=s,r.w=s.w,r.animBeginArr=[0],r.animDur=0;var n=r.w;return r.startAngle=n.config.plotOptions.radialBar.startAngle,r.endAngle=n.config.plotOptions.radialBar.endAngle,r.totalAngle=Math.abs(n.config.plotOptions.radialBar.endAngle-n.config.plotOptions.radialBar.startAngle),r.trackStartAngle=n.config.plotOptions.radialBar.track.startAngle,r.trackEndAngle=n.config.plotOptions.radialBar.track.endAngle,r.barLabels=r.w.config.plotOptions.radialBar.barLabels,r.donutDataLabels=r.w.config.plotOptions.radialBar.dataLabels,r.radialDataLabels=r.donutDataLabels,r.trackStartAngle||(r.trackStartAngle=r.startAngle),r.trackEndAngle||(r.trackEndAngle=r.endAngle),r.endAngle===360&&(r.endAngle=359.99),r.margin=parseInt(n.config.plotOptions.radialBar.track.margin,10),r.onBarLabelClick=r.onBarLabelClick.bind(JA(r)),r}return ee(i,[{key:"draw",value:function(s){var r=this.w,n=new Y(this.ctx),o=n.group({class:"apexcharts-radialbar"});if(r.globals.noData)return o;var a=n.group(),l=this.defaultSize/2,c=r.globals.gridWidth/2,u=this.defaultSize/2.05;r.config.chart.sparkline.enabled||(u=u-r.config.stroke.width-r.config.chart.dropShadow.blur);var h=r.globals.fill.colors;if(r.config.plotOptions.radialBar.track.show){var d=this.drawTracks({size:u,centerX:c,centerY:l,colorArr:h,series:s});a.add(d)}var g=this.drawArcs({size:u,centerX:c,centerY:l,colorArr:h,series:s}),p=360;r.config.plotOptions.radialBar.startAngle<0&&(p=this.totalAngle);var f=(360-p)/360;if(r.globals.radialSize=u-u*f,this.radialDataLabels.value.show){var C=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);r.globals.radialSize+=C*f}return a.add(g.g),r.config.plotOptions.radialBar.hollow.position==="front"&&(g.g.add(g.elHollow),g.dataLabels&&g.g.add(g.dataLabels)),o.add(a),o}},{key:"drawTracks",value:function(s){var r=this.w,n=new Y(this.ctx),o=n.group({class:"apexcharts-tracks"}),a=new St(this.ctx),l=new ss(this.ctx),c=this.getStrokeWidth(s);s.size=s.size-c/2;for(var u=0;u<s.series.length;u++){var h=n.group({class:"apexcharts-radialbar-track apexcharts-track"});o.add(h),h.attr({rel:u+1}),s.size=s.size-c-this.margin;var d=r.config.plotOptions.radialBar.track,g=l.fillPath({seriesNumber:0,size:s.size,fillColors:Array.isArray(d.background)?d.background[u]:d.background,solid:!0}),p=this.trackStartAngle,f=this.trackEndAngle;Math.abs(f)+Math.abs(p)>=360&&(f=360-Math.abs(this.startAngle)-.1);var C=n.drawPath({d:"",stroke:g,strokeWidth:c*parseInt(d.strokeWidth,10)/100,fill:"none",strokeOpacity:d.opacity,classes:"apexcharts-radialbar-area"});if(d.dropShadow.enabled){var m=d.dropShadow;a.dropShadow(C,m)}h.add(C),C.attr("id","apexcharts-radialbarTrack-"+u),this.animatePaths(C,{centerX:s.centerX,centerY:s.centerY,endAngle:f,startAngle:p,size:s.size,i:u,totalItems:2,animBeginArr:0,dur:0,isTrack:!0})}return o}},{key:"drawArcs",value:function(s){var r=this.w,n=new Y(this.ctx),o=new ss(this.ctx),a=new St(this.ctx),l=n.group(),c=this.getStrokeWidth(s);s.size=s.size-c/2;var u=r.config.plotOptions.radialBar.hollow.background,h=s.size-c*s.series.length-this.margin*s.series.length-c*parseInt(r.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,d=h-r.config.plotOptions.radialBar.hollow.margin;r.config.plotOptions.radialBar.hollow.image!==void 0&&(u=this.drawHollowImage(s,l,h,u));var g=this.drawHollow({size:d,centerX:s.centerX,centerY:s.centerY,fill:u||"transparent"});if(r.config.plotOptions.radialBar.hollow.dropShadow.enabled){var p=r.config.plotOptions.radialBar.hollow.dropShadow;a.dropShadow(g,p)}var f=1;!this.radialDataLabels.total.show&&r.globals.series.length>1&&(f=0);var C=null;if(this.radialDataLabels.show){var m=r.globals.dom.Paper.findOne(".apexcharts-datalabels-group");C=this.renderInnerDataLabels(m,this.radialDataLabels,{hollowSize:h,centerX:s.centerX,centerY:s.centerY,opacity:f})}r.config.plotOptions.radialBar.hollow.position==="back"&&(l.add(g),C&&l.add(C));var v=!1;r.config.plotOptions.radialBar.inverseOrder&&(v=!0);for(var y=v?s.series.length-1:0;v?y>=0:y<s.series.length;v?y--:y++){var w=n.group({class:"apexcharts-series apexcharts-radial-series",seriesName:O.escapeString(r.globals.seriesNames[y])});l.add(w),w.attr({rel:y+1,"data:realIndex":y}),this.ctx.series.addCollapsedClassToSeries(w,y),s.size=s.size-c-this.margin;var x=o.fillPath({seriesNumber:y,size:s.size,value:s.series[y]}),S=this.startAngle,b=void 0,R=O.negToZero(s.series[y]>100?100:s.series[y])/100,A=Math.round(this.totalAngle*R)+this.startAngle,P=void 0;r.globals.dataChanged&&(b=this.startAngle,P=Math.round(this.totalAngle*O.negToZero(r.globals.previousPaths[y])/100)+b),Math.abs(A)+Math.abs(S)>360&&(A-=.01),Math.abs(P)+Math.abs(b)>360&&(P-=.01);var E=A-S,L=Array.isArray(r.config.stroke.dashArray)?r.config.stroke.dashArray[y]:r.config.stroke.dashArray,M=n.drawPath({d:"",stroke:x,strokeWidth:c,fill:"none",fillOpacity:r.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+y,strokeDashArray:L});if(Y.setAttrs(M.node,{"data:angle":E,"data:value":s.series[y]}),r.config.chart.dropShadow.enabled){var I=r.config.chart.dropShadow;a.dropShadow(M,I,y)}if(a.setSelectionFilter(M,0,y),this.addListeners(M,this.radialDataLabels),w.add(M),M.attr({index:0,j:y}),this.barLabels.enabled){var z=O.polarToCartesian(s.centerX,s.centerY,s.size,S),D=this.barLabels.formatter(r.globals.seriesNames[y],{seriesIndex:y,w:r}),T=["apexcharts-radialbar-label"];this.barLabels.onClick||T.push("apexcharts-no-click");var k=this.barLabels.useSeriesColors?r.globals.colors[y]:r.config.chart.foreColor;k||(k=r.config.chart.foreColor);var H=z.x+this.barLabels.offsetX,N=z.y+this.barLabels.offsetY,G=n.drawText({x:H,y:N,text:D,textAnchor:"end",dominantBaseline:"middle",fontFamily:this.barLabels.fontFamily,fontWeight:this.barLabels.fontWeight,fontSize:this.barLabels.fontSize,foreColor:k,cssClass:T.join(" ")});G.on("click",this.onBarLabelClick),G.attr({rel:y+1}),S!==0&&G.attr({"transform-origin":"".concat(H," ").concat(N),transform:"rotate(".concat(S," 0 0)")}),w.add(G)}var U=0;!this.initialAnim||r.globals.resized||r.globals.dataChanged||(U=r.config.chart.animations.speed),r.globals.dataChanged&&(U=r.config.chart.animations.dynamicAnimation.speed),this.animDur=U/(1.2*s.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(M,{centerX:s.centerX,centerY:s.centerY,endAngle:A,startAngle:S,prevEndAngle:P,prevStartAngle:b,size:s.size,i:y,totalItems:2,animBeginArr:this.animBeginArr,dur:U,shouldSetPrevPaths:!0})}return{g:l,elHollow:g,dataLabels:C}}},{key:"drawHollow",value:function(s){var r=new Y(this.ctx).drawCircle(2*s.size);return r.attr({class:"apexcharts-radialbar-hollow",cx:s.centerX,cy:s.centerY,r:s.size,fill:s.fill}),r}},{key:"drawHollowImage",value:function(s,r,n,o){var a=this.w,l=new ss(this.ctx),c=O.randomId(),u=a.config.plotOptions.radialBar.hollow.image;if(a.config.plotOptions.radialBar.hollow.imageClipped)l.clippedImgArea({width:n,height:n,image:u,patternID:"pattern".concat(a.globals.cuid).concat(c)}),o="url(#pattern".concat(a.globals.cuid).concat(c,")");else{var h=a.config.plotOptions.radialBar.hollow.imageWidth,d=a.config.plotOptions.radialBar.hollow.imageHeight;if(h===void 0&&d===void 0){var g=a.globals.dom.Paper.image(u,function(f){this.move(s.centerX-f.width/2+a.config.plotOptions.radialBar.hollow.imageOffsetX,s.centerY-f.height/2+a.config.plotOptions.radialBar.hollow.imageOffsetY)});r.add(g)}else{var p=a.globals.dom.Paper.image(u,function(f){this.move(s.centerX-h/2+a.config.plotOptions.radialBar.hollow.imageOffsetX,s.centerY-d/2+a.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(h,d)});r.add(p)}}return o}},{key:"getStrokeWidth",value:function(s){var r=this.w;return s.size*(100-parseInt(r.config.plotOptions.radialBar.hollow.size,10))/100/(s.series.length+1)-this.margin}},{key:"onBarLabelClick",value:function(s){var r=parseInt(s.target.getAttribute("rel"),10)-1,n=this.barLabels.onClick,o=this.w;n&&n(o.globals.seriesNames[r],{w:o,seriesIndex:r})}}]),i}(),gj=function(t){ql(i,Go);var e=Kl(i);function i(){return J(this,i),e.apply(this,arguments)}return ee(i,[{key:"draw",value:function(s,r){var n=this.w,o=new Y(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=s,this.seriesRangeStart=n.globals.seriesRangeStart,this.seriesRangeEnd=n.globals.seriesRangeEnd,this.barHelpers.initVariables(s);for(var a=o.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),l=0;l<s.length;l++){var c,u,h,d,g=void 0,p=void 0,f=n.globals.comboCharts?r[l]:l,C=this.barHelpers.getGroupIndex(f).columnGroupIndex,m=o.group({class:"apexcharts-series",seriesName:O.escapeString(n.globals.seriesNames[f]),rel:l+1,"data:realIndex":f});this.ctx.series.addCollapsedClassToSeries(m,f),s[l].length>0&&(this.visibleI=this.visibleI+1);var v=0,y=0,w=0;this.yRatio.length>1&&(this.yaxisIndex=n.globals.seriesYAxisReverseMap[f][0],w=f);var x=this.barHelpers.initialPositions();p=x.y,d=x.zeroW,g=x.x,y=x.barWidth,v=x.barHeight,c=x.xDivision,u=x.yDivision,h=x.zeroH;for(var S=o.group({class:"apexcharts-datalabels","data:realIndex":f}),b=o.group({class:"apexcharts-rangebar-goals-markers"}),R=0;R<n.globals.dataPoints;R++){var A=this.barHelpers.getStrokeWidth(l,R,f),P=this.seriesRangeStart[l][R],E=this.seriesRangeEnd[l][R],L=null,M=null,I=null,z={x:g,y:p,strokeWidth:A,elSeries:m},D=this.seriesLen;if(n.config.plotOptions.bar.rangeBarGroupRows&&(D=1),n.config.series[l].data[R]===void 0)break;if(this.isHorizontal){I=p+v*this.visibleI;var T=(u-v*D)/2;if(n.config.series[l].data[R].x){var k=this.detectOverlappingBars({i:l,j:R,barYPosition:I,srty:T,barHeight:v,yDivision:u,initPositions:x});v=k.barHeight,I=k.barYPosition}y=(L=this.drawRangeBarPaths(Q({indexes:{i:l,j:R,realIndex:f},barHeight:v,barYPosition:I,zeroW:d,yDivision:u,y1:P,y2:E},z))).barWidth}else{n.globals.isXNumeric&&(g=(n.globals.seriesX[l][R]-n.globals.minX)/this.xRatio-y/2),M=g+y*this.visibleI;var H=(c-y*D)/2;if(n.config.series[l].data[R].x){var N=this.detectOverlappingBars({i:l,j:R,barXPosition:M,srtx:H,barWidth:y,xDivision:c,initPositions:x});y=N.barWidth,M=N.barXPosition}v=(L=this.drawRangeColumnPaths(Q({indexes:{i:l,j:R,realIndex:f,translationsIndex:w},barWidth:y,barXPosition:M,zeroH:h,xDivision:c},z))).barHeight}var G=this.barHelpers.drawGoalLine({barXPosition:L.barXPosition,barYPosition:I,goalX:L.goalX,goalY:L.goalY,barHeight:v,barWidth:y});G&&b.add(G),p=L.y,g=L.x;var U=this.barHelpers.getPathFillColor(s,l,R,f),te=n.globals.stroke.colors[f];this.renderSeries({realIndex:f,pathFill:U,lineFill:te,j:R,i:l,x:g,y:p,y1:P,y2:E,pathFrom:L.pathFrom,pathTo:L.pathTo,strokeWidth:A,elSeries:m,series:s,barHeight:v,barWidth:y,barXPosition:M,barYPosition:I,columnGroupIndex:C,elDataLabelsWrap:S,elGoalsMarkers:b,visibleSeries:this.visibleI,type:"rangebar"})}a.add(m)}return a}},{key:"detectOverlappingBars",value:function(s){var r=s.i,n=s.j,o=s.barYPosition,a=s.barXPosition,l=s.srty,c=s.srtx,u=s.barHeight,h=s.barWidth,d=s.yDivision,g=s.xDivision,p=s.initPositions,f=this.w,C=[],m=f.config.series[r].data[n].rangeName,v=f.config.series[r].data[n].x,y=Array.isArray(v)?v.join(" "):v,w=f.globals.labels.map(function(S){return Array.isArray(S)?S.join(" "):S}).indexOf(y),x=f.globals.seriesRange[r].findIndex(function(S){return S.x===y&&S.overlaps.length>0});return this.isHorizontal?(o=f.config.plotOptions.bar.rangeBarGroupRows?l+d*w:l+u*this.visibleI+d*w,x>-1&&!f.config.plotOptions.bar.rangeBarOverlap&&(C=f.globals.seriesRange[r][x].overlaps).indexOf(m)>-1&&(o=(u=p.barHeight/C.length)*this.visibleI+d*(100-parseInt(this.barOptions.barHeight,10))/100/2+u*(this.visibleI+C.indexOf(m))+d*w)):(w>-1&&!f.globals.timescaleLabels.length&&(a=f.config.plotOptions.bar.rangeBarGroupRows?c+g*w:c+h*this.visibleI+g*w),x>-1&&!f.config.plotOptions.bar.rangeBarOverlap&&(C=f.globals.seriesRange[r][x].overlaps).indexOf(m)>-1&&(a=(h=p.barWidth/C.length)*this.visibleI+g*(100-parseInt(this.barOptions.barWidth,10))/100/2+h*(this.visibleI+C.indexOf(m))+g*w)),{barYPosition:o,barXPosition:a,barHeight:u,barWidth:h}}},{key:"drawRangeColumnPaths",value:function(s){var r=s.indexes,n=s.x,o=s.xDivision,a=s.barWidth,l=s.barXPosition,c=s.zeroH,u=this.w,h=r.i,d=r.j,g=r.realIndex,p=r.translationsIndex,f=this.yRatio[p],C=this.getRangeValue(g,d),m=Math.min(C.start,C.end),v=Math.max(C.start,C.end);this.series[h][d]===void 0||this.series[h][d]===null?m=c:(m=c-m/f,v=c-v/f);var y=Math.abs(v-m),w=this.barHelpers.getColumnPaths({barXPosition:l,barWidth:a,y1:m,y2:v,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:g,i:g,j:d,w:u});if(u.globals.isXNumeric){var x=this.getBarXForNumericXAxis({x:n,j:d,realIndex:g,barWidth:a});n=x.x,l=x.barXPosition}else n+=o;return{pathTo:w.pathTo,pathFrom:w.pathFrom,barHeight:y,x:n,y:C.start<0&&C.end<0?m:v,goalY:this.barHelpers.getGoalValues("y",null,c,h,d,p),barXPosition:l}}},{key:"preventBarOverflow",value:function(s){var r=this.w;return s<0&&(s=0),s>r.globals.gridWidth&&(s=r.globals.gridWidth),s}},{key:"drawRangeBarPaths",value:function(s){var r=s.indexes,n=s.y,o=s.y1,a=s.y2,l=s.yDivision,c=s.barHeight,u=s.barYPosition,h=s.zeroW,d=this.w,g=r.realIndex,p=r.j,f=this.preventBarOverflow(h+o/this.invertedYRatio),C=this.preventBarOverflow(h+a/this.invertedYRatio),m=this.getRangeValue(g,p),v=Math.abs(C-f),y=this.barHelpers.getBarpaths({barYPosition:u,barHeight:c,x1:f,x2:C,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:g,realIndex:g,j:p,w:d});return d.globals.isXNumeric||(n+=l),{pathTo:y.pathTo,pathFrom:y.pathFrom,barWidth:v,x:m.start<0&&m.end<0?f:C,goalX:this.barHelpers.getGoalValues("x",h,null,g,p),y:n}}},{key:"getRangeValue",value:function(s,r){var n=this.w;return{start:n.globals.seriesRangeStart[s][r],end:n.globals.seriesRangeEnd[s][r]}}}]),i}(),pj=function(){function t(e){J(this,t),this.w=e.w,this.lineCtx=e}return ee(t,[{key:"sameValueSeriesFix",value:function(e,i){var s=this.w;if((s.config.fill.type==="gradient"||s.config.fill.type[e]==="gradient")&&new at(this.lineCtx.ctx,s).seriesHaveSameValues(e)){var r=i[e].slice();r[r.length-1]=r[r.length-1]+1e-6,i[e]=r}return i}},{key:"calculatePoints",value:function(e){var i=e.series,s=e.realIndex,r=e.x,n=e.y,o=e.i,a=e.j,l=e.prevY,c=this.w,u=[],h=[];if(a===0){var d=this.lineCtx.categoryAxisCorrection+c.config.markers.offsetX;c.globals.isXNumeric&&(d=(c.globals.seriesX[s][0]-c.globals.minX)/this.lineCtx.xRatio+c.config.markers.offsetX),u.push(d),h.push(O.isNumber(i[o][0])?l+c.config.markers.offsetY:null),u.push(r+c.config.markers.offsetX),h.push(O.isNumber(i[o][a+1])?n+c.config.markers.offsetY:null)}else u.push(r+c.config.markers.offsetX),h.push(O.isNumber(i[o][a+1])?n+c.config.markers.offsetY:null);return{x:u,y:h}}},{key:"checkPreviousPaths",value:function(e){for(var i=e.pathFromLine,s=e.pathFromArea,r=e.realIndex,n=this.w,o=0;o<n.globals.previousPaths.length;o++){var a=n.globals.previousPaths[o];(a.type==="line"||a.type==="area")&&a.paths.length>0&&parseInt(a.realIndex,10)===parseInt(r,10)&&(a.type==="line"?(this.lineCtx.appendPathFrom=!1,i=n.globals.previousPaths[o].paths[0].d):a.type==="area"&&(this.lineCtx.appendPathFrom=!1,s=n.globals.previousPaths[o].paths[0].d,n.config.stroke.show&&n.globals.previousPaths[o].paths[1]&&(i=n.globals.previousPaths[o].paths[1].d)))}return{pathFromLine:i,pathFromArea:s}}},{key:"determineFirstPrevY",value:function(e){var i,s,r,n=e.i,o=e.realIndex,a=e.series,l=e.prevY,c=e.lineYPosition,u=e.translationsIndex,h=this.w,d=h.config.chart.stacked&&!h.globals.comboCharts||h.config.chart.stacked&&h.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((i=this.w.config.series[o])===null||i===void 0?void 0:i.type)==="bar"||((s=this.w.config.series[o])===null||s===void 0?void 0:s.type)==="column");if(((r=a[n])===null||r===void 0?void 0:r[0])!==void 0)l=(c=d&&n>0?this.lineCtx.prevSeriesY[n-1][0]:this.lineCtx.zeroY)-a[n][0]/this.lineCtx.yRatio[u]+2*(this.lineCtx.isReversed?a[n][0]/this.lineCtx.yRatio[u]:0);else if(d&&n>0&&a[n][0]===void 0){for(var g=n-1;g>=0;g--)if(a[g][0]!==null&&a[g][0]!==void 0){l=c=this.lineCtx.prevSeriesY[g][0];break}}return{prevY:l,lineYPosition:c}}}]),t}(),fj=function(t){for(var e,i,s,r,n=function(u){for(var h=[],d=u[0],g=u[1],p=h[0]=Vg(d,g),f=1,C=u.length-1;f<C;f++)d=g,g=u[f+1],h[f]=.5*(p+(p=Vg(d,g)));return h[f]=p,h}(t),o=t.length-1,a=[],l=0;l<o;l++)s=Vg(t[l],t[l+1]),Math.abs(s)<1e-6?n[l]=n[l+1]=0:(r=(e=n[l]/s)*e+(i=n[l+1]/s)*i)>9&&(r=3*s/Math.sqrt(r),n[l]=r*e,n[l+1]=r*i);for(var c=0;c<=o;c++)r=(t[Math.min(o,c+1)][0]-t[Math.max(0,c-1)][0])/(6*(1+n[c]*n[c])),a.push([r||0,n[c]*r||0]);return a},mj=function(t){var e=fj(t),i=t[1],s=t[0],r=[],n=e[1],o=e[0];r.push(s,[s[0]+o[0],s[1]+o[1],i[0]-n[0],i[1]-n[1],i[0],i[1]]);for(var a=2,l=e.length;a<l;a++){var c=t[a],u=e[a];r.push([c[0]-u[0],c[1]-u[1],c[0],c[1]])}return r},vj=function(t,e,i){var s=t.slice(e,i);if(e){if(i-e>1&&s[1].length<6){var r=s[0].length;s[1]=[2*s[0][r-2]-s[0][r-4],2*s[0][r-1]-s[0][r-3]].concat(s[1])}s[0]=s[0].slice(-2)}return s};function Vg(t,e){return(e[1]-t[1])/(e[0]-t[0])}var _g=function(){function t(e,i,s){J(this,t),this.ctx=e,this.w=e.w,this.xyRatios=i,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||s,this.scatter=new TP(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new pj(this),this.markers=new ra(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return ee(t,[{key:"draw",value:function(e,i,s,r){var n,o=this.w,a=new Y(this.ctx),l=o.globals.comboCharts?i:o.config.chart.type,c=a.group({class:"apexcharts-".concat(l,"-series apexcharts-plot-series")}),u=new at(this.ctx,o);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,e=u.getLogSeries(e),this.yRatio=u.getLogYRatios(this.yRatio),this.prevSeriesY=[];for(var h=[],d=0;d<e.length;d++){e=this.lineHelpers.sameValueSeriesFix(d,e);var g=o.globals.comboCharts?s[d]:d,p=this.yRatio.length>1?g:0;this._initSerieVariables(e,d,g);var f=[],C=[],m=[],v=o.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,g),o.globals.isXNumeric&&o.globals.seriesX.length>0&&(v=(o.globals.seriesX[g][0]-o.globals.minX)/this.xRatio),m.push(v);var y,w=v,x=void 0,S=w,b=this.zeroY,R=this.zeroY;b=this.lineHelpers.determineFirstPrevY({i:d,realIndex:g,series:e,prevY:b,lineYPosition:0,translationsIndex:p}).prevY,o.config.stroke.curve==="monotoneCubic"&&e[d][0]===null?f.push(null):f.push(b),y=b,l==="rangeArea"&&(x=R=this.lineHelpers.determineFirstPrevY({i:d,realIndex:g,series:r,prevY:R,lineYPosition:0,translationsIndex:p}).prevY,C.push(f[0]!==null?R:null));var A=this._calculatePathsFrom({type:l,series:e,i:d,realIndex:g,translationsIndex:p,prevX:S,prevY:b,prevY2:R}),P=[f[0]],E=[C[0]],L={type:l,series:e,realIndex:g,translationsIndex:p,i:d,x:v,y:1,pX:w,pY:y,pathsFrom:A,linePaths:[],areaPaths:[],seriesIndex:s,lineYPosition:0,xArrj:m,yArrj:f,y2Arrj:C,seriesRangeEnd:r},M=this._iterateOverDataPoints(Q(Q({},L),{},{iterations:l==="rangeArea"?e[d].length-1:void 0,isRangeStart:!0}));if(l==="rangeArea"){for(var I=this._calculatePathsFrom({series:r,i:d,realIndex:g,prevX:S,prevY:R}),z=this._iterateOverDataPoints(Q(Q({},L),{},{series:r,xArrj:[v],yArrj:P,y2Arrj:E,pY:x,areaPaths:M.areaPaths,pathsFrom:I,iterations:r[d].length-1,isRangeStart:!1})),D=M.linePaths.length/2,T=0;T<D;T++)M.linePaths[T]=z.linePaths[T+D]+M.linePaths[T];M.linePaths.splice(D),M.pathFromLine=z.pathFromLine+M.pathFromLine}else M.pathFromArea+="z";this._handlePaths({type:l,realIndex:g,i:d,paths:M}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),h.push(this.elSeries)}if(((n=o.config.series[0])===null||n===void 0?void 0:n.zIndex)!==void 0&&h.sort(function(N,G){return Number(N.node.getAttribute("zIndex"))-Number(G.node.getAttribute("zIndex"))}),o.config.chart.stacked)for(var k=h.length-1;k>=0;k--)c.add(h[k]);else for(var H=0;H<h.length;H++)c.add(h[H]);return c}},{key:"_initSerieVariables",value:function(e,i,s){var r=this.w,n=new Y(this.ctx);this.xDivision=r.globals.gridWidth/(r.globals.dataPoints-(r.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(r.config.stroke.width)?r.config.stroke.width[s]:r.config.stroke.width;var o=0;this.yRatio.length>1&&(this.yaxisIndex=r.globals.seriesYAxisReverseMap[s],o=s),this.isReversed=r.config.yaxis[this.yaxisIndex]&&r.config.yaxis[this.yaxisIndex].reversed,this.zeroY=r.globals.gridHeight-this.baseLineY[o]-(this.isReversed?r.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[o]:0),this.areaBottomY=this.zeroY,(this.zeroY>r.globals.gridHeight||r.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=r.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=n.group({class:"apexcharts-series",zIndex:r.config.series[s].zIndex!==void 0?r.config.series[s].zIndex:s,seriesName:O.escapeString(r.globals.seriesNames[s])}),this.elPointsMain=n.group({class:"apexcharts-series-markers-wrap","data:realIndex":s}),this.elDataLabelsWrap=n.group({class:"apexcharts-datalabels","data:realIndex":s});var a=e[i].length===r.globals.dataPoints;this.elSeries.attr({"data:longestSeries":a,rel:i+1,"data:realIndex":s}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(e){var i,s,r,n,o=e.type,a=e.series,l=e.i,c=e.realIndex,u=e.translationsIndex,h=e.prevX,d=e.prevY,g=e.prevY2,p=this.w,f=new Y(this.ctx);if(a[l][0]===null){for(var C=0;C<a[l].length;C++)if(a[l][C]!==null){h=this.xDivision*C,d=this.zeroY-a[l][C]/this.yRatio[u],i=f.move(h,d),s=f.move(h,this.areaBottomY);break}}else i=f.move(h,d),o==="rangeArea"&&(i=f.move(h,g)+f.line(h,d)),s=f.move(h,this.areaBottomY)+f.line(h,d);if(r=f.move(0,this.areaBottomY)+f.line(0,this.areaBottomY),n=f.move(0,this.areaBottomY)+f.line(0,this.areaBottomY),p.globals.previousPaths.length>0){var m=this.lineHelpers.checkPreviousPaths({pathFromLine:r,pathFromArea:n,realIndex:c});r=m.pathFromLine,n=m.pathFromArea}return{prevX:h,prevY:d,linePath:i,areaPath:s,pathFromLine:r,pathFromArea:n}}},{key:"_handlePaths",value:function(e){var i=e.type,s=e.realIndex,r=e.i,n=e.paths,o=this.w,a=new Y(this.ctx),l=new ss(this.ctx);this.prevSeriesY.push(n.yArrj),o.globals.seriesXvalues[s]=n.xArrj,o.globals.seriesYvalues[s]=n.yArrj;var c=o.config.forecastDataPoints;if(c.count>0&&i!=="rangeArea"){var u=o.globals.seriesXvalues[s][o.globals.seriesXvalues[s].length-c.count-1],h=a.drawRect(u,0,o.globals.gridWidth,o.globals.gridHeight,0);o.globals.dom.elForecastMask.appendChild(h.node);var d=a.drawRect(0,0,u,o.globals.gridHeight,0);o.globals.dom.elNonForecastMask.appendChild(d.node)}this.pointsChart||o.globals.delayedElements.push({el:this.elPointsMain.node,index:s});var g={i:r,realIndex:s,animationDelay:r,initialSpeed:o.config.chart.animations.speed,dataChangeSpeed:o.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(i)};if(i==="area")for(var p=l.fillPath({seriesNumber:s}),f=0;f<n.areaPaths.length;f++){var C=a.renderPaths(Q(Q({},g),{},{pathFrom:n.pathFromArea,pathTo:n.areaPaths[f],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:p}));this.elSeries.add(C)}if(o.config.stroke.show&&!this.pointsChart){var m=null;if(i==="line")m=l.fillPath({seriesNumber:s,i:r});else if(o.config.stroke.fill.type==="solid")m=o.globals.stroke.colors[s];else{var v=o.config.fill;o.config.fill=o.config.stroke.fill,m=l.fillPath({seriesNumber:s,i:r}),o.config.fill=v}for(var y=0;y<n.linePaths.length;y++){var w=m;i==="rangeArea"&&(w=l.fillPath({seriesNumber:s}));var x=Q(Q({},g),{},{pathFrom:n.pathFromLine,pathTo:n.linePaths[y],stroke:m,strokeWidth:this.strokeWidth,strokeLineCap:o.config.stroke.lineCap,fill:i==="rangeArea"?w:"none"}),S=a.renderPaths(x);if(this.elSeries.add(S),S.attr("fill-rule","evenodd"),c.count>0&&i!=="rangeArea"){var b=a.renderPaths(x);b.node.setAttribute("stroke-dasharray",c.dashArray),c.strokeWidth&&b.node.setAttribute("stroke-width",c.strokeWidth),this.elSeries.add(b),b.attr("clip-path","url(#forecastMask".concat(o.globals.cuid,")")),S.attr("clip-path","url(#nonForecastMask".concat(o.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(e){var i,s,r=this,n=e.type,o=e.series,a=e.iterations,l=e.realIndex,c=e.translationsIndex,u=e.i,h=e.x,d=e.y,g=e.pX,p=e.pY,f=e.pathsFrom,C=e.linePaths,m=e.areaPaths,v=e.seriesIndex,y=e.lineYPosition,w=e.xArrj,x=e.yArrj,S=e.y2Arrj,b=e.isRangeStart,R=e.seriesRangeEnd,A=this.w,P=new Y(this.ctx),E=this.yRatio,L=f.prevY,M=f.linePath,I=f.areaPath,z=f.pathFromLine,D=f.pathFromArea,T=O.isNumber(A.globals.minYArr[l])?A.globals.minYArr[l]:A.globals.minY;a||(a=A.globals.dataPoints>1?A.globals.dataPoints-1:A.globals.dataPoints);var k=function(ue,ge){return ge-ue/E[c]+2*(r.isReversed?ue/E[c]:0)},H=d,N=A.config.chart.stacked&&!A.globals.comboCharts||A.config.chart.stacked&&A.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((i=this.w.config.series[l])===null||i===void 0?void 0:i.type)==="bar"||((s=this.w.config.series[l])===null||s===void 0?void 0:s.type)==="column"),G=A.config.stroke.curve;Array.isArray(G)&&(G=Array.isArray(v)?G[v[u]]:G[u]);for(var U,te=0,$=0;$<a;$++){var re=o[u][$+1]===void 0||o[u][$+1]===null;if(A.globals.isXNumeric){var Z=A.globals.seriesX[l][$+1];A.globals.seriesX[l][$+1]===void 0&&(Z=A.globals.seriesX[l][a-1]),h=(Z-A.globals.minX)/this.xRatio}else h+=this.xDivision;N?u>0&&A.globals.collapsedSeries.length<A.config.series.length-1?y=this.prevSeriesY[function(ue){for(var ge=ue;ge>0;ge--){if(!(A.globals.collapsedSeriesIndices.indexOf((v==null?void 0:v[ge])||ge)>-1))return ge;ge--}return 0}(u-1)][$+1]:y=this.zeroY:y=this.zeroY,re?d=k(T,y):(d=k(o[u][$+1],y),n==="rangeArea"&&(H=k(R[u][$+1],y))),w.push(h),!re||A.config.stroke.curve!=="smooth"&&A.config.stroke.curve!=="monotoneCubic"?(x.push(d),S.push(H)):(x.push(null),S.push(null));var ie=this.lineHelpers.calculatePoints({series:o,x:h,y:d,realIndex:l,i:u,j:$,prevY:L}),ve=this._createPaths({type:n,series:o,i:u,realIndex:l,j:$,x:h,y:d,y2:H,xArrj:w,yArrj:x,y2Arrj:S,pX:g,pY:p,pathState:te,segmentStartX:U,linePath:M,areaPath:I,linePaths:C,areaPaths:m,curve:G,isRangeStart:b});m=ve.areaPaths,C=ve.linePaths,g=ve.pX,p=ve.pY,te=ve.pathState,U=ve.segmentStartX,I=ve.areaPath,M=ve.linePath,!this.appendPathFrom||A.globals.hasNullValues||G==="monotoneCubic"&&n==="rangeArea"||(z+=P.line(h,this.areaBottomY),D+=P.line(h,this.areaBottomY)),this.handleNullDataPoints(o,ie,u,$,l),this._handleMarkersAndLabels({type:n,pointsPos:ie,i:u,j:$,realIndex:l,isRangeStart:b})}return{yArrj:x,xArrj:w,pathFromArea:D,areaPaths:m,pathFromLine:z,linePaths:C,linePath:M,areaPath:I}}},{key:"_handleMarkersAndLabels",value:function(e){var i=e.type,s=e.pointsPos,r=e.isRangeStart,n=e.i,o=e.j,a=e.realIndex,l=this.w,c=new No(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,o,{realIndex:a,pointsPos:s,zRatio:this.zRatio,elParent:this.elPointsMain});else{l.globals.series[n].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var u=this.markers.plotChartMarkers(s,a,o+1);u!==null&&this.elPointsMain.add(u)}var h=c.drawDataLabel({type:i,isRangeStart:r,pos:s,i:a,j:o+1});h!==null&&this.elDataLabelsWrap.add(h)}},{key:"_createPaths",value:function(e){var i=e.type,s=e.series,r=e.i;e.realIndex;var n,o=e.j,a=e.x,l=e.y,c=e.xArrj,u=e.yArrj,h=e.y2,d=e.y2Arrj,g=e.pX,p=e.pY,f=e.pathState,C=e.segmentStartX,m=e.linePath,v=e.areaPath,y=e.linePaths,w=e.areaPaths,x=e.curve,S=e.isRangeStart,b=new Y(this.ctx),R=this.areaBottomY,A=i==="rangeArea",P=i==="rangeArea"&&S;switch(x){case"monotoneCubic":var E=S?u:d;switch(f){case 0:if(E[o+1]===null)break;f=1;case 1:if(!(A?c.length===s[r].length:o===s[r].length-2))break;case 2:var L=S?c:c.slice().reverse(),M=S?E:E.slice().reverse(),I=(n=M,L.map(function(Z,ie){return[Z,n[ie]]}).filter(function(Z){return Z[1]!==null})),z=I.length>1?mj(I):I,D=[];A&&(P?w=I:D=w.reverse());var T=0,k=0;if(function(Z,ie){for(var ve=function(pe){var me=[],Me=0;return pe.forEach(function(Le){Le!==null?Me++:Me>0&&(me.push(Me),Me=0)}),Me>0&&me.push(Me),me}(Z),ue=[],ge=0,Re=0;ge<ve.length;Re+=ve[ge++])ue[ge]=vj(ie,Re,Re+ve[ge]);return ue}(M,z).forEach(function(Z){T++;var ie=function(ge){for(var Re="",pe=0;pe<ge.length;pe++){var me=ge[pe],Me=me.length;Me>4?(Re+="C".concat(me[0],", ").concat(me[1]),Re+=", ".concat(me[2],", ").concat(me[3]),Re+=", ".concat(me[4],", ").concat(me[5])):Me>2&&(Re+="S".concat(me[0],", ").concat(me[1]),Re+=", ".concat(me[2],", ").concat(me[3]))}return Re}(Z),ve=k,ue=(k+=Z.length)-1;P?m=b.move(I[ve][0],I[ve][1])+ie:A?m=b.move(D[ve][0],D[ve][1])+b.line(I[ve][0],I[ve][1])+ie+b.line(D[ue][0],D[ue][1]):(m=b.move(I[ve][0],I[ve][1])+ie,v=m+b.line(I[ue][0],R)+b.line(I[ve][0],R)+"z",w.push(v)),y.push(m)}),A&&T>1&&!P){var H=y.slice(T).reverse();y.splice(T),H.forEach(function(Z){return y.push(Z)})}f=0}break;case"smooth":var N=.35*(a-g);if(s[r][o]===null)f=0;else switch(f){case 0:if(C=g,m=P?b.move(g,d[o])+b.line(g,p):b.move(g,p),v=b.move(g,p),s[r][o+1]===null||s[r][o+1]===void 0){y.push(m),w.push(v);break}if(f=1,o<s[r].length-2){var G=b.curve(g+N,p,a-N,l,a,l);m+=G,v+=G;break}case 1:if(s[r][o+1]===null)m+=P?b.line(g,h):b.move(g,p),v+=b.line(g,R)+b.line(C,R)+"z",y.push(m),w.push(v),f=-1;else{var U=b.curve(g+N,p,a-N,l,a,l);m+=U,v+=U,o>=s[r].length-2&&(P&&(m+=b.curve(a,l,a,l,a,h)+b.move(a,h)),v+=b.curve(a,l,a,l,a,R)+b.line(C,R)+"z",y.push(m),w.push(v),f=-1)}}g=a,p=l;break;default:var te=function(Z,ie,ve){var ue=[];switch(Z){case"stepline":ue=b.line(ie,null,"H")+b.line(null,ve,"V");break;case"linestep":ue=b.line(null,ve,"V")+b.line(ie,null,"H");break;case"straight":ue=b.line(ie,ve)}return ue};if(s[r][o]===null)f=0;else switch(f){case 0:if(C=g,m=P?b.move(g,d[o])+b.line(g,p):b.move(g,p),v=b.move(g,p),s[r][o+1]===null||s[r][o+1]===void 0){y.push(m),w.push(v);break}if(f=1,o<s[r].length-2){var $=te(x,a,l);m+=$,v+=$;break}case 1:if(s[r][o+1]===null)m+=P?b.line(g,h):b.move(g,p),v+=b.line(g,R)+b.line(C,R)+"z",y.push(m),w.push(v),f=-1;else{var re=te(x,a,l);m+=re,v+=re,o>=s[r].length-2&&(P&&(m+=b.line(a,h)),v+=b.line(a,R)+b.line(C,R)+"z",y.push(m),w.push(v),f=-1)}}g=a,p=l}return{linePaths:y,areaPaths:w,pX:g,pY:p,pathState:f,segmentStartX:C,linePath:m,areaPath:v}}},{key:"handleNullDataPoints",value:function(e,i,s,r,n){var o=this.w;if(e[s][r]===null&&o.config.markers.showNullDataPoints||e[s].length===1){var a=this.strokeWidth-o.config.markers.strokeWidth/2;a>0||(a=0);var l=this.markers.plotChartMarkers(i,n,r+1,a,!0);l!==null&&this.elPointsMain.add(l)}}}]),t}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function t(a,l,c,u){this.xoffset=a,this.yoffset=l,this.height=u,this.width=c,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(h){var d,g=[],p=this.xoffset,f=this.yoffset,C=n(h)/this.height,m=n(h)/this.width;if(this.width>=this.height)for(d=0;d<h.length;d++)g.push([p,f,p+C,f+h[d]/C]),f+=h[d]/C;else for(d=0;d<h.length;d++)g.push([p,f,p+h[d]/m,f+m]),p+=h[d]/m;return g},this.cutArea=function(h){var d;if(this.width>=this.height){var g=h/this.height,p=this.width-g;d=new t(this.xoffset+g,this.yoffset,p,this.height)}else{var f=h/this.width,C=this.height-f;d=new t(this.xoffset,this.yoffset+f,this.width,C)}return d}}function e(a,l,c,u,h){u=u===void 0?0:u,h=h===void 0?0:h;var d=i(function(g,p){var f,C=[],m=p/n(g);for(f=0;f<g.length;f++)C[f]=g[f]*m;return C}(a,l*c),[],new t(u,h,l,c),[]);return function(g){var p,f,C=[];for(p=0;p<g.length;p++)for(f=0;f<g[p].length;f++)C.push(g[p][f]);return C}(d)}function i(a,l,c,u){var h,d,g;if(a.length!==0)return h=c.shortestEdge(),function(p,f,C){var m;if(p.length===0)return!0;(m=p.slice()).push(f);var v=s(p,C),y=s(m,C);return v>=y}(l,d=a[0],h)?(l.push(d),i(a.slice(1),l,c,u)):(g=c.cutArea(n(l),u),u.push(c.getCoordinates(l)),i(a,[],g,u)),u;u.push(c.getCoordinates(l))}function s(a,l){var c=Math.min.apply(Math,a),u=Math.max.apply(Math,a),h=n(a);return Math.max(Math.pow(l,2)*u/Math.pow(h,2),Math.pow(h,2)/(Math.pow(l,2)*c))}function r(a){return a&&a.constructor===Array}function n(a){var l,c=0;for(l=0;l<a.length;l++)c+=a[l];return c}function o(a){var l,c=0;if(r(a[0]))for(l=0;l<a.length;l++)c+=o(a[l]);else c=n(a);return c}return function a(l,c,u,h,d){h=h===void 0?0:h,d=d===void 0?0:d;var g,p,f=[],C=[];if(r(l[0])){for(p=0;p<l.length;p++)f[p]=o(l[p]);for(g=e(f,c,u,h,d),p=0;p<l.length;p++)C.push(a(l[p],g[p][2]-g[p][0],g[p][3]-g[p][1],g[p][0],g[p][1]))}else C=e(l,c,u,h,d);return C}}();var Cj=function(){function t(e,i){J(this,t),this.ctx=e,this.w=e.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new GP(e),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return ee(t,[{key:"draw",value:function(e){var i=this,s=this.w,r=new Y(this.ctx),n=new ss(this.ctx),o=r.group({class:"apexcharts-treemap"});if(s.globals.noData)return o;var a=[];return e.forEach(function(l){var c=l.map(function(u){return Math.abs(u)});a.push(c)}),this.negRange=this.helpers.checkColorRange(),s.config.series.forEach(function(l,c){l.data.forEach(function(u){Array.isArray(i.labels[c])||(i.labels[c]=[]),i.labels[c].push(u.x)})}),window.TreemapSquared.generate(a,s.globals.gridWidth,s.globals.gridHeight).forEach(function(l,c){var u=r.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:O.escapeString(s.globals.seriesNames[c]),rel:c+1,"data:realIndex":c});if(s.config.chart.dropShadow.enabled){var h=s.config.chart.dropShadow;new St(i.ctx).dropShadow(o,h,c)}var d=r.group({class:"apexcharts-data-labels"});l.forEach(function(g,p){var f=g[0],C=g[1],m=g[2],v=g[3],y=r.drawRect(f,C,m-f,v-C,s.config.plotOptions.treemap.borderRadius,"#fff",1,i.strokeWidth,s.config.plotOptions.treemap.useFillColorAsStroke?x:s.globals.stroke.colors[c]);y.attr({cx:f,cy:C,index:c,i:c,j:p,width:m-f,height:v-C});var w=i.helpers.getShadeColor(s.config.chart.type,c,p,i.negRange),x=w.color,S=n.fillPath({color:x,seriesNumber:c,dataPointIndex:p});y.node.classList.add("apexcharts-treemap-rect"),y.attr({fill:S}),i.helpers.addListeners(y);var b={x:f+(m-f)/2,y:C+(v-C)/2,width:0,height:0},R={x:f,y:C,width:m-f,height:v-C};if(s.config.chart.animations.enabled&&!s.globals.dataChanged){var A=1;s.globals.resized||(A=s.config.chart.animations.speed),i.animateTreemap(y,b,R,A)}if(s.globals.dataChanged){var P=1;i.dynamicAnim.enabled&&s.globals.shouldAnimate&&(P=i.dynamicAnim.speed,s.globals.previousPaths[c]&&s.globals.previousPaths[c][p]&&s.globals.previousPaths[c][p].rect&&(b=s.globals.previousPaths[c][p].rect),i.animateTreemap(y,b,R,P))}var E=i.getFontSize(g),L=s.config.dataLabels.formatter(i.labels[c][p],{value:s.globals.series[c][p],seriesIndex:c,dataPointIndex:p,w:s});s.config.plotOptions.treemap.dataLabels.format==="truncate"&&(E=parseInt(s.config.dataLabels.style.fontSize,10),L=i.truncateLabels(L,E,f,C,m,v));var M=null;s.globals.series[c][p]&&(M=i.helpers.calculateDataLabels({text:L,x:(f+m)/2,y:(C+v)/2+i.strokeWidth/2+E/3,i:c,j:p,colorProps:w,fontSize:E,series:e})),s.config.dataLabels.enabled&&M&&i.rotateToFitLabel(M,E,L,f,C,m,v),u.add(y),M!==null&&u.add(M)}),u.add(d),o.add(u)}),o}},{key:"getFontSize",value:function(e){var i=this.w,s=function r(n){var o,a=0;if(Array.isArray(n[0]))for(o=0;o<n.length;o++)a+=r(n[o]);else for(o=0;o<n.length;o++)a+=n[o].length;return a}(this.labels)/function r(n){var o,a=0;if(Array.isArray(n[0]))for(o=0;o<n.length;o++)a+=r(n[o]);else for(o=0;o<n.length;o++)a+=1;return a}(this.labels);return function(r,n){var o=r*n,a=Math.pow(o,.5);return Math.min(a/s,parseInt(i.config.dataLabels.style.fontSize,10))}(e[2]-e[0],e[3]-e[1])}},{key:"rotateToFitLabel",value:function(e,i,s,r,n,o,a){var l=new Y(this.ctx),c=l.getTextRects(s,i);if(c.width+this.w.config.stroke.width+5>o-r&&c.width<=a-n){var u=l.rotateAroundCenter(e.node);e.node.setAttribute("transform","rotate(-90 ".concat(u.x," ").concat(u.y,") translate(").concat(c.height/3,")"))}}},{key:"truncateLabels",value:function(e,i,s,r,n,o){var a=new Y(this.ctx),l=a.getTextRects(e,i).width+this.w.config.stroke.width+5>n-s&&o-r>n-s?o-r:n-s,c=a.getTextBasedOnMaxWidth({text:e,maxWidth:l,fontSize:i});return e.length!==c.length&&l/i<5?"":c}},{key:"animateTreemap",value:function(e,i,s,r){var n=new ea(this.ctx);n.animateRect(e,{x:i.x,y:i.y,width:i.width,height:i.height},{x:s.x,y:s.y,width:s.width,height:s.height},r,function(){n.animationCompleted(e)})}}]),t}(),zP=86400,yj=10/zP,wj=function(){function t(e){J(this,t),this.ctx=e,this.w=e.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return ee(t,[{key:"calculateTimeScaleTicks",value:function(e,i){var s=this,r=this.w;if(r.globals.allSeriesCollapsed)return r.globals.labels=[],r.globals.timescaleLabels=[],[];var n=new bt(this.ctx),o=(i-e)/864e5;this.determineInterval(o),r.globals.disableZoomIn=!1,r.globals.disableZoomOut=!1,o<yj?r.globals.disableZoomIn=!0:o>5e4&&(r.globals.disableZoomOut=!0);var a=n.getTimeUnitsfromTimestamp(e,i,this.utc),l=r.globals.gridWidth/o,c=l/24,u=c/60,h=u/60,d=Math.floor(24*o),g=Math.floor(1440*o),p=Math.floor(o*zP),f=Math.floor(o),C=Math.floor(o/30),m=Math.floor(o/365),v={minMillisecond:a.minMillisecond,minSecond:a.minSecond,minMinute:a.minMinute,minHour:a.minHour,minDate:a.minDate,minMonth:a.minMonth,minYear:a.minYear},y={firstVal:v,currentMillisecond:v.minMillisecond,currentSecond:v.minSecond,currentMinute:v.minMinute,currentHour:v.minHour,currentMonthDate:v.minDate,currentDate:v.minDate,currentMonth:v.minMonth,currentYear:v.minYear,daysWidthOnXAxis:l,hoursWidthOnXAxis:c,minutesWidthOnXAxis:u,secondsWidthOnXAxis:h,numberOfSeconds:p,numberOfMinutes:g,numberOfHours:d,numberOfDays:f,numberOfMonths:C,numberOfYears:m};switch(this.tickInterval){case"years":this.generateYearScale(y);break;case"months":case"half_year":this.generateMonthScale(y);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(y);break;case"hours":this.generateHourScale(y);break;case"minutes_fives":case"minutes":this.generateMinuteScale(y);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(y)}var w=this.timeScaleArray.map(function(x){var S={position:x.position,unit:x.unit,year:x.year,day:x.day?x.day:1,hour:x.hour?x.hour:0,month:x.month+1};return x.unit==="month"?Q(Q({},S),{},{day:1,value:x.value+1}):x.unit==="day"||x.unit==="hour"?Q(Q({},S),{},{value:x.value}):x.unit==="minute"?Q(Q({},S),{},{value:x.value,minute:x.value}):x.unit==="second"?Q(Q({},S),{},{value:x.value,minute:x.minute,second:x.second}):x});return w.filter(function(x){var S=1,b=Math.ceil(r.globals.gridWidth/120),R=x.value;r.config.xaxis.tickAmount!==void 0&&(b=r.config.xaxis.tickAmount),w.length>b&&(S=Math.floor(w.length/b));var A=!1,P=!1;switch(s.tickInterval){case"years":x.unit==="year"&&(A=!0);break;case"half_year":S=7,x.unit==="year"&&(A=!0);break;case"months":S=1,x.unit==="year"&&(A=!0);break;case"months_fortnight":S=15,x.unit!=="year"&&x.unit!=="month"||(A=!0),R===30&&(P=!0);break;case"months_days":S=10,x.unit==="month"&&(A=!0),R===30&&(P=!0);break;case"week_days":S=8,x.unit==="month"&&(A=!0);break;case"days":S=1,x.unit==="month"&&(A=!0);break;case"hours":x.unit==="day"&&(A=!0);break;case"minutes_fives":case"seconds_fives":R%5!=0&&(P=!0);break;case"seconds_tens":R%10!=0&&(P=!0)}if(s.tickInterval==="hours"||s.tickInterval==="minutes_fives"||s.tickInterval==="seconds_tens"||s.tickInterval==="seconds_fives"){if(!P)return!0}else if((R%S==0||A)&&!P)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(e,i){var s=this.w,r=this.formatDates(e),n=this.removeOverlappingTS(r);s.globals.timescaleLabels=n.slice(),new mh(this.ctx).plotCoords()}},{key:"determineInterval",value:function(e){var i=24*e,s=60*i;switch(!0){case e/365>5:this.tickInterval="years";break;case e>800:this.tickInterval="half_year";break;case e>180:this.tickInterval="months";break;case e>90:this.tickInterval="months_fortnight";break;case e>60:this.tickInterval="months_days";break;case e>30:this.tickInterval="week_days";break;case e>2:this.tickInterval="days";break;case i>2.4:this.tickInterval="hours";break;case s>15:this.tickInterval="minutes_fives";break;case s>5:this.tickInterval="minutes";break;case s>1:this.tickInterval="seconds_tens";break;case 60*s>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(e){var i=e.firstVal,s=e.currentMonth,r=e.currentYear,n=e.daysWidthOnXAxis,o=e.numberOfYears,a=i.minYear,l=0,c=new bt(this.ctx),u="year";if(i.minDate>1||i.minMonth>0){var h=c.determineRemainingDaysOfYear(i.minYear,i.minMonth,i.minDate);l=(c.determineDaysOfYear(i.minYear)-h+1)*n,a=i.minYear+1,this.timeScaleArray.push({position:l,value:a,unit:u,year:a,month:O.monthMod(s+1)})}else i.minDate===1&&i.minMonth===0&&this.timeScaleArray.push({position:l,value:a,unit:u,year:r,month:O.monthMod(s+1)});for(var d=a,g=l,p=0;p<o;p++)d++,g=c.determineDaysOfYear(d-1)*n+g,this.timeScaleArray.push({position:g,value:d,unit:u,year:d,month:1})}},{key:"generateMonthScale",value:function(e){var i=e.firstVal,s=e.currentMonthDate,r=e.currentMonth,n=e.currentYear,o=e.daysWidthOnXAxis,a=e.numberOfMonths,l=r,c=0,u=new bt(this.ctx),h="month",d=0;if(i.minDate>1){c=(u.determineDaysOfMonths(r+1,i.minYear)-s+1)*o,l=O.monthMod(r+1);var g=n+d,p=O.monthMod(l),f=l;l===0&&(h="year",f=g,p=1,g+=d+=1),this.timeScaleArray.push({position:c,value:f,unit:h,year:g,month:p})}else this.timeScaleArray.push({position:c,value:l,unit:h,year:n,month:O.monthMod(r)});for(var C=l+1,m=c,v=0,y=1;v<a;v++,y++){(C=O.monthMod(C))===0?(h="year",d+=1):h="month";var w=this._getYear(n,C,d);m=u.determineDaysOfMonths(C,w)*o+m;var x=C===0?w:C;this.timeScaleArray.push({position:m,value:x,unit:h,year:w,month:C===0?1:C}),C++}}},{key:"generateDayScale",value:function(e){var i=e.firstVal,s=e.currentMonth,r=e.currentYear,n=e.hoursWidthOnXAxis,o=e.numberOfDays,a=new bt(this.ctx),l="day",c=i.minDate+1,u=c,h=function(y,w,x){return y>a.determineDaysOfMonths(w+1,x)&&(u=1,l="month",g=w+=1),w},d=(24-i.minHour)*n,g=c,p=h(u,s,r);i.minHour===0&&i.minDate===1?(d=0,g=O.monthMod(i.minMonth),l="month",u=i.minDate):i.minDate!==1&&i.minHour===0&&i.minMinute===0&&(d=0,c=i.minDate,g=c,p=h(u=c,s,r)),this.timeScaleArray.push({position:d,value:g,unit:l,year:this._getYear(r,p,0),month:O.monthMod(p),day:u});for(var f=d,C=0;C<o;C++){l="day",p=h(u+=1,p,this._getYear(r,p,0));var m=this._getYear(r,p,0);f=24*n+f;var v=u===1?O.monthMod(p):u;this.timeScaleArray.push({position:f,value:v,unit:l,year:m,month:O.monthMod(p),day:v})}}},{key:"generateHourScale",value:function(e){var i=e.firstVal,s=e.currentDate,r=e.currentMonth,n=e.currentYear,o=e.minutesWidthOnXAxis,a=e.numberOfHours,l=new bt(this.ctx),c="hour",u=function(S,b){return S>l.determineDaysOfMonths(b+1,n)&&(C=1,b+=1),{month:b,date:C}},h=function(S,b){return S>l.determineDaysOfMonths(b+1,n)?b+=1:b},d=60-(i.minMinute+i.minSecond/60),g=d*o,p=i.minHour+1,f=p;d===60&&(g=0,f=p=i.minHour);var C=s;f>=24&&(f=0,c="day",p=C+=1);var m=u(C,r).month;m=h(C,m),this.timeScaleArray.push({position:g,value:p,unit:c,day:C,hour:f,year:n,month:O.monthMod(m)}),f++;for(var v=g,y=0;y<a;y++){c="hour",f>=24&&(f=0,c="day",m=u(C+=1,m).month,m=h(C,m));var w=this._getYear(n,m,0);v=60*o+v;var x=f===0?C:f;this.timeScaleArray.push({position:v,value:x,unit:c,hour:f,day:C,year:w,month:O.monthMod(m)}),f++}}},{key:"generateMinuteScale",value:function(e){for(var i=e.currentMillisecond,s=e.currentSecond,r=e.currentMinute,n=e.currentHour,o=e.currentDate,a=e.currentMonth,l=e.currentYear,c=e.minutesWidthOnXAxis,u=e.secondsWidthOnXAxis,h=e.numberOfMinutes,d=r+1,g=o,p=a,f=l,C=n,m=(60-s-i/1e3)*u,v=0;v<h;v++)d>=60&&(d=0,(C+=1)===24&&(C=0)),this.timeScaleArray.push({position:m,value:d,unit:"minute",hour:C,minute:d,day:g,year:this._getYear(f,p,0),month:O.monthMod(p)}),m+=c,d++}},{key:"generateSecondScale",value:function(e){for(var i=e.currentMillisecond,s=e.currentSecond,r=e.currentMinute,n=e.currentHour,o=e.currentDate,a=e.currentMonth,l=e.currentYear,c=e.secondsWidthOnXAxis,u=e.numberOfSeconds,h=s+1,d=r,g=o,p=a,f=l,C=n,m=(1e3-i)/1e3*c,v=0;v<u;v++)h>=60&&(h=0,++d>=60&&(d=0,++C===24&&(C=0))),this.timeScaleArray.push({position:m,value:h,unit:"second",hour:C,minute:d,second:h,day:g,year:this._getYear(f,p,0),month:O.monthMod(p)}),m+=c,h++}},{key:"createRawDateString",value:function(e,i){var s=e.year;return e.month===0&&(e.month=1),s+="-"+("0"+e.month.toString()).slice(-2),e.unit==="day"?s+=e.unit==="day"?"-"+("0"+i).slice(-2):"-01":s+="-"+("0"+(e.day?e.day:"1")).slice(-2),e.unit==="hour"?s+=e.unit==="hour"?"T"+("0"+i).slice(-2):"T00":s+="T"+("0"+(e.hour?e.hour:"0")).slice(-2),e.unit==="minute"?s+=":"+("0"+i).slice(-2):s+=":"+(e.minute?("0"+e.minute).slice(-2):"00"),e.unit==="second"?s+=":"+("0"+i).slice(-2):s+=":00",this.utc&&(s+=".000Z"),s}},{key:"formatDates",value:function(e){var i=this,s=this.w;return e.map(function(r){var n=r.value.toString(),o=new bt(i.ctx),a=i.createRawDateString(r,n),l=o.getDate(o.parseDate(a));if(i.utc||(l=o.getDate(o.parseDateWithTimezone(a))),s.config.xaxis.labels.format===void 0){var c="dd MMM",u=s.config.xaxis.labels.datetimeFormatter;r.unit==="year"&&(c=u.year),r.unit==="month"&&(c=u.month),r.unit==="day"&&(c=u.day),r.unit==="hour"&&(c=u.hour),r.unit==="minute"&&(c=u.minute),r.unit==="second"&&(c=u.second),n=o.formatDate(l,c)}else n=o.formatDate(l,s.config.xaxis.labels.format);return{dateString:a,position:r.position,value:n,unit:r.unit,year:r.year,month:r.month}})}},{key:"removeOverlappingTS",value:function(e){var i,s=this,r=new Y(this.ctx),n=!1;e.length>0&&e[0].value&&e.every(function(l){return l.value.length===e[0].value.length})&&(n=!0,i=r.getTextRects(e[0].value).width);var o=0,a=e.map(function(l,c){if(c>0&&s.w.config.xaxis.labels.hideOverlappingLabels){var u=n?i:r.getTextRects(e[o].value).width,h=e[o].position;return l.position>h+u+10?(o=c,l):null}return l});return a=a.filter(function(l){return l!==null})}},{key:"_getYear",value:function(e,i,s){return e+Math.floor(i/12)+s}}]),t}(),xj=function(){function t(e,i){J(this,t),this.ctx=i,this.w=i.w,this.el=e}return ee(t,[{key:"setupElements",value:function(){var e=this.w,i=e.globals,s=e.config,r=s.chart.type;i.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].includes(r),i.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].includes(r),i.isBarHorizontal=["bar","rangeBar","boxPlot"].includes(r)&&s.plotOptions.bar.horizontal,i.chartClass=".apexcharts".concat(i.chartID),i.dom.baseEl=this.el,i.dom.elWrap=document.createElement("div"),Y.setAttrs(i.dom.elWrap,{id:i.chartClass.substring(1),class:"apexcharts-canvas ".concat(i.chartClass.substring(1))}),this.el.appendChild(i.dom.elWrap),i.dom.Paper=window.SVG().addTo(i.dom.elWrap),i.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(s.chart.offsetX,", ").concat(s.chart.offsetY,")")}),i.dom.Paper.node.style.background=s.theme.mode!=="dark"||s.chart.background?s.theme.mode!=="light"||s.chart.background?s.chart.background:"#fff":"#424242",this.setSVGDimensions(),i.dom.elLegendForeign=document.createElementNS(i.SVGNS,"foreignObject"),Y.setAttrs(i.dom.elLegendForeign,{x:0,y:0,width:i.svgWidth,height:i.svgHeight}),i.dom.elLegendWrap=document.createElement("div"),i.dom.elLegendWrap.classList.add("apexcharts-legend"),i.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),i.dom.elLegendForeign.appendChild(i.dom.elLegendWrap),i.dom.Paper.node.appendChild(i.dom.elLegendForeign),i.dom.elGraphical=i.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),i.dom.elDefs=i.dom.Paper.defs(),i.dom.Paper.add(i.dom.elGraphical),i.dom.elGraphical.add(i.dom.elDefs)}},{key:"plotChartType",value:function(e,i){var s=this.w,r=this.ctx,n=s.config,o=s.globals,a={line:{series:[],i:[]},area:{series:[],i:[]},scatter:{series:[],i:[]},bubble:{series:[],i:[]},column:{series:[],i:[]},candlestick:{series:[],i:[]},boxPlot:{series:[],i:[]},rangeBar:{series:[],i:[]},rangeArea:{series:[],seriesRangeEnd:[],i:[]}},l=n.chart.type||"line",c=null,u=0;o.series.forEach(function(S,b){var R=e[b].type||l;a[R]?(R==="rangeArea"?(a[R].series.push(o.seriesRangeStart[b]),a[R].seriesRangeEnd.push(o.seriesRangeEnd[b])):a[R].series.push(S),a[R].i.push(b),R!=="column"&&R!=="bar"||(s.globals.columnSeries=a.column)):["heatmap","treemap","pie","donut","polarArea","radialBar","radar"].includes(R)?c=R:R==="bar"?(a.column.series.push(S),a.column.i.push(b)):console.warn("You have specified an unrecognized series type (".concat(R,").")),l!==R&&R!=="scatter"&&u++}),u>0&&(c&&console.warn("Chart or series type ".concat(c," cannot appear with other chart or series types.")),a.column.series.length>0&&n.plotOptions.bar.horizontal&&(u-=a.column.series.length,a.column={series:[],i:[]},s.globals.columnSeries={series:[],i:[]},console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"))),o.comboCharts||(o.comboCharts=u>0);var h=new _g(r,i),d=new zg(r,i);r.pie=new WP(r);var g=new dj(r);r.rangeBar=new gj(r,i);var p=new hj(r),f=[];if(o.comboCharts){var C,m,v=new at(r);if(a.area.series.length>0&&(C=f).push.apply(C,pt(v.drawSeriesByGroup(a.area,o.areaGroups,"area",h))),a.column.series.length>0)if(n.chart.stacked){var y=new Nx(r,i);f.push(y.draw(a.column.series,a.column.i))}else r.bar=new Go(r,i),f.push(r.bar.draw(a.column.series,a.column.i));if(a.rangeArea.series.length>0&&f.push(h.draw(a.rangeArea.series,"rangeArea",a.rangeArea.i,a.rangeArea.seriesRangeEnd)),a.line.series.length>0&&(m=f).push.apply(m,pt(v.drawSeriesByGroup(a.line,o.lineGroups,"line",h))),a.candlestick.series.length>0&&f.push(d.draw(a.candlestick.series,"candlestick",a.candlestick.i)),a.boxPlot.series.length>0&&f.push(d.draw(a.boxPlot.series,"boxPlot",a.boxPlot.i)),a.rangeBar.series.length>0&&f.push(r.rangeBar.draw(a.rangeBar.series,a.rangeBar.i)),a.scatter.series.length>0){var w=new _g(r,i,!0);f.push(w.draw(a.scatter.series,"scatter",a.scatter.i))}if(a.bubble.series.length>0){var x=new _g(r,i,!0);f.push(x.draw(a.bubble.series,"bubble",a.bubble.i))}}else switch(n.chart.type){case"line":f=h.draw(o.series,"line");break;case"area":f=h.draw(o.series,"area");break;case"bar":n.chart.stacked?f=new Nx(r,i).draw(o.series):(r.bar=new Go(r,i),f=r.bar.draw(o.series));break;case"candlestick":f=new zg(r,i).draw(o.series,"candlestick");break;case"boxPlot":f=new zg(r,i).draw(o.series,n.chart.type);break;case"rangeBar":f=r.rangeBar.draw(o.series);break;case"rangeArea":f=h.draw(o.seriesRangeStart,"rangeArea",void 0,o.seriesRangeEnd);break;case"heatmap":f=new uj(r,i).draw(o.series);break;case"treemap":f=new Cj(r,i).draw(o.series);break;case"pie":case"donut":case"polarArea":f=r.pie.draw(o.series);break;case"radialBar":f=g.draw(o.series);break;case"radar":f=p.draw(o.series);break;default:f=h.draw(o.series)}return f}},{key:"setSVGDimensions",value:function(){var e=this.w,i=e.globals,s=e.config;s.chart.width=s.chart.width||"100%",s.chart.height=s.chart.height||"auto",i.svgWidth=s.chart.width,i.svgHeight=s.chart.height;var r=O.getDimensions(this.el),n=s.chart.width.toString().split(/[0-9]+/g).pop();n==="%"?O.isNumber(r[0])&&(r[0].width===0&&(r=O.getDimensions(this.el.parentNode)),i.svgWidth=r[0]*parseInt(s.chart.width,10)/100):n!=="px"&&n!==""||(i.svgWidth=parseInt(s.chart.width,10));var o=String(s.chart.height).toString().split(/[0-9]+/g).pop();if(i.svgHeight!=="auto"&&i.svgHeight!=="")if(o==="%"){var a=O.getDimensions(this.el.parentNode);i.svgHeight=a[1]*parseInt(s.chart.height,10)/100}else i.svgHeight=parseInt(s.chart.height,10);else i.svgHeight=i.axisCharts?i.svgWidth/1.61:i.svgWidth/1.2;if(i.svgWidth=Math.max(i.svgWidth,0),i.svgHeight=Math.max(i.svgHeight,0),Y.setAttrs(i.dom.Paper.node,{width:i.svgWidth,height:i.svgHeight}),o!=="%"){var l=s.chart.sparkline.enabled?0:i.axisCharts?s.chart.parentHeightOffset:0;i.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(i.svgHeight+l,"px")}i.dom.elWrap.style.width="".concat(i.svgWidth,"px"),i.dom.elWrap.style.height="".concat(i.svgHeight,"px")}},{key:"shiftGraphPosition",value:function(){var e=this.w.globals,i=e.translateY,s=e.translateX;Y.setAttrs(e.dom.elGraphical.node,{transform:"translate(".concat(s,", ").concat(i,")")})}},{key:"resizeNonAxisCharts",value:function(){var e=this.w,i=e.globals,s=0,r=e.config.chart.sparkline.enabled?1:15;r+=e.config.grid.padding.bottom,["top","bottom"].includes(e.config.legend.position)&&e.config.legend.show&&!e.config.legend.floating&&(s=new IP(this.ctx).legendHelpers.getLegendDimensions().clwh+7);var n=e.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),o=2.05*e.globals.radialSize;if(n&&!e.config.chart.sparkline.enabled&&e.config.plotOptions.radialBar.startAngle!==0){var a=O.getBoundingClientRect(n);o=a.bottom;var l=a.bottom-a.top;o=Math.max(2.05*e.globals.radialSize,l)}var c=Math.ceil(o+i.translateY+s+r);i.dom.elLegendForeign&&i.dom.elLegendForeign.setAttribute("height",c),e.config.chart.height&&String(e.config.chart.height).includes("%")||(i.dom.elWrap.style.height="".concat(c,"px"),Y.setAttrs(i.dom.Paper.node,{height:c}),i.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(c,"px"))}},{key:"coreCalculations",value:function(){new lm(this.ctx).init()}},{key:"resetGlobals",value:function(){var e=this,i=function(){return e.w.config.series.map(function(){return[]})},s=new MP,r=this.w.globals;s.initGlobalVars(r),r.seriesXvalues=i(),r.seriesYvalues=i()}},{key:"isMultipleY",value:function(){return!!(Array.isArray(this.w.config.yaxis)&&this.w.config.yaxis.length>1)&&(this.w.globals.isMultipleYAxis=!0,!0)}},{key:"xySettings",value:function(){var e=this.w,i=null;if(e.globals.axisCharts){if(e.config.xaxis.crosshairs.position==="back"&&new cm(this.ctx).drawXCrosshairs(),e.config.yaxis[0].crosshairs.position==="back"&&new cm(this.ctx).drawYCrosshairs(),e.config.xaxis.type==="datetime"&&e.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new wj(this.ctx);var s=[];isFinite(e.globals.minX)&&isFinite(e.globals.maxX)&&!e.globals.isBarHorizontal?s=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minX,e.globals.maxX):e.globals.isBarHorizontal&&(s=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minY,e.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(s)}i=new at(this.ctx).getCalculatedRatios()}return i}},{key:"updateSourceChart",value:function(e){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:e.w.globals.minX,max:e.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var e=this,i=this.w;if(i.config.chart.brush.enabled&&typeof i.config.chart.events.selection!="function"){var s=Array.isArray(i.config.chart.brush.targets)?i.config.chart.brush.targets:[i.config.chart.brush.target];s.forEach(function(r){var n=ApexCharts.getChartByID(r);n.w.globals.brushSource=e.ctx,typeof n.w.config.chart.events.zoomed!="function"&&(n.w.config.chart.events.zoomed=function(){return e.updateSourceChart(n)}),typeof n.w.config.chart.events.scrolled!="function"&&(n.w.config.chart.events.scrolled=function(){return e.updateSourceChart(n)})}),i.config.chart.events.selection=function(r,n){s.forEach(function(o){ApexCharts.getChartByID(o).ctx.updateHelpers._updateOptions({xaxis:{min:n.xaxis.min,max:n.xaxis.max}},!1,!1,!1,!1)})}}}}]),t}(),bj=function(){function t(e){J(this,t),this.ctx=e,this.w=e.w}return ee(t,[{key:"_updateOptions",value:function(e){var i=this,s=arguments.length>1&&arguments[1]!==void 0&&arguments[1],r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],n=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],o=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise(function(a){var l=[i.ctx];n&&(l=i.ctx.getSyncedCharts()),i.ctx.w.globals.isExecCalled&&(l=[i.ctx],i.ctx.w.globals.isExecCalled=!1),l.forEach(function(c,u){var h=c.w;if(h.globals.shouldAnimate=r,s||(h.globals.resized=!0,h.globals.dataChanged=!0,r&&c.series.getPreviousPaths()),e&&Ho(e)==="object"&&(c.config=new Ml(e),e=at.extendArrayProps(c.config,e,h),c.w.globals.chartID!==i.ctx.w.globals.chartID&&delete e.series,h.config=O.extend(h.config,e),o&&(h.globals.lastXAxis=e.xaxis?O.clone(e.xaxis):[],h.globals.lastYAxis=e.yaxis?O.clone(e.yaxis):[],h.globals.initialConfig=O.extend({},h.config),h.globals.initialSeries=O.clone(h.config.series),e.series))){for(var d=0;d<h.globals.collapsedSeriesIndices.length;d++){var g=h.config.series[h.globals.collapsedSeriesIndices[d]];h.globals.collapsedSeries[d].data=h.globals.axisCharts?g.data.slice():g}for(var p=0;p<h.globals.ancillaryCollapsedSeriesIndices.length;p++){var f=h.config.series[h.globals.ancillaryCollapsedSeriesIndices[p]];h.globals.ancillaryCollapsedSeries[p].data=h.globals.axisCharts?f.data.slice():f}c.series.emptyCollapsedSeries(h.config.series)}return c.update(e).then(function(){u===l.length-1&&a(c)})})})}},{key:"_updateSeries",value:function(e,i){var s=this,r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise(function(n){var o,a=s.w;return a.globals.shouldAnimate=i,a.globals.dataChanged=!0,i&&s.ctx.series.getPreviousPaths(),a.globals.axisCharts?((o=e.map(function(l,c){return s._extendSeries(l,c)})).length===0&&(o=[{data:[]}]),a.config.series=o):a.config.series=e.slice(),r&&(a.globals.initialConfig.series=O.clone(a.config.series),a.globals.initialSeries=O.clone(a.config.series)),s.ctx.update().then(function(){n(s.ctx)})})}},{key:"_extendSeries",value:function(e,i){var s=this.w,r=s.config.series[i];return Q(Q({},s.config.series[i]),{},{name:e.name?e.name:r==null?void 0:r.name,color:e.color?e.color:r==null?void 0:r.color,type:e.type?e.type:r==null?void 0:r.type,group:e.group?e.group:r==null?void 0:r.group,hidden:e.hidden!==void 0?e.hidden:r==null?void 0:r.hidden,data:e.data?e.data:r==null?void 0:r.data,zIndex:e.zIndex!==void 0?e.zIndex:i})}},{key:"toggleDataPointSelection",value:function(e,i){var s=this.w,r=null,n=".apexcharts-series[data\\:realIndex='".concat(e,"']");return s.globals.axisCharts?r=s.globals.dom.Paper.findOne("".concat(n," path[j='").concat(i,"'], ").concat(n," circle[j='").concat(i,"'], ").concat(n," rect[j='").concat(i,"']")):i===void 0&&(r=s.globals.dom.Paper.findOne("".concat(n," path[j='").concat(e,"']")),s.config.chart.type!=="pie"&&s.config.chart.type!=="polarArea"&&s.config.chart.type!=="donut"||this.ctx.pie.pieClicked(e)),r?(new Y(this.ctx).pathMouseDown(r,null),r.node?r.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(e){var i=this.w;if(["min","max"].forEach(function(r){e.xaxis[r]!==void 0&&(i.config.xaxis[r]=e.xaxis[r],i.globals.lastXAxis[r]=e.xaxis[r])}),e.xaxis.categories&&e.xaxis.categories.length&&(i.config.xaxis.categories=e.xaxis.categories),i.config.xaxis.convertedCatToNumeric){var s=new kl(e);e=s.convertCatToNumericXaxis(e,this.ctx)}return e}},{key:"forceYAxisUpdate",value:function(e){return e.chart&&e.chart.stacked&&e.chart.stackType==="100%"&&(Array.isArray(e.yaxis)?e.yaxis.forEach(function(i,s){e.yaxis[s].min=0,e.yaxis[s].max=100}):(e.yaxis.min=0,e.yaxis.max=100)),e}},{key:"revertDefaultAxisMinMax",value:function(e){var i=this,s=this.w,r=s.globals.lastXAxis,n=s.globals.lastYAxis;e&&e.xaxis&&(r=e.xaxis),e&&e.yaxis&&(n=e.yaxis),s.config.xaxis.min=r.min,s.config.xaxis.max=r.max;var o=function(a){n[a]!==void 0&&(s.config.yaxis[a].min=n[a].min,s.config.yaxis[a].max=n[a].max)};s.config.yaxis.map(function(a,l){s.globals.zoomed||n[l]!==void 0?o(l):i.ctx.opts.yaxis[l]!==void 0&&(a.min=i.ctx.opts.yaxis[l].min,a.max=i.ctx.opts.yaxis[l].max)})}}]),t}();(function(){function t(){for(var n=arguments.length>0&&arguments[0]!==h?arguments[0]:[],o=arguments.length>1?arguments[1]:h,a=arguments.length>2?arguments[2]:h,l=arguments.length>3?arguments[3]:h,c=arguments.length>4?arguments[4]:h,u=arguments.length>5?arguments[5]:h,h=arguments.length>6?arguments[6]:h,d=n.slice(o,a||h),g=l.slice(c,u||h),p=0,f={pos:[0,0],start:[0,0]},C={pos:[0,0],start:[0,0]};d[p]=e.call(f,d[p]),g[p]=e.call(C,g[p]),d[p][0]!=g[p][0]||d[p][0]=="M"||d[p][0]=="A"&&(d[p][4]!=g[p][4]||d[p][5]!=g[p][5])?(Array.prototype.splice.apply(d,[p,1].concat(s.call(f,d[p]))),Array.prototype.splice.apply(g,[p,1].concat(s.call(C,g[p])))):(d[p]=i.call(f,d[p]),g[p]=i.call(C,g[p])),!(++p==d.length&&p==g.length);)p==d.length&&d.push(["C",f.pos[0],f.pos[1],f.pos[0],f.pos[1],f.pos[0],f.pos[1]]),p==g.length&&g.push(["C",C.pos[0],C.pos[1],C.pos[0],C.pos[1],C.pos[0],C.pos[1]]);return{start:d,dest:g}}function e(n){switch(n[0]){case"z":case"Z":n[0]="L",n[1]=this.start[0],n[2]=this.start[1];break;case"H":n[0]="L",n[2]=this.pos[1];break;case"V":n[0]="L",n[2]=n[1],n[1]=this.pos[0];break;case"T":n[0]="Q",n[3]=n[1],n[4]=n[2],n[1]=this.reflection[1],n[2]=this.reflection[0];break;case"S":n[0]="C",n[6]=n[4],n[5]=n[3],n[4]=n[2],n[3]=n[1],n[2]=this.reflection[1],n[1]=this.reflection[0]}return n}function i(n){var o=n.length;return this.pos=[n[o-2],n[o-1]],"SCQT".indexOf(n[0])!=-1&&(this.reflection=[2*this.pos[0]-n[o-4],2*this.pos[1]-n[o-3]]),n}function s(n){var o=[n];switch(n[0]){case"M":return this.pos=this.start=[n[1],n[2]],o;case"L":n[5]=n[3]=n[1],n[6]=n[4]=n[2],n[1]=this.pos[0],n[2]=this.pos[1];break;case"Q":n[6]=n[4],n[5]=n[3],n[4]=1*n[4]/3+2*n[2]/3,n[3]=1*n[3]/3+2*n[1]/3,n[2]=1*this.pos[1]/3+2*n[2]/3,n[1]=1*this.pos[0]/3+2*n[1]/3;break;case"A":o=function(a,l){var c,u,h,d,g,p,f,C,m,v,y,w,x,S,b,R,A,P,E,L,M,I,z,D,T,k,H=Math.abs(l[1]),N=Math.abs(l[2]),G=l[3]%360,U=l[4],te=l[5],$=l[6],re=l[7],Z=new Te(a),ie=new Te($,re),ve=[];if(H===0||N===0||Z.x===ie.x&&Z.y===ie.y)return[["C",Z.x,Z.y,ie.x,ie.y,ie.x,ie.y]];for(c=new Te((Z.x-ie.x)/2,(Z.y-ie.y)/2).transform(new ae().rotate(G)),u=c.x*c.x/(H*H)+c.y*c.y/(N*N),u>1&&(H*=u=Math.sqrt(u),N*=u),h=new ae().rotate(G).scale(1/H,1/N).rotate(-G),Z=Z.transform(h),ie=ie.transform(h),d=[ie.x-Z.x,ie.y-Z.y],p=d[0]*d[0]+d[1]*d[1],g=Math.sqrt(p),d[0]/=g,d[1]/=g,f=p<4?Math.sqrt(1-p/4):0,U===te&&(f*=-1),C=new Te((ie.x+Z.x)/2+f*-d[1],(ie.y+Z.y)/2+f*d[0]),m=new Te(Z.x-C.x,Z.y-C.y),v=new Te(ie.x-C.x,ie.y-C.y),y=Math.acos(m.x/Math.sqrt(m.x*m.x+m.y*m.y)),m.y<0&&(y*=-1),w=Math.acos(v.x/Math.sqrt(v.x*v.x+v.y*v.y)),v.y<0&&(w*=-1),te&&y>w&&(w+=2*Math.PI),!te&&y<w&&(w-=2*Math.PI),S=Math.ceil(2*Math.abs(y-w)/Math.PI),R=[],A=y,x=(w-y)/S,b=4*Math.tan(x/4)/3,M=0;M<=S;M++)E=Math.cos(A),P=Math.sin(A),L=new Te(C.x+E,C.y+P),R[M]=[new Te(L.x+b*P,L.y-b*E),L,new Te(L.x-b*P,L.y+b*E)],A+=x;for(R[0][0]=R[0][1].clone(),R[R.length-1][2]=R[R.length-1][1].clone(),h=new ae().rotate(G).scale(H,N).rotate(-G),M=0,I=R.length;M<I;M++)R[M][0]=R[M][0].transform(h),R[M][1]=R[M][1].transform(h),R[M][2]=R[M][2].transform(h);for(M=1,I=R.length;M<I;M++)z=(L=R[M-1][2]).x,D=L.y,T=(L=R[M][0]).x,k=L.y,$=(L=R[M][1]).x,re=L.y,ve.push(["C",z,D,T,k,$,re]);return ve}(this.pos,n),n=o[0]}return n[0]="C",this.pos=[n[5],n[6]],this.reflection=[2*n[5]-n[3],2*n[6]-n[4]],o}function r(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],o=arguments.length>1?arguments[1]:void 0;if(o===!1)return!1;for(var a=o,l=n.length;a<l;++a)if(n[a][0]=="M")return a;return!1}le(qi,{morph:function(n,o,a,l,c){for(var u=this.parse(n),h=this.parse(o),d=0,g=0,p=!1,f=!1;d!==!1||g!==!1;){var C;p=r(u,d!==!1&&d+1),f=r(h,g!==!1&&g+1),d===!1&&(d=(C=new qi(m.start).bbox()).height==0||C.width==0?u.push(u[0])-1:u.push(["M",C.x+C.width/2,C.y+C.height/2])-1),g===!1&&(g=(C=new qi(m.dest).bbox()).height==0||C.width==0?h.push(h[0])-1:h.push(["M",C.x+C.width/2,C.y+C.height/2])-1);var m=t(u,d,p,h,g,f);u=u.slice(0,d).concat(m.start,p===!1?[]:u.slice(p)),h=h.slice(0,g).concat(m.dest,f===!1?[]:h.slice(f)),d=p!==!1&&d+m.start.length,g=f!==!1&&g+m.dest.length}this._array=u,this.destination=new qi,this.destination._array=h;var v=this.fromArray(u.map(function(y,w){var x=h[w].map(function(S,b){return b===0?S:l.step(y[b],h[w][b],a,c[w],c)});return x}));return v}})})();const Gx=t=>(t.changedTouches&&(t=t.changedTouches[0]),{x:t.clientX,y:t.clientY});class Sj{constructor(e){e.remember("_draggable",this),this.el=e,this.drag=this.drag.bind(this),this.startDrag=this.startDrag.bind(this),this.endDrag=this.endDrag.bind(this)}init(e){e?(this.el.on("mousedown.drag",this.startDrag),this.el.on("touchstart.drag",this.startDrag,{passive:!1})):(this.el.off("mousedown.drag"),this.el.off("touchstart.drag"))}startDrag(e){const i=!e.type.indexOf("mouse");if(i&&e.which!==1&&e.buttons!==0||this.el.dispatch("beforedrag",{event:e,handler:this}).defaultPrevented)return;e.preventDefault(),e.stopPropagation(),this.init(!1),this.box=this.el.bbox(),this.lastClick=this.el.point(Gx(e));const s=(i?"mouseup":"touchend")+".drag";Ts(window,(i?"mousemove":"touchmove")+".drag",this.drag,this,{passive:!1}),Ts(window,s,this.endDrag,this,{passive:!1}),this.el.fire("dragstart",{event:e,handler:this,box:this.box})}drag(e){const{box:i,lastClick:s}=this,r=this.el.point(Gx(e)),n=r.x-s.x,o=r.y-s.y;if(!n&&!o)return i;const a=i.x+n,l=i.y+o;this.box=new rt(a,l,i.w,i.h),this.lastClick=r,this.el.dispatch("dragmove",{event:e,handler:this,box:this.box}).defaultPrevented||this.move(a,l)}move(e,i){this.el.type==="svg"?xr.prototype.move.call(this.el,e,i):this.el.move(e,i)}endDrag(e){this.drag(e),this.el.fire("dragend",{event:e,handler:this,box:this.box}),ki(window,"mousemove.drag"),ki(window,"touchmove.drag"),ki(window,"mouseup.drag"),ki(window,"touchend.drag"),this.init(!0)}}/*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function um(t,e,i,s=null){return function(r){r.preventDefault(),r.stopPropagation();var n=r.pageX||r.touches[0].pageX,o=r.pageY||r.touches[0].pageY;e.fire(t,{x:n,y:o,event:r,index:s,points:i})}}function hm([t,e],{a:i,b:s,c:r,d:n,e:o,f:a}){return[t*i+e*r+o,t*s+e*n+a]}le(Et,{draggable(t=!0){return(this.remember("_draggable")||new Sj(this)).init(t),this}});let VP=class{constructor(t){this.el=t,t.remember("_selectHandler",this),this.selection=new xr,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=Ql();this.observer=new e.MutationObserver(this.mutationHandler)}init(t){this.createHandle=t.createHandle||this.createHandleFn,this.createRot=t.createRot||this.createRotFn,this.updateHandle=t.updateHandle||this.updateHandleFn,this.updateRot=t.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(t,e){if(!t)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((t,e,i)=>{const s=this.order[e];this.createHandle.call(this,this.selection,t,e,i,s),this.selection.get(e+1).addClass("svg_select_handle svg_select_handle_"+s).on("mousedown.selection touchstart.selection",um(s,this.el,this.handlePoints,e))})}createHandleFn(t){t.polyline()}updateHandleFn(t,e,i,s){const r=s.at(i-1),n=s[(i+1)%s.length],o=e,a=[o[0]-r[0],o[1]-r[1]],l=[o[0]-n[0],o[1]-n[1]],c=Math.sqrt(a[0]*a[0]+a[1]*a[1]),u=Math.sqrt(l[0]*l[0]+l[1]*l[1]),h=[a[0]/c,a[1]/c],d=[l[0]/u,l[1]/u],g=[o[0]-10*h[0],o[1]-10*h[1]],p=[o[0]-10*d[0],o[1]-10*d[1]];t.plot([g,o,p])}updateResizeHandles(){this.handlePoints.forEach((t,e,i)=>{const s=this.order[e];this.updateHandle.call(this,this.selection.get(e+1),t,e,i,s)})}createRotFn(t){t.line(),t.circle(5)}getPoint(t){return this.handlePoints[this.order.indexOf(t)]}getPointHandle(t){return this.selection.get(this.order.indexOf(t)+1)}updateRotFn(t,e){const i=this.getPoint("t");t.get(0).plot(i[0],i[1],e[0],e[1]),t.get(1).center(e[0],e[1])}createRotationHandle(){const t=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",um("rot",this.el,this.handlePoints));this.createRot.call(this,t)}updateRotationHandle(){const t=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(t,this.rotationPoint,this.handlePoints)}updatePoints(){const t=this.el.bbox(),e=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(t).map(i=>hm(i,e)),this.rotationPoint=hm(this.getRotationPoint(t),e)}getHandlePoints({x:t,x2:e,y:i,y2:s,cx:r,cy:n}=this.el.bbox()){return[[t,i],[r,i],[e,i],[e,n],[e,s],[r,s],[t,s],[t,n]]}getRotationPoint({y:t,cx:e}=this.el.bbox()){return[e,t-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}};const Bx=t=>function(e=!0,i={}){typeof e=="object"&&(i=e,e=!0);let s=this.remember("_"+t.name);return s||(e.prototype instanceof VP?(s=new e(this),e=!0):s=new t(this),this.remember("_"+t.name,s)),s.active(e,i),this};/*!
* @svgdotjs/svg.resize.js - An extension for svg.js which allows to resize elements which are selected
* @version 2.0.4
* https://github.com/svgdotjs/svg.resize.js
*
* @copyright [object Object]
* @license MIT
*
* BUILT: Fri Sep 13 2024 12:43:14 GMT+0200 (Central European Summer Time)
*//*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function dm(t,e,i,s=null){return function(r){r.preventDefault(),r.stopPropagation();var n=r.pageX||r.touches[0].pageX,o=r.pageY||r.touches[0].pageY;e.fire(t,{x:n,y:o,event:r,index:s,points:i})}}function gm([t,e],{a:i,b:s,c:r,d:n,e:o,f:a}){return[t*i+e*r+o,t*s+e*n+a]}le(Et,{select:Bx(VP)}),le([sn,rn,tn],{pointSelect:Bx(class{constructor(t){this.el=t,t.remember("_pointSelectHandler",this),this.selection=new xr,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=Ql();this.observer=new e.MutationObserver(this.mutationHandler)}init(t){this.createHandle=t.createHandle||this.createHandleFn,this.updateHandle=t.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(t,e){if(!t)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((t,e,i)=>{this.createHandle.call(this,this.selection,t,e,i),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",um("point",this.el,this.points,e))})}createHandleFn(t){t.circle(5)}updateHandleFn(t,e){t.center(e[0],e[1])}updatePointHandles(){this.points.forEach((t,e,i)=>{this.updateHandle.call(this,this.selection.get(e+1),t,e,i)})}updatePoints(){const t=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(e=>hm(e,t))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});class _P{constructor(e){this.el=e,e.remember("_selectHandler",this),this.selection=new xr,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const i=Ql();this.observer=new i.MutationObserver(this.mutationHandler)}init(e){this.createHandle=e.createHandle||this.createHandleFn,this.createRot=e.createRot||this.createRotFn,this.updateHandle=e.updateHandle||this.updateHandleFn,this.updateRot=e.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(e,i){if(!e)return this.selection.clear().remove(),void this.observer.disconnect();this.init(i)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((e,i,s)=>{const r=this.order[i];this.createHandle.call(this,this.selection,e,i,s,r),this.selection.get(i+1).addClass("svg_select_handle svg_select_handle_"+r).on("mousedown.selection touchstart.selection",dm(r,this.el,this.handlePoints,i))})}createHandleFn(e){e.polyline()}updateHandleFn(e,i,s,r){const n=r.at(s-1),o=r[(s+1)%r.length],a=i,l=[a[0]-n[0],a[1]-n[1]],c=[a[0]-o[0],a[1]-o[1]],u=Math.sqrt(l[0]*l[0]+l[1]*l[1]),h=Math.sqrt(c[0]*c[0]+c[1]*c[1]),d=[l[0]/u,l[1]/u],g=[c[0]/h,c[1]/h],p=[a[0]-10*d[0],a[1]-10*d[1]],f=[a[0]-10*g[0],a[1]-10*g[1]];e.plot([p,a,f])}updateResizeHandles(){this.handlePoints.forEach((e,i,s)=>{const r=this.order[i];this.updateHandle.call(this,this.selection.get(i+1),e,i,s,r)})}createRotFn(e){e.line(),e.circle(5)}getPoint(e){return this.handlePoints[this.order.indexOf(e)]}getPointHandle(e){return this.selection.get(this.order.indexOf(e)+1)}updateRotFn(e,i){const s=this.getPoint("t");e.get(0).plot(s[0],s[1],i[0],i[1]),e.get(1).center(i[0],i[1])}createRotationHandle(){const e=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",dm("rot",this.el,this.handlePoints));this.createRot.call(this,e)}updateRotationHandle(){const e=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(e,this.rotationPoint,this.handlePoints)}updatePoints(){const e=this.el.bbox(),i=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(e).map(s=>gm(s,i)),this.rotationPoint=gm(this.getRotationPoint(e),i)}getHandlePoints({x:e,x2:i,y:s,y2:r,cx:n,cy:o}=this.el.bbox()){return[[e,s],[n,s],[i,s],[i,o],[i,r],[n,r],[e,r],[e,o]]}getRotationPoint({y:e,cx:i}=this.el.bbox()){return[i,e-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}}const Wx=t=>function(e=!0,i={}){typeof e=="object"&&(i=e,e=!0);let s=this.remember("_"+t.name);return s||(e.prototype instanceof _P?(s=new e(this),e=!0):s=new t(this),this.remember("_"+t.name,s)),s.active(e,i),this};le(Et,{select:Wx(_P)}),le([sn,rn,tn],{pointSelect:Wx(class{constructor(t){this.el=t,t.remember("_pointSelectHandler",this),this.selection=new xr,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=Ql();this.observer=new e.MutationObserver(this.mutationHandler)}init(t){this.createHandle=t.createHandle||this.createHandleFn,this.updateHandle=t.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(t,e){if(!t)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((t,e,i)=>{this.createHandle.call(this,this.selection,t,e,i),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",dm("point",this.el,this.points,e))})}createHandleFn(t){t.circle(5)}updateHandleFn(t,e){t.center(e[0],e[1])}updatePointHandles(){this.points.forEach((t,e,i)=>{this.updateHandle.call(this,this.selection.get(e+1),t,e,i)})}updatePoints(){const t=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(e=>gm(e,t))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});const Bc=t=>(t.changedTouches&&(t=t.changedTouches[0]),{x:t.clientX,y:t.clientY}),zx=t=>{let e=1/0,i=1/0,s=-1/0,r=-1/0;for(let n=0;n<t.length;n++){const o=t[n];e=Math.min(e,o[0]),i=Math.min(i,o[1]),s=Math.max(s,o[0]),r=Math.max(r,o[1])}return new rt(e,i,s-e,r-i)};class Vx{constructor(e){this.el=e,e.remember("_ResizeHandler",this),this.lastCoordinates=null,this.eventType="",this.lastEvent=null,this.handleResize=this.handleResize.bind(this),this.resize=this.resize.bind(this),this.endResize=this.endResize.bind(this),this.rotate=this.rotate.bind(this),this.movePoint=this.movePoint.bind(this)}active(e,i){this.preserveAspectRatio=i.preserveAspectRatio??!1,this.aroundCenter=i.aroundCenter??!1,this.grid=i.grid??0,this.degree=i.degree??0,this.el.off(".resize"),e&&(this.el.on(["lt.resize","rt.resize","rb.resize","lb.resize","t.resize","r.resize","b.resize","l.resize","rot.resize","point.resize"],this.handleResize),this.lastEvent&&(this.eventType==="rot"?this.rotate(this.lastEvent):this.eventType==="point"?this.movePoint(this.lastEvent):this.resize(this.lastEvent)))}handleResize(e){this.eventType=e.type;const{event:i,index:s,points:r}=e.detail,n=!i.type.indexOf("mouse");if(n&&(i.which||i.buttons)!==1||this.el.dispatch("beforeresize",{event:e,handler:this}).defaultPrevented)return;this.box=this.el.bbox(),this.startPoint=this.el.point(Bc(i)),this.index=s,this.points=r.slice();const o=(n?"mousemove":"touchmove")+".resize",a=(n?"mouseup":"touchcancel.resize touchend")+".resize";e.type==="point"?Ts(window,o,this.movePoint):e.type==="rot"?Ts(window,o,this.rotate):Ts(window,o,this.resize),Ts(window,a,this.endResize)}resize(e){this.lastEvent=e;const i=this.snapToGrid(this.el.point(Bc(e)));let s=i.x-this.startPoint.x,r=i.y-this.startPoint.y;this.preserveAspectRatio&&this.aroundCenter&&(s*=2,r*=2);const n=this.box.x+s,o=this.box.y+r,a=this.box.x2+s,l=this.box.y2+r;let c=new rt(this.box);if(this.eventType.includes("l")&&(c.x=Math.min(n,this.box.x2),c.x2=Math.max(n,this.box.x2)),this.eventType.includes("r")&&(c.x=Math.min(a,this.box.x),c.x2=Math.max(a,this.box.x)),this.eventType.includes("t")&&(c.y=Math.min(o,this.box.y2),c.y2=Math.max(o,this.box.y2)),this.eventType.includes("b")&&(c.y=Math.min(l,this.box.y),c.y2=Math.max(l,this.box.y)),c.width=c.x2-c.x,c.height=c.y2-c.y,this.preserveAspectRatio){const u=c.width/this.box.width,h=c.height/this.box.height,d=["lt","t","rt","r","rb","b","lb","l"],g=(d.indexOf(this.eventType)+4)%d.length,p=this.aroundCenter?[this.box.cx,this.box.cy]:this.points[g];let f=this.eventType.includes("t")||this.eventType.includes("b")?h:u;f=this.eventType.length===2?Math.max(u,h):f,c=function(C,m,v){const y=[[C.x,C.y],[C.x+C.width,C.y],[C.x+C.width,C.y+C.height],[C.x,C.y+C.height]].map(([w,x])=>{const S=w-m[0],b=(x-m[1])*v;return[S*v+m[0],b+m[1]]});return zx(y)}(this.box,p,f)}this.el.dispatch("resize",{box:new rt(c),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.size(c.width,c.height).move(c.x,c.y)}movePoint(e){this.lastEvent=e;const{x:i,y:s}=this.snapToGrid(this.el.point(Bc(e))),r=this.el.array().slice();r[this.index]=[i,s],this.el.dispatch("resize",{box:zx(r),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.plot(r)}rotate(e){this.lastEvent=e;const i=this.startPoint,s=this.el.point(Bc(e)),{cx:r,cy:n}=this.box,o=i.x-r,a=i.y-n,l=s.x-r,c=s.y-n,u=Math.sqrt(o*o+a*a)*Math.sqrt(l*l+c*c);if(u===0)return;let h=Math.acos((o*l+a*c)/u)/Math.PI*180;if(!h)return;s.x<i.x&&(h=-h);const d=new ae(this.el),{x:g,y:p}=new Te(r,n).transformO(d),{rotate:f}=d.decompose(),C=this.snapToAngle(f+h)-f;this.el.dispatch("resize",{box:this.box,angle:C,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.transform(d.rotateO(C,g,p))}endResize(e){this.eventType!=="rot"&&this.eventType!=="point"&&this.resize(e),this.lastEvent=null,this.eventType="",ki(window,"mousemove.resize touchmove.resize"),ki(window,"mouseup.resize touchend.resize")}snapToGrid(e){return this.grid&&(e.x=Math.round(e.x/this.grid)*this.grid,e.y=Math.round(e.y/this.grid)*this.grid),e}snapToAngle(e){return this.degree&&(e=Math.round(e/this.degree)*this.degree),e}}le(Et,{resize:function(t=!0,e={}){typeof t=="object"&&(e=t,t=!0);let i=this.remember("_ResizeHandler");return i||(t.prototype instanceof Vx?(i=new t(this),t=!0):i=new Vx(this),this.remember("_resizeHandler",i)),i.active(t,e),this}}),window.SVG===void 0&&(window.SVG=GX),window.Apex===void 0&&(window.Apex={});var _x=function(){function t(e){J(this,t),this.ctx=e,this.w=e.w}return ee(t,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","highlightSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new ea(this.ctx),this.ctx.axes=new $X(this.ctx),this.ctx.core=new xj(this.ctx.el,this.ctx),this.ctx.config=new Ml({}),this.ctx.data=new RC(this.ctx),this.ctx.grid=new DP(this.ctx),this.ctx.graphics=new Y(this.ctx),this.ctx.coreUtils=new at(this.ctx),this.ctx.crosshairs=new cm(this.ctx),this.ctx.events=new jX(this.ctx),this.ctx.exports=new fh(this.ctx),this.ctx.fill=new ss(this.ctx),this.ctx.localization=new YX(this.ctx),this.ctx.options=new $r,this.ctx.responsive=new KX(this.ctx),this.ctx.series=new Ii(this.ctx),this.ctx.theme=new qX(this.ctx),this.ctx.formatters=new ec(this.ctx),this.ctx.titleSubtitle=new QX(this.ctx),this.ctx.legend=new IP(this.ctx),this.ctx.toolbar=new OP(this.ctx),this.ctx.tooltip=new Hx(this.ctx),this.ctx.dimensions=new mh(this.ctx),this.ctx.updateHelpers=new bj(this.ctx),this.ctx.zoomPanSelection=new sj(this.ctx),this.ctx.w.globals.tooltip=new Hx(this.ctx)}}]),t}(),Ux=function(){function t(e){J(this,t),this.ctx=e,this.w=e.w}return ee(t,[{key:"clear",value:function(e){var i=e.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:i})}},{key:"killSVG",value:function(e){e.each(function(){this.removeClass("*"),this.off()},!0),e.clear()}},{key:"clearDomElements",value:function(e){var i=this,s=e.isUpdating,r=this.w.globals.dom.Paper.node;r.parentNode&&r.parentNode.parentNode&&!s&&(r.parentNode.parentNode.style.minHeight="unset");var n=this.w.globals.dom.baseEl;n&&this.ctx.eventList.forEach(function(a){n.removeEventListener(a,i.ctx.events.documentEvent)});var o=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(o.Paper),o.Paper.remove(),o.elWrap=null,o.elGraphical=null,o.elLegendWrap=null,o.elLegendForeign=null,o.baseEl=null,o.elGridRect=null,o.elGridRectMask=null,o.elGridRectBarMask=null,o.elGridRectMarkerMask=null,o.elForecastMask=null,o.elNonForecastMask=null,o.elDefs=null}}]),t}(),Ug=new WeakMap,Rj=function(){function t(e,i){J(this,t),this.opts=i,this.ctx=this,this.w=new XX(i).init(),this.el=e,this.w.globals.cuid=O.randomId(),this.w.globals.chartID=this.w.config.chart.id?O.escapeString(this.w.config.chart.id):this.w.globals.cuid,new _x(this).initModules(),this.create=O.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return ee(t,[{key:"render",value:function(){var e=this;return new Promise(function(i,s){if(O.elementExists(e.el)){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),e.w.config.chart.id&&Apex._chartInstances.push({id:e.w.globals.chartID,group:e.w.config.chart.group,chart:e}),e.setLocale(e.w.config.chart.defaultLocale);var r=e.w.config.chart.events.beforeMount;typeof r=="function"&&r(e,e.w),e.events.fireEvent("beforeMount",[e,e.w]),window.addEventListener("resize",e.windowResizeHandler),function(d,g){var p=!1;if(d.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var f=d.getBoundingClientRect();d.style.display!=="none"&&f.width!==0||(p=!0)}var C=new ResizeObserver(function(m){p&&g.call(d,m),p=!0});d.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(d.children).forEach(function(m){return C.observe(m)}):C.observe(d),Ug.set(g,C)}(e.el.parentNode,e.parentResizeHandler);var n=e.el.getRootNode&&e.el.getRootNode(),o=O.is("ShadowRoot",n),a=e.el.ownerDocument,l=o?n.getElementById("apexcharts-css"):a.getElementById("apexcharts-css");if(!l){var c;(l=document.createElement("style")).id="apexcharts-css",l.textContent=`@keyframes opaque {
  0% {
    opacity: 0
  }

  to {
    opacity: 1
  }
}

@keyframes resizeanim {

  0%,
  to {
    opacity: 0
  }
}

.apexcharts-canvas {
  position: relative;
  direction: ltr !important;
  user-select: none
}

.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0, 0, 0, .5);
  box-shadow: 0 0 1px rgba(255, 255, 255, .5);
  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5)
}

.apexcharts-inner {
  position: relative
}

.apexcharts-text tspan {
  font-family: inherit
}

rect.legend-mouseover-inactive,
.legend-mouseover-inactive rect,
.legend-mouseover-inactive path,
.legend-mouseover-inactive circle,
.legend-mouseover-inactive line,
.legend-mouseover-inactive text.apexcharts-yaxis-title-text,
.legend-mouseover-inactive text.apexcharts-yaxis-label {
  transition: .15s ease all;
  opacity: .2
}

.apexcharts-legend-text {
  padding-left: 15px;
  margin-left: -15px;
}

.apexcharts-series-collapsed {
  opacity: 0
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255, 255, 255, .96)
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30, 30, 30, .8)
}

.apexcharts-tooltip * {
  font-family: inherit
}

.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #eceff1;
  border-bottom: 1px solid #ddd
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0, 0, 0, .7);
  border-bottom: 1px solid #333
}

.apexcharts-tooltip-text-goals-value,
.apexcharts-tooltip-text-y-value,
.apexcharts-tooltip-text-z-value {
  display: inline-block;
  margin-left: 5px;
  font-weight: 600
}

.apexcharts-tooltip-text-goals-label:empty,
.apexcharts-tooltip-text-goals-value:empty,
.apexcharts-tooltip-text-y-label:empty,
.apexcharts-tooltip-text-y-value:empty,
.apexcharts-tooltip-text-z-value:empty,
.apexcharts-tooltip-title:empty {
  display: none
}

.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px
}

.apexcharts-tooltip-goals-group,
.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  display: flex
}

.apexcharts-tooltip-text-goals-label:not(:empty),
.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px
}

.apexcharts-tooltip-marker {
  width: 12px;
  height: 12px;
  position: relative;
  top: 0;
  margin-right: 10px;
  border-radius: 50%
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1
}

.apexcharts-tooltip-series-group.apexcharts-active,
.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px
}

.apexcharts-custom-tooltip,
.apexcharts-tooltip-box {
  padding: 4px 8px
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse
}

.apexcharts-tooltip-box>div {
  margin: 4px 0
}

.apexcharts-tooltip-box span.value {
  font-weight: 700
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: 700;
  display: block;
  margin-bottom: 5px
}

.apexcharts-xaxistooltip,
.apexcharts-yaxistooltip {
  opacity: 0;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #eceff1;
  border: 1px solid #90a4ae
}

.apexcharts-xaxistooltip {
  padding: 9px 10px;
  transition: .15s ease all
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-xaxistooltip:after,
.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-xaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-left: -6px
}

.apexcharts-xaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-left: -7px
}

.apexcharts-xaxistooltip-bottom:after,
.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%
}

.apexcharts-xaxistooltip-top:after,
.apexcharts-xaxistooltip-top:before {
  top: 100%
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #eceff1
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90a4ae
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #eceff1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90a4ae
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-yaxistooltip {
  padding: 4px 10px
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-yaxistooltip:after,
.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-yaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-top: -6px
}

.apexcharts-yaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-top: -7px
}

.apexcharts-yaxistooltip-left:after,
.apexcharts-yaxistooltip-left:before {
  left: 100%
}

.apexcharts-yaxistooltip-right:after,
.apexcharts-yaxistooltip-right:before {
  right: 100%
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #eceff1
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90a4ae
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #eceff1
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90a4ae
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1
}

.apexcharts-yaxistooltip-hidden {
  display: none
}

.apexcharts-xcrosshairs,
.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: .15s ease all
}

.apexcharts-xcrosshairs.apexcharts-active,
.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0
}

.apexcharts-selection-rect {
  cursor: move
}

.svg_select_shape {
  stroke-width: 1;
  stroke-dasharray: 10 10;
  stroke: black;
  stroke-opacity: 0.1;
  pointer-events: none;
  fill: none;
}

.svg_select_handle {
  stroke-width: 3;
  stroke: black;
  fill: none;
}

.svg_select_handle_r {
  cursor: e-resize;
}

.svg_select_handle_l {
  cursor: w-resize;
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-menu-icon,
.apexcharts-pan-icon,
.apexcharts-reset-icon,
.apexcharts-selection-icon,
.apexcharts-toolbar-custom-icon,
.apexcharts-zoom-icon,
.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6e8192;
  text-align: center
}

.apexcharts-menu-icon svg,
.apexcharts-reset-icon svg,
.apexcharts-zoom-icon svg,
.apexcharts-zoomin-icon svg,
.apexcharts-zoomout-icon svg {
  fill: #6e8192
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(.76)
}

.apexcharts-theme-dark .apexcharts-menu-icon svg,
.apexcharts-theme-dark .apexcharts-pan-icon svg,
.apexcharts-theme-dark .apexcharts-reset-icon svg,
.apexcharts-theme-dark .apexcharts-selection-icon svg,
.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,
.apexcharts-theme-dark .apexcharts-zoom-icon svg,
.apexcharts-theme-dark .apexcharts-zoomin-icon svg,
.apexcharts-theme-dark .apexcharts-zoomout-icon svg {
  fill: #f3f4f5
}

.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
  fill: #008ffb
}

.apexcharts-theme-light .apexcharts-menu-icon:hover svg,
.apexcharts-theme-light .apexcharts-reset-icon:hover svg,
.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,
.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
  fill: #333
}

.apexcharts-menu-icon,
.apexcharts-selection-icon {
  position: relative
}

.apexcharts-reset-icon {
  margin-left: 5px
}

.apexcharts-menu-icon,
.apexcharts-reset-icon,
.apexcharts-zoom-icon {
  transform: scale(.85)
}

.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  transform: scale(.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px
}

.apexcharts-pan-icon {
  transform: scale(.62);
  position: relative;
  left: 1px;
  top: 0
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6e8192;
  stroke-width: 2
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008ffb
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0 6px 2px;
  display: flex;
  justify-content: space-between;
  align-items: center
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: .15s ease all;
  pointer-events: none
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: .15s ease all
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0, 0, 0, .7);
  color: #fff
}

@media screen and (min-width:768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
    opacity: 1
  }
}

.apexcharts-canvas .apexcharts-element-hidden,
.apexcharts-datalabel.apexcharts-element-hidden,
.apexcharts-hide .apexcharts-series-points {
  opacity: 0;
}

.apexcharts-hidden-element-shown {
  opacity: 1;
  transition: 0.25s ease all;
}

.apexcharts-datalabel,
.apexcharts-datalabel-label,
.apexcharts-datalabel-value,
.apexcharts-datalabels,
.apexcharts-pie-label {
  cursor: default;
  pointer-events: none
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: .3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease
}

.apexcharts-radialbar-label {
  cursor: pointer;
}

.apexcharts-annotation-rect,
.apexcharts-area-series .apexcharts-area,
.apexcharts-gridline,
.apexcharts-line,
.apexcharts-point-annotation-label,
.apexcharts-radar-series path:not(.apexcharts-marker),
.apexcharts-radar-series polygon,
.apexcharts-toolbar svg,
.apexcharts-tooltip .apexcharts-marker,
.apexcharts-xaxis-annotation-label,
.apexcharts-yaxis-annotation-label,
.apexcharts-zoom-rect,
.no-pointer-events {
  pointer-events: none
}

.apexcharts-tooltip-active .apexcharts-marker {
  transition: .15s ease all
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
  height: 100%;
  width: 100%;
  overflow: hidden
}

.contract-trigger:before,
.resize-triggers,
.resize-triggers>div {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0
}

.resize-triggers>div {
  height: 100%;
  width: 100%;
  background: #eee;
  overflow: auto
}

.contract-trigger:before {
  overflow: hidden;
  width: 200%;
  height: 200%
}

.apexcharts-bar-goals-markers {
  pointer-events: none
}

.apexcharts-bar-shadows {
  pointer-events: none
}

.apexcharts-rangebar-goals-markers {
  pointer-events: none
}`;var u=((c=e.opts.chart)===null||c===void 0?void 0:c.nonce)||e.w.config.chart.nonce;u&&l.setAttribute("nonce",u),o?n.prepend(l):a.head.appendChild(l)}var h=e.create(e.w.config.series,{});if(!h)return i(e);e.mount(h).then(function(){typeof e.w.config.chart.events.mounted=="function"&&e.w.config.chart.events.mounted(e,e.w),e.events.fireEvent("mounted",[e,e.w]),i(h)}).catch(function(d){s(d)})}else s(new Error("Element not found"))})}},{key:"create",value:function(e,i){var s=this,r=this.w;new _x(this).initModules();var n=this.w.globals;if(n.noData=!1,n.animationEnded=!1,!O.elementExists(this.el))return n.animationEnded=!0,this.destroy(),null;if(this.responsive.checkResponsiveConfig(i),r.config.xaxis.convertedCatToNumeric&&new kl(r.config).convertCatToNumericXaxis(r.config,this.ctx),this.core.setupElements(),r.config.chart.type==="treemap"&&(r.config.grid.show=!1,r.config.yaxis[0].show=!1),n.svgWidth===0)return n.animationEnded=!0,null;var o=e;e.forEach(function(d,g){d.hidden&&(o=s.legend.legendHelpers.getSeriesAfterCollapsing({realIndex:g}))});var a=at.checkComboSeries(o,r.config.chart.type);n.comboCharts=a.comboCharts,n.comboBarCount=a.comboBarCount;var l=o.every(function(d){return d.data&&d.data.length===0});(o.length===0||l&&n.collapsedSeries.length<1)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(o),this.theme.init(),new ra(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),n.noData&&n.collapsedSeries.length!==n.series.length&&!r.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),n.axisCharts&&(this.core.coreCalculations(),r.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=r.globals.minX,this.ctx.toolbar.maxX=r.globals.maxX),this.formatters.heatmapLabelFormatters(),new at(this).getLargestMarkerSize(),this.dimensions.plotCoords();var c=this.core.xySettings();this.grid.createGridMask();var u=this.core.plotChartType(o,c),h=new No(this);return h.bringForward(),r.config.dataLabels.background.enabled&&h.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:u,xyRatios:c,dimensions:{plot:{left:r.globals.translateX,top:r.globals.translateY,width:r.globals.gridWidth,height:r.globals.gridHeight}}}}},{key:"mount",value:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,s=this,r=s.w;return new Promise(function(n,o){if(s.el===null)return o(new Error("Not enough data to display or target element not found"));(i===null||r.globals.allSeriesCollapsed)&&s.series.handleNoData(),s.grid=new DP(s);var a,l,c=s.grid.drawGrid();if(s.annotations=new UX(s),s.annotations.drawImageAnnos(),s.annotations.drawTextAnnos(),r.config.grid.position==="back"&&(c&&r.globals.dom.elGraphical.add(c.el),c!=null&&(a=c.elGridBorders)!==null&&a!==void 0&&a.node&&r.globals.dom.elGraphical.add(c.elGridBorders)),Array.isArray(i.elGraph))for(var u=0;u<i.elGraph.length;u++)r.globals.dom.elGraphical.add(i.elGraph[u]);else r.globals.dom.elGraphical.add(i.elGraph);r.config.grid.position==="front"&&(c&&r.globals.dom.elGraphical.add(c.el),c!=null&&(l=c.elGridBorders)!==null&&l!==void 0&&l.node&&r.globals.dom.elGraphical.add(c.elGridBorders)),r.config.xaxis.crosshairs.position==="front"&&s.crosshairs.drawXCrosshairs(),r.config.yaxis[0].crosshairs.position==="front"&&s.crosshairs.drawYCrosshairs(),r.config.chart.type!=="treemap"&&s.axes.drawAxis(r.config.chart.type,c);var h=new Tl(e.ctx,c),d=new FC(e.ctx,c);if(c!==null&&(h.xAxisLabelCorrections(c.xAxisTickWidth),d.setYAxisTextAlignments(),r.config.yaxis.map(function(p,f){r.globals.ignoreYAxisIndexes.indexOf(f)===-1&&d.yAxisTitleRotate(f,p.opposite)})),s.annotations.drawAxesAnnotations(),!r.globals.noData){if(r.config.tooltip.enabled&&!r.globals.noData&&s.w.globals.tooltip.drawTooltip(i.xyRatios),r.globals.axisCharts&&(r.globals.isXNumeric||r.config.xaxis.convertedCatToNumeric||r.globals.isRangeBar))(r.config.chart.zoom.enabled||r.config.chart.selection&&r.config.chart.selection.enabled||r.config.chart.pan&&r.config.chart.pan.enabled)&&s.zoomPanSelection.init({xyRatios:i.xyRatios});else{var g=r.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(p){g[p]=!1})}r.config.chart.toolbar.show&&!r.globals.allSeriesCollapsed&&s.toolbar.createToolbar()}r.globals.memory.methodsToExec.length>0&&r.globals.memory.methodsToExec.forEach(function(p){p.method(p.params,!1,p.context)}),r.globals.axisCharts||r.globals.noData||s.core.resizeNonAxisCharts(),n(s)})}},{key:"destroy",value:function(){window.removeEventListener("resize",this.windowResizeHandler),function(i,s){var r=Ug.get(s);r&&(r.disconnect(),Ug.delete(s))}(this.el.parentNode,this.parentResizeHandler);var e=this.w.config.chart.id;e&&Apex._chartInstances.forEach(function(i,s){i.id===O.escapeString(e)&&Apex._chartInstances.splice(s,1)}),new Ux(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(e){var i=this,s=arguments.length>1&&arguments[1]!==void 0&&arguments[1],r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],n=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],o=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],a=this.w;return a.globals.selection=void 0,e.series&&(this.series.resetSeries(!1,!0,!1),e.series.length&&e.series[0].data&&(e.series=e.series.map(function(l,c){return i.updateHelpers._extendSeries(l,c)})),this.updateHelpers.revertDefaultAxisMinMax()),e.xaxis&&(e=this.updateHelpers.forceXAxisUpdate(e)),e.yaxis&&(e=this.updateHelpers.forceYAxisUpdate(e)),a.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),e.theme&&(e=this.theme.updateThemeOptions(e)),this.updateHelpers._updateOptions(e,s,r,n,o)}},{key:"updateSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(e,i,s)}},{key:"appendSeries",value:function(e){var i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],r=this.w.config.series.slice();return r.push(e),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(r,i,s)}},{key:"appendData",value:function(e){var i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=this;s.w.globals.dataChanged=!0,s.series.getPreviousPaths();for(var r=s.w.config.series.slice(),n=0;n<r.length;n++)if(e[n]!==null&&e[n]!==void 0)for(var o=0;o<e[n].data.length;o++)r[n].data.push(e[n].data[o]);return s.w.config.series=r,i&&(s.w.globals.initialSeries=O.clone(s.w.config.series)),this.update()}},{key:"update",value:function(e){var i=this;return new Promise(function(s,r){new Ux(i.ctx).clear({isUpdating:!0});var n=i.create(i.w.config.series,e);if(!n)return s(i);i.mount(n).then(function(){typeof i.w.config.chart.events.updated=="function"&&i.w.config.chart.events.updated(i,i.w),i.events.fireEvent("updated",[i,i.w]),i.w.globals.isDirty=!0,s(i)}).catch(function(o){r(o)})})}},{key:"getSyncedCharts",value:function(){var e=this.getGroupedCharts(),i=[this];return e.length&&(i=[],e.forEach(function(s){i.push(s)})),i}},{key:"getGroupedCharts",value:function(){var e=this;return Apex._chartInstances.filter(function(i){if(i.group)return!0}).map(function(i){return e.w.config.chart.group===i.group?i.chart:e})}},{key:"toggleSeries",value:function(e){return this.series.toggleSeries(e)}},{key:"highlightSeriesOnLegendHover",value:function(e,i){return this.series.toggleSeriesOnHover(e,i)}},{key:"showSeries",value:function(e){this.series.showSeries(e)}},{key:"hideSeries",value:function(e){this.series.hideSeries(e)}},{key:"highlightSeries",value:function(e){this.series.highlightSeries(e)}},{key:"isSeriesHidden",value:function(e){this.series.isSeriesHidden(e)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(e,i)}},{key:"addEventListener",value:function(e,i){this.events.addEventListener(e,i)}},{key:"removeEventListener",value:function(e,i){this.events.removeEventListener(e,i)}},{key:"addXaxisAnnotation",value:function(e){var i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,r=this;s&&(r=s),r.annotations.addXaxisAnnotationExternal(e,i,r)}},{key:"addYaxisAnnotation",value:function(e){var i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,r=this;s&&(r=s),r.annotations.addYaxisAnnotationExternal(e,i,r)}},{key:"addPointAnnotation",value:function(e){var i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,r=this;s&&(r=s),r.annotations.addPointAnnotationExternal(e,i,r)}},{key:"clearAnnotations",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,i=this;e&&(i=e),i.annotations.clearAnnotations(i)}},{key:"removeAnnotation",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,s=this;i&&(s=i),s.annotations.removeAnnotation(s,e)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(e,i){return this.coreUtils.getSeriesTotalsXRange(e,i)}},{key:"getHighestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new lm(this.ctx).getMinYMaxY(e).highestY}},{key:"getLowestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new lm(this.ctx).getMinYMaxY(e).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(e,i){return this.updateHelpers.toggleDataPointSelection(e,i)}},{key:"zoomX",value:function(e,i){this.ctx.toolbar.zoomUpdateOptions(e,i)}},{key:"setLocale",value:function(e){this.localization.setCurrentLocaleValues(e)}},{key:"dataURI",value:function(e){return new fh(this.ctx).dataURI(e)}},{key:"exportToCSV",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new fh(this.ctx).exportToCSV(e)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var e=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){e.w.globals.resized=!0,e.w.globals.dataChanged=!1,e.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var e=this.w.config.chart.redrawOnWindowResize;typeof e=="function"&&(e=e()),e&&this._windowResize()}}],[{key:"getChartByID",value:function(e){var i=O.escapeString(e);if(Apex._chartInstances){var s=Apex._chartInstances.filter(function(r){return r.id===i})[0];return s&&s.chart}}},{key:"initOnLoad",value:function(){for(var e=document.querySelectorAll("[data-apexcharts]"),i=0;i<e.length;i++)new t(e[i],JSON.parse(e[i].getAttribute("data-options"))).render()}},{key:"exec",value:function(e,i){var s=this.getChartByID(e);if(s){s.w.globals.isExecCalled=!0;var r=null;if(s.publicMethods.indexOf(i)!==-1){for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];r=s[i].apply(s,o)}return r}}},{key:"merge",value:function(e,i){return O.extend(e,i)}}]),t}(),Fj=Rj,UP={exports:{}},Aj="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Pj=Aj,Ej=Pj;function XP(){}function jP(){}jP.resetWarningCache=XP;var kj=function(){function t(s,r,n,o,a,l){if(l!==Ej){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var i={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:jP,resetWarningCache:XP};return i.PropTypes=i,i};UP.exports=kj();var Mj=UP.exports;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=y;var e=a(F),i=n(Fj),s=n(Mj),r=["type","width","height","series","options"];function n(w){return w&&w.__esModule?w:{default:w}}function o(w){var x,S;return typeof WeakMap!="function"?null:(x=new WeakMap,S=new WeakMap,(o=function(b){return b?S:x})(w))}function a(w,x){if(!x&&w&&w.__esModule)return w;if(w===null||h(w)!="object"&&typeof w!="function")return{default:w};if(x=o(x),x&&x.has(w))return x.get(w);var S,b,R={__proto__:null},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(S in w)S!=="default"&&{}.hasOwnProperty.call(w,S)&&((b=A?Object.getOwnPropertyDescriptor(w,S):null)&&(b.get||b.set)?Object.defineProperty(R,S,b):R[S]=w[S]);return R.default=w,x&&x.set(w,R),R}function l(){return(l=Object.assign?Object.assign.bind():function(w){for(var x=1;x<arguments.length;x++){var S,b=arguments[x];for(S in b)!{}.hasOwnProperty.call(b,S)||(w[S]=b[S])}return w}).apply(null,arguments)}function c(w,x){if(w==null)return{};var S,b=u(w,x);if(Object.getOwnPropertySymbols)for(var R=Object.getOwnPropertySymbols(w),A=0;A<R.length;A++)S=R[A],x.includes(S)||{}.propertyIsEnumerable.call(w,S)&&(b[S]=w[S]);return b}function u(w,x){if(w==null)return{};var S,b={};for(S in w)if({}.hasOwnProperty.call(w,S)){if(x.includes(S))continue;b[S]=w[S]}return b}function h(w){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(w)}function d(w,x){var S,b=Object.keys(w);return Object.getOwnPropertySymbols&&(S=Object.getOwnPropertySymbols(w),x&&(S=S.filter(function(R){return Object.getOwnPropertyDescriptor(w,R).enumerable})),b.push.apply(b,S)),b}function g(w){for(var x=1;x<arguments.length;x++){var S=arguments[x]!=null?arguments[x]:{};x%2?d(Object(S),!0).forEach(function(b){p(w,b,S[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(S)):d(Object(S)).forEach(function(b){Object.defineProperty(w,b,Object.getOwnPropertyDescriptor(S,b))})}return w}function p(w,x,S){return(x=f(x))in w?Object.defineProperty(w,x,{value:S,enumerable:!0,configurable:!0,writable:!0}):w[x]=S,w}function f(w){return w=C(w,"string"),h(w)=="symbol"?w:w+""}function C(w,x){if(h(w)!="object"||!w)return w;var S=w[Symbol.toPrimitive];if(S===void 0)return(x==="string"?String:Number)(w);if(S=S.call(w,x||"default"),h(S)!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}function m(w,x){var S=g({},w);return x.forEach(function(b){delete S[b]}),S}function v(w,x){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:new WeakSet;if(w!==x){if(h(w)!=="object"||w===null||h(x)!=="object"||x===null)return!1;if(!S.has(w)&&!S.has(x)){S.add(w),S.add(x);var b=Object.keys(w),R=Object.keys(x);if(b.length!==R.length)return!1;for(var A=0,P=b;A<P.length;A++){var E=P[A];if(!R.includes(E)||!v(w[E],x[E],S))return!1}}}return!0}function y(D){function x(T){return T&&h(T)==="object"&&!Array.isArray(T)}var E=D.type,S=E===void 0?"line":E,E=D.width,b=E===void 0?"100%":E,E=D.height,R=E===void 0?"auto":E,A=D.series,P=D.options,E=c(D,r),L=(0,e.useRef)(null),M=(0,e.useRef)(null),I=((0,e.useEffect)(function(){var T=L.current;return M.current=new i.default(T,I()),M.current.render(),function(){M.current&&typeof M.current.destroy=="function"&&M.current.destroy()}},[]),(0,e.useEffect)(function(){var k=M.current.options,T=!v(M.current.series,A),k=!v(k,P)||R!==M.current.height||b!==M.current.width;(T||k)&&(!T||k?M.current.updateOptions(I()):M.current.updateSeries(A))},[P,A,R,b]),function(){return z(P,{chart:{type:S,height:R,width:b},series:A})}),z=function(T,k){var H=g({},T);return x(T)&&x(k)&&Object.keys(k).forEach(function(N){x(k[N])&&N in T?H[N]=z(T[N],k[N]):Object.assign(H,p({},N,k[N]))}),H},D=m(E,Object.keys(y.propTypes));return e.default.createElement("div",l({ref:L},D))}y.propTypes={type:s.default.string.isRequired,series:s.default.array.isRequired,options:s.default.object.isRequired,width:s.default.oneOfType([s.default.string,s.default.number]),height:s.default.oneOfType([s.default.string,s.default.number])}})(ZA);const Tj=vh(ZA);function Dj({products:t}){const[e,i]=F.useState([]),[s,r]=F.useState([]),n={chart:{type:"bar",toolbar:{show:!1,tools:{download:!1}},animations:{enabled:!1}},grid:{show:!1},colors:["#ffa500"],tooltip:{enabled:!1},states:{hover:{filter:{type:"none"}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"none"}}},xaxis:{categories:e}},o=[{name:"Stock Count",data:s}];F.useEffect(()=>{if(t.length<1)return;const c=a(t),u=Object.keys(c),h=u.map(d=>l(c[d]));i(u),r(h)},[t]);function a(c){return c.reduce((u,h)=>(u[h.categoryName]||(u[h.categoryName]=[]),u[h.categoryName].push(h),u),{})}function l(c){return c.reduce((h,d)=>h+d.stockQty,0)}return xt.jsxs(xt.Fragment,{children:[xt.jsx("div",{children:"Total Stock Per Category"}),xt.jsx(Tj,{options:n,series:o,type:"bar",width:500,height:300})]})}function Lj(){const[t,e]=F.useState([]),[i,s]=F.useState(!0),[r,n]=F.useState("Products"),o=[{field:"productName",headerName:"Name",sortable:!0,filter:!0},{field:"productCode",headerName:"Product Code",sortable:!0,filter:!0},{field:"categoryName",headerName:"Category",sortable:!0,filter:!0},{field:"stockQty",headerName:"Stock Quantity",sortable:!0,filter:!0},{field:"price",headerName:"Price",sortable:!0,filter:!0,valueFormatter:({value:c})=>""+c.toFixed(2)},{field:"dateAdded",headerName:"Date Added",sortable:!0,filter:"agDateColumnFilter",valueFormatter:({value:c})=>new Date(c).toLocaleDateString("en-GB").split("T")[0],filterParams:TU}],a=new lX;F.useEffect(()=>{s(!0),a.getAllProducts().then(c=>{e(c)}).catch(c=>{console.error("Error retrieving products:",c)}).finally(()=>{s(!1)})},[]);const l=()=>{n(r==="Products"?"Stock":"Products")};return xt.jsx("div",{children:xt.jsxs(xt.Fragment,{children:[i&&xt.jsx("div",{children:"Loading..."}),xt.jsx(PA,{defaultChecked:!0,onChange:l,checkedChildren:"Products",unCheckedChildren:"Stock",style:{width:"100px",backgroundColor:r=="Products"?"green":"#ffa500",margin:"50px"}}),xt.jsx("div",{className:"mainContainer",children:xt.jsxs(xt.Fragment,{children:[r=="Products"&&xt.jsx("div",{className:"ag-theme-alpine ag-container",children:xt.jsx(FW,{rowData:t,columnDefs:o,pagination:!0,paginationPageSize:10,paginationPageSizeSelector:[10,20,50,100]})}),r=="Stock"&&xt.jsx(Dj,{products:t})]})})]})})}n0(document.getElementById("root")).render(xt.jsx(F.StrictMode,{children:xt.jsx(Lj,{})}));
